%!PS-Adobe-2.0
%%Creator: dvips(k) 5.86 Copyright 1999 Radical Eye Software
%%Title: cours.dvi
%%Pages: 154
%%PageOrder: Ascend
%%BoundingBox: 0 0 596 842
%%EndComments
%DVIPSWebPage: (www.radicaleye.com)
%DVIPSCommandLine: dvips -o cours.ps cours.dvi
%DVIPSParameters: dpi=600, compressed
%DVIPSSource:  TeX output 2003.06.27:2032
%%BeginProcSet: texc.pro
%!
/TeXDict 300 dict def TeXDict begin/N{def}def/B{bind def}N/S{exch}N/X{S
N}B/A{dup}B/TR{translate}N/isls false N/vsize 11 72 mul N/hsize 8.5 72
mul N/landplus90{false}def/@rigin{isls{[0 landplus90{1 -1}{-1 1}ifelse 0
0 0]concat}if 72 Resolution div 72 VResolution div neg scale isls{
landplus90{VResolution 72 div vsize mul 0 exch}{Resolution -72 div hsize
mul 0}ifelse TR}if Resolution VResolution vsize -72 div 1 add mul TR[
matrix currentmatrix{A A round sub abs 0.00001 lt{round}if}forall round
exch round exch]setmatrix}N/@landscape{/isls true N}B/@manualfeed{
statusdict/manualfeed true put}B/@copies{/#copies X}B/FMat[1 0 0 -1 0 0]
N/FBB[0 0 0 0]N/nn 0 N/IEn 0 N/ctr 0 N/df-tail{/nn 8 dict N nn begin
/FontType 3 N/FontMatrix fntrx N/FontBBox FBB N string/base X array
/BitMaps X/BuildChar{CharBuilder}N/Encoding IEn N end A{/foo setfont}2
array copy cvx N load 0 nn put/ctr 0 N[}B/sf 0 N/df{/sf 1 N/fntrx FMat N
df-tail}B/dfs{div/sf X/fntrx[sf 0 0 sf neg 0 0]N df-tail}B/E{pop nn A
definefont setfont}B/Cw{Cd A length 5 sub get}B/Ch{Cd A length 4 sub get
}B/Cx{128 Cd A length 3 sub get sub}B/Cy{Cd A length 2 sub get 127 sub}
B/Cdx{Cd A length 1 sub get}B/Ci{Cd A type/stringtype ne{ctr get/ctr ctr
1 add N}if}B/id 0 N/rw 0 N/rc 0 N/gp 0 N/cp 0 N/G 0 N/CharBuilder{save 3
1 roll S A/base get 2 index get S/BitMaps get S get/Cd X pop/ctr 0 N Cdx
0 Cx Cy Ch sub Cx Cw add Cy setcachedevice Cw Ch true[1 0 0 -1 -.1 Cx
sub Cy .1 sub]/id Ci N/rw Cw 7 add 8 idiv string N/rc 0 N/gp 0 N/cp 0 N{
rc 0 ne{rc 1 sub/rc X rw}{G}ifelse}imagemask restore}B/G{{id gp get/gp
gp 1 add N A 18 mod S 18 idiv pl S get exec}loop}B/adv{cp add/cp X}B
/chg{rw cp id gp 4 index getinterval putinterval A gp add/gp X adv}B/nd{
/cp 0 N rw exit}B/lsh{rw cp 2 copy get A 0 eq{pop 1}{A 255 eq{pop 254}{
A A add 255 and S 1 and or}ifelse}ifelse put 1 adv}B/rsh{rw cp 2 copy
get A 0 eq{pop 128}{A 255 eq{pop 127}{A 2 idiv S 128 and or}ifelse}
ifelse put 1 adv}B/clr{rw cp 2 index string putinterval adv}B/set{rw cp
fillstr 0 4 index getinterval putinterval adv}B/fillstr 18 string 0 1 17
{2 copy 255 put pop}for N/pl[{adv 1 chg}{adv 1 chg nd}{1 add chg}{1 add
chg nd}{adv lsh}{adv lsh nd}{adv rsh}{adv rsh nd}{1 add adv}{/rc X nd}{
1 add set}{1 add clr}{adv 2 chg}{adv 2 chg nd}{pop nd}]A{bind pop}
forall N/D{/cc X A type/stringtype ne{]}if nn/base get cc ctr put nn
/BitMaps get S ctr S sf 1 ne{A A length 1 sub A 2 index S get sf div put
}if put/ctr ctr 1 add N}B/I{cc 1 add D}B/bop{userdict/bop-hook known{
bop-hook}if/SI save N @rigin 0 0 moveto/V matrix currentmatrix A 1 get A
mul exch 0 get A mul add .99 lt{/QV}{/RV}ifelse load def pop pop}N/eop{
SI restore userdict/eop-hook known{eop-hook}if showpage}N/@start{
userdict/start-hook known{start-hook}if pop/VResolution X/Resolution X
1000 div/DVImag X/IEn 256 array N 2 string 0 1 255{IEn S A 360 add 36 4
index cvrs cvn put}for pop 65781.76 div/vsize X 65781.76 div/hsize X}N
/p{show}N/RMat[1 0 0 -1 0 0]N/BDot 260 string N/Rx 0 N/Ry 0 N/V{}B/RV/v{
/Ry X/Rx X V}B statusdict begin/product where{pop false[(Display)(NeXT)
(LaserWriter 16/600)]{A length product length le{A length product exch 0
exch getinterval eq{pop true exit}if}{pop}ifelse}forall}{false}ifelse
end{{gsave TR -.1 .1 TR 1 1 scale Rx Ry false RMat{BDot}imagemask
grestore}}{{gsave TR -.1 .1 TR Rx Ry scale 1 1 false RMat{BDot}
imagemask grestore}}ifelse B/QV{gsave newpath transform round exch round
exch itransform moveto Rx 0 rlineto 0 Ry neg rlineto Rx neg 0 rlineto
fill grestore}B/a{moveto}B/delta 0 N/tail{A/delta X 0 rmoveto}B/M{S p
delta add tail}B/b{S p tail}B/c{-4 M}B/d{-3 M}B/e{-2 M}B/f{-1 M}B/g{0 M}
B/h{1 M}B/i{2 M}B/j{3 M}B/k{4 M}B/w{0 rmoveto}B/l{p -4 w}B/m{p -3 w}B/n{
p -2 w}B/o{p -1 w}B/q{p 1 w}B/r{p 2 w}B/s{p 3 w}B/t{p 4 w}B/x{0 S
rmoveto}B/y{3 2 roll p a}B/bos{/SS save N}B/eos{SS restore}B end

%%EndProcSet
%%BeginProcSet: special.pro
%!
TeXDict begin/SDict 200 dict N SDict begin/@SpecialDefaults{/hs 612 N
/vs 792 N/ho 0 N/vo 0 N/hsc 1 N/vsc 1 N/ang 0 N/CLIP 0 N/rwiSeen false N
/rhiSeen false N/letter{}N/note{}N/a4{}N/legal{}N}B/@scaleunit 100 N
/@hscale{@scaleunit div/hsc X}B/@vscale{@scaleunit div/vsc X}B/@hsize{
/hs X/CLIP 1 N}B/@vsize{/vs X/CLIP 1 N}B/@clip{/CLIP 2 N}B/@hoffset{/ho
X}B/@voffset{/vo X}B/@angle{/ang X}B/@rwi{10 div/rwi X/rwiSeen true N}B
/@rhi{10 div/rhi X/rhiSeen true N}B/@llx{/llx X}B/@lly{/lly X}B/@urx{
/urx X}B/@ury{/ury X}B/magscale true def end/@MacSetUp{userdict/md known
{userdict/md get type/dicttype eq{userdict begin md length 10 add md
maxlength ge{/md md dup length 20 add dict copy def}if end md begin
/letter{}N/note{}N/legal{}N/od{txpose 1 0 mtx defaultmatrix dtransform S
atan/pa X newpath clippath mark{transform{itransform moveto}}{transform{
itransform lineto}}{6 -2 roll transform 6 -2 roll transform 6 -2 roll
transform{itransform 6 2 roll itransform 6 2 roll itransform 6 2 roll
curveto}}{{closepath}}pathforall newpath counttomark array astore/gc xdf
pop ct 39 0 put 10 fz 0 fs 2 F/|______Courier fnt invertflag{PaintBlack}
if}N/txpose{pxs pys scale ppr aload pop por{noflips{pop S neg S TR pop 1
-1 scale}if xflip yflip and{pop S neg S TR 180 rotate 1 -1 scale ppr 3
get ppr 1 get neg sub neg ppr 2 get ppr 0 get neg sub neg TR}if xflip
yflip not and{pop S neg S TR pop 180 rotate ppr 3 get ppr 1 get neg sub
neg 0 TR}if yflip xflip not and{ppr 1 get neg ppr 0 get neg TR}if}{
noflips{TR pop pop 270 rotate 1 -1 scale}if xflip yflip and{TR pop pop
90 rotate 1 -1 scale ppr 3 get ppr 1 get neg sub neg ppr 2 get ppr 0 get
neg sub neg TR}if xflip yflip not and{TR pop pop 90 rotate ppr 3 get ppr
1 get neg sub neg 0 TR}if yflip xflip not and{TR pop pop 270 rotate ppr
2 get ppr 0 get neg sub neg 0 S TR}if}ifelse scaleby96{ppr aload pop 4
-1 roll add 2 div 3 1 roll add 2 div 2 copy TR .96 dup scale neg S neg S
TR}if}N/cp{pop pop showpage pm restore}N end}if}if}N/normalscale{
Resolution 72 div VResolution 72 div neg scale magscale{DVImag dup scale
}if 0 setgray}N/psfts{S 65781.76 div N}N/startTexFig{/psf$SavedState
save N userdict maxlength dict begin/magscale true def normalscale
currentpoint TR/psf$ury psfts/psf$urx psfts/psf$lly psfts/psf$llx psfts
/psf$y psfts/psf$x psfts currentpoint/psf$cy X/psf$cx X/psf$sx psf$x
psf$urx psf$llx sub div N/psf$sy psf$y psf$ury psf$lly sub div N psf$sx
psf$sy scale psf$cx psf$sx div psf$llx sub psf$cy psf$sy div psf$ury sub
TR/showpage{}N/erasepage{}N/copypage{}N/p 3 def @MacSetUp}N/doclip{
psf$llx psf$lly psf$urx psf$ury currentpoint 6 2 roll newpath 4 copy 4 2
roll moveto 6 -1 roll S lineto S lineto S lineto closepath clip newpath
moveto}N/endTexFig{end psf$SavedState restore}N/@beginspecial{SDict
begin/SpecialSave save N gsave normalscale currentpoint TR
@SpecialDefaults count/ocount X/dcount countdictstack N}N/@setspecial{
CLIP 1 eq{newpath 0 0 moveto hs 0 rlineto 0 vs rlineto hs neg 0 rlineto
closepath clip}if ho vo TR hsc vsc scale ang rotate rwiSeen{rwi urx llx
sub div rhiSeen{rhi ury lly sub div}{dup}ifelse scale llx neg lly neg TR
}{rhiSeen{rhi ury lly sub div dup scale llx neg lly neg TR}if}ifelse
CLIP 2 eq{newpath llx lly moveto urx lly lineto urx ury lineto llx ury
lineto closepath clip}if/showpage{}N/erasepage{}N/copypage{}N newpath}N
/@endspecial{count ocount sub{pop}repeat countdictstack dcount sub{end}
repeat grestore SpecialSave restore end}N/@defspecial{SDict begin}N
/@fedspecial{end}B/li{lineto}B/rl{rlineto}B/rc{rcurveto}B/np{/SaveX
currentpoint/SaveY X N 1 setlinecap newpath}N/st{stroke SaveX SaveY
moveto}N/fil{fill SaveX SaveY moveto}N/ellipse{/endangle X/startangle X
/yrad X/xrad X/savematrix matrix currentmatrix N TR xrad yrad scale 0 0
1 startangle endangle arc savematrix setmatrix}N end

%%EndProcSet
%%BeginProcSet: color.pro
%!
TeXDict begin/setcmykcolor where{pop}{/setcmykcolor{dup 10 eq{pop
setrgbcolor}{1 sub 4 1 roll 3{3 index add neg dup 0 lt{pop 0}if 3 1 roll
}repeat setrgbcolor pop}ifelse}B}ifelse/TeXcolorcmyk{setcmykcolor}def
/TeXcolorrgb{setrgbcolor}def/TeXcolorgrey{setgray}def/TeXcolorgray{
setgray}def/TeXcolorhsb{sethsbcolor}def/currentcmykcolor where{pop}{
/currentcmykcolor{currentrgbcolor 10}B}ifelse/DC{exch dup userdict exch
known{pop pop}{X}ifelse}B/GreenYellow{0.15 0 0.69 0 setcmykcolor}DC
/Yellow{0 0 1 0 setcmykcolor}DC/Goldenrod{0 0.10 0.84 0 setcmykcolor}DC
/Dandelion{0 0.29 0.84 0 setcmykcolor}DC/Apricot{0 0.32 0.52 0
setcmykcolor}DC/Peach{0 0.50 0.70 0 setcmykcolor}DC/Melon{0 0.46 0.50 0
setcmykcolor}DC/YellowOrange{0 0.42 1 0 setcmykcolor}DC/Orange{0 0.61
0.87 0 setcmykcolor}DC/BurntOrange{0 0.51 1 0 setcmykcolor}DC
/Bittersweet{0 0.75 1 0.24 setcmykcolor}DC/RedOrange{0 0.77 0.87 0
setcmykcolor}DC/Mahogany{0 0.85 0.87 0.35 setcmykcolor}DC/Maroon{0 0.87
0.68 0.32 setcmykcolor}DC/BrickRed{0 0.89 0.94 0.28 setcmykcolor}DC/Red{
0 1 1 0 setcmykcolor}DC/OrangeRed{0 1 0.50 0 setcmykcolor}DC/RubineRed{
0 1 0.13 0 setcmykcolor}DC/WildStrawberry{0 0.96 0.39 0 setcmykcolor}DC
/Salmon{0 0.53 0.38 0 setcmykcolor}DC/CarnationPink{0 0.63 0 0
setcmykcolor}DC/Magenta{0 1 0 0 setcmykcolor}DC/VioletRed{0 0.81 0 0
setcmykcolor}DC/Rhodamine{0 0.82 0 0 setcmykcolor}DC/Mulberry{0.34 0.90
0 0.02 setcmykcolor}DC/RedViolet{0.07 0.90 0 0.34 setcmykcolor}DC
/Fuchsia{0.47 0.91 0 0.08 setcmykcolor}DC/Lavender{0 0.48 0 0
setcmykcolor}DC/Thistle{0.12 0.59 0 0 setcmykcolor}DC/Orchid{0.32 0.64 0
0 setcmykcolor}DC/DarkOrchid{0.40 0.80 0.20 0 setcmykcolor}DC/Purple{
0.45 0.86 0 0 setcmykcolor}DC/Plum{0.50 1 0 0 setcmykcolor}DC/Violet{
0.79 0.88 0 0 setcmykcolor}DC/RoyalPurple{0.75 0.90 0 0 setcmykcolor}DC
/BlueViolet{0.86 0.91 0 0.04 setcmykcolor}DC/Periwinkle{0.57 0.55 0 0
setcmykcolor}DC/CadetBlue{0.62 0.57 0.23 0 setcmykcolor}DC
/CornflowerBlue{0.65 0.13 0 0 setcmykcolor}DC/MidnightBlue{0.98 0.13 0
0.43 setcmykcolor}DC/NavyBlue{0.94 0.54 0 0 setcmykcolor}DC/RoyalBlue{1
0.50 0 0 setcmykcolor}DC/Blue{1 1 0 0 setcmykcolor}DC/Cerulean{0.94 0.11
0 0 setcmykcolor}DC/Cyan{1 0 0 0 setcmykcolor}DC/ProcessBlue{0.96 0 0 0
setcmykcolor}DC/SkyBlue{0.62 0 0.12 0 setcmykcolor}DC/Turquoise{0.85 0
0.20 0 setcmykcolor}DC/TealBlue{0.86 0 0.34 0.02 setcmykcolor}DC
/Aquamarine{0.82 0 0.30 0 setcmykcolor}DC/BlueGreen{0.85 0 0.33 0
setcmykcolor}DC/Emerald{1 0 0.50 0 setcmykcolor}DC/JungleGreen{0.99 0
0.52 0 setcmykcolor}DC/SeaGreen{0.69 0 0.50 0 setcmykcolor}DC/Green{1 0
1 0 setcmykcolor}DC/ForestGreen{0.91 0 0.88 0.12 setcmykcolor}DC
/PineGreen{0.92 0 0.59 0.25 setcmykcolor}DC/LimeGreen{0.50 0 1 0
setcmykcolor}DC/YellowGreen{0.44 0 0.74 0 setcmykcolor}DC/SpringGreen{
0.26 0 0.76 0 setcmykcolor}DC/OliveGreen{0.64 0 0.95 0.40 setcmykcolor}
DC/RawSienna{0 0.72 1 0.45 setcmykcolor}DC/Sepia{0 0.83 1 0.70
setcmykcolor}DC/Brown{0 0.81 1 0.60 setcmykcolor}DC/Tan{0.14 0.42 0.56 0
setcmykcolor}DC/Gray{0 0 0 0.50 setcmykcolor}DC/Black{0 0 0 1
setcmykcolor}DC/White{0 0 0 0 setcmykcolor}DC end

%%EndProcSet
TeXDict begin 39158280 55380996 1000 600 600 (cours.dvi)
@start
%DVIPSBitmapFont: Fa cmti9 9 10
/Fa 10 119 df<EB03F0EB0FF890383E1C6090387C0FF0EBF807EA01F0EA03E00007EB03
E0EA0FC0A2381F800715C0EA3F00A2140F481480127EA2141F00FE14005A1506EC3F07EC
3E0F150E147E007C141EECFE1CEB01FCD83C03133C393E07BE38391F0E1E783907FC0FF0
3901F003C0202278A027>97 D<14FCEB07FF90381F078090383E03C0EBFC013801F80338
03F0073807E00F13C0120F391F80070091C7FC48C8FCA35A127EA312FE5AA4007C14C0EC
01E0A2EC03C06CEB0F80EC1F006C137C380F81F03803FFC0C648C7FC1B2278A023>99
D<EB03F8EB0FFEEB3E0F9038F807803801F003EA03E0EA07C0120FEA1F801407D83F0013
005C007E133EEB03F8387FFFE04848C7FC00FCC8FCA45AA4EC0180EC03C0A2007CEB0780
EC1F00003C133E6C13F8380F03E03807FF80D801FCC7FC1A2277A023>101
D<EB0FC0EA03FFA25CEA001FA391C8FCA25BA2133EA2137EA2137CA213FCA29038F83F80
ECFFE03901FBE0F09038FF80F8EC007849137C485A5B5BA2484813FC5D5BA2000F13015D
1380A2001F13035DEB0007EDC0C048ECC1E0020F13C0003E1481A2007E1483ED0380007C
1407160000FC140E151E48EB07F80070EB01F023357BB327>104
D<EB0180EB07E0A2130FEB07C0EB038090C7FCABEA01F0EA03FCEA0F1E120E121C123C12
38EA783E1270A2137EEAF07CEA60FCC65AA212015BA212035BA2000713C0EBC1E0000F13
C01381A21383EB038013071400130E131EEA07F8EA01F013337AB118>I<2703C003F813
7F3C0FF00FFE01FFC03C1E783C1F07C1E03C1C7CF00F8F01F03B3C3DE0079E0026383FC0
01FC7FD97F805B007001005B5E137ED8F0FC90380FC00100E05FD860F814801200000102
1F130360491400A200034A13076049013E130FF081800007027EEC83C0051F138049017C
1403A2000F02FC1407053E130049495CEF1E0E001F01015D183C010049EB0FF0000E6D48
EB03E03A227AA03F>109 D<3903C007F0390FF01FFC391E787C1E391C7CF01F393C3DE0
0F26383FC01380EB7F8000781300EA707EA2D8F0FC131F00E01500EA60F8120000015C15
3E5BA20003147E157C4913FCEDF8180007153C0201133801C013F0A2000F1578EDE07001
8014F016E0001FECE1C015E390C7EAFF00000E143E26227AA02B>I<3903C00FC0390FF0
3FF0391E78F078391C7DE03C393C3FC0FC00381380EB7F00007814F8D8707E13701500EA
F0FC12E0EA60F812001201A25BA21203A25BA21207A25BA2120FA25BA2121FA290C8FC12
0E1E227AA020>114 D<EB03F0EB1FFCEB3C1EEB780FEBF007EA01E0140F0003131F13C0
A2EBE00414007FEBFF8014E06C13F06C13F8EB7FFC1307EB00FE147E143E123800FC133C
A3147C00F013784813F0EAF001387803E0383C0F80381FFE00EA03F818227AA01F>I<01
F01338D803FC13FCEA0F1E120E121C123C0038147CEA783E0070143CA2137ED8F07C1338
EA60FCC65A1578000114705BA215F0000314E05BA2EC01C0A2EBC003158014071500EBE0
0EA26C6C5A3800F878EB7FE0EB1F801E227AA023>118 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fb cmsy8 8 2
/Fb 2 49 df<B812C0A32A037A9137>0 D<137813FE1201A3120313FCA3EA07F8A313F0
A2EA0FE0A313C0121F1380A3EA3F00A3123E127E127CA35AA35A0F227EA413>48
D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fc cmsy10 10.95 9
/Fc 9 111 df<121EEA7F80A2EAFFC0A4EA7F80A2EA1E000A0A799B19>1
D<0060166000F816F06C1501007E15036CED07E06C6CEC0FC06C6CEC1F806C6CEC3F006C
6C147E6C6C5C6C6C495A017E495A6D495A6D6C485A6D6C485A6D6C48C7FC903803F07E6D
6C5A903800FDF8EC7FF06E5A6E5AA24A7E4A7EECFDF8903801F8FC903803F07E49487E49
486C7E49486C7E49486C7E017E6D7E496D7E48486D7E4848147E4848804848EC1F804848
EC0FC048C8EA07E0007EED03F0481501481500006016602C2C73AC47>I<EB0FFCEB3FFF
90B512C0000314F04880488048804880A2481580A3B712C0AA6C1580A36C1500A26C5C6C
5C6C5C6C5CC614C0013F90C7FCEB0FFC22227BA72D>15 D<140C141EA2143E143CA2147C
1478A214F8495AA2495A495AA2495A49CDFC133E137EEA01F8485AEA0FE0003FBB12FEBD
FCA2003F1AFED80FE0CDFCEA03F06C7EEA007E133E7F6D7E6D7EA26D7E6D7EA26D7E1478
A2147C143CA2143E141EA2140C50307BAE5B>32 D<19301978A2197C193CA2193E191EA2
191F737EA2737E737EA2737E737E1A7C1A7EF21F80F20FC0F207F0007FBB12FCBDFCA26C
1AFCCDEA07F0F20FC0F21F80F27E001A7C624F5A4F5AA24F5A4F5AA24FC7FC191EA2193E
193CA2197C1978A2193050307BAE5B>I<153FEC03FFEC0FE0EC3F80EC7E00495A5C495A
A2495AB3AA130F5C131F495A91C7FC13FEEA03F8EA7FE048C8FCEA7FE0EA03F8EA00FE13
3F806D7E130F801307B3AA6D7EA26D7E80EB007EEC3F80EC0FE0EC03FFEC003F205B7AC3
2D>102 D<12FCEAFFC0EA07F0EA01FCEA007E6D7E131F6D7EA26D7EB3AA801303806D7E
1300147FEC1FC0EC07FEEC00FFEC07FEEC1FC0EC7F0014FC1301495A5C13075CB3AA495A
A2495A133F017EC7FC485AEA07F0EAFFC000FCC8FC205B7AC32D>I<126012F0B3B3B3B3
B11260045B76C319>106 D<126012F07EA21278127CA2123C123EA2121E121FA27E7FA2
12077FA212037FA212017FA212007FA21378137CA27FA2131E131FA27F80A2130780A213
0380A2130180A2130080A21478147CA2143C143EA2141E141FA26E7EA2140781A2140381
A2140181A2140081A21578157CA2153C153EA2151E151FA2811680A2150716C0A21503ED
0180225B7BC32D>110 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fd cmmi12 14.4 1
/Fd 1 79 df<020FB56C0203B512FEA383DA0003DC000F1380983807FC00716F5A4B715A
DCBFF05E043F5F161F030F6D150364ED0E0F83031E1707706C93C7FC151C1603033C6D5D
1B0EED3801840378171E706D141C1570177F03F06E143C1B384B133F8402011878716C14
705D170F02036F14F0634B13078402071701716C5C92C7FC834AEE800363020E8019C002
1E1707DE7FE090C8FC141C183F023C705A1A0E0238151F19F80278171E95380FFC1C1470
180702F0EEFE3C1A384A150319FF01011878725B5C841303624A167FA21307735A130F19
1F131FD97FC05F2601FFF0160F007FEBFFC0B6FC73C9FC5D5F527AD15E>78
D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fe cmmi8 8 3
/Fe 3 111 df<1307EB0F80EB1FC0A2EB0F80EB070090C7FCA9EA01E0EA07F8EA0E3CEA
1C3E123812301270EA607EEAE07C12C013FC485A120012015B12035BA21207EBC04014C0
120F13801381381F01801303EB0700EA0F06131EEA07F8EA01F0122E7EAC18>105
D<131FEA03FFA2EA003FA2133EA2137EA2137CA213FCA25BA2120115F89038F003FCEC0F
0E0003EB1C1EEC387EEBE07014E03807E1C09038E3803849C7FC13CEEA0FDC13F8A2EBFF
80381F9FE0EB83F0EB01F81300481404150C123EA2007E141C1518007CEBF038ECF83000
FC1470EC78E048EB3FC00070EB0F801F2F7DAD25>107 D<3907C007E0391FE03FF83918
F8783E393879E01E39307B801F38707F00126013FEEAE0FC12C05B00815C0001143E5BA2
0003147E157C5B15FC0007ECF8081618EBC00115F0000F1538913803E0300180147016E0
001F010113C015E390C7EAFF00000E143E251F7E9D2B>110 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Ff cmbx8 8 2
/Ff 2 51 df<EB01E01303131F13FFB5FCA3133F1200B3AE007FB512F0A41C2C7AAB29>
49 D<EB3FF03801FFFE0007EBFF80001F14E0D83F8013F0397F003FF8EC1FFC39FF800F
FEEBC00715FF80A3EA7F80EA3F00C7FCA2EC07FEA2EC0FFC15F8EC1FF0EC3FE015C0EC7F
80ECFE00495AEB03F0495A90380FC00FEB1F00133E01FC131FD801F0131E485A48B512FE
5A5A5A5AB612FCA4202C7CAB29>I E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fg cmbx12 12 58
/Fg 58 122 df<ED0FFF4AB512C0020F14F0027F80903A01FFF803FC499038C000FE010F
EB00034948497E49485B5C495A4C138001FF6E13005CA3705AEE01F893C8FCA74BB51280
B9FCA5C69038E00003B3B0007FD9FFC1B6FCA538467EC53E>12 D<121F487E487E487E7F
7FA27F6C7E7F001F13807E000313C0C613E0EB3FF0EB0FF81303EB01F0EB0060151375C5
38>18 D<EB07C0EB0FE0EB1FF0EB3FF8137F13FFA25A4813F05A4813C01480381FFE00EA
3FF8EA7FE0EAFF8048C7FC127C1230151369C538>I<D807C0EB07C0D81FF0EB1FF0486C
497E486C497E486C497E6D80A36E1480A36C806C80D81FF7EB1FF7D807C7EB07C7D80007
EB0007010F140FA291C71300A2495C011E141E013E143EA2495C01FC14FC495C4848495A
4848495A000714074848495A4848495A001EC7001EC7FC000C140C29227CC43A>34
D<EA07C0EA1FF0487E487E487E7FA31480A37E7EEA1FF7EA07C7EA0007130FA21400A25B
131E133EA25B13FC5B485A485A1207485A485A90C7FC120C112278C41F>39
D<EA07C0EA1FF0EA3FF8EA7FFC12FF13FEA213FFA47E7E7EEA07CFEA000FA2131F131EA2
133EA2133C137C13F8A2EA01F0120313E0EA07C0EA1F801300121E120C1022788E1F>44
D<B612F8A91D097F9A25>I<EA07C0EA1FF0EA3FF8EA7FFCEAFFFEA7EA7FFCEA3FF8EA1F
F0EA07C00F0F788E1F>I<EE01C0EE03E01607A2160F17C0161F1780A2163F17005E167E
A216FE5E15015EA215035EA215075E150F5EA2151F5E153F93C7FCA25D157E15FE5DA214
015D14035DA214075D140F5DA2141F5D143F92C8FCA25C147EA214FE5C13015CA213035C
13075CA2130F5C131F5CA2133F91C9FC5B137EA213FE5B12015BA212035BA212075B120F
5BA2121F5B123F90CAFCA25A127E12FE5AA25A12782B647ACA38>I<EC3FF849B5FC010F
14E0013F14F890397FF01FFC9039FFC007FE4890380001FF48486D1380000716C049147F
000F16E049143F001F16F0A2003F16F8A249141F007F16FCA600FF16FEB3A3007F16FCA5
6C6CEC3FF8A3001F16F0A2000F16E06D147F000716C06D14FF6C6C4913806C6D4813006C
6D485A90397FF01FFC6DB55A010F14E0010314809026003FF8C7FC2F427CC038>I<EC03
C01407141F147FEB03FF133FB6FCA413C3EA0003B3B3ADB712FCA5264177C038>I<ECFF
E0010F13FE013F6D7E90B612E0000315F82607FC0313FE3A0FE0007FFFD81F806D138048
C7000F13C0488001C015E001F07F00FF6E13F07F17F881A46C5A6C5A6C5AC9FC17F05DA2
17E05D17C04B13804B1300A2ED1FFC4B5A5E4B5A4B5A4A90C7FC4A5A4A5AEC0FF04A5AEC
3F804AC7127814FE495A494814F8D907E014F0495A495A49C8FC017C140149140348B7FC
4816E05A5A5A5A5AB8FC17C0A42D417BC038>I<ECFFF0010713FF011F14C0017F14F049
C66C7ED803F8EB3FFED807E06D7E81D80FF86D138013FE001F16C07FA66C5A6C4815806C
485BC814005D5E4B5A4B5A4B5A4A5B020F1380902607FFFEC7FC15F815FF16C090C713F0
ED3FFCED0FFEEEFF80816F13C017E0A26F13F0A217F8A3EA0FC0EA3FF0487EA2487EA217
F0A25D17E06C5A494913C05BD83F80491380D81FF0491300D80FFEEBFFFE6CB612F80001
5D6C6C14C0011F49C7FC010113E02D427BC038>I<163FA25E5E5D5DA25D5D5D5DA25D92
B5FCEC01F7EC03E7140715C7EC0F87EC1F07143E147E147C14F8EB01F0EB03E0130714C0
EB0F80EB1F00133E5BA25B485A485A485A120F5B48C7FC123E5A12FCB91280A5C8000F90
C7FCAC027FB61280A531417DC038>I<0007150301E0143F01FFEB07FF91B6FC5E5E5E5E
5E16804BC7FC5D15E092C8FC01C0C9FCAAEC3FF001C1B5FC01C714C001DF14F09039FFE0
3FFC9138000FFE01FC6D7E01F06D13804915C0497F6C4815E0C8FC6F13F0A317F8A4EA0F
80EA3FE0487E12FF7FA317F05B5D6C4815E05B007EC74813C0123E003F4A1380D81FC049
1300D80FF0495AD807FEEBFFFC6CB612F0C65D013F1480010F01FCC7FC010113C02D427B
C038>I<4AB47E021F13F0027F13FC49B6FC01079038807F8090390FFC001FD93FF014C0
4948137F4948EBFFE048495A5A1400485A120FA248486D13C0EE7F80EE1E00003F92C7FC
A25B127FA2EC07FC91381FFF8000FF017F13E091B512F89039F9F01FFC9039FBC007FE90
39FF8003FF17804A6C13C05B6F13E0A24915F0A317F85BA4127FA5123FA217F07F121FA2
000F4A13E0A26C6C15C06D4913806C018014006C6D485A6C9038E01FFC6DB55A011F5C01
0714C0010191C7FC9038003FF02D427BC038>I<121E121F13FC90B712FEA45A17FC17F8
17F017E017C0A2481680007EC8EA3F00007C157E5E00785D15014B5A00F84A5A484A5A5E
151FC848C7FC157E5DA24A5A14035D14074A5AA2141F5D143FA2147F5D14FFA25BA35B92
C8FCA35BA55BAA6D5A6D5A6D5A2F447AC238>I<EC7FF00103B5FC010F14C0013F14F090
397F801FFC3A01FC0003FE48486D7E497F4848EC7F80163F484815C0A2001F151FA27FA2
7F7F01FE143F6D158002C0137F02F014006C01FC5B6E485A6C9038FF83FCEDE7F86CECFF
E06C5D6C92C7FC6D14C06D80010F14F882013F8090B7FC48013F14802607FC0F14C0260F
F80314E04848C6FC496D13F0003F141F48481307496D13F8150000FF157F90C8123F161F
160FA21607A36D15F0127F160F6D15E06C6C141F6DEC3FC06C6CEC7F80D80FFE903801FF
003A07FFC00FFE6C90B55AC615F0013F14C0010F91C7FC010013F02D427BC038>I<EC7F
F0903807FFFE011F6D7E017F14E09039FFE03FF0489038800FF848496C7E48488048486D
7E001F80003F1680A2484815C08117E0A212FF17F0A617F8A45D127FA3003F5CA26C7E5D
6C6C5B12076C6C133E6CEBC07C6CEBFFF8013F5B010F01C013F00101130090C8FCA217E0
5DA2EA03C0D80FF015C0487E486C491380A217004B5A150F5E49495A6C48495A01C0EBFF
E0260FF0035B6CB65A6C4AC7FC6C14F86C6C13E0D907FEC8FC2D427BC038>I<EE1F80A2
4C7EA24C7EA34C7EA24B7FA34B7FA24B7FA34B7F169F031F80161F82033F80ED3E07037E
80157C8203FC804B7E02018115F0820203814B137F0207815D173F020F814B7F021F8292
C77EA24A82023E80027E82027FB7FCA291B87EA2498302F0C8FCA20103834A157F010783
4A153FA249488284011F8491C97E4984133E017E82B6020FB612F0A54C457CC455>65
D<B9FC18F018FE727E19E026003FFCC700077F05017F716C7E727E727EA2721380A37213
C0A74E1380A24E1300A24E5A4E5A4E5A4D5B05075B94B5128091B700FCC7FC18F018FF19
E002FCC7000113F8716C7EF01FFE727E7213801AC07213E0A27213F0A31AF8A71AF0A260
1AE0604E13C0604E138095B5120005075BBA12F86119C04EC7FC18E045447CC350>I<B9
FC18F018FE727E19E026003FFEC7001F13F805017F9438003FFF060F7F727F727F727F84
737E737EA2737EA2737EA21B80A2851BC0A51BE0AD1BC0A51B8061A21B006162193F624F
5A19FF624E5B06075B4E5B063F90C7FC4DB45A050F13F8BA5A19C04EC8FC18F095C9FC4B
447CC356>68 D<BA12F8A485D8001F90C71201EF003F180F180318011800A2197E193EA3
191EA21778A285A405F890C7FCA316011603161F92B5FCA5ED001F160316011600A2F101
E01778A2F103C0A494C7FC1907A21A80A2190FA2191FA2193FF17F0061601807181F4DB5
FCBBFC61A443447DC34A>I<BA1280A419C026003FFEC7121F1701EF007F183F181F180F
180719E01803A31801A3EE01E0F000F0A419001603A31607160F167F91B6FCA59138FE00
7F160F16071603A31601A693C9FCAFB712F0A53C447CC346>I<B7D88003B612FEA52600
3FFEC9EBF800B3A791B9FCA54AC9FCB3AAB7D88003B612FEA54F447CC358>72
D<B712E0A5D8001F90C7FCB3B3B3A4B712E0A523447DC32A>I<B712F0A526003FFECAFC
B3B1F00780A4180F1900A460A360A2187EA218FE170117031707171F177FEE03FFB95AA5
39447CC343>76 D<923807FFC092B512FE0207ECFFC0021F15F091267FFE0013FC902601
FFF0EB1FFF01070180010313C04990C76C7FD91FFC6E6C7E49486F7E49486F7E01FF8348
496F7E48496F1380A248496F13C0A24890C96C13E0A24819F04982003F19F8A3007F19FC
49177FA400FF19FEAD007F19FC6D17FFA3003F19F8A26D5E6C19F0A26E5D6C19E0A26C6D
4B13C06C19806E5D6C6D4B13006C6D4B5A6D6C4B5A6D6C4B5A6D6C4A5B6D01C001075B6D
01F0011F5B010101FE90B5C7FC6D90B65A023F15F8020715C002004AC8FC030713C04746
7AC454>79 D<B9FC18F018FE727E19E0D8001F90C7000F7F05017F716C7E727E727E7213
80A21AC084A21AE0A91AC0A24E1380A21A00604E5A4E5A4D485A050F5B92B712C096C7FC
18FC18C092CBFCB3A7B712E0A543447DC34D>I<B812F8EFFFC018F818FE727ED8001F90
C7003F13E005037F05007F727E727E727EA28684A286A762A24E90C7FCA24E5A61187F94
3801FFF005075B053F138092B7C8FC18F818E018F892C77FEF3FFF050F7F717F717FA271
7FA2717FA785A61B0F85A2187F73131F72141EB700E06DEB803E72EBE0FC72EBFFF80601
14F0726C13E0CC0007138050457DC354>82 D<DAFFE0131C010701FE133C013F9038FF80
7C90B6EAE0FC4815F9489038801FFF3907FC00014848EB007F4848143F4848140F491407
007F15035B1601160012FF177CA27FA26D153C7F7F6D92C7FC6C7EEBFFE014FE6CEBFFF0
15FF6C15E016FC6C816C6F7E6C826C826C6C81011F810107811300020F80140003077FED
007F82040F1380828212F082A282A27EA218007EA26C5D6C5E6D14036D5D6D140701F84A
5A01FFEC3FF002F8EBFFE0486CB65AD8FC1F92C7FCD8F80714FC48C614F0480107138031
467AC43E>I<003FBA12E0A59026FE000FEB8003D87FE09338003FF049171F90C71607A2
007E1803007C1801A300781800A400F819F8481978A5C81700B3B3A20107B8FCA545437C
C24E>I<B76C010FB512F8A526003FFEC93803E000B3B3A9011F17076280190F6D606F15
1F6D95C7FC6D6D5D197E6D6D5D6D6D1403DA7FFC4A5A6EB4EC3FF0020F9039F003FFE06E
90B61280020193C8FC6E6C14FC030F14E09226007FFEC9FC4D457CC356>I<0118141801
3C143C01FC14FC4848495A4848495A495C4848495A4848495A001F141F90C790C7FC003E
143EA2003C143C007C147C00781478A200F814F8A2485CD8F1F0EBF1F0D8F7FCEBF7FCB4
6CEBFFFE6D806E1480A36C80A36C806C496C13006C486D5A6C486D5AD801F0EB01F02922
74C43A>92 D<903801FFE0011F13FE017F6D7E48B612E03A03FE007FF84848EB1FFC6D6D
7E486C6D7EA26F7FA36F7F6C5A6C5AEA00F090C7FCA40203B5FC91B6FC1307013F13F190
38FFFC01000313E0000F1380381FFE00485A5B127F5B12FF5BA35DA26D5B6C6C5B4B13F0
D83FFE013EEBFFC03A1FFF80FC7F0007EBFFF86CECE01FC66CEB8007D90FFCC9FC322F7D
AD36>97 D<EB7FC0B5FCA512037EB1ED0FF892B57E02C314E002CF14F89139DFC03FFC91
39FF000FFE02FCEB03FF4A6D13804A15C04A6D13E05CEF7FF0A218F8173FA318FCAC18F8
A2177F18F0A3EFFFE06E15C06E5B6E491380027C491300496C495A903AFC1FC07FFC496C
B512F0D9F00314C049C691C7FCC8EA1FF036467DC43E>I<EC3FFC49B512C0010F14F001
3F14FC90397FF003FE9039FFC001FF0003495A48494813805B120F485AA2485A6F130000
7F6E5AED00784991C7FCA212FFAC6C7EA3123F6DEC03C0A26C6C1407000F16806D140F6C
6DEB1F006C6D133E6C01F05B3A007FFC03F86DB55A010F14C0010391C7FC9038003FF82A
2F7CAD32>I<EE03FEED07FFA5ED001F160FB1EC3FE0903803FFFC010FEBFF8F013F14CF
9039FFF807FF48EBC00148903880007F4890C7123F4848141F49140F121F485AA3127F5B
A212FFAC127FA37F123FA26C6C141FA26C6C143F0007157F6C6C91B5FC6CD9C00314FC6C
9038F01FEF6DB5128F011FEBFE0F010713F89026007FC0EBF80036467CC43E>I<EC3FF8
0103B57E010F14E0013F8090397FF83FF89039FFC007FC48496C7E48496C7E48486D1380
485A001FED7FC05B003FED3FE0A2127F5B17F0161F12FFA290B7FCA401F0C9FCA5127FA2
7FA2123F17F06C7E16016C6C15E06C6C14036C6DEB07C06C6DEB0F806C01F0EB3F009039
7FFE01FE011FB55A010714F0010114C09026001FFEC7FC2C2F7DAD33>I<EDFF80020F13
E0027F13F049B512F849EB8FFC90390FFE0FFE90381FFC1F14F8133FEB7FF0A2ED0FFCEB
FFE0ED03F0ED00C01600ABB612F8A5C601E0C7FCB3B0007FEBFFE0A527467DC522>I<DA
FFE0137E010F9039FE03FF80013FEBFF8F90B812C048D9C07F133F489038001FF84848EB
0FFC4848903907FE1F80001F9238FF0F00496D90C7FCA2003F82A8001F93C7FCA26D5B00
0F5D6C6C495A6C6C495A6C9038C07FF04890B55A1680D8078F49C8FC018013E0000F90CA
FCA47F7F7F90B612C016FC6CEDFF8017E06C826C16FC7E000382000F82D81FF0C77ED83F
C014074848020113808248C9FC177FA46D15FF007F17006D5C6C6C4A5A6C6C4A5AD80FFE
EC3FF83B07FFC001FFF0000190B612C06C6C92C7FC010F14F8D9007F90C8FC32427DAC38
>I<EB7FC0B5FCA512037EB1ED07FE92383FFF8092B512E002C114F89139C7F03FFC9138
CF801F9139DF000FFE14DE14FC4A6D7E5CA25CA35CB3A7B60083B512FEA537457CC43E>
I<137C48B4FC4813804813C0A24813E0A56C13C0A26C13806C1300EA007C90C7FCAAEB7F
C0EA7FFFA512037EB3AFB6FCA518467CC520>I<EB7FC0B5FCA512037EB293387FFFE0A5
93380FE0004C5A4CC7FC167E5EED03F8ED07E04B5A4B5A037FC8FC15FEECC1FCECC3FE14
C7ECDFFF91B57E82A202F97F02E17F02C07FEC807F6F7E826F7E816F7F836F7F816F7F83
707E163FB60003B512F8A535457DC43B>107 D<EB7FC0B5FCA512037EB3B3B3A3B61280
A519457CC420>I<90277F8007FEEC0FFCB590263FFFC090387FFF8092B5D8F001B512E0
02816E4880913D87F01FFC0FE03FF8913D8FC00FFE1F801FFC0003D99F009026FF3E007F
6C019E6D013C130F02BC5D02F86D496D7EA24A5D4A5DA34A5DB3A7B60081B60003B512FE
A5572D7CAC5E>I<90397F8007FEB590383FFF8092B512E0028114F8913987F03FFC9138
8F801F000390399F000FFE6C139E14BC02F86D7E5CA25CA35CB3A7B60083B512FEA5372D
7CAC3E>I<EC1FFC49B512C0010714F0011F14FC90397FF80FFF9026FFC0017F48496C7F
4848C7EA3FE000078248486E7E49140F001F82A2003F82491407007F82A400FF1780AA00
7F1700A46C6C4A5AA2001F5E6D141F000F5E6C6C4A5AA26C6C6CEBFFE06C6D485B27007F
F80F90C7FC6DB55A010F14F8010114C09026001FFCC8FC312F7DAD38>I<90397FC00FF8
B590B57E02C314E002CF14F89139DFC03FFC9139FF001FFE000301FCEB07FF6C496D1380
4A15C04A6D13E05C7013F0A2EF7FF8A4EF3FFCACEF7FF8A318F017FFA24C13E06E15C06E
5B6E4913806E4913006E495A9139DFC07FFC02CFB512F002C314C002C091C7FCED1FF092
C9FCADB67EA536407DAC3E>I<DA3FE0131E902603FFFC133E010F01FF137E013F148090
3AFFF80FE0FE489038E003F148EBC0014890388000FB4890C7127F49143F001F151F485A
160F5B127FA3485AAC6C7EA46C7EA26C6C141F163F6C6C147F6C15FF6C6D5A6C9038E003
EF6C9038F01FCF6DB5128F011FEBFE0F010313F89038007FC091C7FCAD0307B512FCA536
407CAC3B>I<90387F807FB53881FFE0028313F0028F13F8ED8FFC91389F1FFE000313BE
6C13BC14F8A214F0ED0FFC9138E007F8ED01E092C7FCA35CB3A5B612E0A5272D7DAC2E>
I<90391FFC038090B51287000314FF120F381FF003383FC00049133F48C7121F127E00FE
140FA215077EA27F01E090C7FC13FE387FFFF014FF6C14C015F06C14FC6C800003806C15
806C7E010F14C0EB003F020313E0140000F0143FA26C141F150FA27EA26C15C06C141FA2
6DEB3F8001E0EB7F009038F803FE90B55A00FC5CD8F03F13E026E007FEC7FC232F7CAD2C
>I<EB01E0A51303A41307A2130FA2131FA2133F137F13FF1203000F90B51280B7FCA4C6
01E0C7FCB3A3ED01E0A9150302F013C0137F150790393FF80F8090391FFC1F006DB5FC6D
13FC01015B9038003FE023407EBE2C>I<D97FC049B4FCB50103B5FCA50003EC000F6C81
B3A85EA25EA25E7E6E491380017FD901F713FE9138F807E76DB512C7010F1407010313FE
9026007FF0EBFC00372E7CAC3E>I<B6903803FFFCA5000101E09038003E006C163C8001
7F5D8017F8013F5D6E1301011F5D6E1303010F5D6E13076D5DED800F6D92C7FC15C05E6D
EBE01E163E6D143CEDF07C027F1378EDF8F8023F5B15FD021F5B15FF6E5BA36E5BA26E90
C8FCA26E5AA26E5AA21578362C7EAB3B>I<B5D8FE1FB539801FFFF0A500019027C0003F
E0C7EA7C007114786E17F86C6F6C5C6E1601017F6E6C5CA26E011F1403013F6F5C6E013F
1407011F6F5CA26E0179140F010F048090C7FC6E01F95C6D02F0EBC01E15806D902681E0
7F5B18E003C3157C6D9139C03FF07815E76DDA801F5B18F803FF14F96E9039000FFDE018
FF6E486D5BA36E486D5BA26E486D90C8FCA24B7F02075DA26E48147C4B143C4C2C7EAB51
>I<B500FE90383FFFF0A5C601F0903803E0006D6C495A013F4A5A6D6C49C7FC6E5B6D6C
137E6DEB807C6D6D5A6DEBC1F0EDE3E06DEBF7C06EB45A806E90C8FC5D6E7E6E7F6E7FA2
4A7F4A7F8291381F3FFCEC3E1F027C7F4A6C7E49486C7F01036D7F49487E02C08049486C
7F49C76C7E013E6E7E017E141FB500E090B512FCA5362C7EAB3B>I<B6903803FFFCA500
0101E09038003E006C163C80017F5D8017F8013F5D6E1301011F5D6E1303010F5D6E1307
6D5DED800F6D92C7FC15C05E6DEBE01E163E6D143CEDF07C027F1378EDF8F8023F5B15FD
021F5B15FF6E5BA36E5BA26E90C8FCA26E5AA26E5AA21578A215F85D14015D001F1303D8
3F805B387FC007D8FFE05B140F92C9FC5C143E495A387FC1F8EB07F06CB45A6C5B000790
CAFCEA01FC36407EAB3B>I E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fh cmcsc10 10.95 22
/Fh 22 118 df<121EEA7F80A2EAFFC0A4EA7F80A2EA1E000A0A77891D>46
D<B912E0A300019038C000016C6C48EB001FEF0FF01703A217011700A31870A41838A216
1CA31800A3163CA2167C16FC150391B5FCA3EC80031500167C163CA2161CA693C8FCAF38
01FFE0B612F0A3353E7BBD41>70 D<B712FCEEFFC017F000019039C0000FFC6C6C48EB01
FF701380EF3FC0EF1FE018F0EF0FF8A2EF07FCA218FEA718FCA3EF0FF8A2EF1FF018E0EF
3FC0EFFF80933801FE00EE1FFC91B612E017800280C9FCB3A73801FFE0B612C0A3373E7C
BD43>80 D<D903FE130690391FFFC00E017FEBF81E3901FE01FC3A03F0003F3E4848EB0F
FE484813074848130390C71201003E1400007E157EA2007C153E12FCA2161EA36C150EA2
7E7F007F92C7FC7F13F0EA3FFCEBFFC06C13FC6CEBFFC06C14FC6C14FF6C15C06C6C8001
1F80010380D9003F7F02037F9138003FFF15070301138081167F17C0163F00E0151FA316
0FA27EA36C1680161F7E17006C5D6C153E6D5C6D14FCD8FDF0495AD8F8FC495A3AF07FC0
1FC0011FB55AD8E00349C7FC39C0003FF02A427ABF38>83 D<003FB912E0A3903BF0003F
F0007F01806D48130F48C7ED07F0007E1703007C170100781700A300701870A5481838A5
C81600B3B14B7E4B7E0103B7FCA33D3D7CBC47>I<EC01E0A24A7EA34A7EA34A7EA24A7E
141CA2EC3CFFEC387FA24A6C7EA34A6C7EA2010180ECC00FA249486C7EA349486C7EA249
80010E1301010FB5FC4980A2011CC7FC49147FA20178810170143FA201F08149141F1201
486C811207486CEC3FF8D8FFFE49B512C0A332317DB038>97 D<B612FEEDFFC016F03A03
FC0007F86C48EB01FE1500167F1780163F17C0A61780167F170016FE4B5AED07F0ED7FE0
90B6128016F09039F80001FC6F7EEE7F80163FEE1FC017E0160F17F0A617E0161FA2EE3F
C0EE7F80923801FF00486CEB07FEB712F85E93C7FC2C2F7CAE35>I<DA0FF81330DA7FFF
13700103B5EAC0F090390FFC03F190391FE000F9D97F80133F01FEC7121F4848140F4848
1407485A000F1503491401121F491400123F5B127F1770A248C9FC1700AA6C6C1570A312
3F6D15F0121F6D15E0000F15016D15C0000715036C6C15806C6C14076C6CEC0F00D97F80
133ED91FE05B90390FFC03F00103B55AD9007F1380DA0FF8C7FC2C317BAF36>I<B612FC
EDFFC016F03A03FE000FF86C48EB01FEED007FEE3F80EE1FC0EE0FE0EE07F0160317F816
0117FCA2EE00FEA417FFAA17FEA3EE01FCA3EE03F817F01607EE0FE017C0EE3F80EE7F00
ED01FE486CEB0FFCB712F016C04BC7FC302F7CAE39>I<B8FCA33903FE00016C48903800
3F80161F160F1607A21603A317C0ED1C01A393C7FCA2153CA215FC90B5FCA3EBFC00153C
A2151CA21770A392C712E0A41601A2EE03C0A21607160F161F486C14FFB81280A32C2F7C
AE33>I<B712FEA33903FE00036C48EB007F828282A282A3EE0380A21538A293C7FCA315
78A2EC01F890B5FCA3EBFC01EC0078A21538A592C8FCAA487EB512FCA3292F7CAE31>I<
DA0FF81360DAFFFE13E00103EBFF8190390FF807E390393FC000F34948137F01FEC7123F
4848141F4848140F48481407120F491403485A003F1501A25B007F1500A348C9FC1700A8
031FB5FCA26C7E9238001FF0EE0FE0123F7FA26C7E120F7F12076C7E6C7E6C6C141FD97F
80133FD93FE0137B90390FFC03F10103B512E00100EC8060DA0FFCC7FC30317BAF3A>I<
B512F8A33803FE006C5AB3B3A3487EB512F8A3152F7DAE1B>105
D<B512FCA3D803FEC8FC6C5AB3A7160EA4161CA4163CA2167C16FC1501ED03F8486C131F
B7FCA3272F7CAE2F>108 D<D8FFFE923807FFF0A3D803FF92380FFC006C5FD9DF80141D
A3D9CFC01439A2D9C7E01471A3D9C3F014E1A2D9C1F8EB01C1A3D9C0FCEB0381A2027EEB
0701A36E130EA291381F801CA391380FC038A2913807E070A3913803F0E0A3913801F9C0
A2913800FF80A3486CEB7F00487E486C013E497EB5008091B512F0A2151C3C2F7CAE44>
I<D8FFFC49B5FC7F7F00019138001FF06EEB0FE06EEB07C0EE0380EBDFE0EBCFF013C780
EBC3FC13C180EBC0FF801580EC3FC0EC1FE0A2EC0FF0EC07F8A2EC03FCEC01FE140015FF
ED7F83153F16C3ED1FE3ED0FF3A2ED07FBED03FFA28181A2167F163F486C141F487E486C
140FB56C1307A21603302F7CAE38>I<EC1FF891B5FC903907F00FE090390FC003F0013F
C712FC017E147E49804848EC1F804848EC0FC04848EC07E0000F16F0491403001F16F849
1401003F16FCA2007F16FE90C9FCA34816FFAA6C6CEC01FEA3003F16FCA26D1403001F16
F86C6CEC07F0A26C6CEC0FE0000316C06C6CEC1F806C6CEC3F00017E147E6D5C90390FC0
03F0903907F00FE00100B5C7FCEC1FF830317BAF3A>I<B612FCEDFF8016E03A03FE000F
F86C48EB03FCED00FE167FA2EE3F80A217C0A61780A2EE7F00A216FEED03F8ED0FF090B6
12C093C7FC01FCC9FCB2487EB512F8A32A2F7CAE33>I<B612E015FE6F7E3A03FE003FE0
6C48EB07F8ED01FC6F7EA2828283A594C7FC5E5E4B5A4B5A4B5AED3FC090B500FEC8FC5D
9038FC007FED1F806F7E826F7EA26F7EA582A4EF01C016FEA21501486CED0380B538F800
FF93383F8700EE1FFEC9EA03F832307CAE37>114 D<90383FC00C9038FFF81C0003EBFE
3C390FE03FFC381F8007EB0003003E1301481300157C5A153CA36C141CA27E6C14006C7E
13E013FE383FFFE06C13FE6CEBFF806C14E0000114F06C6C13F8010F13FC1300EC07FE14
011400157F153F12E0151FA37EA2151E6C143E6C143C6C147C6C14F89038C001F039FBF8
07E000F1B512C0D8E07F130038C007FC20317BAF2A>I<007FB712F8A39039801FF0073A
7E000FE00000781678A20070163800F0163CA348161CA5C71500B3A8EC3FF8011FB512F0
A32E2E7CAD36>I<B5D8F801B5FCA3D803FEC7EA1FF06C48EC0FE0EE07C0EE0380B3AB16
076C6C1500A2017E5C017F141E6D141C6D6C133C6D6C5B6D6C485A903903FC07E00100B5
1280DA3FFEC7FCEC07F830307CAE38>I E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fi lasy10 10.95 1
/Fi 1 52 df<1503ED07C04B7E4B7E4B7EED7EFCEDFC7E4A487E4A486C7E4A486C7E4A48
6C7E4A486C7E4A486C7E027E6D7E4A147E49488049486E7E49486E7E49486E7E49486E7E
49C86C7E017E6F7E49167E4848824848EE1F804848EE0FC04848EE07E04848EE03F048CA
EA01F8007EEF00FC48187CA2007E18FC6CEF01F86C6CEE03F06C6CEE07E06C6CEE0FC06C
6CEE1F806C6CEE3F006C6C167E017E5E6D4B5A6D6C4A5A6D6C4A5A6D6C4A5A6D6C4A5A6D
6C4AC7FC6D6C147E027E5C6E495A6E6C485A6E6C485A6E6C485A6E6C485A6E6C48C8FC91
3800FC7EED7EFC6F5A6F5A6F5A6F5A6FC9FC3E3E7BBD49>51 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fj cmtt9 9 36
/Fj 36 120 df<121EEA7F80A2EAFFC0A4EA7F80A2EA1E000A0A728927>46
D<1538157C15FCA2140115F8140315F0140715E0140F15C0141F1580143F1500A25C147E
14FE5C13015C13035C13075C130F5CA2131F5C133F91C7FC5B137E13FE5B12015B12035B
A212075B120F5B121F5B123F90C8FC5A127E12FE5AA25A12781E3A7CB327>I<EB07E0EB
3FFC497E90B5FC4814803903FC3FC03907F00FE0390FE007F0EBC003391F8001F8A248C7
12FCA2003E147C007E147EA3007C143E00FC143FAC007E147EA46C14FCA2EB8001001F14
F8EBC003000F14F0EBE0073907F00FE03903FC3FC06CB512806C14006D5A6D5AEB07E020
307DAE27>I<130E131FA25B5BA25B5A5A127FB5FCA213BFEA7E3F1200B3AA003FB51280
5A15C01580A21A2F79AE27>I<EB3FE03801FFF84813FE000FEBFF804814C0393FE07FE0
EB800F397F0007F0007EEB03F800FE13015A6C14FC1400A3127CC8FCA2140115F8A21403
15F01407EC0FE0EC1FC0143FEC7F80ECFF00495A495A495A495A495A495A495A01FEC7FC
485AD807F81378484813FC485A485A48B5FCB6FCA36C14F81E2F7CAE27>I<EC3F804A7E
A214FF5BA2EB03F7EB07E7A2EB0FC71487131FEB3F07A2137E13FCA2EA01F813F01203EA
07E0A2EA0FC0EA1F80A2EA3F00123E127E5AB7128016C0A36C1580C73807C000A849B5FC
491480A36D1400222F7EAE27>52 D<001FB512E04814F0A315E090C8FCACEB1FF0EBFFFC
14FF158015C09038F03FE09038C00FF0EB0007003EEB03F8001C1301C7FC15FC1400A312
7C12FEA2140115F84813036C14F0007F130F9038801FE0393FE07FC06CB512806C14006C
5B000113F838007FC01E2F7CAD27>I<14FF010713C0011F13F04913F890B5FC48EB81FC
3803FE0113F8EA07F0EA0FE09038C000F8001F1400485A90C8FCA25A127EEB0FF838FE3F
FE48B51280B612C015E09038F80FF09038E007F890388001FC90C7FC15FE48147E157F15
3F5A7E127EA3127F6C147F157E6C6C13FE9038C001FC120F9038F007F83907F81FF06CB5
12E06C14C06C148090383FFE00EB0FF820307DAE27>I<EB0FF0EB7FFE48B512804814C0
000F14F0EBF81F391FE007F8393F8001FC90C7FC4814FE007E147EA56C14FCEB8001391F
C003F8390FE007F03907FC3FE00001B5128039007FFE006D5A90B5FC000314C0390FF00F
F0391FC003F8393F8001FC90C7FC007E147EA248143FA6007E147EA2007F14FE393F8001
FC391FE007F8EBF81F6CB512F06C14E00001148039007FFE00EB0FF020307DAE27>56
D<EB0FF0EB7FFC48B5FC4814804814C0390FF81FE0391FE007F0393FC003F8EB8001D87F
0013FC007E130012FE48147EA4157F153F157F7E127E007F14FF7E6D5A381FE007380FF0
1F6CB6FC7E6C143F39007FFC7F90381FF07E90C7FCA215FCA2140115F8001F1303393F80
07F0EC0FE0141FEC3FC09038C0FF806CB512005C6C13F8000313E0C6138020307DAE27>
I<121EEA7F80A2EAFFC0A4EA7F80A2EA1E00C7FCAC121EEA7F80A2EAFFC0A4EA7F80A2EA
1E000A20729F27>I<EB03F0497EA2497EA4143CEB1F3EA5EB3F3FA3EB3E1FA2017E7FA4
496C7EA548486C7EA390B5FCA24880A3EBF003A248486C7EA4000F803A7FFC0FFF8000FF
15C06D5A497E007F1580222F7EAE27>65 D<903803F80E90381FFE1F90383FFFBF90B6FC
5A3803FE0F3807F803497E48487E485A49137FA248C7123FA25A127E151E150012FE5AAA
7E127EA2151E007F143F7EA26C7E157F6D137E6C6C13FE3907F001FCEBF8033903FE0FF8
6CB512F06C14E0013F13C06D1300EB03F820307DAE27>67 D<007FB61280B712C0A37E39
07E0000FA6ED078092C7FCA4EC07804A7EA390B5FCA5EBE00FA36E5A91C8FCA4ED03C0ED
07E0A7007FB6FCB7FCA36C15C0232E7FAD27>69 D<EBFFFC0007EBFF80001F14E0A24814
F0EBC00F397F8007F8EB0003007E1301A348EB00FCB3A76C1301007E14F8A3007F1303EB
8007393FE01FF090B5FC6C14E0A200071480C6EBFC001E307CAE27>79
D<387FFFF0B512FE6E7E816C803907E01FF014076E7E1401811400A514015D14034A5A14
1F90B55A5D5DA281EBE01F6E7E14076E7EA816F0EDF1F8A4397FFE01FBB5EBFFF08016E0
6C48EB7FC0C8EA1F00252F7FAD27>82 D<007FB61280B712C0A439FC03F00FA60078EC07
80000091C7FCB3AB90B512C04880A36C5C222E7EAD27>84 D<007FB512F8B612FCA46C14
F81E067C7E27>95 D<3803FFC0000F13F04813FC4813FF811380EC1FC0381F000F000480
C71207A2EB0FFF137F0003B5FC120F5A383FFC07EA7FC0130012FE5AA46C130F007F131F
EBC0FF6CB612806C15C07E000313F1C69038807F8022207C9F27>97
D<EA7FE0487EA3127F1203A914FF01F313C090B512F08181EC81FE49C67E49EB3F804913
1F16C049130FA216E01507A6150F16C07F151F6DEB3F80157F6DEBFF009038FF83FEECFF
FC5D5D01F313C02601E0FEC7FC232E7FAD27>I<EB0FFF017F13C048B512E04814F05A38
0FF807EA1FE0393FC003E0903880008048C8FC127EA212FE5AA67E127EA2007F14F0393F
8001F813C0381FE003390FF80FF06CB5FC6C14E06C14C06C6C1300EB0FF81D207B9F27>
I<EC3FF04A7EA3143F1401A9EB0FE1EB7FFD48B5FC5A5A380FF83F381FE00F383FC007EB
8003EA7F00007E1301A212FE5AA67E007E1303A2127F6C1307EB800F381FE01F380FF03F
6CB612C06C15E06C13FD38007FF9D91FE013C0232E7EAD27>I<EB0FF8EB3FFE90B51280
000314C04814E0390FFC0FF0391FE003F8EBC001D83F8013FC48C7FC127E157E12FEB612
FEA415FC00FCC8FC7E127E127F6C143C6D137E6C7E01F013FE390FFC07FC6CB5FC000114
F86C14F0013F13C0903807FE001F207D9F27>I<EC1FF0ECFFF84913FC4913FE5BEB0FF0
14C0011F137CEC8000A6007FB512F0B612F8A36C14F039001F8000B3A4003FB512C04814
E0A36C14C01F2E7EAD27>I<153F90391FC0FF80D97FF313C048B612E05A4814EF390FF0
7F873A1FC01FC3C0EDC000EB800F48486C7EA66C6C485AEBC01FA2390FF07F8090B5C7FC
5C485BEB7FF0EB1FC090C9FCA27F6CB5FC15E015F84814FE4880EB8001007EC7EA3F8000
7C140F00FC15C0481407A46C140F007C1580007F143F6C6CEB7F009038F807FF6CB55A00
0714F86C5CC614C0D90FFCC7FC23337EA027>I<EA7FE0487EA3127F1203A9147F9038F1
FFC001F713F090B5FC8114C1EC01FCEBFE005B5BA25BB03A7FFF83FFE0B500C713F0A36C
018313E0242E7FAD27>I<130F497E497EA46D5A6DC7FC90C8FCA7383FFF80487FA37EEA
000FB3A4007FB512F0B6FC15F815F07E1D2F7BAE27>I<387FFF80B57EA37EEA000FB3B2
007FB512F8B612FCA36C14F81E2E7CAD27>108 D<397F07C01F3AFF9FF07FC09039FFF9
FFE091B57E7E3A0FFC7FF1F89038F03FC001E0138001C01300A3EB803EB03A7FF0FFC3FF
486C01E3138001F913E701F813E36C4801C313002920819F27>I<387FE07F39FFF1FFC0
01F713F090B5FC6C80000313C1EC01FCEBFE005B5BA25BB03A7FFF83FFE0B500C713F0A3
6C018313E024207F9F27>I<EB1FE0EB7FF83801FFFE487F481480390FF03FC0391FC00F
E0393F8007F0EB00034814F8007E1301A248EB00FCA76C1301007E14F8A2007F1303393F
8007F0A2391FE01FE0390FF03FC06CB512806C14006C5B38007FF8EB1FE01E207C9F27>
I<387FE0FFD8FFF313C090B512F0816C800003EB81FE49C67E49EB3F8049131F16C04913
0FA216E01507A6150F16C07F151F6DEB3F80157F6DEBFF009038FF83FEECFFFC5D5D01F3
13C0D9F0FEC7FC91C8FCAC387FFF80B57EA36C5B23317F9F27>I<397FFC03FC39FFFE0F
FF023F13804A13C0007F90B5FC39007FFE1F14F89138F00F809138E002004AC7FC5CA291
C8FCA2137EAD007FB57EB67EA36C5C22207E9F27>114 D<9038FFF3800007EBFFC0121F
5A5AEB803F38FC000F5AA2EC07806C90C7FCEA7F8013FC383FFFF06C13FC000713FF0001
1480D8000F13C09038003FE014070078EB03F000FC1301A27E14036CEB07E0EBE01F90B5
12C01580150000FB13FC38707FF01C207B9F27>I<133C137EA8007FB512F0B612F8A36C
14F0D8007EC7FCAE1518157EA415FE6D13FC1483ECFFF86D13F06D13E0010313C0010013
001F297EA827>I<3A7FFE07FFE000FF15F06D5A497E007F15E03A0F80001F00A36D5B00
07143EA414F0EBC1F83903E3FC7CA4EBE79EA200011478A301F713F8A2EBFF0F6C5CA3EB
FE0790387C03E024207F9F27>119 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fk cmr9 9 62
/Fk 62 123 df<91393FE00FE0903A01FFF83FF8903A07E01EF83C903A1F800FF07E903A
3F001FE0FE017E133F4914C0485A1738484890381F8000ACB812C0A33B03F0001F8000B3
A7486C497EB50083B5FCA32F357FB42D>11 D<EC1FE0ECFFFC903803F01E90390FC00780
EB1F8090393F000FC0017E131F5BA2485AED0F8092C7FCA9ED0FC0B7FCA33901F8001F15
0FB3A6486CEB1FE0267FFFC1B5FCA328357FB42B>I<DA1FE013FF9126FFFC0713E0903B
03F01E1F80F0903B0FC0077E003CD91F805B90273F001FF8137E017E4A13FE495CA24848
5C030F147C95C7FCA9187EB912FEA33B01F8000FC000187EB3A6486C496C13FF297FFFC1
FFFE0F13F8A33D357FB440>14 D<127812FCA27E7EEA7F80121FEA0FC0EA07E01203EA00
F01378133C13080E0E78B326>18 D<137813FCA212011203EA07F813E0EA0FC0EA1F8013
00123C5A5A12400E0E71B326>I<003C13F0387E01F838FF03FCA2EB83FEA2EA7F81383D
80F600011306A40003130EEB000CA248131C00061318000E1338000C1330001C13704813
E0387001C00060138017177EB326>34 D<123C127EB4FCA21380A2127F123D1201A41203
1300A25A1206120E120C121C5A5A126009177AB315>39 D<14C01301EB0380EB0F00130E
5B133C5B5BA2485A485AA212075B120F90C7FC5AA2121E123EA3123C127CA55AB0127CA5
123C123EA3121E121FA27E7F12077F1203A26C7E6C7EA213787F131C7F130FEB0380EB01
C01300124A79B71E>I<12C07E1270123C121C7E120F6C7E6C7EA26C7E6C7EA27F137813
7C133C133EA2131E131FA37F1480A5EB07C0B0EB0F80A514005BA3131E133EA2133C137C
137813F85BA2485A485AA2485A48C7FC120E5A123C12705A5A124A7CB71E>I<123C127E
B4FCA21380A2127F123D1201A412031300A25A1206120E120C121C5A5A126009177A8715
>44 D<B512F0A514057F921A>I<123C127E12FFA4127E123C08087A8715>I<1530157815
F8A215F01401A215E01403A215C01407A21580140FA215005CA2143EA2143C147CA21478
14F8A25C1301A25C1303A25C1307A2495AA291C7FC5BA2131E133EA2133C137CA2137813
F8A25B1201A25B1203A2485AA25B120FA290C8FC5AA2121E123EA2123C127CA2127812F8
A25A12601D4B7CB726>I<EB0FE0EB7FFCEBF83E3903E00F803907C007C0EB8003000F14
E0391F0001F0A24814F8A2003E1300007E14FCA500FE14FEB2007E14FCA56CEB01F8A36C
14F0A2390F8003E03907C007C0A23903E00F803900F83E00EB7FFCEB0FE01F347DB126>
I<13075B5B137FEA07FFB5FC13BFEAF83F1200B3B3A2497E007FB51280A319327AB126>
I<EB3FC0EBFFF0000313FC380F80FF391E007F80001CEB3FC048EB1FE048130F15F00060
130712FC6C14F87E1403A3007E1307123CC7FC15F0A2140F15E0EC1FC0A2EC3F80150014
7E5C495A5C495A495A495A49C7FC133E133C4913185B485A48481330485A48C7FC001C14
70001FB512F05A5AB612E0A31D327CB126>I<EB1FE0EBFFFC4813FF3907E03F80390F00
1FC0001EEB0FE0001CEB07F0123F018013F8140313C01380A2381F0007C7FC15F0A2EC0F
E015C0141FEC3F80EC7E00EB01F8EB7FE014FCEB003FEC1FC0EC0FE0EC07F015F8140315
FC140115FEA3127EB4FCA415FC48130312780070EB07F86C14F0003C130F001FEB1FE039
0FE03F800003B51200C613FCEB1FE01F347DB126>I<EC01C0A214031407A2140F141FA2
143F147F146F14CF1301EB038F140F1307130E130C131C13381330137013E013C0EA0180
120313001206120E120C5A123812305A12E0B71280A3C7380FC000A94A7E0107B51280A3
21337EB226>I<123C127E12FFA4127E123C1200B0123C127E12FFA4127E123C08207A9F
15>58 D<15E0A34A7EA24A7EA34A7EA3EC0DFE140CA2EC187FA34A6C7EA202707FEC601F
A202E07FECC00FA2D901807F1507A249486C7EA301066D7EA2010E80010FB5FCA2498001
18C77EA24981163FA2496E7EA3496E7EA20001821607487ED81FF04A7ED8FFFE49B512E0
A333367DB53A>65 D<DA03FE130C91393FFF801C91B512E0903A03FE01F83C903A0FF000
3C7CD91FC0EB0EFCD97F80130701FEC7120348481401000315005B4848157C485A173C48
5A171C123F5B007F160CA390C9FC481600AB7E6D150CA3123F7F001F161C17186C7E1738
6C6C15306C6C15706D15E012016C6CEC01C0D97F80EB0380D91FC0EB0F00D90FF0131ED9
03FE13FC0100B512F0023F13C0DA03FEC7FC2E377CB437>67 D<B77E16F016FE3A01FE00
01FF00009138003FC0EE0FE0707E707E707E707E177E177FEF3F80A2EF1FC0A3EF0FE0A4
18F0AA18E0A3171F18C0A21880173F18005F17FE5F4C5AEE07F04C5AEE3FC000014AB45A
B748C7FC16F8168034337EB23B>I<B812C0A3D803FCC7127F0001150FEE03E01601A216
00A21760A403061330A41700150EA2151E157E90B512FEA39038FC007E151E150EA21506
170CA3171892C7FCA41738A21770A217F01601160316070003157FB812E0A32E337DB234
>I<B81280A3D803FCC7FC0001151FEE07C01603A21601A21600A41760150CA31700A215
1CA2153C15FC90B5FCA3EBFC00153C151CA2150CA592C8FCAB487EB512FEA32B337DB232
>I<B5D8FE03B512F8A3000190C73807FC006C486E5AB390B7FCA349C71203B3A3486C4A
7EB5D8FE03B512F8A335337EB23A>72 D<B512FEA3000113006C5AB3B3A7487EB512FEA3
17337EB21C>I<B512FEA3D803FEC9FC6C5AB3A9EE0180A416031700A45EA25E5E5E5E16
FE00031407B7FCA329337DB230>76 D<D8FFFE91381FFFF87F80C6030013006E143CD9DF
E01418EBCFF0A2EBC7F8EBC3FCA2EBC1FEEBC0FF6E7EA26E7E6E7EA26E7E6E7E6E7EA26E
7E6E7EA2ED7F80ED3FC0ED1FE0A2ED0FF0ED07F8A2ED03FCED01FEED00FFA2EE7F98EE3F
D8A2EE1FF8160F1607A216031601A2486C1400D807F81578B500C01438A2171835337EB2
3A>78 D<EC07FC91387FFFC0903901FC07F0903907E000FCD90F80133E013FC76C7E017E
6E7E496E7E48486E7E48486E7EA248486E7E000F8249157E001F167FA24848ED3F80A200
7F17C0A290C9121FA24817E0AB6C17C06D153FA3003F17806D157FA2001F17006D5D000F
5E6C6C4A5AA26C6C4A5A00015E6C6C4A5A017E4A5A6D4A5AD91FC0017FC7FCD907E013FC
903901FC07F09039007FFFC0DA07FCC8FC33377CB43C>I<B612FEEDFFC016F03A03FC00
07FC0001EC00FE167FEE3F80EE1FC017E0160FA217F0A617E0A2EE1FC0A2EE3F80EE7F00
16FEED07F890B65A168001FCC9FCB3A2487EB512F8A32C337DB234>I<B612FCEDFF8016
F03A01FE0007FC0000EC01FEED007F707E707E83160F83A65FA24C5AA24C5A047EC7FC4B
5AED0FF090B612C093C8FC9039FE001FC0ED07F06F7E6F7E150082167E167FA583A5180C
17C0A2043F131C486C1618B500FEEB1FE0040F1338933807F070C93801FFE09338003F80
36357EB239>82 D<90381FE00390387FFC0748B5FC3907F01FCF390F8003FF48C7FC003E
80814880A200788000F880A46C80A27E92C7FC127F13C0EA3FF013FF6C13F06C13FF6C14
C06C14F0C680013F7F01037F9038003FFF140302001380157F153FED1FC0150F12C0A215
07A37EA26CEC0F80A26C15006C5C6C143E6C147E01C05B39F1FC03F800E0B512E0011F13
8026C003FEC7FC22377CB42B>I<007FB712FEA390398007F001D87C00EC003E0078161E
0070160EA20060160600E01607A3481603A6C71500B3AB4A7E011FB512FCA330337DB237
>I<B500FE90381FFFF8A3000190C813006C48153C1718B3AF1738017F1530A217706D6C
1460011F15E06E495A010F14036D6C495A6D6C49C7FCD901FC131E6DB413FC91383FFFF0
020F13C0020190C8FC35357EB23A>I<EAFFF0A4EAF000B3B3B3ADEAFFF0A40C4B79B715>
91 D<0003130C48131C000E133848137000181360003813E0003013C0EA700100601380
A2EAE00300C01300A400DE137800FF13FCEB83FEA2EA7F81A2383F00FC001E1378171774
B326>I<EAFFF0A41200B3B3B3AD12FFA40C4B7FB715>I<1320137013F8487EEA03DEEA07
8F380F0780381E03C0383C01E0387800F000E0133800401310150C78B326>I<EB7F8038
03FFF0380F80FC381C003E003F133F6D6C7E6E7EA26E7EEA1F00C7FCA4EB01FF131FEBFF
873803FC07EA0FF0EA1FC0EA3F80127F13004815C05AA3140FA26C131F6C133B3A3F8071
F180391FC1E1FF2607FFC013003900FE003C22237DA126>97 D<EA03F012FFA312071203
AEEC3F80ECFFE09038F3C0F89038F7007E01FE7F49EB1F8049EB0FC05BED07E016F0A215
0316F8AA16F0150716E0A2ED0FC07F6DEB1F8001ECEB3F0001CF137C90388381F8903801
FFE0C76CC7FC25357EB32B>I<EB07F8EB3FFF9038FC07C03901F000E03903E003F03807
C007120FEA1F80123F90380003E04890C7FCA2127E12FEAA127FA26C14187F001F14386D
1330000F14706C6C13E03903F001C03900FC0F8090383FFE00EB07F01D237EA122>I<15
3FEC0FFFA3EC007F81AEEB07F0EB3FFCEBFC0F3901F003BF3907E001FF48487E48487F81
48C7FCA25A127E12FEAA127E127FA27E6C6C5BA26C6C5B6C6C4813803A03F007BFFC3900
F81E3FEB3FFCD90FE0130026357DB32B>I<EB0FE0EB7FFCEBF83F3903F00F80D807E013
C0390FC007E0381F800315F0EA3F0014014814F8127EA212FEA2B6FCA248C8FCA5127E12
7FA26C1418A26C6C1338000F14306D13706C6C13E03901F003C03900FC0F00EB3FFEEB07
F01D237EA122>I<EB01FCEB07FF90381F078090383E0FC0EB7C1F13FCEA01F8A20003EB
070049C7FCACB512F0A3D803F0C7FCB3A7487E387FFFE0A31A357FB417>I<151F90391F
C07F809039FFF8E3C03901F07FC73907E03F033A0FC01F83809039800F8000001F80EB00
074880A66C5CEB800F000F5CEBC01F6C6C48C7FCEBF07C380EFFF8380C1FC0001CC9FCA3
121EA2121F380FFFFEECFFC06C14F06C14FC4880381F0001003EEB007F4880ED1F804814
0FA56C141F007C15006C143E6C5C390FC001F83903F007E0C6B51280D91FFCC7FC22337E
A126>I<EA03F012FFA312071203AEEC1FC0EC7FF09038F1E0FC9038F3807C9038F7007E
13FE497FA25BA25BB3486CEB7F80B538C7FFFCA326347EB32B>I<EA0780EA0FC0EA1FE0
A4EA0FC0EA0780C7FCAAEA07E012FFA3120F1207B3A6EA0FF0B5FCA310337EB215>I<EB
03C0EB07E0EB0FF0A4EB07E0EB03C090C7FCAAEB03F013FFA313071303B3B01238127C00
FE13E0130714C0130F007C138038381F00EA1FFCEA07F0144384B217>I<EA07E012FFA3
120F1207B3B3A7EA0FF0B5FCA310347EB315>108 D<2703F01FE013FF00FF90267FF803
13C0903BF1E07C0F03E0903BF3803E1C01F02807F7003F387FD803FE1470496D486C7EA2
495CA2495CB3486C496C487EB53BC7FFFE3FFFF0A33C217EA041>I<3903F01FC000FFEB
7FF09038F1E0FC9038F3807C3907F7007EEA03FE497FA25BA25BB3486CEB7F80B538C7FF
FCA326217EA02B>I<EB07F0EB3FFE9038FC1F803901F007C03903C001E000078048486C
7E48C7127CA248147E003E143E007E143FA300FE1580A8007E1500A36C147EA26C147C6D
13FC6C6C485A00075C3903F007E03900FC1F80D93FFEC7FCEB07F021237EA126>I<3903
F03F8000FFEBFFE09038F3C0F89038F7007ED807FE7F6C48EB1F804914C049130F16E0ED
07F0A3ED03F8A9150716F0A216E0150F16C06D131F6DEB3F80160001FF13FC9038F381F8
9038F1FFE0D9F07FC7FC91C8FCAA487EB512C0A325307EA02B>I<903807F00390383FFC
07EBFC0F3901F8038F3807E001000F14DF48486CB4FC497F123F90C77E5AA25A5AA9127F
A36C6C5B121F6D5B000F5B3907E003BF3903F0073F3800F81EEB3FF8EB0FE090C7FCAAED
7F8091380FFFFCA326307DA029>I<3803E07C38FFE1FF9038E38F809038E71FC0EA07EE
EA03ECA29038FC0F8049C7FCA35BB2487EB512E0A31A217FA01E>I<EBFF06000713CE38
1F00FE003C133E48131E140E5A1406A27EA200FE90C7FC6C7EEA7FFC383FFFC014F0000F
7F6C7FC67FEB0FFF1300EC3F8000C0131F140F6C1307A37E15006C5B6C130E6C5B38F780
7838E1FFE038C07F8019237EA11E>I<1330A51370A313F0A21201A212031207381FFFFE
B5FCA23803F000AF1403A814073801F806A23800FC0EEB7E1CEB1FF8EB07E0182F7FAD1E
>I<D803F0133F00FFEB0FFFA30007EB007F000380B35DA35D12016D4813800000903803
BFFC90387E073FEB1FFED907F8130026227EA02B>I<B5EBFFF0A3D80FF0EB3F800007EC
1F000003140E150C6D131C00011418A26C6C5BA26D1370017E1360137F6D5BA290381F81
80A214C3010F90C7FCA2EB07E6A214FE6D5AA26D5AA36D5AA2146024217E9F29>I<B538
01FFF8A32603FE0013806C48EB7C0000001478017E1370017F5B90383F81C090381F8380
D90FC3C7FCEB07E614FE6D5A6D5A6D7E80805B9038039F809038071FC09038060FE0EB0C
0790381C03F0496C7E01707FEBF000000180000FECFF8026FFFC0313FCA326207F9F29>
120 D<3A7FFF807FF8A33A07F8001FC00003EC0F800001EC070015066C6C5BA26D131C01
7E1318A26D5BA2EC8070011F1360ECC0E0010F5BA2903807E180A214F3010390C7FC14FB
EB01FEA26D5AA31478A21430A25CA214E05CA2495A1278D8FC03C8FCA21306130EEA701C
EA7838EA1FF0EA0FC025307F9F29>I<003FB512F0A2EB000F003C14E00038EB1FC00030
EB3F800070137F1500006013FE495A13035CC6485A495AA2495A495A49C7FC153013FE48
5A12035B48481370485A001F14604913E0485A387F000348130F90B5FCA21C207E9F22>
I E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fl cmr6 6 6
/Fl 6 55 df<13E01201120712FF12F91201B3A7487EB512C0A212217AA01E>49
D<EA01FC3807FF80381C0FC0383003E0386001F0EB00F812F86C13FCA2147C1278003013
FCC7FC14F8A2EB01F0EB03E014C0EB0780EB0F00131E13385B5B3801C00CEA0380380600
185A5A383FFFF85AB512F0A216217CA01E>I<13FF000313C0380F03E0381C00F014F800
3E13FC147CA2001E13FC120CC712F8A2EB01F0EB03E0EB0FC03801FF00A2380003E0EB00
F01478147C143E143F1230127812FCA2143E48137E0060137C003813F8381E03F0380FFF
C00001130018227DA01E>I<14E01301A213031307A2130D131D13391331136113E113C1
EA01811203EA07011206120C121C12181230127012E0B6FCA2380001E0A6EB03F0EB3FFF
A218227DA11E>I<00101330381E01F0381FFFE014C01480EBFE00EA1BF00018C7FCA513
FE381BFF80381F03C0381C01E0381800F014F8C71278A2147CA21230127812F8A2147848
13F8006013F0387001E01238381E07803807FF00EA01F816227CA01E>I<EB0FC0EB7FF0
3801F0383803C0183807803C380F007C121E001C1338003C1300A2127C1278EB7FC038F9
FFE038FB80F038FE0038143C48131EA248131FA41278A36C131EA2001C133C001E13386C
1370380781E03801FFC038007F0018227DA01E>I E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fm wncyr10 10.95 2
/Fm 2 63 df<157015F814014A5ADA0FE013304A4813F891383F800191397F0007F0D901
FEEB0FE0D903F8EB1FC04948EB7F804948EBFE0090393FC003FC4948485A4948485A4848
EB3FC0D807FC495A484849C7FC391FE003FE4848485A39FF801FF001005B01807F393FC0
07FC6C6C6C7E390FF800FF6C6C6D7ED801FE6D7E6C6CEB0FF06D6C6C7E6D6C6C7E90390F
E000FE6D6CEB7F806D6CEB1FC0D901FEEB0FE0D9007FEB07F091393F8001F891381FC000
6E6C1330DA03F013006E7E140015702D2B7DA838>60 D<147014F880147E00606D7E00F8
6D7E6C6D7E007F6D7E393F8003FC6C6CC67ED80FF0137FD803F86D7ED801FEEB1FE06C6C
6D7E6D6C6C7E90391FE003FC6D6C6CB4FC6D6C6C1380D903FEEB3FC06D6CEB1FE0903A00
7FC00FF8023F1307027F130F903A01FF001FE04948EB3FC0D907F8EBFF80494848130090
391FE003FC90397F8007F84948485A4848495AD803F8EB3F80D80FF049C7FCD81FC013FE
393F8003FC397F0007F000FC495A48495A0060495AC7007EC8FC5C5C14702D2B7AA838>
62 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fn cmti10 10.95 76
/Fn 76 124 df<DC0FF0EB0F80DC7FFEEB3FE0922601FC0FEBF878923B03F00381F03C92
3B07C007C3E07C923B0F801FC7E1FC031F013F13C318CFED3F001983069F13F8037E9039
0E1F80E005001400183F03FE92C7FC5DA3600201157E5DA318FE02035D0103B9FCA26190
290003F00001FCC7FC14074B5CA41703020F5D5DA31707021F5D5DA3170F023F5D92C7FC
A3171F4A5D147EA3173F02FE92C8FC5CA35F0101157E5CA35F495AA34C5A495AA2001E02
F05B007F9038C3F803010F5D00FF018713075F0207495AD8FE1F4948C9FCD8F81EEBC01E
3A703C03803C3A787801E0F83A1FF000FFE0D807C0EB3F80465383BF38>11
D<933807FF80043F13E09338FE00F8DB01F0133EDB07E0130E4B48131F4C137F031F14FF
4BC7FCA218FE157E1878180015FE5DA31401A25DA414030103B712F0A218E0903A0003F0
00070207140F4B14C0A3171F020F15805DA2173F1800141F5D5F177EA2143F92C712FE5F
A34A1301027EECF81CA3160302FEECF03C4A1538A21878187013014A010113F018E09338
00F1C0EF7F804948EC1F0094C7FCA35C1307A2001E5B127F130F00FF5BA249CAFC12FEEA
F81EEA703CEA7878EA1FF0EA07C0385383BF33>I<DC07FCEC7FF893273FFF8003B5FC93
3CFC03C00FE007C0923D03F001E03F0001F0DB07E0D9F07CEB007092260FC0074914F893
26800FF11403031FDAF3F01307A2DB3F00EBF7E006E715F09438038FC0037ED9000FEC03
C098C7FCA2181F03FE5D5DA2183FA2020193C9FC5DA349BB12805B1C0090260003F0C700
7EC7123F6306FE147E02075D5D1BFE631701020F5D4B160163A21703021F4B13034B5FA3
05071407023F4B5CA292C7FC1A0F050FEDC0E0605C027E171F1B811CC0171F02FE4B1483
4A1980A2053FEC0F8795C714004948EF078EF203FCF200F8057E92C7FC495AA2177C17FC
5CD81E0701785B007F9038E1FC0114C126FF0FC35C0283495A160727FE1F03F85BD8F81E
9038E00F8028703C01C01ECBFC3A787800F07CD81FF0EB7FF0D807C0EB1FC0555383BF50
>14 D<137C48B4FC38038F80EA0707000E13C0121E121CEA3C0F1238A2EA781F00701380
A2EAF03F140012005B137E13FE5BA212015BA212035B1438120713E0000F1378EBC070A2
14F0EB80E0A2EB81C01383148038078700EA03FEEA00F8152979A71C>16
D<123812FCA27EA2127FA2EA3F80121F120F13C01207EA03E0120113F0120013600C1166
BE2E>18 D<EB0380EB07C0130F131F133FEB7F0013FE485A485AEA07E0485A485A48C7FC
127C5A5A5A121162BE2E>I<023FEC3F80903B01FFC001FFE0903B07E1F007E0F8903B0F
80F80F807C903B3F00783E003C017ED97C7C131E49EB3CF84848EB3FF01203494A133E48
484A133C120F4C137C484816F8EF03F048489138000FE0EFFF8092397FFFFC00007F16C0
90C7007EC8FCA215FE5A485CA21401A25A14031818020715381878007C010F15F0EC1FBE
007ED93F3EEB03E0003ED93E1EEB07C06CD97C1FEB0F00903A01F00F803E3B0F83E007C0
F83B03FF8001FFE0D800FCC76CC7FC372977A741>27 D<D801E013F03907F803FC000F13
0701FC13FE001F130FA4000F13073903D801EC390018000CA20138131C01301318017013
380160133001E01370491360000114E039038001C001001380481303000EEB070048130E
485B485B485B4813601F1C70BE2F>34 D<EA01E0EA07F8120F13FC121FA4120FEA03D8EA
0018A2133813301370136013E013C01201EA038013005A120E5A5A5A5A5A0E1C6DBE1C>
39 D<ED01801507ED0F00151C5D5D5D14014A5A4A5A4AC7FC141E143E5C14785C130149
5AA2495A5C130F49C8FCA2133EA25BA213FC5B12015BA212035B1207A25B120FA25BA212
1FA290C9FCA25AA2123EA2127EA2127CA65AAB1278A67EA47EA2120E120F7EA26C7EA26C
7E6C7E1360215A73C325>I<14031580A2EC01C0EC00E0A21570A215781538153CA3151E
A4151FA2150FA7151FA9153FA2153EA3157EA2157CA215FCA215F8A21401A215F0A21403
15E0A2140715C0A2EC0F80A2141F15005C143EA25CA25CA2495A5C1303495A5C130F49C7
FC131E5B137C5B5B485A485A485A48C8FC121E5A12705A5A205A7FC325>I<EA01E0EA07
F8120FA2EA1FFCA4EA0FF8EA0798EA001813381330A21370136013E013C01201EA0380EA
07001206120E5A5A5A5A5A0E1C7A891C>44 D<387FFFFCA3B5FCA21605799521>I<120F
EA3FC0127FA212FFA31380EA7F00123C0A0A77891C>I<1838187CA218F8170118F0EF03
E0A2EF07C0A2EF0F80171F1800173EA25FA25F16015F4C5AA24C5AA24C5A161F94C7FC16
3EA25EA25E15015E4B5AA24B5AA24B5A151F93C8FC153EA25DA25D14015D4A5AA24A5AA2
4A5A141F92C9FC143EA25CA25C13015C495AA2495AA2495A131F91CAFC133EA25BA25B12
015B485AA2485AA2485A121F90CBFC123EA25AA25AA25A5A365B7FC32E>I<15FE913807
FF8091381F07C091387C01F0ECF000494813F8494813780107147C495A49C7FC167E133E
137EA25BA2485AA2000315FEA25B000715FCA2491301120FA34848EB03F8A44848EB07F0
A448C7EA0FE0A316C0007E141F12FE1680153FA2481500A2157EA25DA25D4813015D6C49
5A127C4A5A4A5A6C49C7FC143E6C5B380FC1F03803FFC0C648C8FC273F76BC2E>I<1503
1507150F151F151E153E157EEC01FEEC03FC1407141FEB01FF90380FFBF8EB1FC3EB0E07
130015F0A2140FA215E0A2141FA215C0A2143FA21580A2147FA21500A25CA25CA21301A2
5CA21303A25CA21307A25CA2130FA25CA2131FA25CEB7FE0B612F0A215E0203D77BC2E>
I<15FE913803FFC091380F01F091383C00F84A137C4A7F4948133F49487F4A148049C7FC
5BEB0E0C011E15C0EB1C0EEB3C06133813781370020E133FD9F00C148013E0141C021813
7F00011600EBC0384A13FEEC600102E05B3A00E3C003F89039FF0007F0013C495A90C748
5A5E037FC7FC15FC4A5A4A5AEC0FC04AC8FC147E14F8EB03E0495A011FC9FC133E491418
01F0143C48481438485A1678485A48C85A120E001E4A5AD83FE0130301FF495A397C3FF0
1FD8780FB55AD8700391C7FCD8F0015B486C6C5A6E5AEC07C02A3F79BC2E>I<ED7F8091
3803FFE091380F80F891383C007C02F87FD901E07F494814804948130F49C7FC010E15C0
131EEB1C18EB3C1CEB380C0178141F17801370A2021C133F6D4814004A5BD91FE0137ED9
0F805B90C8FC4B5A4B5A4B5AED1F8003FFC7FCECFFFC15F0A2EC00FC153E153F8182150F
82A4151FA2121E127F153F485DA3484AC7FC12F800E014FE5D14016C495A0070495A0078
EB0FC00038495A6C017EC8FC380F01F83803FFE0C690C9FC2A3F78BC2E>I<1638167E16
FE16FCA3150116F8A3150316F0A2150716E0A2ED0FC0A3ED1F80A216005DA2157EA2157C
15FC5D14015D14035D4A5AA24A5AA24AC7FC143EED038091387C0FC014F8ECF01F010114
80EB03E014C0903807803F010F1400EB1F00133E495B49137E485A485A484813FE48B46C
5A4813F04813FE267C00FF130800F090380FFFFC00601301C714E0913803F8005DA31407
5DA3140F5DA3141F5DA3020EC7FC274F7DBC2E>I<02C0EB018002F0130FD901FEEB7F00
91B512FE5E5E4914E016804BC7FCECBFF8D90780C8FC91C9FCA35B130EA3131E131CA313
3C9038381FC0ECFFF090383BE07C90387F003E017E133F017C7F0178805B498090C7FCA6
153FA4001F147F486C5C487EA24913FF00FF92C7FC90C7FC48495A12E04A5A5D6C495A14
0F00705C0078495A6C495A003E01FEC8FC381F03FC380FFFF0000313C0C648C9FC293F77
BC2E>I<ED0FE0ED7FF8913801F01C913807C00E91381F800F91383E00074A131F4A137F
494813FF1303495A494813FE131F4948137891C8FC5B13FEA2485AA212035B0007EB1FC0
EC7FF0390FF1E07C9038F3803EEBF700D81FFE7F4914805BED0FC0485A5B151F4914E012
7FA25BED3FC0A248C7FCA2157F16805AA215FF1600A24A5AA2485C007C495AA2007E495A
4A5A003E495A003F495A261F807EC7FC380FC1FC6CB45A6C13E0C66CC8FC283F76BC2E>
I<D9703FEB01C09138FF800301F3158001EFEBC00790B5EB0F0048151E14832603FE015B
01F8147C2607F0005B49EBE3F04848137F496D5A48C71201001E4A5A1507485D0038140F
007892C7FC00705C00F0143E5A5DC8FC5DA24A5AA214035D14074A5AA2141F5DA24AC8FC
A25C147E14FEA2495AA3495AA313075C130FA25C131FA35C133FA35C91C9FC131E2A3F73
BC2E>I<157F913801FFE0913807C0F091381F007C023C133C4A133E4A131F1301495A5C
1307A2495AA2163F011F143EA2167E6E137C16F8ECE00102F013F09138F803E09138FC07
C090390FFE0F00ECFFBE6D13F86D5B7F6D7F8101037F90380F9FFFD91F0F1380D97C0713
C0497E48486C13E03903E0007F4848133F4848131F001F140F90C7FC003E1407A2127E12
7CA200FC15C05AA2ED0F80A2ED1F00153E007C143C157C007E5C6CEB03F0391F8007C039
0FE03F802607FFFEC7FC000113F838003FC0283F78BC2E>I<15FF020713C091381F81E0
91383E00F002FC13F84948137C495A4948137E010F143E495A133F4A133F017F147F91C7
FC5BA2485AA216FF12035B16FE150112075B1503A216FC491307A20003140F16F8151F12
016D133F0000EC7FF015EF90387C01CF90393E079FE090380FFE1FD903F813C090C7123F
A21680157F160015FEA24A5A001C5C007F1303485C4A5A4A5A4A5A4849C7FC00F8137E00
E05B6C485A387C07E0383FFFC06C90C8FCEA03F8283F77BC2E>I<131EEB3F80137FEBFF
C05AA214806C13005B133C90C7FCB3120FEA3FC0127FA212FFA35B6CC7FC123C122777A6
1C>I<147F903801FFC090380780F090381E00784913380170133C49131C4848131E485A
120790C7FC120E121E121C003C143E0038143C0078147C1270007C14F8B41301EC03F014
07EC0FE048EB1FC0EC3F800078EBFF00C6485AEB03F8495AEB1FE0495A49C7FC13FE485A
485A13E0485A1470EB80F0000F5B1300495AEA0703495A019FC7FCEA03FCEA00F090C8FC
A8EA0780EA1FE0123FA2127FA35B6C5A001EC8FC1F416FC02E>63
D<171C173C177CA217FCA216011603A21607A24C7EA2161DA216391679167116E1A2ED01
C1A2ED038115071601150EA2031C7FA24B7EA25D15F05D4A5AA24A5AA24AC7FC5C140E5C
021FB6FC4A81A20270C7127FA25C13015C495AA249C8FCA2130E131E131C133C5B01F882
487ED807FEEC01FFB500E0017FEBFF80A25C39417BC044>65 D<49B712C018F818FE903B
0003FC0001FF9438007F804BEC3FC0A2F01FE014074B15F0180FA2140F5D181FA2021F16
E05D183F19C0023FED7F804B14FF19004D5A027F4A5A92C7EA07F0EF1FE0EF7F804AD903
FEC7FC92B512F017FE4AC7EA3F800101ED1FE04A6E7E17078401036F7E5CA30107825CA3
010F5E4A1407A260011F150F5C4D5A60013F153F4A4A5A4D5A017F4A90C7FC4C5A91C7EA
0FF849EC3FF0B812C094C8FC16F83C3E7BBD40>I<9339FF8001C0030F13E0033F9038F8
03809239FF807E07913A03FC001F0FDA0FF0EB071FDA1FC0ECBF00DA7F806DB4FC4AC77E
495AD903F86E5A495A130F4948157E4948157C495A13FF91C9FC4848167812035B120749
1670120FA2485A95C7FC485AA3127F5BA312FF5BA490CCFCA2170FA2170EA2171E171C17
3C173817786C16706D15F04C5A003F5E6D1403001F4B5A6D4AC8FC000F151E6C6C5C6C6C
14F86C6C495A6C6CEB07C090397FC03F8090261FFFFEC9FC010713F0010013803A4272BF
41>I<49B712C018F818FE903B0003FE0003FF9438007F804BEC1FC0F00FE0F007F01407
4BEC03F8F001FCA2140F4BEC00FEA3141F4B15FFA3143F5DA3027F5D5DA219FE14FF92C8
1203A34917FC4A1507A219F813034A150F19F0A20107EE1FE05CF03FC0A2010FEE7F804A
16006060011F4B5A4A4A5A4D5AA2013F4B5A4AEC3FC04DC7FC017F15FEEE03FC4AEB0FF0
01FFEC7FE0B8128004FCC8FC16E0403E7BBD45>I<49B812F8A390260003FEC7121F1807
4B14031801F000F014075DA3140F5D19E0A2141F4B1338A2EF7801023F027013C04B91C7
FCA217F0027F5CED80011603160F91B65AA3ED001F49EC07805CA3010392C8FC5CF00380
4C13070107020E14005C93C75A180E010F161E4A151C183CA2011F5E5C60A2013F15014A
4A5A1707017F150F4D5A4A147F01FF913807FF80B9FCA295C7FC3D3E7BBD3E>I<49B812
F0A390260003FEC7123F180F4B1403A2F001E014075DA3140F5D19C0A2141F5D1770EFF0
03023F02E013804B91C7FCA21601027F5CED8003A2160702FFEB1F8092B5FCA349D9003F
C8FC4A7F82A20103140E5CA2161E0107141C5CA293C9FC130F5CA3131F5CA3133F5CA213
7FA25C497EB612E0A33C3E7BBD3B>I<49B648B6FC495DA2D9000390C7000313004B5D4B
5DA2180714074B5DA2180F140F4B5DA2181F141F4B5DA2183F143F4B5DA2187F147F4B5D
A218FF91B8FC96C7FCA292C712015B4A5DA2170313034A5DA2170713074A5DA2170F130F
4A5DA2171F131F4A5DA2173F133F4A5DA2017F157FA24A5D496C4A7EB66CB67EA3483E7B
BD44>72 D<49B6FC5BA2D9000313005D5DA314075DA3140F5DA3141F5DA3143F5DA3147F
5DA314FF92C7FCA35B5CA313035CA313075CA3130F5CA3131F5CA3133F5CA2137FA25C49
7EB67EA3283E7BBD23>I<49B612C0A25FD9000390C8FC5D5DA314075DA3140F5DA3141F
5DA3143F5DA3147F5DA314FF92C9FCA35B5CA313035C18C0EF01E0010716C05C17031880
130F4A140718005F131F4A141EA2173E013F5D4A14FC1601017F4A5A16074A131F01FFEC
FFF0B8FCA25F333E7BBD39>76 D<49B5933807FFFC496062D90003F0FC00505ADBBF805E
1A771AEF1407033F923801CFE0A2F1039F020FEE071F020E606F6C140E1A3F021E161C02
1C04385BA2F1707F143C023804E090C7FCF001C0629126780FE0495A02705FF00700F00E
0114F002E0031C5BA2F03803010116704A6C6C5D18E019070103ED01C00280DA03805BA2
943807000F13070200020E5C5FDB03F8141F495D010E4B5CA24D133F131E011CDAF9C05C
EEFB80197F013C6DB4C7FC013895C8FC5E01784A5C13F8486C4A5CD807FE4C7EB500F049
48B512FE16E01500563E7BBD52>I<902601FFFE020FB5FC496D5CA2D900016D010013C0
4AEE3F00193E70141C193CEC07BFDB3FE01438151F1978020F7FDA0E0F15708219F0EC1E
07021C6D5CA203031401023C7FDA38015DA2701303EC7800027002805BA2047F130702F0
14C04A013F91C7FCA2715A0101141F4AECF00EA2040F131E010315F84A151C1607EFFC3C
0107140391C7143817FE040113784915FF010E16708218F0131E011C6F5AA2173F133C01
385E171F137813F8486C6F5AEA07FEB500F01407A295C8FC483E7BBD44>I<EEFFC00307
13F892383F80FE9238FC003FDA03F0EB0F804A486D7EDA1F80804AC76C7E027E6E7E4A81
494814004948811307495A4948157F133F5C49C9FC4917805B1201485AA212075B000F17
FFA25B121F190048485DA448484B5AA34D5AA25B4D5A12FF60171F60007F163F604D5AA2
4DC7FC5F003F15014C5A6D5D001F4B5A4C5A6C6C4A5A4C5A6C6C4AC8FC000315FC6C6C49
5A6C6CEB07E0017FEB1F8090261FC07EC9FC903807FFF801001380394273BF46>I<49B7
7E18F018FC903B0003FE0003FEEF00FF4BEC7F80F03FC00207151F19E05DA2020F16F0A2
5DA2141FF03FE05DA2023F16C0187F4B1580A2027FEDFF00604B495A4D5A02FF4A5A4D5A
92C7EA3FC04CB4C7FC4990B512FC17E04ACAFCA21303A25CA21307A25CA2130FA25CA213
1FA25CA2133FA25CA2137FA25C497EB67EA33C3E7BBD3E>I<EEFFC0030713F892383F80
FE9238FC003FDA03F06D7E4A486D7EDA1FC06D7E4AC76C7E027E814A6E7E495A01036F7E
495A495A494881133F4A81137F49C91380A2485A12035B000717FF5B120FA25B121F1900
48485DA448484B5AA36017075B6000FF160F60171F60127F4D5A60177F4DC7FC5F003F90
3803E00191390FF003FCDA3C185B3B1FC0700C07F002E0495A000F496C485A01E04A5AD8
07F14AC8FC0003018013FCD801F9EB07F8D800FD14E090397FC01F80903A1FE07E000390
3807FFFE0100018E5BDA000E1306030F130EA24B131E5FEE807CEEC1F816FF5FA25F5F81
94C8FC6F5AED01F8395273BF46>I<49B612FCEFFF8018F0903B0003FE000FF8EF03FE4B
EB00FF8419800207ED3FC05DA219E0140F5DA3021FED7FC05DA2F0FF80143F4B15004D5A
60027F4A5A4B495A4D5AEF3F8002FF02FEC7FC92380007F892B512E01780499038000FE0
4A6D7E707E707E0103814A130083A213075CA25E130F5C5F1603131F5CA3013F02071440
4A16E05F017F160119C04A01031303496C1680B6D8800113079438FE0F009338007E1ECA
EA3FFCEF07F03B407BBD42>I<92391FE00380ED7FFC913A01FFFE0700913907F01F8F91
390FC007DF4AC66CB4FC023E6D5A4A130014FC495A4948147CA2495AA2010F15785CA301
1F1570A46E91C7FCA2808014FE90380FFFE015FC6DEBFF8016E06D806D806D6C7F141F02
037FEC003FED07FF1501A281A282A212075A167E120EA2001E15FE5EA25E003E14015E00
3F14034B5A486C5C150F6D495A6D49C8FCD8F9F0137C39F8FE01F839F03FFFF0D8E00F13
C026C001FEC9FC314279BF33>I<48B9FCA25A903AFE001FF00101F89138E0007FD807E0
163E49013F141E5B48C75BA2001E147FA2001C4B131C123C003814FFA2007892C7FC1270
4A153C00F01738485CC716001403A25DA21407A25DA2140FA25DA2141FA25DA2143FA25D
A2147FA25DA214FFA292C9FCA25BA25CA21303A25CEB0FFE003FB67E5AA2383D71BC41>
I<001FB500F090B512F0485DA226003FF0C7380FFC004AEC03F04A5D715A017F1503A24A
5DA201FF150795C7FC91C8FCA2485E170E5BA20003161E171C5BA20007163C17385BA200
0F167817705BA2001F16F05F5BA2003F1501A2495DA2007F1503A2495DA2160794C8FC48
C8FC5E160E161E6C151C163C5E5E5E6C6C13014B5A001F4A5A6C6C011FC9FC6D133E6C6C
13F83903FC07F0C6B512C0013F90CAFCEB07F83C406FBD44>I<B500FE91387FFFE094B5
FC19C00003018091380FFC0049C8EA07F000015F606095C7FC170EA25F173C17386D5DA2
6C5E16015F4C5AA24CC8FC5E160E5E805E137F5E5EA24B5AA24B5A150793C9FCECC00EA2
013F5B153C15385DA25D14C15DECC38014E302E7CAFCEB1FEF14EE14FCA25CA25CA25C5C
130F5CA291CBFC130E3B406DBD44>I<91B690383FFFFC605E020101E0010F13006E49EB
07F84C6D5A19C06F6C495A96C7FC033F140E705B183C031F5C705B4D5A030F5C70485A4D
C8FC0307130EEEFC1E5F03035BEEFE705F6F6C5A5FA26F90C9FC83A2707EA216FF4B7F5D
ED079FEE1FF0150EED1C0F03387F1578EDF007DA01E07F15C09138038003DA07007F140E
021E13014A805C02707F4A81495A4948147F01078249C8FC013F6F7E496C147F2603FFC0
49487EB500F8011FEBFFE0A261463E7CBD44>88 D<010C1306011C130E0178133C01E013
70484813E04913C0000313013907000380000EEB0700000C1306001C130E0018130C0038
131C003013180070133800601330A200E0137000CFEB678039FFC07FE0A6018013C0397F
003F80003CEB1E001F1C69BE2F>92 D<1303130FEB1F80133FEB7FC0EBFBE0EA01F13803
E1F0380F80F8381F0078003E133C5A48131E00E0130E170E69BE2E>94
D<147E49B47E903907C1C38090391F80EFC090383F00FF017E137F4914804848133F485A
A248481400120F5B001F5C157E485AA215FE007F5C90C7FCA21401485C5AA21403EDF038
5AA21407EDE078020F1370127C021F13F0007E013F13E0003E137FECF3E1261F01E313C0
3A0F8781E3803A03FF00FF00D800FC133E252977A72E>97 D<EB1FC0EA0FFF5CA2EA003F
A291C7FCA25BA2137EA213FEA25BA21201A25BA21203A25B147E3907F1FF809038F783E0
9038EF01F013FE390FF800F8A24913FC49137C485A157E5B15FE123FA290C7FCA2481301
15FC127EA2140300FE14F85AA2EC07F0A215E048130F15C0141F15800078EB3F00127C14
7E003C5B383E01F8381E03E06C485A6CB4C7FCEA01F81F4076BE2A>I<EC1FC0ECFFF090
3803F03C903807C01E90381F800E90383F000F017E133F4913FF485A485A000714FE5B00
0F14FC48481300A2485AA3127F90C8FCA35A5AA6481403007E1407150F151E003E143C15
786C14F0EC03E0390F800F803903E07E003801FFF838003FC0202977A72A>I<EE3F80ED
1FFF1700A2ED007FA2167EA216FEA25EA21501A25EA21503A25EA21507A25E147E903801
FF8F903807C1CF90391F80EFC090383F00FF017E137F5B48486D5A485AA2485A000F92C7
FC5B001F5CA24848137EA215FE127F90C75AA214015A485CA2140316384814F0A2140716
7891380FE070127C021F13F0007E013F5B003E137FECF3E1261F01E35B3A0F8781E38027
03FF00FFC7FCD800FC133E294077BE2E>I<EC3F80903801FFE0903807E0F890381F803C
EB3E0001FC131E485A485A12074848133E49133C121F4848137C15F8EC03F0397F000FE0
ECFF809038FFFC00B512C048C8FCA45AA61506150E151E007C143C15786C14F0EC01E06C
EB07C0390F801F003807C0FC3801FFF038007F801F2976A72A>I<167C4BB4FC923807C7
8092380F83C0ED1F87161FED3F3FA2157EA21780EE0E004BC7FCA414015DA414035DA301
03B512F8A390260007E0C7FCA3140F5DA5141F5DA4143F92C8FCA45C147EA414FE5CA413
015CA4495AA4495AA4495A121E127F5C12FF49C9FCA2EAFE1EEAF83C1270EA7878EA3FE0
EA0F802A5383BF1C>I<EC03F0EC0FFC91383E0E1C9138FC077E903901F003FE13039038
07E001D90FC013FCEB1F80A2EB3F004914F8137E01FE1303A2484814F0A2150712034914
E0A2150F12074914C0A2151FA216805B153F1203ED7F006D5BA200015B0000495A9038F8
0F7E90387C1EFEEB1FF8903807E0FC90C7FC1401A25DA21403A25D001C1307007F5C4813
0F5D4A5A4AC7FC48137E00F85B387C03F0381FFFC0D803FEC8FC273B7CA72A>I<EB01FC
13FF5CA21303A25CA21307A25CA2130FA25CA2131FA25CA2133FA291C8FCEC03F890387F
0FFE91383E0F80D97E7813C0ECE007D9FFC013E014801400A2485A5BA25B0003140F16C0
5BA20007141F16805BA2000F143F16005B5D001F147EEDFE074913FCA2003F0101130FED
F80E1300161E48ECF01CA2007E1538A200FE1570020013E048EC7FC00038EC1F0028407A
BE2E>I<1478EB01FCA21303A314F8EB00E01400AD137C48B4FC38038F80EA0707000E13
C0121E121CEA3C0F1238A2EA781F00701380A2EAF03F140012005B137E13FE5BA212015B
A212035B1438120713E0000F1378EBC070A214F0EB80E0A2EB81C01383148038078700EA
03FEEA00F8163E79BC1C>I<1507ED1FC0A2153FA31680ED0E0092C7FCADEC07C0EC3FF0
EC78F8ECE07CEB01C01303EC807EEB0700A2010E13FE5D131E131CEB3C01A201005BA214
03A25DA21407A25DA2140FA25DA2141FA25DA2143FA292C7FCA25CA2147EA214FEA25CA2
13015CA2121C387F03F012FF495A5C495A4848C8FCEAF83EEA707CEA3FF0EA0FC0225083
BC1C>I<EB01FC13FF5CA21303A25CA21307A25CA2130FA25CA2131FA25CA2133FA291C8
FCED03E049EB0FF8ED3C3C017EEB707CEDE1FC9038FE01C1EC03839038FC0703140E0001
011C13F891383800E0494813001460000313E0EBF9C0EBF78001FEC8FC1207EBFFE0EBE7
F8EBE0FE000F137F6E7EEBC01F81001F130F16701380A2003F15F0021F13E001001380A2
48148116C0007EEB0F83168000FE14879138078F0048EB03FE0038EB00F826407ABE2A>
I<EB07F0EA03FF14E0A2EA000FA214C0A2131FA21480A2133FA21400A25BA2137EA213FE
A25BA21201A25BA21203A25BA21207A25BA2120FA25BA2121FA25BA2123FA290C7FCA25A
1307127EA2EAFE0F130E12FCA2131E131CA2EA7C381378EA3C70EA1FE0EA0780144079BE
17>I<D801F0D93F80137F3D07FC01FFE003FFC03D0F3E07C1F80F83F03D0E1F0F00FC1E
01F8001E011C90387C3800001C49D97E707F003C01F05C0038157F4A5C26783FC05C1270
4A91C7FC91C7127E00F003FE1301494A5CEA007EA20301140301FE5F495CA20303140700
0160495C180F03075D0003051F13E0494A1480A2030FEC3F810007F001C0495CA2031F91
383E0380120F494AEC0700A2033F150E001FEF1E1C4991C7EA0FF80007C7000EEC03E043
2979A74A>I<D801F0EB3F803A07FC01FFE03A0F3E07C1F83A0E1F0F00FC001E011C137C
001C49137E003C13F012385C38783FC012705C91C7FC00F015FE495CEA007EA2150101FE
5C5BA2150300015D5B15075E0003020F13704914C0A2031F13F00007ED80E05B1681EE01
C0120F49EC0380A2EE0700001FEC0F0E49EB07FC0007C7EA01F02C2979A733>I<EC1FC0
ECFFF8903803F07C90380FC01FEB1F8090393F000F80017E14C0491307484814E0485A12
075B000F15F0485AA2485AA2ED0FE0127F90C7FCA2151F4815C05AA2ED3F80A2ED7F00A2
48147E007C5C007E13015D4A5A003E495A6C495A4A5A260F803EC7FC3807C0FC3801FFF0
38003F80242977A72E>I<903903E001F890390FF807FE903A1E7C1E0F80903A1C3E3C07
C0013C137801389038E003E0EB783F017001C013F0ED80019038F07F0001E015F8147E16
03000113FEA2C75AA20101140717F05CA20103140F17E05CA20107EC1FC0A24A1480163F
010F15005E167E5E131F4B5A6E485A4B5A90393FB80F80DA9C1FC7FCEC0FFCEC03E049C9
FCA2137EA213FEA25BA21201A25BA21203A2387FFFE0B5FCA22D3A80A72E>I<027E1360
903901FF81E0903807C1C390391F80E7C090383F00F7017E137F5B4848EB3F80485AA248
5A000F15005B121F5D4848137EA3007F14FE90C75AA3481301485CA31403485CA314074A
5A127C141F007E133F003E495A14FF381F01EF380F879F3903FF1F80EA00FC1300143F92
C7FCA35C147EA314FE5CA21301130390B512F05AA2233A77A72A>I<D801F013FC3A07FC
07FF803A0F3E0F03C0260E1F1C13E0001EEB380F001C1370003CEBE01F123814C0D8783F
14C00070903880070092C7FC91C8FC12F05BEA007EA313FE5BA312015BA312035BA31207
5BA3120F5BA3121F5B0007C9FC232979A726>I<EC7F80903801FFE0903807C0F890381F
003C013E131C013C131E017C133E49137E15FEA2000114FCA215706D13007FEBFFC014FC
6C13FF15806D13C06D13E0010F13F01300140F14071403120C123F387F80011403D8FF00
13E0A300FCEB07C000F0EB0F8012700078EB1F006C133C381F01F83807FFE0C690C7FC1F
297AA725>I<EB01C0EB03F01307A25CA2130FA25CA2131FA25CA2133FA291C7FCA2007F
B51280B6FC1500D8007EC7FC13FEA25BA21201A25BA21203A25BA21207A25BA2120FA25B
A2121F141C1380A2003F133C1438EB0078147014F05C495AEA1F03495A6C48C7FCEA07FC
EA01F0193A78B81E>I<137C48B4141C26038F80137EEA0707000E7F001E15FE121CD83C
0F5C12381501EA781F007001805BA2D8F03F1303140000005D5B017E1307A201FE5C5B15
0F1201495CA2151F0003EDC1C0491481A2153F1683EE0380A2ED7F07000102FF13005C01
F8EBDF0F00009038079F0E90397C0F0F1C90391FFC07F8903907F001F02A2979A731>I<
017CEB01C048B4EB07F038038F80EA0707000E01C013F8121E001C1403EA3C0F0038EC01
F0A2D8781F130000705BA2EAF03F91C712E012005B017E130116C013FE5B150300011580
5BA2ED07001203495B150EA25DA25D1578000114706D5B0000495A6D485AD97E0FC7FCEB
1FFEEB03F0252979A72A>I<017C167048B491387001FC3A038F8001F8EA0707000E01C0
15FE001E1403001CEDF000EA3C0F0038177C1507D8781F4A133C00701380A2D8F03F130F
020049133812005B017E011F14784C137013FE5B033F14F0000192C712E05BA217010003
4A14C049137E17031880A2EF070015FE170E00010101141E01F86D131C0000D9039F5BD9
FC076D5A903A3E0F07C1E0903A1FFC03FFC0902703F0007FC7FC372979A73C>I<903903
F001F890390FFC07FE90393C1E0E0F9026780F1C138001F0EBB83FD801E013F89039C007
F07FEA0380000714E0D9000F140048151C000E4AC7FCA2001E131FA2C75BA2143F92C8FC
A35C147EA314FE4A131CA30101143C001E1538003F491378D87F811470018314F000FF5D
9039077801C039FE0F7C033A7C0E3C078027783C1E1EC7FC391FF80FFC3907E003F02929
7CA72A>I<137C48B4143826038F8013FCEA0707000E7F001E1401001C15F8EA3C0F1238
1503D8781F14F000701380A2D8F03F1307020013E012005B017E130F16C013FE5B151F12
01491480A2153F000315005BA25D157EA315FE5D00011301EBF8030000130790387C1FF8
EB3FF9EB07E1EB00035DA21407000E5CEA3F80007F495AA24A5AD8FF0090C7FC143E007C
137E00705B387801F0383803E0381E0FC06CB4C8FCEA03F8263B79A72C>I<D901F01370
D907FC13F0010F14E090381FFE0190393FFF03C049EB838090387C0FCF9039F803FF0090
38F0007E49133C000114386C48137890C75A4A5A4A5A4A5A4AC7FC141E5C5C5C495A495A
495A49C8FC131E4913075B5B48485B4848131E485A01F05BD80FFE137C391F1F81F8383E
0FFFD83C075B486C5B00705CD8F00190C7FC38E0007C24297BA725>I<B8FCA228027898
2E>I E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fo cmitt10 10.95 72
/Fo 72 123 df<14E0EB07F0EB3FF813FF1207003F13F04813E0B51280EBFC0013E01380
007CC7FC150C63B730>19 D<EB01E0EB03F0EB07F8130FA4EB1FF0A4EB3FE0A314C0A213
7FA21480A3EBFF00A4485AA45B1203A25BA21207A25BA36C5AC8FCA8121E123F487E12FF
A36CC7FCA2123C15396CB830>33 D<486C13603907C001F0390FE003F801F013FC140700
1F14F813E0A39038C00FF0123FA2018013E0A2141F007F14C01300A3007EEB3F8012FEA2
481400A348133E0078131E002013081E1C6CB830>I<02781478D901FE147C496C14FE49
140149138049EC03FC02DF1307D93F9F14F8021FEB0FF0017F141F017E15E0EE3FC0143F
01FE9038007F8001FC14FF4A14009138FE01FE01FE1303D9FFFC5B017F495A14F86D4848
5A90381FE01FD90F805B90C7485A157F5E4BC7FCA24A5A14035D4A5A140F5D4A5AA24A5A
147F5D4AC8FC5B5C495AA2495A010FEB03E09138F00FF04948487E013F497E14C090387F
807F4B7E9039FF00FE7E48EB01FC01FE13F8D803FC14FE000701035B01F813F0EA0FF015
F1D81FE05C003F14F301C05CD87F8013F700FFECFFE01300486D5B5E007C6D90C7FC0078
147C2F4779BE30>37 D<130FEB3FC014E0137F14F0A3133F131F130714E0A3130F14C013
1FEB3F80A2EB7F0013FE1201EA07FC485AEA3FF0485A485A6CC7FC127E1238141D69B730
>39 D<150FED3F80157FEC01FF4A1300EC0FFC4A5AEC3FE04A5A4A5A4990C7FCEB03FC49
5A495A131F5C495A495A49C8FC5B1201485AA2485A5B120F5B121F5BA2123F5BA2127F90
C9FCA35A5AB0127FA36C7EA26C7EA26C7E7F12076C7E7F6CB4FC7E6D7E6DC8FC130F2147
6BBE30>I<147814FC14FF816E7E143F6E7E6E7E6E7E14038114016E7EA3157FA3811680
AD157F1600A35D5DA314015D14035D14075D140F5D141F5D143F4A5A92C7FC5C495A495A
495A130F495A495A495A495A4890C8FCEA07FE485AEA3FF0485A485A90C9FC12FC127821
4779BE30>I<EC03C04A7E140FA34A5AA3D803C0EB803CD807E014FE390FF83F8101FC13
8701FEEB1FFC9038FFBF7F6C90B512F0000115C06C1500013F13FC6D13F0010713C0011F
7F017F13F848B512FE000780003F15C0267FFDFB13E038FFF3F99038C3F87F903903F03F
C000FC141FD87807EB0700000091C7FCA2495AA45C6DC8FC272775AE30>I<EC01E01403
4A7EA3140FA25DA2141FA25DA2143FA25DA2007FB612FE82B81280A36C16005EC748C8FC
1301A25CA21303A25CA21307A25CA45C6D5A292976AF30>I<133EEBFF805A4813C014E0
5AA37EA26C13C07E131FEB3F80A2EB7F005BEA03FEEA0FFCEA3FF8B45A5B1380007EC7FC
12381319728B30>I<007FB612E016F0B712F8A36C15F016E02507749E30>I<EA07C0EA1F
E0EA3FF0127F13F8A212FF13F0127F13E0EA3FC0EA1F000D0C6D8B30>I<EF01E018F0EF
03F81707170F18F0171FEF3FE0EF7FC0188017FF4C13005F4C5A16074C5A5F161F4C5A5F
4C5A16FF4B90C7FC5E15034B5A5E4B5A151F4B5A5E157F4B5A93C8FC4A5A14034A5A5D14
0F4A5A4A5A5D147F4A5A92C9FC495A1303495A5C130F495A5C495A137F495A91CAFC5A48
5A5B485A120F485A5B123F485A5B48CBFCA25A127C127835477CBE30>I<15FE913807FF
C0021F7F4A7F91B57E4980903803FE07903907F803FE90380FF00149486C7E49487F495A
91C7EA3F8013FE485AA2485A485AA2485AA25B121FA2485AA348C8EA7F00A44815FE5AA2
4B5AA24B5AA215075E150F5E4B5A153F6C5D4BC7FC6C5C6D485A4A5A6C6C485A6D485A39
1FF07FE090B55A6C5C6C49C8FC6C5B6C13F038003F80293A76B830>I<151C153E157F15
FF15FE140114031407EC0FFC143F14FF131F4913F8A25BEB3FE790381F87F0EB0007140F
A215E0A2141FA215C0A2143FA21580A2147FA21500A25CA25CA21301A25CA21303A25CA2
1307A25CA2130F007FB512F8B612FC15FEA215FC6C14F8203976B830>I<ED3FE0913801
FFFC020F13FF4A14C0027F14E091B612F0499038E03FF849EB000FD907FCEB03FC494813
01494814FE494813005C494814FF91C8127F5B5BA217FF4915FE90C9FC1601A2EE03FC16
07EE0FF8EE1FF0167FEEFFE0030313C0030F138092383FFE004AB45A020713F0021F5B02
7F1380494848C7FC4913F8010F13C04990C8FCD93FFC147ED97FF0147FD9FFC014FF4849
14FE4848C8FC484814014848EC03FC13FF4801F0EB07F802FE131F489039FFE07FF092B5
12E04816C001831580D9007F140048010F13FC007E01015B007C9038003FC0303A7CB830
>I<EDFFE0020713FC023F13FF91B612804915C0010715E0499038C07FF090391FFC000F
02F0EB07F8494813034A14FC495A91C71201A26D140390C813F8A2160717F0160FEE1FE0
163FEEFFC003031380031F130091387FFFFE91B55A16F016C0826E7F9138001FF815076F
7E1501821500A4121C127F15015A5E1503484A5A150F4B5A6CEC7FE06C6C48485AD9E01F
5B6CB6C7FC6C14FC6C5C6C14E0000191C8FC38003FF02E3A79B830>I<0103B612E04915
F0A25BA217E002E0C8FC131F5CA3133F5CA3137F91C9FCA35B9038FE1FF891B5FC90B67E
488182829138F01FF848EB800749486C7E491301D801F0806C48130090C8FCA515010008
5D123E127F1503484A5AA24B5A484A5A153F6C4A5A6C49485AD9800790C7FC9038E03FFE
6CB55A6C14F06C5C6C1480000149C8FC38003FE02C3978B730>53
D<90267C07F0EB03E09026FE7FFC130790B56CEB0FF0486EEB3FE0177F48923883FFC093
B5128048D9F83F1400ECC00F48D900075BD81FFC6D5B4901005B4848140F495D48484A5A
494A5A48C8FC484B5A4CC7FC5AC8485A5E15034B5AA24B5A5E151F5E153F5E157F93C8FC
5D5D14015D14035D14075DA2140F5DA2141F5D143F5DA3147F92C9FCA3147EA2143C343A
77B830>55 D<ED7FC0913807FFFC021F7F027FEBFF8049B612C04915E0491300D90FF8EB
3FF04948130FD93FC0EB07F8495A91C712035B5BA24848EC07F0A2EE0FE07F0000ED1FC0
6DEC3F806D6CEBFF009138C003FE90393FF81FFC6DB512F0010714C0010149C7FC497F01
1F14C049809039FFC01FF03A01FE0007F8D807F86D7E48481301484880491300485A48C8
FCA212FEA315015E15035E15076C4A5A6D495A007FEC7FC09039E001FF80263FF80790C7
FC90B55A6C5C6C14F0000314C0C691C8FCEB1FF02D3A78B830>I<EDFFC0020713F0021F
13FC027F7F91B6FC01031580491380903A0FFE003FC0D91FF8131FD93FE014E04948130F
495A91C7FC4848EC07F0A2485A5BA3120749140FA217E0161F163FA26D147F0003EDFFC0
6D13036D5B6C6C133F6C90B61280A27F6D9038FE7F00010F13F80103EBC0FF9039001000
FEEC00014B5A5E15074B5A151F001C4A5A007F4A5A4B5A484990C7FC4A5AEC0FFC48EB3F
F86C6CB45A90B55A6C14806C91C8FC6C13FC6C13F0000113802C3A78B830>I<130FEB3F
C0EB7FE013FFA25AA314C07EEB7F80EB3E0090C7FCAFEA07C0EA1FE0487E127F7FA212FF
5B127F5B6C5A6CC7FC13276DA630>I<160FEE1F80EE7FC0ED01FF15074B1380033F1300
EDFFFE020313F84A13E0021F1380027F90C7FC903801FFFC4913F0010F13C0013F5BD9FF
FEC8FC4813F8000713E0001F5B007F90C9FC13FCEAFFF05B5BEA7FF07FEA1FFC6C7E6C6C
7E6C7FC67F6D7EEB3FFC6D7EEB07FF6D7F6D13E06D7FEC3FF86E7E6E7E6E7E140180157E
153C2A2F74B230>60 D<0007B712E04816F017F8A317F06C16E0CBFCA7003FB7FC5AB812
80A36C16007E2D1578A530>I<131EEB1F80497E8080EB1FFC80EB07FF6D7F6D13E06D7F
EC3FF86E7E6EB4FC6E7F02017F6E7FED7FF86F7EED0FFE6F7E6F13806F13C0A215074B13
80033F1300EDFFFE020313F84A13E0021F1380027F90C7FC903801FFFC4913F0010F13C0
013F5BD9FFFEC8FC4813F8000713E0001F5B007F90C9FC13FCEAFFF05B1380007ECAFC12
782A2F79B230>I<ECFF80010F13F0013F13FC90B57E0003804815804813803A1FFC003F
C0D83FF0131FEA7FC05B48C7FCA3153F48EC7F8015FF0038491300C71207EC1FFE4A5AEC
FFF801035B010F13C04990C7FCEB7FFC5CEBFFE0481380EBFE1F01FC7F0003133FEBF87F
EBF9FF90B5C7FC7E5C6C13F8EB7FE06DC8FC90C9FCA8EA01E0487E487E120FA36C5AA2EA
03C0223970B830>I<ED01FC4B7E1507A2150FA2151FA2ED3F7EA2157EA215FEEDFCFE14
01A215F8140315F0140715E0140FA2EC1FC05EEC3F801581EC7F01A214FEA2130114FCA2
EB03F8A249B5FCA25BA25BA290383F8001A2137F14005B5B12015BA2D83FFF90383FFF80
486D4813C0B512C0A26C13806C496C13802A397DB830>65 D<0103B67E4915F04981836D
817F903A007F8003FF92C7FCEF7F805CA24A143FA21301EF7F005CA2010315FE16014A5C
4C5A0107EC0FF0161F4AEBFFC091B65A494AC7FC16F816FE707E49819138E0003F4A6D7E
707E013F1407A25CA2137FA291C7FCA25B4C5A5B4C5A0001153F4C5A4914FF030390C7FC
0003EC0FFE007FB65AB75A16E05E93C8FC6C14F831387DB730>I<92387F803C913903FF
E07C020FEBF8FE023F13FC91B612FC5B4913C049EB007FD90FFCEB3FF8D91FF0131F495A
495A4948EB0FF091C7FC485A12034915E0485AA2484815C0491407001F92C7FC5BA2123F
5BA2127F90CAFCA35A5AA6ED01F04B7EA315076C5D150F6C5D6D131F4B5A6C6C495A6D13
FF261FF00390C7FC390FFC0FFE90B55A6C14F06C5C6C14806C6C48C8FCEB0FF02F3A76B8
30>I<0103B712F84916FCA47F903B003FC00003F85DA2027F140718F092C7FCA25CEF03
E04A91C7FCA21301A24A133C167E010314FFA24A5B91B5FC5BA25EA25BECF00302E05BA2
131F6F5A4AC9FCA2133FA25C1778017F15FC160191C7FCA2491403A2495DA20001150700
3FB7FC485EB8FCA26C5E6C5E36387EB730>69 D<0103B712F84916FCA47F903B003FC000
03F85DA2027F140718F092C7FCA25CEF03E04A91C7FCA21301A25C163C0103147E16FE5C
A249B5FCA25EA25BA29138E003F8A2131F5E4A6C5A92C9FC133FA25CA2137FA291CAFCA2
5BA25BA21201383FFFF8487FB5FCA27E6C5B36387DB730>I<03FF13F0020713C1021FEB
E3F8027F13FB91B612F05B4913814948C6FCD90FF8EB7FE0495A495A4948133F494814C0
91C7FC485A485A1780485A5B000F16004980001F92C7FC5BA2123F5BA2127F90CAFCA348
ECFFFE48497F4A1480A26E14006E5BED07F0150F5E151FA2153F5E6C147F7E15FF6D485B
003F5B6D5A6C6C5AD9F83F90C7FC6CB6FC7E6C806CEBFE7E6CEBF83ED91FC0C8FC2D3A77
B830>I<902603FFFC90B5FC496D481480495CA26D806D496C14009026007F80EB1FC092
C7FCA24A143F605CA20101157F95C7FC5CA201035D5F5CA2010714015F5C91B6FC5B5FA3
5B9139E00007F05CA2013F140F5F5CA2017F141F5F91C7FCA249143F5F5BA20001157F94
C8FC5BA200035D277FFF801F13E0B56C487F02E080A202C05C6C496C5B39387EB730>I<
0103B612F84915FC17FEA217FC6D15F890C7387F800093C7FCA25DA25DA21401A25DA214
03A25DA21407A25DA2140FA25DA2141FA25DA2143FA25DA2147FA292C8FCA25CA25CA213
01A25CA21303003FB67E4881B7FCA27E6C5D2F3879B730>I<0103B57E49804980A26D5C
6D5C9026003FC0C7FC5DA2147FA292C8FCA25CA25CA21301A25CA21303A25CA21307A25C
A2130FA25CA2131FA25CA2133FA25CEE01E0017FEC03F0160791C7FCA249140F17E05BA2
0001151F007FB712C0B8FCA317806C16002C387DB730>76 D<902603FFC0EB07FF496D49
1380495D5F6D5D6D17000100EDFFE002FD14F7EDF001010115EF04035B14F9EE07CF0103
EC0FDF02FBEC9F8002F3131F171F0107EC3F3F043E90C7FC02E3137E167C010FECFC7FEE
F87EECC1F116F0011F01F313FE4C5AEC81F716C0013F148103FF5B02011301A2017FEBFE
035F90387E00FC157001FEEB00075F5BA20001150F5F5BA20003151F5F5BA20007153FD8
7FFC903803FFE0486C497F6D81A2495D6C486D5B39387EB730>I<903B03FFE001FFFC49
6D4813FE495CA26D806D6E13FC903B007FF8003F00147EA202FE5C177E14FCA2010115FE
5F14F8A20103EBFC015F14F0A2010714035F14E0A2010FEB7C075F14C0A2011F140F5FEC
807EA2013F141F5F1400A249143F94C7FC017E133EA201FE5C167E5BA2000115FE5E5BA2
0003143FD87FFF6D5AB5128014C0A202805B6C496C5A37387DB730>I<0103B612C04915
F88317FF18807F9027003FC00313C0923880007FEF3FE0027F141FA292C7120FA25CA25C
A21301EF1FC05C173F01031680EF7F004A5C4C5A0107EC07FC160F4AEB7FF891B65A4915
C05F4CC7FC16F84914C002E0C9FC5CA2133FA25CA2137FA291CAFCA25BA25BA21201383F
FFE0487FB5FCA27E6C5B33387EB730>80 D<0103B512FC49ECFF804915E017F06D15F86D
15FC9039007F801F92380007FE16034A130116004A14FFA2010115FEA25CA20103EC01FC
A24A1303EE07F80107EC0FF0161F4AEB7FE0923803FFC049B61280EEFE005E16F0498082
9138C003FE1501013F6D7E825CA2137F5E91C75AA2491301A2495C173C0001167E030313
FE4914F8A2000315F9267FFF80EBFBFCB500C013FF6E6C13F817F04A6C13E06C49EB7FC0
C9EA1F0030397EB730>82 D<0007B712F84816FC5AA35A903AC00FF003F8018013E0A200
7F011F130717F0010013C0A2143F003EED03E0C749C7FCA2147FA292C8FCA25CA25CA213
01A25CA21303A25CA21307A25CA2130FA25CA2131FA25CA2133FA25CA2137F383FFFFE48
7FB6FCA27E6C5B2E3874B730>84 D<260FFFF890B51280486D4814C002FE15E0A202FC15
C06C496C1480C690C7380FE0005BA20001151F5F5BA20003153F5F5BA20007157F94C7FC
5BA2000F5D5E5BA2001F14015E5BA2003F14035E5BA2007F1407A290C75BA2150F485D5A
151F5E153F5E157F4BC8FC007F5B4A5A6D485A393FC01FF89038E07FF06CB55A6C5C6C5C
6C49C9FCC613F8EB3FC0333976B730>I<027FB5FC91B61280A35B170002FCC8FCA21303
5CA313075CA3130F5CA3131F5CA3133F5CA3137F91C9FCA35B5BA312015BA312035BA312
075BA3120F5BA3121F5BA3123F5BA3127F90CAFCA35AEBFFFE8081A292C8FC6C5B29476E
BE30>91 D<1278127C12FEA37EA27EA37FA2123FA37FA2121FA27FA2120FA37FA21207A2
7FA21203A37FA21201A27FA21200A37FA27FA21480A2133FA314C0A2131FA314E0A2130F
A214F0A21307A314F8A21303A2EB01F014E015476CBE30>I<027FB5FC91B61280A48091
C7EA7F00A25EA25EA21501A25EA21503A25EA21507A25EA2150FA25EA2151FA25EA2153F
A25EA2157FA293C7FCA25DA25DA21401A25DA21403A25DA21407A25DA2140FA25DA2141F
A25DA2143F007FB5FCB65AA392C8FC6C5B29477EBE30>I<EB01C0EB07F0EB1FF8EB7FFE
48B5FC000714C0001F14E0393FFE7FF8387FFC3F39FFF00FFCEBC007397F0001F8003CEB
00F0001014601E0E6CB730>I<007FB612E0B712F016F8A316F06C15E025077C7D30>I<14
FE903803FF80010F13C749EBFF804914C05BEBFFC7480103138048487E13FCEA07F84848
6C13005B121F5B003F5C5B1401127F01005BA214035A485C0207137016FC15F9EC0FF114
1FA2EC3FF36C90387FE3F86C13FF018113E7D83F87EBF7F090B6FC6C15E014F36C01C313
C00003018013803A00FC007E00262975A730>97 D<EA7FFEB5FCA47EC6FC5BA21201A25B
A21203A25B147F3907F9FFC090B512F081815AECC1FE1400497F48487F5B5BED3F80485A
5BA25B007F147F160090C7FCA25D485C5A14015D14035D14074A5A7E6C495A4A5AEB80FF
D83FC35B90B5C7FC6C5B6C13F86C5B6C13C0C690C8FC213974B730>I<EC1FE0ECFFF801
0313FE497F131F49148090387FF07F9039FFC03FC0481300485A4848EB7F805B4848133F
48481400150C484890C7FC5BA2127F90C9FCA35A5AA57E7E15076DEB0F80003FEC1FC06D
EB7FE03A1FF007FFC090B6FC6C15806CECFE006C5CC614E0013F90C7FC232974A730>I<
EDFFF84A13FCA480150316F8A21507A216F0A2150FA216E014FE903803FF9F010F13DF49
EBFFC05B5BEBFFC7480103138048487E13FCEA07F848486C13005B121F5B003F5C5B1401
127F01005BA214035A485C0207137016FC15F9EC0FF1141FA2EC3FF36C90387FE3F86C13
FF018113E7D83F87EBF7F090B6FC6C15E014F36C01C313C00003018013803A00FC007E00
263975B730>I<EC1FE0ECFFF8010313FE010F7F4914805B90397FF07FC09038FFC01F48
1300485A485A5B485A4848133FED7F80393FC001FFD9803F130090B55A485C5D15E092C7
FCB512F048C9FCA57E7E15076DEB0F80003FEC1FC06DEB7FE03A1FF007FFC090B6FC6C15
806CECFE006C5CC614E0013F90C7FC232974A730>I<16FF030313C0030F13E04B13F017
F85D1683ED7F871607A2EE03F09238FF01E04BC7FCA414015D0103B6FC491580A46D1500
90260003F8C7FCA314075DA5140F5DA4141FA25DA4143F5DA5147F92C8FCA45C5CA31301
A25CA21303A25C123CEA7E0700FF5B130F5CEAFE1FB55A5C6C90C9FC6C5A6C5AEA07F02D
4E7BB830>I<EC01FCEC07FF021F13C7027FEBFF8091B612C05B491307902607FC031380
49487E14F0EB1FE0D93FC0140081495A91C7FC495C5B15011201495CA215031203495C15
07A2150F4B5A7F0001143F157F4B5A6C6C5AEBFF076DB5FC5E7F7F0107133FD901FC5B90
C7FC157FA293C7FCA25DA25D1401A2001E495A003F495A48130F9038803FF000FFEBFFE0
90B55A6C5C92C8FC6C13FC6C13F0000713802A3D7AA730>I<3807FFC0487FA47EEA001F
5CA3133F5CA3137F91C9FCEC07F8EC3FFE90B6FC8282A2489038FC1FE0ECF00F14E014C0
48138014005B151F48485CA25B153F48485CA349137F001F92C7FCA249EBFF0E9238FE1F
80003F153FEB800115FC0203137F007F02F81300130016FEA248ECF9FC4814FF5E6E5B48
6D5B6F5A00786EC7FC293978B730>I<EC03C0EC07E0EC0FF0A315E0A2EC038091C7FCA9
EB1FC0EB7FF048487E487F5A487F13F0EA1FE013C0123F1380EA7F015CEAFF035C127EEA
00075C130F5CA2131F5CA2013F1370EC80FCEB7F811401A2EBFF0301FE13F8140715F014
0FEC3FE090B512C015806D13006D5A6D5AEB07F01E3A73B830>I<160EEE3F80A2167FA3
EE3F00161E93C7FCA9EC01FCEC07FF021F7F027F7F91B5FC498049130F02FC7F903807F8
0790380FF00F5EEB1FE014C0013F131FA2D91F805B90C7FC153FA25EA2157FA293C7FCA2
5DA25DA21401A25DA21403A25DA21407A25DA2140FA25DA2141F5DA2143F4A5A121E003F
49C8FC48485A138338FF8FFCEBFFF86C5B5C6C13806C48C9FCEA07F8294E78B830>I<38
0FFFC0487FA47EEA001F5CA3133F5CA3137F91C8FCED03F0ED0FFC49133F49EB7FFE15FF
020313FF0001903807FE7F01FC13F891380FE0FF4A5A000390383F81FE9038F87F0114FE
9039F9FC00FC2607FBF8137801FF14005C5C5A14F814FE80488001C77FD9C07F131C023F
133F003F90381FE07FEB800FA2021F13FF007F15FE010013C015C1EDE1FC48EB0FE348EC
FFF816F080486D13E06E138000789038007E00283977B730>I<383FFFC04813E0B5FCA2
7E7EEA001F14C0A2133FA21480A2137FA21400A25BA25BA21201A25BA21203A25BA21207
A25BA2120FA25BA2121FA25B141C003F133F147F1380A2007F13FF14FE13001301EB81FC
EA3FC3EBFFF86C13F014E06C13C0000313803800FE0018396EB730>I<91390FC007E090
3A3C7FF01FF8903A7EFFF87FFC017F9038FCFFFE15FD90B8FC02F8EBFC3F9138E07FF802
C013F048018013E016C01400491480000302FF137F49EC007EA25D2607F80114FE17FC01
F05B1601000F010314F801E013F81603001F010714F001C013F0160717E0003F130F0180
13E0160F17C0007F131F010013C017F017F848013F1307481480EE03F016000038010EC8
FC30297CA730>I<01F813FE3A03FE07FF80486C487F48013F7F4890B57EA2ED87F8393F
9FFE0314FC387FBFF8EB3FF0A214E0D8FF7F130702C05B127E0000138001FF130F02005B
A34848131F5EA249EB3FC70003ED8FC0169F49137F161F0007153F03FF13804913FE167F
000F16005E496D5A5E157F495CED3FE06C48EB0FC02A2979A730>I<EC3FC0903801FFF0
01077F497F497F017F7FD9FFE0138048EB807F9138003FC0D803FC131F485AA2485A4848
EB0FE05B123F5BED1FC0127F90C7FCA2153F4815805A157F16005D5D14016C495A6C1307
4A5A6D485A003F495A9038E0FFC06CB55A92C7FC6C5B6C13F8000113E038007F80232975
A730>I<903903E003F890390FF80FFE90391FFC3FFF496C48138091B612C04915E06E13
1F01FE9038FC0FF091383FF807EC7FF0D801FC13E09238C003F81580000313FF15006C5A
C75A0101140717F05CA20103140F17E05C161F010715C0A2EE3F80167F010F15005E6E48
5A1503496C485AED1FF891B55A5E495C93C7FCEC8FFEEC83F0D97F80C8FCA291C9FCA25B
A25BA21201A25BA21203387FFFF0B57EA46C5B2D3C7FA730>I<027F13E0903901FFC1F0
010713F3011F13FB4913FF5BEBFFC148010013E0485A49137F485A484814C0153F485A5B
003F15805B157F127F90C71300A25D5A485C1401A214035D1407140F7E6C495A143FEB80
FFEA3FC390B55A7E7E7E6CEBCFE0C6130F1300141F5DA3143F5DA3147F92C7FCA390B512
FE48805AA27E6C5C243C74A730>I<017EEB1FF03A01FF80FFFE4801C3EBFF804801E714
C04890B612E0A2D81FC79038F03FF0EDC00FD83F83EB800701871300007F49130F13075C
484848EB07E0EE03C0007E92C7FC00005B131F5CA3495AA35C137FA291C9FCA25BA25BA2
1201A25BA35BA26C5A2C2978A730>I<EC1FF8ECFFFE0103EBFF804914C04914E05B9039
3FF01FF090387F800F1400137E01FE14E05BED07C0ED03006D90C7FCEB7FC014FE90383F
FFE015F8010F7F6D7F01007F02071380EC007FED1FC0150F121C123F5A151F481580153F
ED7F004A5A397FE00FFE90B55A6C5C6C5C6C14C0000391C7FC38007FF8242977A730>I<
147814FCA21301A413035CA313075CA3130F5CA2003FB512F04814F8B6FCA36C14F03900
3F8000A3137F91C7FCA35B5BA312015BA312035B157015FC0007130113F0140315F8000F
13079038E00FF0141FEC3FE09038F0FFC06CB5128015006C5B6C5B6C13F0EB3F801E3A72
B830>I<133ED9FF801370486D13F8486D487E5A48EBF003D81FE75C13C7123F01871307
D87F8F5CEB0FE0A2D8FF1F130F02C05BEA7E3F00001380151F017F5C1400A2153F495C5B
168792387F8FC00001151F5B15FF163FDA01FE1380A21403D9FE07EB7F000000131F90B7
FC6D5CEDBFFC6D133F90391FFE1FF0903903F007E02A2979A730>I<D91F80131ED97FE0
133F48486C5B486D14805A486D133F13F1EA1FE1EA3FC113811383387F03F8A2D8FF0714
7F4A1400127EEA000F4A5B5E131F5C1501013F5C1480A24B5A137F4A485AA34B5AEC801F
013F5C6E485AECE0FF6DB5C7FC5D6D5B6D5B010113E09038007F80292979A730>I<EE01
E0001E91387803F0D83F80EBFC077F17F8EBE001001FECF8031207A2020314F015F0A302
071307000F02E013E013C0121FD9800F130F17C0003F14C01300021F131F481680007E14
80A2023F133F00FE16004814004A5B167E5C6C15FE49EB81FC127F0187EBC3F86CB6FC5E
6C01EF5B6C01C75B6C01815B2700FE007EC7FC2D2978A730>I<903907F003F890393FFC
0FFE9039FFFE3FFF486D4813804891B5FC4816C03A0FFC3FFE1F391FF01FFC01E001F813
E0393FC00FF00180EC3FC0007F14E0130048011FEB1F80EE0F00007E4AC7FCC7FC143F5D
A3147F92C8FCA216074AEB0FC0001E49131F123F5A0181143F00FFED7F801301D8FE03EC
FF00496C485A6C4813876CB65A5E6C5D6C019F13C0260FFE0790C7FC3903F801FC2B2979
A730>I<133FD9FFC01307486DEB0F80486DEB1FC05A486D133FD81FF3158013C3123F01
83147FD87F871500EB07F0A2D8FF0F5C4A5B127EEA001FECC0015E133F14801503017F5C
14001507A2495C49130FA2151F4B5AA26D137F6D13FF02835B6DB5FCA27F6D5C6D13BF90
3800FE3FEC007F93C7FCA25D5D3803C001D807E05B000F13036D485A001F130F01E05B90
38C03FE04A5A9038E1FF806CB5C8FC5C6C5B6C13F06C5B6C6CC9FC2A3D79A730>I<027E
137C903901FF807E0107EBC0FE4913F14913F949EBFFFC4914F814C349C613F049EB3FE0
000115C049EB7F8015FF4A130039007003FE90380007FC4A5AEC3FF04A5A4A5A495B4948
C7FC495A4948137C494813FC90393FE001FED97FC013FCEBFF8048EB0003484814F80007
14079039FFC00FF048EBE01F489038F83FE04890B512C0A2D87FE314800181140039FF00
7FFC007E6D5A007CEB0FC0272978A730>I E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fp cmtt12 14.4 26
/Fp 26 122 df<EA0780EA1FE0EA3FF0EA7FF8A2EAFFFCA4EA7FF8A2EA3FF0EA1FE0EA07
800E0E688D3E>46 D<EC07F0EC3FFE91B57E010314E049804980498090393FF80FFE9039
7FE003FF49486C7F48496C7F91C7127F48486E7E49141F48486E7EA248486E7EA248486E
7EA348486E7EA348486E7EA590C97E481780AE6D15FF007F1700A56D5C003F5EA26D1403
001F5EA26D1407000F5E6D140F00075E6D141F6C6C4A5AA26C6C4A5A6E13FF6C6D485B6D
6C4890C7FC90393FF80FFE6DB55A6D5C6D5C6D5C01001480DA3FFEC8FCEC07F0314B7AC9
3E>48 D<143E147E147F5CA25BA25BA25B5B5B5B90B5FC1207127FB6FC5B5B13F0EA7FC0
EA1C00C7FCB3B3A9003FB612FC4815FEA56C15FC274A74C93E>I<EC1FFF0103B512E001
0F14FC013F14FF90B77E4882488248D9F0037F91C7EA3FF8D80FFCEC0FFC01F01407001F
6F7E6D14018382A26C5AA26C5ACAFC5E5FA216034C5AA24C5AEE3FF0167F923803FFE092
B55A91B65A4992C7FC16FCA216FF836D15E0DA00037F9238003FF8EE0FFC707E707E8270
1380177F18C0173FA218E0171FA2121E123F487E487E173FA218C049157F1880007F16FF
6D4A13006C6C5C6D4A5AD81FFC4A5AD9FF80133F6C9039F803FFF86C90B65A000116C06C
5E013F4AC7FC010F14F8010114E0D9001F90C8FC334B7BC93E>51
D<4AB4EB03C0020F9038F007E0023FEBFC0F91B512FE49ECFF9F010715DF4915FF491380
90393FFC001FD97FF07F4A7F49487F48497F4890C8FC5B4848157FA24848153F5B121F49
151FA2123F5BA2007FEE0FC04992C7FCA412FF90CBFCAD7F127FA47F003FEE0FC0EF1FE0
7F121FA27F120F6D153F6C6C16C0A26C6C157F6D16806C6D14FF6C6D4913006D6C495A6E
1307D93FFCEB1FFC6DB46CB45A6D90B55A6D5D01015D6D92C7FC023F13FC020F13F00201
1380334B7BC93E>67 D<007FB812F0A2B912F8A37EA2C690C81207A9EF03F0A294C7FCA8
167EA216FFA491B6FCA791C7FCA4167EA293C8FCA818FCA2EF01FEAB007F90B7FCA2B9FC
A36C17FCA237497DC83E>69 D<D87FFEED3FFF6D5DB56C91B512806E5BA26C18006E5B00
0317E001FB15EF6E1307A301F915CF6E130FA36E131F01F8158FA26E133FA2027E140FA2
027F137FA26E137EED80FEA2021F13FC15C1A2020F13F8A215E3A2020713F0A215F70203
13E0A3913801FFC0A36E1380A3ED7F00153E92C7FCB1267FFFC049B5FCA2B56C491480A3
6C496D1400A239497EC83E>77 D<DAFFF01378010701FE13FC011FEBFF81017F14E190B6
12F94815FF5A48EBC03F390FFE0003D81FF87F4848EB007F49143F4848141F5B160F00FF
150790C8FCA31603A37F705A6C6C91C8FCA26C7E7F6C7E13FE380FFFE06C13FE6CEBFFE0
6C14FE6CECFFE0013F14F8010F14FE010380D9007F14C0020380DA003F7F15039238007F
F8EE1FFC1607707EA2707E82A21880003E167F127F5AA56D15FF1800A26D5C6D5D6D1403
6D4A5A01FE4A5A6D6C133F9139FC01FFF091B65A5F486C5D011F4AC7FC01075C48C614E0
0078010F90C8FC314B7AC93E>83 D<003FB812FC5AB912FEA590C7EB0001A9007EEE00FC
A2C81500B3B3AC49B67E4981A56D5D37497DC83E>I<267FFFFE0103B512F0A2B64914F8
A36C496D14F0A2C690C83807F800B3B3AA6E140FA2017F5E6E141FA2013F5E6E143FA26D
6C4A5A6D6C4A5A6E5B6D6C4990C7FC903A03FF800FFEEDE03F6D90B55A6D5D023F14E06E
5C020791C8FC020113FC9138003FE03D4A80C83E>I<90380FFFC0017F13F848B512FE48
6E7E4815E04881823A1FFC007FFC49EB0FFE1507ED01FFA26C486D7F6C48147FC97F163F
A60203B5FC147F0103B6FC131F137F90B7FC0003ECC03F48EBF800481380D81FFCC7FCEA
3FF05B485A5B12FF90C8FCA56D147F127F6D14FF6C6C130301F8010F7F6CB490B612F86C
90B7FC18FC6C15CF000115076CDAFC0313F8013F9038F0007F010790C9FC363679B43E>
97 D<913807FFF0023F13FE49B61280010715C04915E04915F0137F903AFFFC003FF848
01E0131F48138091C7FC485A4848EC0FF049EC07E0484891C7FC5B123F5B127F5BA312FF
90CAFCA97F127FA27F123F7F17FC6C6CEC01FE7F6C7E6C6C14036DEC07FC6C01C0130F6C
01F0EB1FF86C01FEEBFFF06DB612E06D15C0010F15806D1500010114FC6D6C13F0020790
C7FC2F3678B43E>99 D<923803FFF85D4B7FA38181ED0003AEEC1FF0ECFFFE0103EBFF83
010F14E34914F3017F14FB90B7FC48EBF80F48EBC00191C7FC4848143F4848141F5B4848
140F491407123F491403127F5BA312FF90C8FCA97F127FA216077F123F6D140FA26C6C14
1F6D143F000F157F6C6C14FF01FF5B6C6D5A6CD9F01FEBFFFC6C90B500FB13FE6D02F313
FF6D14E3010F14C36D020113FE010101FC14FC9026003FE0C8FC384A7CC83E>I<EC1FF8
91B57E010314E0010F14F84980017F8090B7FC48D9F80F1380DAC00113C048496C13E048
48C7123F4848EC1FF049140F484815F81607484815FCA248481403A24915FEA200FF1501
A290B7FCA517FCA290CAFC7FA2127FA27F123F6D15FCA26C6CEC01FE7F6C6C14036C6C14
076DEC0FFC6C6D131F6C01E0EB7FF86C9039FC03FFF06DB612E06D15C06D158001071500
010114FC6D6C13E0020790C7FC2F3679B43E>I<383FFF805AB57EA37E7EEA003FAEED07
FC92383FFF8092B512E002C38002C78002CF8002DF809138FFF80F9238C003FFED00014A
7F4A815C177F5CA25CA35CB3A8003FB5D8C07FB51280486EB612C0B66C15E0A36C4A15C0
6C4A6C14803B497FC83E>104 D<143E147F4A7E497FA56D5B6EC8FC143E91C9FCAC003F
B57E5A81A47EC7123FB3B3007FB71280B812C0A56C16802A4A76C93E>I<007FB512C0B6
FC81A47EC7121FB3B3B3A5007FB712F8B812FCA56C16F82E4978C83E>108
D<ED07FC3B3FFF803FFF804891B512E0B500C38002C78002CF806C01DF806C9038FFF80F
D8003F9038C003FFED00014A7F4A815C177F5CA25CA35CB3A8003FB5D8C07FB51280486E
B612C0B66C15E0A36C4A15C06C4A6C14803B347FB33E>110 D<EC1FF0ECFFFE01036D7E
010F14E04980017F14FC90B67E489038F01FFFECC00748D90001138048486D13C04848EC
7FE049143F4848EC1FF049140F003F16F8491407A24848EC03FCA448C8EA01FEAA6D1403
007F16FCA26D1407A2003F16F86D140F6C6CEC1FF0A26C6CEC3FE06D147F6C6CECFFC06D
5B6CD9C00713806CD9F01F13006C90B55A6D5C6D5C010F14E001031480010049C7FCEC1F
F02F3679B43E>I<EE07FE263FFFF890387FFFC0484AB512E0B5D8FC0714F05D4B14F86C
5C6C91387FFC0FD80003EBFFC002FD90380007F0DAFFFEEB03E003F890C7FC5D5DA25D5D
A292C9FCA25CA45CB3A3003FB612FC4881B7FCA37E6C5D35347CB33E>114
D<903901FFF00F011F9038FE1F8090B612BF000315FF5A5A5A393FFE003F01F01307D87F
C0130190C8FC5A48157FA47EEE3F00D87FC091C7FC13F0EA3FFE381FFFF06CEBFFC06C14
FE6C6E7EC615E0013F14F8010780D9003F7F02007F03071380030013C0003EED3FE0007F
151F48150F17F06D1407A37FA26D140F6D15E0161F01FCEC3FC06D14FF9026FFC00F1380
91B612005E485D013F5C6D14E0D8FC0714802778007FF8C7FC2C3677B43E>I<147C14FC
497EAD003FB712FC5AB87EA36C5EA2260001FEC9FCB3A6173FA2EF7F80A76E14FF6D1600
6F5A9238C007FE91387FF01F92B55A6E5C6E5C6E5C6E1480020149C7FC9138003FF03143
7DC13E>I<263FFF80EB7FFF4892B5FCB56C4880A36C806C81D8003FEC007FB3AC17FFA2
5E5E80011F140F6E5B02FE90B612806DB812C06D17E083010114FE6DDAF83F13C0023F01
E01480020790C9FC3B347FB23E>I<267FFFF890383FFFFCB56C4913FE6E90B5FCA34A7F
6C496D13FCC648C8EAFE00A26D14016D5DA26E1303013F5DA26E1307011F5DA26E130F01
0F5DA26E131F01075DA26E133F01035DA26E137F010192C7FCA26E5B01005CA2ECFF0102
7F5BA21583023F5BA215C7021F5BA215EF020F5BA215FF6E5BA36E5B6E90C8FC6E5A3734
7DB23E>I<271FFFFE01B512E04817F0486D4814F8A36C496C14F06C17E03C003FE0001F
F0006D6C5C010F4A5A6D6C495A6E13FF6D6C91C7FC0101495A6D6C485AEC7F83EDC7F891
383FCFF06EB45A805E6E5B6E90C8FC806E5A14014A7E824A7F5C91381FEFE0EDC7F09138
3F87F891387F03FCECFF0102FE7F49486C7E01036E7E4948133F4A80010F6E7E49486D7E
4948801607263FFFFC90387FFFF8486D90B512FCB516FEA36C17FC6C496D13F837337DB2
3E>120 D<263FFFFC90383FFFFC484B13FEB56C90B5FCA36C497F6C6F13FCC690C8EAFE
007F4C5A80013F14036E5C131F16076E5C130F804C5A13078001034A5AA28001014A5A80
13004CC7FC808016FEEC3F80A2ED81FCEC1FC1A25EEC0FE3A202075B15F7A202035B15FF
805EA2805E157FA293C8FCA25D5DA214015DA214035DA214075D3807800FD81FE05B141F
D83FF05B143F4A5A14FF01E390C9FC6CB45AA26C5B5C6C13E000015BD8007ECAFC374F7D
B23E>I E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fq cmbx12 14.4 65
/Fq 65 123 df<922601FFFC903801FFE0033F9026FF801F13F84AB6D8E07F13FE020F03
F9B6FC023FD9C00FB500C0138091277FFC0003D9FE0113C0902601FFE049495A49494949
4813E04990C714F049484A13E0495A19C0495A7413C0017F17804A6E6E1380719138007E
007192C7FCAEBCFCA526007FF8C7000301C0C8FCB3B3A7007FB5D8F803B612F0A553547D
D34E>11 D<EEFFFC031FEBFF804AB612E0020781021F9038C00FF8913A7FFE0003FCDAFF
F0EB00FE4949EB03FF4901805B4990C7487F49485CA2495A4D7F013F6F5B5CA37190C7FC
715AEF01F894C9FCA90403B512C0BAFCA526003FFCC7120783B3B3A6003FB5D8FC03B612
C0A542547DD34B>I<EA0F80EA3FE0487EA2487E7F7F7FA214806C13C06C13E07E000713
F0000113F838007FFC133FEB0FFEEB03FF7FEB007E141C1404181772D343>18
D<EB01F0EB07FCEB0FFEA2EB1FFF5B5B90B5FCA25A4813FE4813FC14F84813E048138038
3FFE005BEA7FF0EAFFC05B007EC7FC12381220181764D343>I<EA07F0EA1FF8EA3FFE48
7EA2B5128014C0A314E0A37EA27EEA1FFDEA07F1EA0001A2130314C0A313071480130FA2
14005B133EA25B5B485A1203485A485A485A90C7FC120C132876D225>39
D<EA07F0EA1FF8487E487E7FB5FC1480A314C0A37EA27E7EEA07F3EA0003A213071480A3
130F1400A25B131E133E133C137C5BA2485A485A485A485A48C7FC121E120C1228769025
>44 D<B712F0AB240B7F9F2D>I<EA07F0487E487E487E487EB51280A76C13006C5A6C5A
6C5A6C5A1111769025>I<913803FFC0023F13FC91B6FC010315C0010F018113F0903A1F
FC003FF849486D7E49486D7E49486D7E48496D138048496D13C0A24817E04890C813F0A3
4817F8A24817FC49157FA3007F17FEA600FF17FFB3A5007F17FEA6003F17FCA26D15FFA2
6C17F8A36C17F0A26C6D4913E0A26C6D4913C06C17806E5B6C6D4913006D6C495AD91FFC
EB3FF8903A0FFF81FFF06D90B55A01011580D9003F01FCC7FC020313C0384F7BCD43>48
D<157815FC14031407141F14FF130F0007B5FCB6FCA2147F13F0EAF800C7FCB3B3B3A600
7FB712FEA52F4E76CD43>I<EC3FFE0103B512E0010F14FC013F14FF90B712C048D9C07F
7F2703FE000F13F8D807F801037FD80FE06D7F48486D7F48488001F01680486C6E13C07F
486C6E13E07FA27013F0A56C5AA26C5AEA0FF0EA03C0C914E05EA218C05E1880A24C1300
5F4C5A4B5B5F4B5B5F4B5B4B90C7FC4B5A5E4B5AED7FE04B5A4A5B4A48C8FC4A5A5D4A48
EB01F04A5AEC3F804AC7FC02FEEC03E0495A495A495A495AD91F80140749C8FC013E150F
017FB7FC90B812C05A5A5A5A5A5A5AB9FC1880A4344E79CD43>I<91380FFFC091B512FC
0107ECFF80011F15E090263FF8077F9026FF800113FC4848C76C7ED803F86E7E491680D8
07FC8048B416C080486D15E0A4805CA36C17C06C5B6C90C75AD801FC1680C9FC4C13005F
A24C5A4B5B4B5B4B13C04B5BDBFFFEC7FC91B512F816E016FCEEFF80DA000713E0030113
F89238007FFE707E7013807013C018E07013F0A218F8A27013FCA218FEA2EA03E0EA0FF8
487E487E487EB57EA318FCA25E18F891C7FC6C17F0495C6C4816E001F04A13C06C484A13
80D80FF84A13006CB44A5A6CD9F0075BC690B612F06D5D011F1580010302FCC7FCD9001F
1380374F7ACD43>I<177C17FEA2160116031607160FA2161F163F167FA216FF5D5DA25D
5DED1FBFED3F3F153E157C15FCEC01F815F0EC03E01407EC0FC01580EC1F005C147E147C
5C1301495A495A5C495A131F49C7FC133E5B13FC485A5B485A1207485A485A90C8FC123E
127E5ABA12C0A5C96C48C7FCAF020FB712C0A53A4F7CCE43>I<D80380150ED807E0157E
01FEEC03FED9FFF0137F91B65A5F5F5F5F5F94C7FC5E5E16F016C093C8FC15F801E190C9
FC01E0CAFCABEC0FFF027F13F001E3B512FE01E76E7E9026FFF8077FDAC0017F49C713F8
496E7E49143F4981496E7E6C481680C9FC18C08218E0A418F0A3EA0FE0487E487E487E48
7EA418E0A35B6C484A13C05B491680003EC85A003F17006C6C4A5A6D5D6C6C4A5AD807F8
495BD803FE01075B2701FFC03F5B6C90B65A013F4AC7FC6D14F8010314C09026007FF8C8
FC344F79CD43>I<ED0FFF92B512E0020780021F14FC91397FFE03FE903A01FFF0007F49
01C0EB3F804990C7121F4948EC7FC0494814FF49484913E049485B01FF5C485BA2485B5A
A2486F13C04A6D1380486F1300177E94C7FC5AA291CAFC5AA21508913801FFF8020713FF
B54814C04A14F04AC66C7E023C6D7E4A6D7E4A6D7E7013804A15C0A24A15E07013F05C18
F8A491C714FCA37EA67EA46C17F880A27E18F06C5D18E06C6D15C07E6E4913806C6D1500
6D6C495A6D6CEB7FFC6DB448485A6D90B55A010315C0010092C7FC023F13FC020713C036
4F7ACD43>I<121F7F7FEBFF8091B81280A45A1900606060A2606060485F0180C86CC7FC
007EC95A4C5A007C4B5A5F4C5A160F4C5A484B5A4C5A94C8FC16FEC812014B5A5E4B5A15
0F4B5AA24B5AA24B5A15FFA24A90C9FCA25C5D1407A2140FA25D141FA2143FA4147F5DA3
14FFA55BAC6D5BA2EC3FC06E5A395279D043>I<913807FFC0027F13FC0103B67E010F15
E090261FFC0113F8903A3FE0003FFCD97F80EB0FFE49C76C7E48488048486E1380000717
C04980120F18E0177FA2121F7FA27F7F6E14FF02E015C014F802FE4913806C7FDBC00313
009238F007FE6C02F85B9238FE1FF86C9138FFBFF06CEDFFE017806C4BC7FC6D806D8101
0F15E06D81010115FC010781011F81491680EBFFE748018115C048D9007F14E04848011F
14F048487F48481303030014F8484880161F4848020713FC1601824848157F173FA2171F
A2170FA218F8A27F007F17F06D151FA26C6CED3FE0001F17C06D157F6C6CEDFF806C6C6C
010313006C01E0EB0FFE6C01FCEBFFFC6C6CB612F06D5D010F1580010102FCC7FCD9000F
13C0364F7ACD43>I<91380FFF8091B512F8010314FE010F6E7E4901037F90267FF8007F
4948EB3FF048496D7E484980486F7E484980824817805A91C714C05A7013E0A218F0B5FC
A318F8A618FCA46C5DA37EA25E6C7F6C5DA26C5D6C7F6C6D137B6C6D13F390387FF80301
1FB512E36D14C30103028313F89039007FFE03EC00401500A218F05EA3D801F816E0487E
486C16C0487E486D491380A218005E5F4C5A91C7FC6C484A5A494A5A49495B6C48495BD8
03FC010F5B9027FF807FFEC7FC6C90B55A6C6C14F06D14C0010F49C8FC010013F0364F7A
CD43>I<EA07F0487E487E487E487EB51280A76C13006C5A6C5A6C5A6C5AC8FCB3EA07F0
487E487E487E487EB51280A76C13006C5A6C5A6C5A6C5A113576B425>I<171F4D7E4D7E
A24D7EA34C7FA24C7FA34C7FA34C7FA24C7FA34C8083047F80167E8304FE804C7E030181
16F8830303814C7E03078116E083030F814C7E031F81168083033F8293C77E4B82157E84
03FE824B800201835D840203834B800207835D844AB87EA24A83A3DA3F80C88092C97E4A
84A2027E8202FE844A82010185A24A820103854A82010785A24A82010F855C011F717FEB
FFFCB600F8020FB712E0A55B547BD366>65 D<BA12C019FEF1FFC01AF01AFCD8000701F0
C7000313FFDE007F7F737F070F7F737F878587858785A287A84F5BA263616361634F5B4F
5B077F90C7FC4E485A060713F892B812E097C8FC861AF003F0C7000313FE9539003FFF80
070F13E0737F07017F87737F747E1C807413C0A27413E0A31CF0A386A362A31CE0A2621C
C0A250138097B5FC1C004F5B19074F5B073F13F04EB55ABC128098C7FC1AF81AC007F8C8
FC54527CD160>I<932601FFFCEC01C0047FD9FFC013030307B600F81307033F03FE131F
92B8EA803F0203DAE003EBC07F020F01FCC7383FF0FF023F01E0EC0FF94A01800203B5FC
494848C9FC4901F8824949824949824949824949824990CA7E494883A2484983485B1B7F
485B481A3FA24849181FA3485B1B0FA25AA298C7FC5CA2B5FCAE7EA280A2F307C07EA36C
7FA21B0F6C6D1980A26C1A1F6C7F1C006C6D606C6D187EA26D6C606D6D4C5A6D6D16036D
6D4C5A6D6D4C5A6D01FC4C5A6D6DEE7F806D6C6C6C4BC7FC6E01E0EC07FE020F01FEEC1F
F80203903AFFE001FFF0020091B612C0033F93C8FC030715FCDB007F14E0040101FCC9FC
525479D261>I<BA7E19FCF1FF801AF01AFCD8000701F0C7000F13FF060014C0071F7F07
0713F807017F737F747E747F747F86747F747F8886888688A2757EA31D8087A21DC0A51D
E0A387A963A31DC0A51D80A2631D00A3515AA2646264505B6264505B505B5090C7FCF2FF
FE4F5B07075B071F5B96B512C0060F91C8FCBB5A1AF01AC007FCC9FC19805B527CD167>
I<BC1280A5D8000701F8C7000114C0F0001F19071901851A7F1A3F1A1FA2F20FE0A21A07
A31A03A318F81BF01A01A497C7FC1701A317031707170F177F92B6FCA59238F8007F170F
170717031701A317001B3EA31B7CA395C8FCA21BFCA21BF8A21A01A31A031BF01A071A0F
A21A1F1A3FF27FE0F101FF1907191F0603B5FCBCFCA21BC0A34F517CD058>I<BB12FEA5
D8000701F8C700077FF0007F191F190785858586861B80A21A1FA31A0FA41BC006F81307
A497C7FCA31701A317031707170F177F92B6FCA59238F8007F170F170717031701A31700
A795C9FCB3B812F8A54A517CD055>I<932601FFFCEC01C0047FD9FFC013030307B600F8
1307033F03FE131F92B8EA803F0203DAE003EBC07F020F01FCC7383FF0FF023F01E0EC0F
F94A01800203B5FC494848C9FC4901F8824949824949824949824949824990CA7E494883
A2484983485B1B7F485B481A3FA24849181FA3485B1B0FA25AA298C8FC5CA2B5FCAE6C05
7FB712E0A280A36C94C7003FEBC000A36C7FA36C7FA27E6C7FA26C7F6C7FA26D7E6D7F6D
7F6D6D5E6D7F6D01FC93B5FC6D13FF6D6C6D5C6E01F0EC07FB020F01FEEC1FF10203903A
FFF001FFE0020091B6EAC07F033FEE001F030703FC1307DB007F02E01301040149CAFC5B
5479D26A>I<B8D8C003B8FCA5D8000701F8C9001FEBE000B3AE92BAFCA503F8C9121FB3
B1B8D8C003B8FCA560527CD169>I<B812C0A5D8000701F8C7FCB3B3B3B2B812C0A52A52
7CD132>I<B812F8A5D8000701F8CAFCB3B3A91A7CA41AFC1AF8A51901A31903A219071A
F0190FA2191F193F197F19FF180360183F4DB5FCBB12E0A546527CD151>76
D<B600FC073FB512FE6F61A26F96B6FCA2D80007F5C00070EF01EFA202EF6DEF03CFA202
E76DEF078FA202E36DEF0F0FA202E16D171EA302E06D173CA26F6C1778A26F6C17F0A26F
6DED01E0A26F6DED03C0A36F6DED0780A26F6DED0F00A26F6D151EA26F6D5DA3706C5DA2
706C5DA2706D495AA2706D495AA2706D495AA3706D49C7FCA2706D131EA2706D5BA2716C
5BA3716C5BA271EB81E0A271EBC3C0A271EBE780A27101FFC8FCA3715BA2715BA2725AA2
725AA2D93FFC6F5AB74DB712FEA2725AA2725A77527CD180>I<B600FC93B7FC8181A282
D800076E9239003FFC0070EE07E08282A28202EF7F02E77F02E380A202E18002E0806F7F
6F7F6F7FA26F7F6F7F6F806F80A26F80707F707F707F707FA2707F708070807080858371
7F717F717F717FA27114807114C07114E07213F07213F8A27213FC7213FE7213FF721487
A27214C77214E77313F77313FF85A285858585A28586868686A286868686A2D93FFC187F
B7173F1B1F1B0F1B07755A60527CD169>I<93380FFFC00303B6FC031F15E092B712FC02
03D9FC0013FF020F01C0010F13C0023F90C7000313F0DA7FFC02007F494848ED7FFE4901
E0ED1FFF49496F7F49496F7F4990C96C7F49854948707F4948707FA24849717E48864A83
481B804A83481BC0A2481BE04A83A2481BF0A348497113F8A5B51AFCAF6C1BF86E5FA46C
1BF0A26E5F6C1BE0A36C6D4D13C0A26C6D4D1380A26C1B006C6D4D5A6E5E6C626D6C4C5B
6D6D4B5B6D6D4B5B6D6D4B5B6D6D4B5B6D6D4B90C7FC6D6D4B5A6D01FF02035B023F01E0
011F13F0020F01FC90B512C0020390B7C8FC020016FC031F15E0030392C9FCDB001F13E0
565479D265>I<BAFC19F819FF1AE086D8000701F0C7001F13FC060113FF726C13807313
C0070F13E01BF0857313F81BFCA27313FEA41BFFA81BFEA31BFC61A21BF84F13F04F13E0
614F13C04F13004E485A061F5B92B812F01AC04FC7FC19E003F8CBFCB3AEB812C0A55052
7CD15C>I<93380FFFC00303B6FC031F15E092B712FC0203D9FC0013FF020F01C0010F13
C0023F90C7000313F0DA7FFC02007F902601FFF0ED3FFE49496F7E49496F7F49496F7F49
90C96C7F4948707F4948707F01FF854A177F48864849717EA24849711380A2481BC04A83
481BE0A24A83481BF0A3481BF8A291CB7EA3B51AFCAF6C1BF8A26E5FA36C1BF0A36C6D4D
13E0A36C1BC06E5F6C1B806E5F6CDB01FE16006C6D902607FF80495A4C13E06C6D013F6D
495A017F91267F03F85C6D6C90277C00FC015B6D6C49D97E035B6D01806E485B6D6D48D9
1F8F5B6D01E0039F90C7FC6D01F06EB45A6DD9FCF85DDA3FFF6E13F0020F6D4913C00203
01FF90B5C8FC020091B512FC031F180C0303181EDB001FEBE3FE93C7EA01FF74133E7413
7E7413FEF2F8077290B5FC1CFCA285A21CF8A2851CF07314E0A27314C073148073140073
5B9638007FF8F21FE0576A79D265>I<B912F0F0FF8019F819FF1AC0D8000701F0C714F0
060F7F060113FE727F737F737F85737F87A2737FA387A863A2616363A24F5B4F5B4F90C8
FC4F5A06035B060F13F095B512C092B8C9FC19F819E019F89226F0000313FE9439007FFF
80727F727F727F727F727F8684A28684A787A71D1C75133EA38575137E73157C7513FC73
1401B86C6D9038F803F807039038FE07F07390B512E0736C14C0080F1400CEEA7FFC5F53
7CD164>I<91260FFF80130791B500F85B010702FF5B011FEDC03F49EDF07F9026FFFC00
6D5A4801E0EB0FFD4801800101B5FC4848C87E48488149150F001F824981123F4981007F
82A28412FF84A27FA26D82A27F7F6D93C7FC14C06C13F014FF15F86CECFF8016FC6CEDFF
C017F06C16FC6C16FF6C17C06C836C836D826D82010F821303010082021F16801400030F
15C0ED007F040714E01600173F050F13F08383A200788200F882A3187FA27EA219E07EA2
6CEFFFC0A27F6D4B13806D17006D5D01FC4B5A01FF4B5A02C04A5A02F8EC7FF0903B1FFF
C003FFE0486C90B65AD8FC0393C7FC48C66C14FC48010F14F048D9007F90C8FC3C5479D2
4B>I<003FBC1280A59126C0003F9038C0007F49C71607D87FF8060113C001E08449197F
49193F90C8171FA2007E1A0FA3007C1A07A500FC1BE0481A03A6C994C7FCB3B3AC91B912
F0A553517BD05E>I<B800C00103B612FCA5D8000701F8CAEBF000F31F80B3B3B11B3FA2
6D97C7FC81637F1B7E6D6D17FE505A6E7E505A6E6D15076E4D5A6E6D4B5A6E6D4B5A6E01
F84B5A6E6DDA03FFC8FC6E6CB46CEB0FFE6F9039F001FFF8030F90B65A030316C0DB007F
92C9FC040F14F8DC007F13805E537CD167>I<B700FC017FB600FE91B612F0A5D8003F01
C0C8001F01E0C9EBF8006F71EE0FC06D7161876F1C1F6D7196C7FC6F8373606D1E3E6F83
6D7160876F1CFC6D666F4B801F016D66704A806E525A88704A17076E059F5F70021F8008
0F160F6E6570023F806EDC3E074CC8FC8870027E5F6EDC7C03163E7002FC804F6C167E6E
1C7C700101814F6C16FC6E745B70010317016E4C6D5D060716C00580496D14036F63DDC0
0F16E04F6D14076F07F05BDDE01F170F6F92C76C5D1DF8DDF03E6E141F6F98C9FCDDF87E
16FC067C6E5C6FF1FE3EDDFCFC177E6F4A6E147C1DFFDDFFF06E14FC6F62A24E816F62A2
70496F5BA24E817061A295C97E7061A270487090CAFCA37048705AA24D1601040360A270
48705A84537DD18B>87 D<146014F0497E497E497E90381FFF80497F497F90B57E488000
07EB0FFE48486C7E261FF801138048486C13C0D87FC0EB3FE04848EB1FF048C712070078
EC01E00030EC00C0241371D243>94 D<EC7FFF0107B512F0013F14FE90B77E48D9E00F7F
2703FE000113F0486C6D7F6EEB3FFC48826E131F83707FA36C496D7FA26C90C7FC6C5AC9
FCA6037FB5FC020FB6FC91B7FC01071487013FEBF0074913803901FFFC004813F0485B48
5B485B4890C7FC5A5BA2485AA45EA26D5C007F151D163D6C6C02797F6C6D01F113F86C90
26C003E1EBFFE06C9026F81FC014F06C90B5487EC6ED001F011F01FC010713E0010101E0
90C8FC3C387CB641>97 D<EB3FF0B5FCA51203C6FCB3A4923801FFE0030F13FE033FEBFF
C092B612F002F301017F913AF7F8003FFEDAFFE0EB0FFF03806D7F92C76C7F4A6E7F4A82
4A6E7FA2727EA285A28584A31A80AC1A00A44E5AA36118FF616E4A5BA26E4A5B6E4A5B6F
495BDACFC04990C7FCDA87F0EB7FFC913A03FE03FFF849C6B612E0496D148049011F01FC
C8FC90C7000313C041547BD24B>I<913801FFF8021FEBFF8091B612F0010315FC010F90
38C00FFE903A1FFE0001FFD97FFC491380D9FFF05B4817C048495B5C5A485BA2486F1380
91C7FC486F1300705A4892C8FC5BA312FFAD127F7FA27EA2EF03E06C7F17076C6D15C07E
6E140F6CEE1F806C6DEC3F006C6D147ED97FFE5C6D6CEB03F8010F9038E01FF0010390B5
5A01001580023F49C7FC020113E033387CB63C>I<4DB47E0407B5FCA5EE001F1707B3A4
913801FFE0021F13FC91B6FC010315C7010F9038E03FE74990380007F7D97FFC0101B5FC
49487F4849143F484980485B83485B5A91C8FC5AA3485AA412FFAC127FA36C7EA37EA26C
7F5F6C6D5C7E6C6D5C6C6D49B5FC6D6C4914E0D93FFED90FEFEBFF80903A0FFFC07FCF6D
90B5128F0101ECFE0FD9003F13F8020301C049C7FC41547CD24B>I<913803FFC0023F13
FC49B6FC010715C04901817F903A3FFC007FF849486D7E49486D7E4849130F48496D7E48
178048497F18C0488191C7FC4817E0A248815B18F0A212FFA490B8FCA318E049CAFCA612
7FA27F7EA218E06CEE01F06E14037E6C6DEC07E0A26C6DEC0FC06C6D141F6C6DEC3F806D
6CECFF00D91FFEEB03FE903A0FFFC03FF8010390B55A010015C0021F49C7FC020113F034
387CB63D>I<ED3FFC0203B5FC020F14C0023F14E09139FFF81FF0499038C03FF849EB80
7F49903800FFFC495A495AA2495AA2EE7FF8495AEE3FF0EE0FC093C7FCAEB712E0A52600
7FF8C8FCB3B3A7007FB512FEA52E547CD329>I<DA3FFF14FF0103B5D8F00713C0010FDA
FC1F13E0013FECFF7F90267FFC0F9038FF9FF09026FFE001EBF83F48496C13E048499038
7FF01F4890C7D83FF813E0489338FC0FC0F0078048486E6CC7FCA2003F82A9001F5EA26C
6C4A5AA26C5E6C6D495A6C6D495A6C6D485BDAFC0F5B4890B6C8FCD803EF14FC01C314F0
2607C03F90C9FC91CBFCA2120FA37FA213F813FE90B7FC6C16F817FF18C06C836C836C83
6D828448B9FC12074848C700031480D81FF8EC003F4848150748486F13C083485A83A56D
5D007F18806D5D003F18006C6C4B5AD80FFEED1FFC6C6C6CEC7FF86C01E049485A6C01FE
011F5B6C6CB71280010F03FCC7FC010115E0D9000F01FCC8FC3C4F7CB543>I<EB3FF0B5
FCA51203C6FCB3A4EE1FFC93B512C0030314F0030F8092391FE07FFC92393F001FFE037C
8003F07FDAF1E081ECF3C0DAF7807F8502FFC7FC5CA25CA45CB3ACB6D8F807B612C0A542
537BD24B>I<137F497E000313E0487FA2487FA76C5BA26C5BC613806DC7FC90C8FCADEB
3FF0B5FCA512017EB3B3A6B612E0A51B547BD325>I<EB3FF0B5FCA51203C6FCB3A54CB5
12F8A59339003FFE00EF1FF0EF3FC04D5A4DC7FCEE03FEEE07F84C5A4C5AEE7FC04CC8FC
4B5A4B5AED0FF8ED1FE04B7E4B7EECF1FF02F37F02F77F91B6FC83159F030F7F02FE80DA
F8077F4A7E6F7F6F7F83707E82707F84707F707F82707F84707F177F717E4D13C0B6D8F0
03B6FCA540537CD247>107 D<EB3FF0B5FCA512017EB3B3B3B1B612F0A51C537BD225>I<
D93FF0D91FFCEDFFE0B591B500C0010713FE030302F0011F6D7E030F6E017F8092271FE0
7FFCD9FF037F922A3F001FFE01F8007F0003027C9126FF03E080C602F06DD90780137FDA
F1E0038FC77FDAF3C0159EDAF7806D01BC143F07FC8102FFC75C4A5EA24A5EA44A5EB3AC
B6D8F807B6D8C03FB512FEA567367BB570>I<D93FF0EB1FFCB591B512C0030314F0030F
8092391FE07FFC92393F001FFE0003027C80C602F07FDAF1E081ECF3C0DAF7807F8502FF
C7FC5CA25CA45CB3ACB6D8F807B612C0A542367BB54B>I<913801FFE0021F13FE91B612
C0010315F0010F9038807FFC903A1FFC000FFED97FF86D6C7E49486D7F48496D7F48496D
7F4A147F48834890C86C7EA24883A248486F7EA3007F1880A400FF18C0AC007F1880A300
3F18006D5DA26C5FA26C5F6E147F6C5F6C6D4A5A6C6D495B6C6D495B6D6C495BD93FFE01
1F90C7FC903A0FFF807FFC6D90B55A010015C0023F91C8FC020113E03A387CB643>I<90
3A3FF001FFE0B5010F13FE033FEBFFC092B612F002F301017F913AF7F8007FFE0003D9FF
E0EB1FFFC602806D7F92C76C7F4A824A6E7F4A6E7FA2717FA285187F85A4721380AC1A00
60A36118FFA2615F616E4A5BA26E4A5B6E4A5B6F495B6F4990C7FC03F0EBFFFC9126FBFE
075B02F8B612E06F1480031F01FCC8FC030313C092CBFCB1B612F8A5414D7BB54B>I<91
2601FFE0EB0780021F01F8130F91B500FE131F0103ECFF80010F9039F03FC03F49903980
0FE07F903A7FFE0003F04948903801F8FF4849EB00FD4849147F4A805A4849805A4A805A
A291C87E5AA35B12FFAC6C7EA37EA2806C5EA26C6D5CA26C6D5C6C6D5C6C93B5FC6C6D5B
6D6C5B6DB4EB0FEF010F9038C07FCF6D90B5120F010114FED9003F13F80203138091C8FC
B1040FB61280A5414D7CB547>I<90397FE003FEB590380FFF80033F13E04B13F09238FE
1FF89139E1F83FFC0003D9E3E013FEC6ECC07FECE78014EF150014EE02FEEB3FFC5CEE1F
F8EE0FF04A90C7FCA55CB3AAB612FCA52F367CB537>I<903903FFF00F013FEBFE1F90B7
FC120348EB003FD80FF81307D81FE0130148487F4980127F90C87EA24881A27FA27F01F0
91C7FC13FCEBFFC06C13FF15F86C14FF16C06C15F06C816C816C81C681013F1580010F15
C01300020714E0EC003F030713F015010078EC007F00F8153F161F7E160FA27E17E07E6D
141F17C07F6DEC3F8001F8EC7F0001FEEB01FE9039FFC00FFC6DB55AD8FC1F14E0D8F807
148048C601F8C7FC2C387CB635>I<143EA6147EA414FEA21301A313031307A2130F131F
133F13FF5A000F90B6FCB8FCA426003FFEC8FCB3A9EE07C0AB011FEC0F8080A26DEC1F00
15806DEBC03E6DEBF0FC6DEBFFF86D6C5B021F5B020313802A4D7ECB34>I<D93FF89138
01FFC0B50207B5FCA50003ED001FC61607B3AE5FA35FA2017F5D173B177B6D6C14F3DC01
E313F06D6CD907C3EBFFC0903A0FFFC03F836D90B51203010114FE6D6C13F8020701E091
C7FC42377BB54B>I<B600F00107B5FCA5000101F8C8EA7FE06C6DED3F00A2017F163E6E
157E013F167C6E15FC6D5E6F13016D5E8117036D5E6F13076D5E6F130F6D5E6F131F6D93
C7FC815F6E6C133E177E023F147C6F13FC6E5C16816E5C16C3A26EEBE3E016E76E5C16FF
6E5CA26E91C8FCA26F5AA36F5AA26F5AA26F5AA26F5A6F5A40367DB447>I<B6D8E07FB5
D8C003B512C0A5000101F0C701F0C7381FF8006E027FED07E06C715DA26E023F150F017F
705DA26E181F013F4B6C92C7FC6E606D70143E94B5FC6F177E6D4A6E137C03C001F315FC
6D715B160303E001E114016D020702E05B03F013C06D71485A160F03F8D9807F13076D05
F85B93381F003F03FC160F027F4902FC5BDBFE3E011F131F023F04FE90C8FC167EDBFF7C
010F5B6E01FCECFF3E4C6D137E6E5FA24C7F6E5F4C7F6E5FA24C7F6E5F4C147FA26E5F93
C8123F6F5EA2033E6FC9FC5A367DB461>I<007FB500F090387FFFFEA5C66C48C7000F90
C7FC6D6CEC07F86D6D5C6D6D495A6D4B5A6F495A6D6D91C8FC6D6D137E6D6D5B91387FFE
014C5A6E6C485A6EEB8FE06EEBCFC06EEBFF806E91C9FCA26E5B6E5B6F7E6F7EA26F7F83
4B7F4B7F92B5FCDA01FD7F03F87F4A486C7E4A486C7E020F7FDA1FC0804A486C7F4A486C
7F02FE6D7F4A6D7F495A49486D7F01076F7E49486E7E49486E7FEBFFF0B500FE49B612C0
A542357EB447>I<B600F00107B5FCA5C601F8C8EA7FE06EED3F00A26D6C153E187E013F
167C6E15FC6D5E6F13016D5E6F13036D5E8117076D6D5C170F6D6D5C171F6D93C7FC6F5B
027F143E6F137E023F147C6F13FCA26E6D5A16816EEBC1F016C36E5C16E76E5C16FF6E5C
A26E91C8FCA36F5AA26F5AA26F5AA26F5AA26F5AA35E150F5E151F93C9FC5DD81FC0133E
486C137E486C137C486C13FC5D14015D14034A5A6C48485A49485A263FC07FCAFCEB81FE
6CB45A6C13F000035BC690CBFC404D7DB447>I<001FB8FC1880A3912680007F130001FC
C7B5FC01F0495B495D49495B495B4B5B48C75C5D4B5B5F003E4A90C7FC92B5FC4A5B5E4A
5B5CC7485B5E4A5B5C4A5B93C8FC91B5FC495B5D4949EB0F805B495B5D495B49151F4949
140092C7FC495A485E485B5C485E485B4A5C48495B4815074849495A91C712FFB8FCA37E
31357CB43C>I E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fr cmbx12 20.74 19
/Fr 19 121 df<EE01F0EE07F8160F163F167FED01FF150F153F4AB5FC143F010FB6FCB8
FCA54A7E14C0EBF000C8FCB3B3B3B3AE007FBA12F0A8447171F061>49
D<92380FFFE04AB67E020F15F0027F15FE49B87E4917E0010F17F8013F8349D9C01F14FF
9027FFFC0001814801E06D6C80480180021F804890C86C8048486F8048486F8001FF6F80
4801C06E8002F081486D18806E816E18C0B5821BE06E81A37214F0A56C5BA36C5B6C5B6C
5B000313C0C690C9FC90CA15E060A34E14C0A21B80601B0060626295B55A5F624D5C624D
5C4D91C7FC614D5B4D13F04D5B6194B55A4C49C8FC4C5B4C5B4C13E04C5B604C90C9FCEE
7FFC4C5A4B5B4B5B4B0180EC0FF04B90C8FC4B5A4B5A4B48ED1FE0EDFFE04A5B4A5B4A90
C9FC4A48163F4A5ADA3FF017C05D4A48167F4A5A4990CA12FFD903FC160749BAFC5B4919
805B5B90BBFC5A5A5A5A481A005A5ABCFCA462A44C7176F061>I<923801FFFE033FEBFF
F84AB7FC020F16E0023F16F84A16FE49B97E49DA003F80010F01F0010714F04901800101
804948C880D97FF86F7F02E081496C834801FC6F148014FF486E6E14C08181481AE081A9
6C5C1BC06C4A5C6C5C6D90C815806D5AD90FF85D90CA150062606295B55A4D5C624D5C4D
5C4D91C7FC4D13FC4D5B4CB512E0047F1480037FB548C8FC92B612F818C018F8F0FF806F
15F092C7003F13FC050713FF050114C071807213F8727F727F867214801BC07214E01BF0
A27214F81BFCA37214FEA31BFFEBFF80000313E0487F001F13FC487FA2487FA2B67EA31B
FEA3601BFCA292C8FC6C1AF84A5D4A18F06C494B14E05C6C01C04B14C06C90C915804E14
006C6D4B5B6C01F092B55A6C01FC4A5C27007FFFC001075C6D01FE013F14C0010F90B85A
6D4DC7FC010117F8D9003F16E0020F93C8FC020015F0030749C9FC507378F061>I<F10F
F04F7E193FA2197F19FF60A260606060A2606095B5FCA25F5F5FA25F5F5F5F18BFEFFF3F
5EEE03FE17FCEE07F8160FEE1FF0EE3FE017C0167FEEFF804B13005E4B5A15074B5A4B5A
5E153F4B5A4B5A93C7FC4A5A14034A5A5D4A5A141F4A5A4A5A5D4AC8FC5B495A5C495A13
0F495A495A5C137F495A4890C9FC5B485A1207485A485A5B123F485A485A90BC12FCA8CB
02F8C7FCB3A20307B912FCA856727BF161>I<0170187001FEEF01F86D6C160F02F8167F
DAFF80EC07FF03FE49B5FC92B85A6262A26297C7FC61616119E061614EC8FC18F86018C0
95C9FC17F817C0020701F8CAFC91CDFCB0923801FFFC031FEBFFE092B612FC020315FF02
0F16C04A16F0027FD9003F7FDAFFF0010F13FE038001037F4AC76C8002F86E804A6F7F4A
6F7F4A834A6F7F91C980137E017C707F90CAFC1B80A21BC0A2841BE0A51BF0A313FE3803
FF80000F7F4813F0487F5A80B5FCA41BE0A44E14C05C7E4A18805C4A5D6C90C9150001E0
606C6C5E6D606C6C4C5B7F000794B55A6C6C6C4A5C6C6D4A5C6E4A5C26007FF8021F49C7
FC6DB4027F5B6DD9F007B55A6D90B712E0010317806D4CC8FC6D6C15F8021F15C002034A
C9FCDA003F13804C7376F061>I<94381FFF800403B512F8043F14FE4BB77E030782031F
16F0037F8292B5D8FC017F02039139C0001FFE4A49C7EA07FF021F01F8804A496E13804A
01C0140F91B548023F13C04991C85A494992B5FC49494A14E0495B495E5D5B495BA290B5
5A5A5D487114C0A24891C91480731300735A48F00FF896C8FC485BA45AA44849903803FF
E0041F13FE047FEBFFC04BB612F84B81030F15FFB590261FF8038092273FE0007F13E004
80011F7F4BC76C7F03FE6E7F4B6E7FDAFDF86E7FDAFFF017804B6E14C01BE05D7313F05D
1BF8A292C914FC85A21BFE5CA31BFFA26C5BA87EA4807EA21BFE7EA37E1BFC6E5E6C1AF8
A27E6F17F06C95B512E06D7F1BC06D6D4A14806D4C1400816D6D4A5B6D6D4A5B6D01FF4A
13F001006E017F5B6ED9F007B55A6E90B7C7FC020F5E020316F86E16E0DA003F15800307
02FCC8FCDB007F1380507378F061>I<F103F84F7E4F7EA24F7EA34F7FA24F7FA396B57E
A24E80A34E80A24E80A34E80A24E80A34E81A24E81A219BFDEFF9F80191F4D6D80A218FE
05036D8018FC05076D80A218F8050F6D8018F0051F6D80A260053F6E8060057F6E80A260
05FF6E8095C7FC4C6F80A25F04036F805F04076F80A25F040F6F805F041F6F80A25F043F
70805F047F7080A25F04FF708094C9FC4B7180A25E030371805E4BBB7EA34B86A24B86A3
DB3FE0CA6C805E037F7280A25E03FF7280A24A90CB6C80A25D02037380A24A487280A25D
020F7380A24B84021F885D023F7480A24B85027F895D902607FFFC7380B86C031FB912E0
A8837979F892>65 D<BDFC1CFEF4FFC01DF81DFF1EC01EF08AC7003F49C9000F14FE0901
80756C800A1F807680768076807680A27680A2777FA2208089A320C0A289A565A32080A3
531400A29AB55AA2525C6764525C525C525C525C5249C7FC51B55A090714F0093F14C008
07B6C8FC93BA12F81DC0651DFCF5FF801EF04CCA14FC0A3F13FF0A0F800A0314E0768076
14FC777F777F2080897714C020E0A27714F0A220F88920FCA47714FEA96520FCA45314F8
A26520F06520E05314C0659AB61280521500525C1C0F5214F899B65A09075DC05A9CC7FC
1EFC1EF01EC053C8FC1DE00AF8C9FC777679F58A>I<96267FFFE01670063FB6ED01F805
03B700F01403053F04FC14074CB96C130F040706E0131F043F72133F93BA00FC137F0303
DC00076D13FF030F03C09039003FFF814B02FCC8000713C3037F02E0030113F792B60080
6F6CB5FC02034ACA121F4A02F8834A02E0834A4A1701027F4A8391B548CC7E494A85495C
4C854988494A85494A85495C8A4991CDFC90B54886A2484A1B7FA2481E3F5D481E1F5D5A
1F0FA2485CA3481E075DA2F703F0489BC7FCA45DA2B6FCB27EA281A47EA2F703F06FF307
F87EA36C80A21F0F7E6F1CF07E6F1B1F7E20E06C6E1B3F816DF57FC06D80F7FF806D806D
6E4F13006D6E616D525A826D6E4F5A6D6E4F5A6E6D6C4E5A021F6EF0FFE06E6E4D5B6E02
F84D5B6E02FE050F90C7FC02006E6CEE3FFE6F02F0EEFFFC031F02FE03035B6FDAFFC002
1F13E0030303FF0103B55A030093B7C8FC043F18FC040718F0040118C0DC003F94C9FC05
0316F8DD003F1580DE007F01F0CAFC757A75F78C>I<92383FFFF80207B612E0027F15FC
49B87E010717E0011F83499026F0007F13FC4948C7000F7F90B502036D7E486E6D806F6D
80727F486E6E7F8486727FA28684A26C5C72806C5C6D90C8FC6D5AEB0FF8EB03E090CAFC
A70507B6FC041FB7FC0303B8FC157F0203B9FC021FECFE0391B612800103ECF800010F14
C04991C7FC017F13FC90B512F04814C0485C4891C8FC485B5A485B5C5A5CA2B5FC5CA360
A36E5DA26C5F6E5D187E6C6D846E4A48806C6D4A4814FC6C6ED90FF0ECFFFC6C02E09026
3FE07F14FE00019139FC03FFC06C91B6487E013F4B487E010F4B1307010303F01301D900
3F0280D9003F13FC020101F8CBFC57507ACE5E>97 D<97380FFFE00607B6FCA8F0000319
0086B3AD93383FFF800307B512F8033F14FF4AB712C0020716F0021F16FC027F9039FE00
7FFE91B500F0EB0FFF01030280010190B5FC4949C87E49498149498149498149498190B5
48814884484A8192CAFC5AA2485BA25A5C5AA35A5CA4B5FCAF7EA4807EA37EA2807EA26C
7F616C6E5D6C606C80616D6D5D6D6D5D6D6D92B67E6D6D4A15FC010301FF0207EDFFFE6D
02C0EB3FFE6D6C9039FC01FFF86E90B65A020F16C002031600DA007F14FC030F14E09226
007FFEC749C7FC5F797AF76C>100 D<93387FFF80030FB512FC037FECFF804AB712E002
0716F8021F16FE027FD9F8077F49B5D8C000804991C7003F13E04901FC020F7F49496E7F
49498049496E7F49496E7F90B55A48727E92C914804884485B1BC048841BE0485BA27313
F05AA25C5AA21BF885A2B5FCA391BAFCA41BF002F8CCFCA67EA3807EA47E806CF103F0F2
07F86C7F1A0F6C6E17F06C191F6F17E06C6E163F6D6DEE7FC06D6D16FF6D6D4B13806D6D
4B13006D6D6CEC0FFE6D02E0EC3FFC6D02F8ECFFF86D9126FFC00F5B023F91B65A020F17
8002034CC7FC020016F8031F15E0030392C8FCDB000F13E04D507BCE58>I<903801FFFC
B6FCA8C67E131F7FB3AD95380FFFE095B512FE05036E7E050F15E0053F15F84D81932701
FFF01F7F4CD900077FDC07FC6D80DC0FF06D80DC1FC07F4C48824CC8FC047E6F7F5EEDFD
F85E03FF707F5EA25EA25EA293C9FCA45DB3B3A6B8D8E003B81280A8617879F76C>104
D<EB01FCEB07FF011F13C0497F497F90B57EA24880A24880A76C5CA26C5CA26D5B6D5B6D
5B010790C8FCEB01FC90CAFCB2903801FFFC007FB5FCA8C67E131F7FB3B3B3A5B81280A8
297979F835>I<902601FFF891380FFFE0B692B512FE05036E7E050F15E0053F15F84D81
932701FFF01F7F4CD900077FDC07FC6D80C66CDA0FF06D80011FDA1FC07F6D4A48824CC8
FC047E6F7F5EEDF9F85E03FB707F5E15FF5EA25EA293C9FCA45DB3B3A6B8D8E003B81280
A8614E79CD6C>110 D<902601FFFCEC7FFEB6020FB512F0057F14FE4CB712C0040716F0
041F82047F16FE93B5C66C7F92B500F0010F14C0C66C0380010380011F4AC76C806D4A6E
8004F06F7F4C6F7F4C6F7F4C8193C915804B7014C0861DE0A27414F0A27414F8A47513FC
A57513FEAF5113FCA598B512F8A31DF0621DE0621DC0621D806F5E701800704B5B505B70
4B5B7092B55A04FC4A5C704A5C706C010F5C05E0013F49C7FC9227FE7FFC01B55A70B712
F0040F16C0040393C8FC040015F8053F14C0050301F0C9FC94CCFCB3A6B812E0A85F6F7A
CD6C>112 D<902601FFF8EB07FEB691383FFFC094B512F00403804C14FE4C8093261FFC
3F138093263FE07F13C0DC7F80B5FCC66C5D011FDAFE0114E06DEBF9FC16F815FB16F016
E015FF16C07114C05E72138095381FFE0093C76C5AF001E095C8FCA25DA65DB3B3A2B812
F8A8434E7ACD4F>114 D<15FFA75CA55CA45CA25CA25CA25CA25C91B5FCA25B5B5B131F
5B90B9FC120FBAFCA6D8000791C9FCB3B3A3F01FE0AE183F7014C07F187F7014806D16FF
826D4B13006E6D485AEEFE0F6E90B55A020F5D6E5D020115C06E6C5C031F49C7FC030113
F03B6E7CEC4B>116 D<007FB7023FB612F0A8D8000302C0020191C7FC6D6E9138007FF0
705E6D4E5A6E6D4A5B6E6D4A90C8FC6E6D5C704A5A6E4C5A6E6E5C6E6E495A6E6E495A71
13FF6E6E485B6F4A5B6F6D4890C9FC6F01FE5B71485A6FEC9FF86F14BF6FECFFF06F5D61
6F5D7091CAFC705B828470808270807080854C805E4C80854C804C81EE7FE7DCFFE3804B
01C1804B0180804D804B487F4B486D7F031F6E7F4B486D7F4B48824B487F4C6D804A496D
804A90C8804A844A48814A486F7F4A486F7F4B6F7F4A48844A486F80010F01F881B76C91
B712FEA85F4D7DCC66>120 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fs cmsl10 10.95 61
/Fs 61 123 df<EEFF80030F13F092383FC0789238FE001CDA03F8130E4A48133FDA1FE0
13FF4A5A4B5AEC7F005C5CEE00FE010115784A1400A513035CA4EE01FC0003B7FC17F8A2
3A0007F0000F1607A2130F4A14F0A4160F131F4A14E0A4161F133F4A14C0A4163F137F91
C71380A4167F5B491500A31201486C903801FF80B5D8F83F13FCA25D30407EBF33>12
D<127C12FEA27EA21380127FEA3FC0121FEA0FE01207EA03F0EA01F81200137C13381310
0E116CBE2D>18 D<EB0780EB0FC0131F133F137FEBFF801400EA01FC485A485A485AEA1F
8048C7FC127E12F812701260121166BE2D>I<EA0780EA1FE0123F13F0A6EA0F30120013
701360A213E013C0A21201EA038013005A120E120C121C5A5A5A5A0C1C71BE19>39
D<007FB5FCA2B512FEA418067C961E>45 D<121EEA3F80EA7FC012FFA41380EA7F00123C
0A0A788919>I<EC07F8EC3FFF9138FC0FC0903903F003E0903907C001F0D90F8013F849
C7FC013E14FC017E147C017C147E13FC485AA20003157F5B1207A2120F5BA2121F16FF5B
A2123FA44848EB01FEA648C7EA03FCA5ED07F8A25A16F0A2150F16E0A3ED1FC0A2168000
7E143F1600157E123E003F5C4A5AD81F805B000FEB07E06C6C485A2603F03FC7FC3800FF
FCEB1FE0283F79BC2D>48 D<157015F014011407143F903803FFE0137FEBFFCFEBF80F13
00141F15C0A5143F1580A5147F1500A55C5CA513015CA513035CA513075CA5130F5CA313
1F497EB612F8A31D3D78BC2D>I<EC01FE91380FFFE0023F13F89138FC07FC903901E001
FE903907C000FF49C7EA7F80011E15C0163F4915E05B0170141F13FF80A35A163FA26C90
C7FC137E0118EC7FC090C8FCEEFF80A24B1300A24B5A5E4B5A4B5A4B5A5E4B5A4BC7FC15
FEEC01F84A5A4A5A4A5A4AC8FC143E5C5CEB01E04948130E49485B49C7FC131E495C1370
5B48485C484814F0000FB6FC5A485D5AB7FC5EA22B3D7CBC2D>I<EC07FC91383FFF8091
38F80FE0903903C007F09039078003FC90380F0001011C14FE013C14FF137F1480EBFFC0
A31480A291380003FE137E90C7FCED07FC16F8150F16F0ED1FE016C0ED3F80ED7E005DEC
07F0903803FF8015F090380001FC6E7EED7F80ED3FC0A2ED1FE016F0A316F8A4120EEA3F
80486C133F16F012FFA216E0157F5B48C7EAFFC000F01580007049130012786C495A003E
EB07F86C495A390FE03FE00003B51280C649C7FCEB1FE0283F7ABC2D>I<161C163C167C
A216FCED01F815031507150FA2151DED3BF0157315E315C31401EC038391380707E0140E
141CA2143814709138E00FC0EB01C014801303EB0700130E49EB1F805B133013705B485A
4848EB3F0090C7FC5A120E5A5A48147E1260B8FCA3C73801FE00A25DA41403A25DA31407
4A7E0107B512F8A3283E7BBD2D>I<01061403D90780131F90390FF801FE91B512FC16F8
16F016E0168049EBFE0015F890381C7FC091C8FCA3133C1338A513781370A2EC1FE0ECFF
F8903873E03E9038FF001F01FCEB0F804914C049EB07E04914F049130390C7FC16F8A615
07A21206EA3F80487EA2150F00FF15F0A24914E090C7121F00FC15C000F0143F00701580
ED7F0012786C14FE4A5A6C495A390F800FE03907E03FC06CB5C7FCC613FCEB1FE0283F7A
BC2D>I<ED7F80913803FFE091380FC0F091383E003802FC131C495A494813FE903807E0
03EB0FC090381F8007133FD97F0013FC01FE1303ED01F0484890C7FC1203A2485AA2120F
5BA2001FEB3F809038E0FFE0393FE3C0F89038E7007C01EE7F01FC133F4848EB1F80A249
14C05B16E0A2485AA216F05BA2ED3FE0A290C7FCA4157F16C0A316804814FF007E150000
7F5C14016C5C4A5A6C6C485A4A5A6C6C485A2607E07FC7FC3803FFFEC613F8EB3FC0273F
78BC2D>I<EA0380120713E090B712805AA217005E485D5E001EC85A484A5A00385D1503
00784A5A00704AC7FC151E5D485CC8127015F04A5A4A5A4A5A4AC8FC140E141E5C147C14
785C1301495AA213075C130F495AA2133F91C9FC5BA25B5B1201A312035BA21207A3485A
A5121F5BA26C5AEA0780294074BD2D>I<EC03FC91381FFF8091387C07E0903901F001F0
903903C000F84948137C49C7123E131E013E141F133C137C137813F8A3163F486C143E16
7E6D147C6C6C14FC6E13F89138C001F09138F003E090397FF807C09138FC0F0090383FFF
3E6D13F86D13E06D7F01017F8101077F90391F1FFF80D93E0F13C0EBF8072601F00113E0
48486C13F04848137F4848131F001FEC0FF890C71207003E1403A2481401A300FC15F05A
A3ED03E0A26CEC07C0007C1580007E140F003EEC1F00003F143E6C6C5B6C6C485A3907F0
0FE00001B512806C6C48C7FCEB0FF0283F7ABC2D>I<EC07F8EC3FFE9138FC0F80903901
F007C0903907E003E0D90FC013F090381F8001013F14F8EB7F004914FC48481300A24848
EB01FEA21207A3485AA41503121F5BA31507A2000F15FC150FA2151F1207153F000315F8
6C6C137F000014EF90387C01CF90393E078FF090380FFE1FEB03F890C713E0A2ED3FC0A3
ED7F8016005D003F5C487E4A5A00FF495A5D4A5A49485A48495A007049C7FC0078137E38
3E03FC381FFFF06C13C0D801FEC8FC273F79BC2D>I<13F0EA01FC1203EA07FEA313FCA2
EA03F8EA01E0C7FCB3121EEA3F80EA7FC012FFA41380EA7F00123C0F2778A619>I<17E0
16011603831607A2160FA2161F83163FA2167F167716F7EEE7FCED01E316C31503168315
07EE03FEED0F01150E151E151C153C03387FED7800157015F05D4A4880177F4A5AA24AC7
FCA2020E81173F5C021FB6FC5CA20270C7EA3FE0171F5CA2495AA2494881170F49C8FCA2
130EA24982013C1507A2137CD801FE4B7E2607FF80EC3FFEB500F00107B512FC19F85E3E
417DC044>65 D<013FB7FC18E018FC903B007FE00007FE6E48903801FF809438007FC05D
F03FE0F01FF0A3027F16F892C8FCA54A16F04A153F19E0187F19C0F0FF8001014B13004A
4A5A4D5AEF1FF04D5ADC03FFC7FC49B612F8EFFF8002F8C7EA3FE0EF0FF0EF07FC717E01
0715014A81711380A319C0130F5CA5011F4B13805C19005F601707013F4B5A4A4A5A4D5A
4D5A017F913801FF8001FF020F90C7FCB812FC17F094C8FC3D3E7DBD40>I<DCFFC01338
030F01F01378037F01FC13F0913A01FF803F01913A07FC000781DA1FE0EB03C3DA7FC0EB
01E74AC812FF4948ED7FE0D907FC153F495A4948151F495A4948150F494816C018074890
C9FC485AA2485A000F1880491603121FA248481607A295C7FC485AA412FF5BA75BA2181C
183C1838A27F007F1778187018F0003F5F6D150160001F16036C6C4B5A95C7FC6C6C5D6C
6C151E6C6C5D6C6C15F86D6C495A6D6CEB07C0D91FF0EB1F80D907FE01FEC8FC0101B512
F86D6C13E0DA07FEC9FC3D4276BF42>I<013FB7FC18E018F8903B007FF0000FFE6E48EB
01FF9438007FC04B6E7E180F85727E727E147F4B6E7EA2727EA302FF178092C9FCA54918
C05CA41A8013034A5DA41A0013074A5DA261A24E5A130F4A5E180F61181F61011F4C5A5C
4E5A4EC7FC4D5A4D5A013F4B5A4A4A5AEF3FE0EF7F80017F4A48C8FC01FFEC1FFCB812F0
178004FCC9FC423E7DBD45>I<013FB812F8A39026007FF0C7127F6E48140F18034B1401
1800A31978147F4B1570A502FF147092C7FCA3190017F0495D4A1301A21607161F91B6FC
495DA29138FC003F160F1607160301075D5CA219E0180119C0010FEC07004A90C7120319
80A218071900011F5E5C181EA2183E183C013F167C4A15FC4D5A1707017F151F01FF4AB4
5AB9FCA2603D3E7DBD3E>I<013FB812E0A3903A007FF000016E48EB003F180F4B140718
03A31801147F4B15C0A514FF92C71270A395C7FC17F0495D5C160116031607161F49B65A
A39138FC003F160F160701075D4A1303A5010F4AC8FC5C93C9FCA4131F5CA5133F5CA313
7FEBFFF0B612F8A33B3E7DBD3B>I<4BB46C1370031F01F013F0037F9038FC01E0913A03
FF807E03913A0FF8000F83DA1FE0EB07C7DA7F80EB01EF4AC812FFD903FE16C04948157F
4948153F495A4948151F495A4948168091C9120F5A485AA2485A000F18004982121FA248
485EA295C7FC485AA412FF5BA6043FB512E05BA29339001FFC00715AA2607F127FA2171F
123F6D5EA2121F7F000F163F6C7E6C6C4B5A7F6C6C15FF6C6DEB01EFD93FC0EB07C7D91F
F0EB1F87D907FE9038FE03800101B5EAF8016D6C01E0C8FCDA07FEC9FC3C4276BF47>I<
013FB5D8F807B6FC04F015FEA29026007FF0C7380FFE006E486E5AA24B5DA4180F147F4B
5DA4181F14FF92C85BA4183F5B4A5EA491B8FC5B6102FCC8127FA318FF13074A93C7FCA4
5F130F4A5DA41703131F4A5DA41707133F4A5DA3017F150F496C4A7EB6D8E01FB512FC61
15C0483E7DBD44>I<011FB512FC5BA29039003FF8006E5AA25DA5143F5DA5147F5DA514
FF92C7FCA55B5CA513035CA513075CA5130F5CA5131F5CA3133F497E007FB512F0A2B6FC
263E7EBD21>I<013FB512FEA25E9026007FF8C8FCEC3FE0A25DA5147F5DA514FF92C9FC
A55B5CA513035CA513075CA21838A21870130F5CA218E0A3011F15014A15C01703A21707
EF0F80013F151F4A143F177FEFFF00017F140301FF143FB9FC5FA2353E7DBD39>76
D<90263FFFF093381FFFF85013F0629026007FF8EFF000023F4D5AA2023B933801DFC0A2
DA39FCED039FA2F1073F14790271040E5BEC70FE191C19381A7F02F01670DAE07F94C7FC
19E0A2F001C06201016D6C495A02C05FF00700A2180E6F6C14010103161C028003385BA2
18706F7EF0E00313070200DA01C05BA2923907F00380A294380700075B010E902603F80E
5C5FA25F190F011E6D6C5A011C605FA2EEFDC0DB00FF141F013C5D013860013C92C7FC01
7C5C01FE027E143F2607FF80017C4A7EB500FC037FB512E004785E4A1338553E7CBD53>
I<90263FFFE0023FB5FC6F16FEA29026003FF8020313C0021F030013004A6C157C023B16
3C6F15381439810238167802787FDA707F157082153F82031F15F002F07FDAE00F5D8215
078203031401010180DAC0015D82811780047F1303010315C04A013F5C17E0161F17F004
0F1307010715F891C7000791C7FC17FC160317FE04015B4915FF010E6E130E188E177F18
CEEF3FDE011E16FE011C6F5AA2170FA21707133C01386F5A133C017C150113FE2607FF80
1400B512FC18705C483E7DBD44>I<923803FF80031F13F09238FE01FE913903F0003FDA
0FC0EB1FC0DA3F80EB07E0027EC76C7E49486E7E49488149486E7E4948157F495A013F17
804948ED3FC049C9FCA24848EE1FE012035B000718F05B120FA2485A19F8123F5BA2127F
A219F04848163FA5F07FE0A35BF0FFC0A219805F19007F4D5A127F4D5A60003F160F6D5E
001F4C5A4D5A6C6C4B5A95C7FC6C6C15FE00034B5A6C6C4A5A6C6C4A5A017FEC1FC06D6C
495AD90FE001FEC8FC903903F807F80100B512C0DA0FFCC9FC3D4276BF47>I<013FB612
FEEFFFE018F8903B007FF0000FFC6E48EB01FF7113804BEC7FC0183F19E0F01FF0A2147F
5D19F8A402FFED3FF092C8FCA219E0A2F07FC05B4AEDFF8019004D5A4D5AEF0FF80103ED
3FE04A903801FF8091B648C7FC17F002FCCAFCA213075CA5130F5CA5131F5CA5133F5CA3
137F497EB612E0A25D3D3E7DBD3E>I<923803FF80031F13F09238FE01FE913903F8003F
DA0FE0EB1FC0DA3F806D7E4AC7EA03F0D901FC8149486E7E49486E7E010F824948814948
16804948ED3FC013FF91C9FC484817E00003171F5B000718F0A2485AA2485A19F8123FA2
5B127FA219F04848163FA519E0187F5BA219C018FF1980A24D1300A24D5A6C7E4D5A6000
3F160F037C5C6C6C48B4495A913A0783803FC0000F90260E01C05B9026F00C0049C7FC00
07011CEBE0FE2603F818EB61FCD801FCEC73F8D800FEEC77F0017FEC7FC0D93F985CD90F
FC01FEC8FC902703FE07F813030100B5FC91260FFC3C5B91C7FC180E163E181E043F137C
EF81FC17FF60A260A2705B60705B7048C7FCEE01F83D5276BF47>I<013FB612F017FF18
E0903B007FF0003FF86E48EB07FCEF01FE4B6D7EF07F8019C0183F19E0147F4B15F0A502
FFED7FE092C8FCA219C0F0FF80A2494B13004A5D4D5AEF0FF04D5AEF7F800103DA07FEC7
FC91B612F017809139FC0007E0EE03F8EE00FC0107814A147F717EA284A2130F5CA48401
1F157F5CA41902013F17075CA2F0F00F017F170E496C143FB600E0011F131C94380FF83C
4B01071378CA3801FFE09438003F8040407DBD43>I<9238FF80070207EBE00F021FEBF8
1E91387F00FE02FCEB1F3ED903F0EB0FFE49481307494813034AEB01FC49C7FC49140013
3E137E177C491578A57F1770A26D1500808080EB7FFEECFFE06D13FEEDFFC06D14F06D14
FC010380010080143F02031480DA003F13C015031500EE7FE0163F161FA2160F121CA316
07160F003C16C0A31780003E151F1700007E5D007F153E6D5C16FC01E0495AD87DF0495A
D8FCFCEB0FC03AF87F803F8027F01FFFFEC7FCD8E00713F839C0007FC030427BBF33>I<
0007B912F0A33C0FFE000FF8003F01F0160F01C04A13034848160190C7FC121EF000E048
141F5E1238A212781270153F5E5AA3C81600157F5EA515FF93C9FCA55C5DA514035DA514
075DA5140F5DA3141FEC7FFC0003B7FCA33C3D76BC42>I<B600E090B512FC4B15F8A200
0101C0C7000F13006C49EC03FCEF01F091C9FC60A317015A495EA417031203495EA41707
12074993C7FCA45F120F49150EA4171E121F49151CA4173C123F491538A31778177017F0
5F001F15015F16036D4A5A000F93C8FC5E6C6C141E6C6C5C000115F86C6C495A017FEB07
C090393FC03F8090260FFFFEC9FC010313F89038007FC03E4073BD44>I<B6020FB5FC19
FEA2000301E0020113E06C01809138007F8091C9EA7E006C173C18386E15781870017F16
F0604D5A804D5A133F4DC7FCA26E140E171E011F151C173C17386E1478010F15705FA24C
5A8001074A5AA24CC8FC5E6E130E0103141E161C163C16386E5B13015EA24B5A14FF6D49
5AA24BC9FC5D158EEC7F9E159C15B8A215F0143F5DA25DA26E5AA292CAFCA2140E404074
BD44>I<B6017FB5D88007B512804A1A00A2000701C0010101E0C713F06C90C80180EC3F
C06C48735A99C7FC057F150E1B1E6D191C6C1A3C1B3805FF15787214705E636EEB03BF01
7F4E5AEE073F505A040E7F051F4AC8FC161C6E170E013F143862167804706D5BEEF00F04
E05D90381FE00104C015F003035E0480140106F85B9226070007130302F05F010F010E15
0797C9FC5D190E4BEB03FC616E5A01075F5D61DAF9C014FE05015BECFB8002FF6F5A7F92
C75CA24A93CAFC835C606D5A605C604A15781870594074BD5D>I<010FB500F090B512F8
5B5FD9003F902680003F1300DA0FFEC7EA1FF84BEC0FE00207168096C7FC6E6C141E181C
6E6C143C606E6D5B4D5ADB7FC05B4D5A92383FE0074DC8FC92381FF01E171C6F6C5A5F92
3807FCF0EEFDE06FB45A5F6F90C9FCA26F7FA2707EA216FF4B7FED03DF9238079FF0ED0F
1F92380E0FF8151C92383C07FC15784B6C7EEC01E04B6C7EEC038002076D7F4AC7FC021E
6E7E5C02386E7E5C02F06E7E495A49486E7E130749486E7E497E017F4B7E2603FFF09138
3FFF80007F01FC49B512FEB55CA2453E7EBD44>I<B66C0103B51280A3000101F0C8EBF0
006C49ED7FC06D486FC7FC6E153E013F163C606D6C5D606D6C4A5A17036D6C4A5A95C8FC
6E140E0103151E5F6D6C14385F6D6D13F04C5ADA7FC05B4C5AEDE007023F49C9FC161E91
381FF01C5E91380FF8785E6E6C5AEDFDC015FF6E5B93CAFC6E5AA35DA21403A45DA21407
A45DA2140FA4141F4A7E013FB512F0A3413E75BD44>I<010FB712FEA39239C00007FCD9
1FFCC7EA0FF814F04AEC1FF00280EC3FE091C8EA7FC0013EEDFF80A2013C4A13004C5A49
4A5A4C5A13704C5A4C5A494A5A4C5AA290C74890C7FC4B5A4B5A4B5AA24B5A4B5A4B5A4B
5AA24A90C8FC4A5A4A5A4A5AA24A5A4A5A4A48EB01C04A5AEF03804990C7FC495A495A49
4814071800495A49485C495A495A171E4890C8123E485A4848157E484815FE4C5A484814
074848141F4848EB01FFB8FC5FA2373E7BBD38>I<1304130E131F137FEBFF803801F7C0
3803E3E03807C1F0EA0F00001E1378007C133C48131E12E048130C170E6DBE2D>94
D<EC7FC0903803FFF890380FC07E90383E003F496D7E01FF6D7E82A248140782A26C5A13
7890C7120FA25EA2EC03FF147F903807FF1FEB1FE0D97F805B3801FE00EA03F8485A4848
133F485A003F5D49EC81C048C7FCA2157F48ED03804814FFA2007F5B913903BF07009038
80073F3A3FC00E1F8E260FE03C13FC3A03FFF00FF83A007FC003E02A2A7CA82D>97
D<EE03F8ED01FFA3ED000F1607A217F0A4160FA217E0A4161FA217C0A491380FF03FECFF
FC902603F81F138090390FC007BF90391F8003FF90387E0001497F0001157F4848150048
5A120F5B001F5D485A5E5B127FA2150112FF90C75BA41503A25EA37E1507A26C4A5A7F00
1F141F6C6C133F6C6CEBFFF83B03F001EFFFC03900F80F8F90383FFE0FD90FF0EBE0002D
407ABE33>100 D<EC3FE0903801FFF8903807E07E90380F801F90393F000F80017E14C0
49EB07E0485A12034848EB03F0485AA2121F5B123FA248481307A290B6FCA2D8FF80C8FC
90C9FCA87EED01C015036C15806D1307001FEC0F006D131E000F5C6C6C5B6C6C485A3900
FC07C0D93FFFC7FCEB07F8242A7BA828>I<177C913907F803FE91393FFE0F8F9139FC0F
9C3F903901F007F8903907E003E0D90FC013F0011F903801F80C02801400133FD97F007F
A315035B495CA3017E495A5E150F6D5C6D495A90263F803EC7FCECC0FC903871FFF09038
E07F8091C9FC485AA47FA27F90B512F8EDFF806C15E016F86D8048B6FC3A07E0000FFED8
0F801300003FC8127F003E815A00FC815AA25E163EA25E6C15FC007C4A5A6C4A5A6CEC0F
C0D80FC0013FC7FC3903F801FCC6B512F0010F90C8FC303D7FA82D>103
D<147FEB3FFFA313017FA25CA513015CA513035CA4ED07F80107EB1FFF9139F0781FC091
38F1E00F9139F38007E0ECF70002FE14F0495A5CA25CA24A130F131F4A14E0A4161F133F
4A14C0A4163F137F91C71380A4167F5B491500A300015D486C491380B5D8F87F13FCA32E
3F7DBE33>I<1478EB01FE130314FFA25B14FE130314FCEB00F01400ACEB03F8EA01FF14
F0A2EA001F130FA314E0A5131F14C0A5133F1480A5137F1400A55B5BA4EA03FF007F13F0
A2B5FC183E7DBD1A>I<147FEB3FFFA313017FA25CA513015CA513035CA501070103B5FC
02F014FEA26F13F06F1380EEFE00010F14F84A485AED03C04B5A031FC7FC153E011F1378
4A5AECC3E0ECC7F0ECCFF814FF497F14F9ECE1FE14C04A7E4A7E4980017E133F82151F82
150F01FE8049130782A2000181486C49B4FCB5D8F03F13F04B13E0A2303F7EBE30>107
D<143FEB1FFF5BA213017FA214FEA5130114FCA5130314F8A5130714F0A5130F14E0A513
1F14C0A5133F1480A5137F1400A55B5BA4EA03FF007F13F8A2B5FC183F7DBE1A>I<9027
07F007F8EB03FCD803FFD91FFF90380FFF80913CE0781FC03C0FE09126E1E00FEBF0073E
001FE38007E1C003F090260FE700EBE38002EEDAF70013F802FC14FE02D85C14F84A5CA2
4A5C011F020F14074A4A14F0A5013F021F140F4A4A14E0A5017F023F141F91C74914C0A5
49027F143F4992C71380A300014B147F486C496DEBFFC0B5D8F87FD9FC3F13FEA347287D
A74C>I<903907F007F8D803FFEB1FFF9139E0781FC09138E1E00F3B001FE38007E09038
0FE70002EE14F014FC14D814F85CA24A130F131F4A14E0A4161F133F4A14C0A4163F137F
91C71380A4167F5B491500A300015D486C491380B5D8F87F13FCA32E287DA733>I<EC0F
F0ECFFFE903903F01F8090390FC007C049C66C7E013E6D7E01FC6D7E48488049147C0003
157E485A000F157F5B121FA2485AA2007F1680A2170048C85AA54B5AA25E5A6C4A5A7E4B
5A5E6C140F6C6C5C4B5A6C6C013EC7FC6C6C5B6C6C485A3900FC0FE090383FFF80D90FF8
C8FC292A7BA82D>I<91390FE003C0DAFFFC1380903903F81E0790390FE0070F90391F80
038FD97F0013DF01FE13014848903800FF00485A1207485A8248485C123F495CA2485AA2
150112FF90C75BA41503A25EA37E15077F003F4A5A151F6C6C133F6C6C137F000714FF39
03F003CF3A00FC0F8FE090383FFE0FEB0FF090C7FC151F5EA5153F5EA4157F4B7E023F13
FEA32A3A7AA730>113 D<903907F01F80D803FFEB7FE09138E1E1F09138E387F839001F
E707EB0FE614EE02FC13F002D813E09138F801804AC7FCA25C131FA25CA4133F5CA5137F
91C8FCA55B5BA31201487EB512FEA325287EA724>I<9138FF81C0010713E390381F807F
90397C003F8049131F4848130F5B00031407A248481400A27FA27F6D90C7FCEBFF8014FC
6C13FF6C14C015F06C6C7F011F7F13079038007FFE1403140100381300157EA2123C153E
157E007C147CA2007E147815F8007F495A4A5A486C485A26F9E01FC7FC38E0FFFC38C01F
E0222A7DA824>I<EB0380A4130791C7FCA25BA25BA2133EA2137E13FE12011207001FB5
12C0B6FCA2D801FCC7FCA312035BA512075BA5120F5BA41407001F130E13C0A4141E141C
1380A26D5AA2000F5B14F03807E1E03801FF80D8007EC7FC1A3978B723>I<01FE147F00
FFEC7FFF4914FEA20007140300031401A34914FCA4150312074914F8A41507120F4914F0
A4150F121F4914E0A2151FA3153F4914C0157F15FFEC01DF3A0FC003BFE09138073FFF38
03F01E3801FFF826003FE01380282977A733>I<B539E007FFF05D17E02707FE00031300
6C48EB01FC6F5A5E00014A5A5EA24B5A6D1307000092C7FC5D150E6D5B7F5DA25D148001
3F5B14815D14C3011F5B02C7C8FCA214CE14EEEB0FFCA25CA26D5A5CA25CA26D5A2C2878
A630>I<90B539E007FFF05E18E0902707FE000313006D48EB01FC705A5F01014A5A5F16
036E5C0100140794C7FC160E805E805E1678ED8070023F13F05EED81C015C191381FC380
15C793C8FC15EF15EEEC0FFCA25DA26E5AA25DA26E5A5DA24AC9FC5C140E141E141C5C12
1C003F5B5A485B495A130300FE5B4848CAFCEA701EEA783CEA3FF0EA0FC0343A80A630>
121 D<017FB512FEA2ECC00190397E0003FC49EB07F849EB0FF049EB1FE049EB3FC0ED7F
8000011500495B4A5A4A5A4848485A4A5AC7485A4A5A5D147F4AC7FC495A495A49481370
494813E0495A5C133F90387F8001D9FF0013C0485A48481303485A4848EB078049130F48
48131F003F143F397F8001FFB71200A227277EA628>I E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Ft cmmi10 10.95 25
/Ft 25 121 df<121EEA7F80A2EAFFC0A4EA7F80A2EA1E000A0A798919>58
D<121EEA7F8012FF13C0A213E0A3127FEA1E601200A413E013C0A312011380120313005A
120E5A1218123812300B1C798919>I<ED0180ED03C01507A21680150FA216005DA2151E
153EA2153C157CA2157815F8A25D1401A25D1403A25D1407A25D140FA24AC7FCA2141E14
3EA2143C147CA2147814F8A25C1301A25C1303A25C1307A25C130FA291C8FC5BA2131E13
3EA25BA2137813F8A25B1201A25B1203A25B1207A25B120FA290C9FC5AA2121E123EA212
3C127CA2127812F8A25A1260225B7BC32D>61 D<126012F8B4FCEA7FC0EA1FF0EA07FCEA
01FF38007FC0EB1FF0EB07FCEB01FF9038007FC0EC1FF0EC07FCEC01FF9138007FC0ED1F
F0ED07FCED01FF9238007FC0EE1FF0EE07FCEE01FF9338007FC0EF1FF0EF07F8EF01FCA2
EF07F8EF1FF0EF7FC0933801FF00EE07FCEE1FF0EE7FC04B48C7FCED07FCED1FF0ED7FC0
4A48C8FCEC07FCEC1FF0EC7FC04948C9FCEB07FCEB1FF0EB7FC04848CAFCEA07FCEA1FF0
EA7FC048CBFC12FC1270363678B147>I<49B56C49B512F81BF0A290C76D9039000FFE00
4AEE03F0705D735A03DF150302037F038F5E82190791380787FC030793C7FC1503705C14
0F91260E01FF140EA26F151E021E80021C017F141C83193C023C6D7E02381638161F7113
78147802706D6C1370A2040714F002F0804A01035C8318010101EC01FF4A5E8218831303
4A91387FC380A2EF3FC7010716E791C8001F90C8FC18F718FF4981010E5E1707A2131E01
1C6F5AA2013C1501137C01FE6F5AEA03FFB512FC187818704D3E7DBD49>78
D<EC1F80ECFFE0903903F0707090390FC039F890381F801D90383F000F017E5C5B000114
07485A48485CA2485A001F140F5E485AA2151F007F5D5BA2153F00FF92C7FC90C7FCA25D
92387E03805AA215FEEDFC07007E0101140014035E6C0107130E140E3A1F801C7C1C000F
13783A07C1F03E383A01FFC01FF03A007F0007C029297DA730>97
D<EC07F0EC7FFE903801FC0F903907E0038090390FC001C0D93F8013E090387F000701FE
131F485A485A16C0485A000F15804990C7FC121F485AA3127F5BA312FF90C9FCA6007E15
60007F15E01501ED03C06CEC07806DEB0F00001F141E6C6C137C3907E001F03901F01FC0
6CB5C7FCEB1FF023297DA727>99 D<EE07F0ED03FF17E0A2ED000FA217C0A2161FA21780
A2163FA21700A25EA2167EA216FEA25EEC1F80ECFFE1903803F07190390FC039F890381F
801D90383F000F137E495C00011407485A485A5E485A001F140FA248485CA2151F127F49
5CA2153F12FF90C790C7FCA25DEE038048147EA215FE1607007ED901FC130014035E6C01
07130E140E3A1F801C7C1C000F13783A07C1F03E383A01FFC01FF03A007F0007C02C407D
BE2F>I<EC1FE0ECFFFC903803F01E90380FC00F90393F800780D97E0013C0491303EA03
F8120749130748481480121F49130F003FEC1F00153E397F8001FCEC1FF090B51280B500
F8C7FC90C9FCA45AA616C01501007E1403ED07806CEC0F00151E6C5C6C6C13F83907C003
E03903E03F802600FFFEC7FCEB3FE022297CA72A>I<163EEEFFC0923803E1E0923807C0
F0ED0F811687ED1F8F160F153FA217E092387E038093C7FCA45DA514015DA30103B512FC
A390260003F0C7FCA314075DA4140F5DA5141F5DA4143F92C8FCA45C147EA414FE5CA413
015CA4495AA35CEA1E07127F5C12FF495AA200FE90C9FCEAF81EEA703EEA7878EA1FF0EA
07C02C537CBF2D>I<EC01F8EC0FFE91383F07879139FC03DF80903801F801903903F000
FFEB0FE04948EB7F005C133F49C7FC49147E5B000115FEA248485CA215011207495CA215
03120F495CA21507A25E5B0007140FA24B5A6D133F0003147F000114FF6D485B0000EB03
DF90387E0F3FEB1FFCD907F090C7FC90C7FC5DA2157EA215FEA25D001C1301007F5C4813
035D4A5A4A5A48495A00F8017EC8FC387E01FC381FFFE0000390C9FC293B7FA72B>I<EB
01FC13FF5CA21303A25CA21307A25CA2130FA25CA2131FA25CA2133FA291C9FC15FE9039
7F07FFC091381F03E090397E3801F09138F000F8EBFFE04A7F5C91C7FC485AA25BA24848
13015E5BA2000714035E5B1507120F5E49130F5E121F031F1370491480A2003F023F13F0
EE00E090C7FC160148023E13C01603007E1680EE070000FE5DED1F1E48EC0FF80038EC03
E02C407CBE34>I<143C14FEA21301A314FCEB00701400AD137E3801FF803803C7C0EA07
03000F13E0120E121C13071238A2EA780F007013C0A2EAF01F14801200133F14005B137E
A213FE5BA212015B0003130E13F0A20007131EEBE01CA2143CEBC0381478147014E013C1
3803E3C03801FF00EA007C173E7EBC1F>I<EB01FC13FF5CA21303A25CA21307A25CA213
0FA25CA2131FA25CA2133FA291C9FC16FC49EB03FE92380F0780017EEB3C0FED703F01FE
13E0913801C07F9038FC0380EC07000001010E14004A131C494890C7FC5C00035BEBF9C0
495A01FFC9FC5A14F0EBE3FE9038E07F80000FEB1FC06E7EEBC00781001F1303160E1380
A2003F151E0207131C010013E0A2485DA2007E01031378167000FE01015B15F148903800
7F800038023EC7FC29407CBE2F>107 D<01F8D907F0EB07F8D803FED93FFEEB1FFE2807
8F80F81FEB781F3E0F0F81C00F81E00F803E0E07C78007C3C007C0001CD9CF00EBC78002
FEDAEF007F003C4914FE0038495C49485C12780070495CA200F0494948130F011F600000
495CA2041F141F013F6091C75B193F043F92C7FC5B017E92C75A197E5E01FE9438FE01C0
49027E14FCA204FE01011303000106F81380495CF20700030115F00003190E494A151E1A
1C03035E0007943800F8F0494AEC7FE0D801C0D900E0EC1F804A297EA750>109
D<01F8EB0FF0D803FEEB3FFC3A078F80F03E3A0F0F83C01F3B0E07C7800F80001CEBCF00
02FE80003C5B00385B495A127800705BA200F049131F011F5D00005BA2163F013F92C7FC
91C7FC5E167E5B017E14FE5EA201FE0101EB03804914F8A203031307000103F013005B17
0E16E000035E49153C17385F0007913801F1E0496DB45AD801C0023FC7FC31297EA737>
I<EC07F8EC7FFE903901FC0F80903907E007E090390FC003F090393F8001F8EB7F0001FE
EB00FC485A484814FEA2485A120F5B001F15FF485AA2ED01FE127F5BA2150300FF15FC90
C7FCA2ED07F8A2ED0FF0A2007E15E0007FEC1FC0ED3F80A26CEC7F006C6C13FC4A5A6C6C
485A3907E00FC02601F03FC7FC3800FFFCEB1FE028297DA72C>I<D907C013FE903A0FF0
03FF80903A1C7C0F07E0903A383C1C03F0903A783E7801F80170EBF0009026F03FE013FC
01E05B4B13FE0001017F147E01C090C7FC147E17FF000313FEA2C75AA201015C17FE5CA2
0103140317FC5CA20107EC07F8A24A14F0160F010F15E0161F17C0EE3F80011F15006E13
7E5E9138B801F890393FBC03E091389E0FC0DA07FFC7FCEC01F849C9FCA2137EA213FEA2
5BA21201A25BA21203A2B512E0A3303A84A72E>I<91381F800C9138FFE01C903903F070
7C90390FC0387890391F801CF890383F000F137E4914F000011407485A485A16E0485A12
1F150F484814C0A3007F141F491480A300FF143F90C71300A35D48147EA315FE007E495A
1403A26C13074A5A381F801D000F13793807C1F33901FFC3F038007F03130014075DA314
0F5DA3141F5DA2143F147F90381FFFFE5BA2263A7DA729>I<D801F0EB3F80D807FCEBFF
E03A0F1F03C0F0000E90380F00F8391E0F9E03001C13BC003CEBF807003813F0A226781F
E013F000709038C001C092C7FC5C12F0133F000090C8FCA35B137EA313FE5BA312015BA3
12035BA312075BA3120F5BEA038025297EA729>I<EC1FC0ECFFF8903803E03C90380780
0E90381E0007168049130F49131F153FA201F81400A2151C6D90C7FC7FEBFFE014FE9038
7FFFC06D7F6D13F86D7F13039038001FFE14031400157E000C143E123F487EA248C7123C
A25D12FC00F05C0070495A0078495A6C495A260F803EC7FC3803FFF838007FC021297CA7
2B>I<147014FC1301A25CA21303A25CA21307A25CA2130FA25CA2007FB512F0B6FC15E0
39001F8000133FA291C7FCA25BA2137EA213FEA25BA21201A25BA21203A25BA21207EC01
C013E01403000F1480A2EBC0071500140E141E5C000713385C3803E1E03801FF80D8003E
C7FC1C3A7EB821>I<137C48B4EC03802603C7C0EB0FC0EA0703000F7F000E151F121C01
0715801238163FEA780F0070491400A2D8F01F5C5C0000157E133F91C712FEA2495C137E
150113FE495CA215030001161C4914F0A21507173CEEE038150F031F1378000016706D13
3F017C017313F0017E01E313E0903A3F03C1F1C0903A0FFF007F80D901FCEB1F002E297E
A734>I<017E147848B4EB01FC2603C7C013FED807031303000F13E0120E121C01071301
00381400167ED8780F143E00705B161EEAF01F4A131C1200133F91C7123C16385B137E16
7801FE14705B16F016E0120149EB01C0A2ED0380A2ED0700A20000140E5D6D133C017C5B
6D5B90381F03C0903807FF80D901FCC7FC27297EA72C>I<D901F8133FD907FEEBFFE090
3A1E0F83C0F0903A3807C780F890397003CF0301E013FED801C0EBFC071203018013F8D8
070015F0EE01C0000E4AC7FCA2001E1307A2C75BA2140F5DA3141F5DA3143F92380001C0
A34A1303001E1680003F017E1307267F80FE14005ED8FF81141ED901DF131CD8FE035C3A
7C078F80F03A3C0F07C1E03A1FFC03FF802707F0007EC7FC2D297EA734>120
D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fu cmtt10 10.95 91
/Fu 91 127 df<121C127FEAFF80B3EA7F00B2123EC7FCA8121C127FA2EAFF80A3EA7F00
A2121C09396DB830>33 D<00101304007C131F00FEEB3F80A26C137FA248133FB2007E14
00007C7F003C131E00101304191C75B830>I<903907C007C0A2496C487EA8011F131FA2
02C05BA3007FB7FCA2B81280A36C16006C5D3A007F807F80A2020090C7FCA9495BA2003F
90B512FE4881B81280A36C1600A22701FC01FCC7FCA300031303A201F85BA76C486C5AA2
29387DB730>I<EB07E0EB1FF8497E137F497E803801FC7F497E810003131F13F0A6143F
92C8FC91387F0FFF9026F87E1F1380000113FEEBF9FC13FB4A6C1300D9FFF013C06C13E0
151F02C05BEB7F809038FF003F4892C7FC485C48EB807E5A15FE391FDFC0FC383F8FE014
E1397F07F1F8EB03F300FEEBFBF0EB01FF5D7FEDC006027F130F91393F801F8015C06C13
7F6CEBFFE049EBF83F018701FC1300263FFFFBB5FC6C01F15B14E06C9038C03FFC000390
38001FF8D801FCEB07E0293A7DB830>38 D<EA07C0EA0FF0EA1FF8A213FCA213FE120F12
07EA007EA513FE13FCA2120113F81203EA07F0120FEA1FE0127FEAFFC013801300127C12
380F1D70B730>I<141E147F14FF5BEB03FEEB07FCEB0FF0EB1FE0EB3FC0EB7F80EBFF00
485A5B12035B485A120F5BA2485AA2123F5BA2127F90C7FCA412FEAD127FA47F123FA27F
121FA26C7EA27F12076C7E7F12017F6C7EEB7F80EB3FC0EB1FE0EB0FF0EB07FCEB03FEEB
01FF7F147F141E184771BE30>I<127812FE7E7F6C7E6C7EEA0FF06C7E6C7E6C7E6C7EEB
7F80133F14C0131FEB0FE014F01307A2EB03F8A214FC1301A214FE1300A4147FAD14FEA4
130114FCA2130314F8A2EB07F0A2130F14E0EB1FC0133F1480137FEBFF00485A485A485A
485AEA3FE0485A485A90C7FC5A1278184778BE30>I<14E0497E497EA60038EC0380007E
EC0FC0D8FF83EB3FE001C3137F9038F3F9FF267FFBFB13C06CB61280000FECFE00000314
F86C5C6C6C13C0011F90C7FC017F13C048B512F04880000F14FE003FECFF80267FFBFB13
C026FFF3F913E09038C3F87F0183133FD87E03EB0FC00038EC0380000091C7FCA66D5A6D
5A23277AAE30>I<143EA2147FAF007FB7FCA2B81280A36C1600A2C76CC8FCAF143EA229
297DAF30>I<EA03E0EA0FF0EA1FF813FCEA3FFEA213FFA27EA27E1203EA007FA2137E13
FEEA01FC1203EA07F8EA3FF0127FEAFFE0EA7F801300123C1019708B30>I<007FB612F0
A2B712F8A36C15F0A225077B9E30>I<120FEA3FC0EA7FE0A2EAFFF0A4EA7FE0A2EA3FC0
EA0F000C0C6E8B30>I<16F01501ED03F8A21507A2ED0FF0A2ED1FE0A2ED3FC0A2ED7F80
A2EDFF00A24A5AA25D1403A24A5AA24A5AA24A5AA24A5AA24A5AA24AC7FCA2495AA25C13
03A2495AA2495AA2495AA2495AA2495AA249C8FCA2485AA25B1203A2485AA2485AA2485A
A2485AA2485AA248C9FCA25AA2127CA225477BBE30>I<14FE903807FFC0497F013F13F8
497F90B57E48EB83FF4848C6138049137F4848EB3FC04848EB1FE049130F001F15F04913
07A24848EB03F8A290C712014815FCA400FEEC00FEAD6C14016C15FCA36D1303003F15F8
A26D1307001F15F0A26D130F6C6CEB1FE0A26C6CEB3FC06C6CEB7F806D13FF2601FF8313
006CEBFFFE6D5B6D5B010F13E06D5BD900FEC7FC273A7CB830>I<EB03C0497EA2130FA2
131FA2133F137F13FF1203123FB5FCA213EF138FEA7E0F1200B3B0003FB512F84814FCB6
12FEA26C14FC6C14F81F3977B830>I<EB07FC90383FFFC090B512F00003804814FE4880
261FF80F1380263FE00113C09038C0007F4848EB3FE090C7121FED0FF04814075A6C15F8
1503A3127E1218C8FCA2150716F0150F16E0151F16C0153FED7F8015FF4A13005DEC07FC
4A5A4A5A4A5A4A5A4A5A4990C7FC495A495AEB0FF0EB3FE0495A495A4890C8FC4848EB01
F04848EB03F8485AEA1FE048B6FCB7FCA37E6C15F025397BB830>I<EB03FF013F13E090
B512F84814FE4880481580260FFE0113C09038F0007F4848EB1FE0150F16F01507A26C5A
6C5AC8FC150F16E0A2151FED3FC0157FEDFF8002071300903807FFFE495B5D8115FF6D14
80D9000113C09138003FE0ED1FF0ED07F8150316FC150116FE1500A21218127EB4FCA215
0116FC4814036C15F86C6C13076DEB1FF0D83FF0133F3A1FFE01FFE06CB612C06C15806C
ECFE00C65C013F13F001031380273A7CB830>I<EC03FC4A7E140F141FA2143F147F157E
14FEA2EB01FCEB03F8A2EB07F0A2EB0FE0EB1FC0A2EB3F80A2EB7F0013FEA2485A485AA2
485AA2485A485AA2485AA248C7FC12FEB8FC1780A46C1600C8007EC7FCAA91387FFFFE91
B6FCA46E5B29397DB830>I<000FB612804815C05AA316800180C8FCAEEB83FF019F13C0
90B512F015FC8181D9FE0313809039F0007FC049133F0180EB1FE06CC7120F000E15F0C8
1207A216F81503A31218127EA2B4FC150716F048140F6C15E06C141F6DEB3FC06D137F3A
3FE001FF80261FFC0F13006CB55A6C5C6C5C6C14E06C6C1380D90FFCC7FC25397BB730>
I<EC0FF8EC7FFF49B51280010714E0131F4914F090387FF80F9039FFC007F84813803803
FE005B485A4848EB03F0ED01E0484890C7FC5B123F5BA2127FEB000C903803FFE0010F13
F8D8FF3F13FE48B6FCB7128016C09039FE007FE001F8EB1FF001E0130F49EB07F849EB03
FCA290C7120116FE1500A37EA46C7E15016D14FC121F6D1303000FEC07F86D130F6C6CEB
1FF06DEB3FE03A03FF81FFC06C90B512806C15006D5B011F13F8010713E001011380273A
7CB830>I<127CB712FC16FEA416FC48C7EA0FF816F0ED1FE0007CEC3FC0C8EA7F80EDFF
00A24A5A4A5A5D14075D140F5D4A5AA24A5AA24AC7FCA25C5C13015CA213035CA213075C
A4495AA6131F5CA96D5A6DC8FC273A7CB830>I<49B4FC011F13F0017F13FC90B57E0003
ECFF804815C048010113E03A1FF8003FF049131FD83FC0EB07F8A24848EB03FC90C71201
A56D1303003F15F86D13076C6CEB0FF06C6CEB1FE0D807FCEB7FC03A03FF83FF806C90B5
12006C6C13FC011F13F0497F90B512FE48802607FE0013C0D80FF8EB3FE0D81FE0EB0FF0
4848EB07F8491303007F15FC90C712014815FE481400A66C14016C15FC6D1303003F15F8
6D1307D81FF0EB1FF06D133F3A0FFF01FFE06C90B512C06C1580C6ECFE006D5B011F13F0
010190C7FC273A7CB830>I<49B4FC010F13E0013F13F890B57E4880488048010113803A
0FFC007FC0D81FF0EB3FE04848131F49EB0FF048481307A290C7EA03F85A4815FC1501A4
16FEA37E7E6D1303A26C6C13076C6C130F6D133FD80FFC13FF6CB6FC7E6C14FE6C14F901
3FEBE1FC010F138190380060011400ED03F8A2150716F0150F000F15E0486C131F486CEB
3FC0157FEDFF804A1300EC07FE391FF01FFC90B55A6C5C6C5C6C1480C649C7FCEB3FF027
3A7CB830>I<120FEA3FC0EA7FE0A2EAFFF0A4EA7FE0A2EA3FC0EA0F00C7FCAF120FEA3F
C0EA7FE0A2EAFFF0A4EA7FE0A2EA3FC0EA0F000C276EA630>I<EA03C0EA0FF0EA1FF8A2
EA3FFCA4EA1FF8A2EA0FF0EA03C0C7FCAFEA03C0EA0FF0121F13F8123F13FCA3121FA212
0F12031200120113F8120313F01207EA1FE0123FEA7FC0EAFF80EA7F00127E12380E3470
A630>I<16F01503ED07F8151F157FEDFFF014034A13C0021F138091383FFE00ECFFF849
5B010713C0495BD93FFEC7FC495A3801FFF0485B000F13804890C8FCEA7FFC5BEAFFE05B
7FEA7FF87FEA1FFF6C7F000313E06C7F38007FFC6D7E90380FFF806D7F010113F06D7FEC
3FFE91381FFF80020713C06E13F01400ED7FF8151F1507ED03F01500252F7BB230>I<00
7FB7FCA2B81280A36C16006C5DCBFCA7003FB612FE4881B81280A36C1600A229157DA530
>I<1278127EB4FC13C07FEA7FF813FEEA1FFF6C13C000037F6C13F86C6C7EEB1FFF6D7F
010313E06D7F9038007FFC6E7E91380FFF806E13C0020113F080ED3FF8151F153FEDFFF0
5C020713C04A138091383FFE004A5A903801FFF0495B010F13804990C7FCEB7FFC48485A
4813E0000F5B4890C8FCEA7FFE13F8EAFFE05B90C9FC127E1278252F7BB230>I<EB1FFE
90B512E0000314F8000F14FE4880481580267FF80313C09038C0007F48C7121F16E0150F
A3127E151F0018EC7FC0C812FF020313804A13004A5AEC1FF84A5AEC7FC04A5A92C7FC49
5AA2495A5CA213075CA86D5A90C9FCA8EB01C0EB07F0A2497EA36D5AA2EB01C023397AB8
30>I<EC1FE0ECFFF8010313FE010F7F4914804914C090397FF03FE09038FF800F489038
0007F0D803FC13033A07F801FBF89038F007FF380FE01F4A13FCEA1FC0495A003FEBFF0F
903800FE07903901FC03FE007FEBF801EA7E03ECF000A2EAFE0700FC49137EAA00FE6D13
FED87E0314FCA2ECF801D87F0114F8003FEBFC03903900FE07F0903880FF0F001F90387F
FFE06D6C13C0EA0FE06E13803A07F007FE009038F801F86C6CC7127C6CB414FE6CEB8003
90387FF01F6DB512FC6D14F86D14E0010314C00100EBFE00EC1FF0273A7CB830>I<147F
4A7EA2497FA4497F14F7A401077F14E3A3010F7FA314C1A2011F7FA490383F80FEA59038
7F007FA4498049133F90B6FCA34881A39038FC001F00038149130FA4000781491307A2D8
7FFFEB7FFFB56CB51280A46C496C130029397DB830>I<007FB512F0B612FE6F7E82826C
813A03F8001FF815076F7E1501A26F7EA615015EA24B5A1507ED1FF0ED7FE090B65A5E4B
C7FC6F7E16E0829039F8000FF8ED03FC6F7E1500167FA3EE3F80A6167F1700A25E4B5A15
03ED1FFC007FB6FCB75A5E16C05E6C02FCC7FC29387EB730>I<91387F803C903903FFF0
3E49EBFC7E011F13FE49EBFFFE5B9038FFE07F48EB801F3903FE000F484813075B484813
03A2484813015B123F491300A2127F90C8FC167C16005A5AAC7E7EA2167C6D14FE123FA2
7F121F6D13016C6C14FCA26C6CEB03F86D13076C6CEB0FF03901FF801F6C9038E07FE06D
B512C06D14806D1400010713FC6D13F09038007FC0273A7CB830>I<003FB512E04814FC
B67E6F7E6C816C813A03F8007FF0ED1FF8150F6F7E6F7E15016F7EA2EE7F80A2163F17C0
161FA4EE0FE0AC161F17C0A3163F1780A2167F17005E4B5A15034B5A150F4B5AED7FF000
3FB65A485DB75A93C7FC6C14FC6C14E02B387FB730>I<007FB7FCB81280A47ED803F8C7
123FA8EE1F0093C7FCA4157C15FEA490B5FCA6EBF800A4157C92C8FCA5EE07C0EE0FE0A9
007FB7FCB8FCA46C16C02B387EB730>I<003FB712804816C0B8FCA27E7ED801FCC7121F
A8EE0F8093C7FCA5153E157FA490B6FCA69038FC007FA4153E92C8FCAE383FFFF8487FB5
FCA27E6C5B2A387EB730>I<02FF13F00103EBC0F8010F13F1013F13FD4913FF90B6FC48
13C1EC007F4848133F4848131F49130F485A491307121F5B123F491303A2127F90C7FC6F
5A92C8FC5A5AA892B5FC4A14805CA26C7F6C6D1400ED03F8A27F003F1407A27F121F6D13
0F120F7F6C6C131FA2D803FE133F6C6C137FECC1FF6C90B5FC7F6D13FB010F13F30103EB
C1F0010090C8FC293A7DB830>I<3B3FFF800FFFE0486D4813F0B56C4813F8A26C496C13
F06C496C13E0D803F8C7EAFE00B290B6FCA601F8C7FCB3A23B3FFF800FFFE0486D4813F0
B56C4813F8A26C496C13F06C496C13E02D387FB730>I<007FB6FCB71280A46C15002600
07F0C7FCB3B3A8007FB6FCB71280A46C1500213879B730>I<D83FFF90380FFF80486D48
13C0B56C5AA26C497E6C496C1380D803F0903803F8004B5A4B5A151F4B5A5E4BC7FC15FE
14014A5A5D4A5A4A5A141F5D4A5A4AC8FC5C13F18101F37F13F790B57E14EFECC7F01483
EC03F8140101FE7F496C7E5B157F497F82151F82150F826F7EA26F7E1501821500D83FFF
903803FFC0486D4813E0B56C5AA26C497E6C496C13C02B387FB730>75
D<383FFFF8487FB57EA26C5B6C5BD801FCC9FCB3B0EE0F80EE1FC0A9003FB7FC5AB8FCA2
7E6C16802A387EB730>I<D83FF8ECFFE0486C4913F0486C4913F8A2007F16F06C6C4913
E00007160001EF14BFEC800FA39039E7C01F3FA4ECE03F01E3133EA2ECF07EA201E1137C
A2ECF8FCA201E013F8A214FDEC7DF0A3147FEC3FE0A3EC1FC0A2EC070091C7FCADD83FFC
903801FFE0486C4913F0B54913F8A26C486D13F06C486D13E02D387FB730>I<D83FFC90
381FFF80486C4913C0B54913E0A26C6D6C13C06C6E13800003913801F800EBF7C0A3EBF3
E0A314F013F1A214F8A213F014FCA2147C147EA2143E143FA2141FA21581A2140F15C1A2
140715E1A2140315F1A21401A215F91400A3157DA3153FEA3FFF481380B5EAC01FA26CEB
800F6C496C5A2B387EB730>I<90383FFFE048B512FC000714FF4815804815C04815E0EB
F80001E0133FD87F80EB0FF0A290C71207A44815F8481403B3A96C1407A26C15F0A36D13
0FA26D131F6C6CEB3FE001F813FF90B6FC6C15C06C15806C1500000114FCD8003F13E025
3A7BB830>I<007FB512F0B612FE6F7E16E0826C813903F8003FED0FFCED03FE15016F7E
A2821780163FA6167F17005EA24B5A1503ED0FFCED3FF890B6FC5E5E16804BC7FC15F001
F8C9FCB0387FFFC0B57EA46C5B29387EB730>I<90383FFFE048B512FC000714FF481580
4815C04815E0EBF80001E0133F4848EB1FF049130F90C71207A44815F8481403B3A8147E
14FE6CEBFF076C15F0EC7F87A2EC3FC7018013CF9038C01FFFD83FE014E0EBF80F90B6FC
6C15C06C15806C1500000114FCD8003F7FEB00016E7EA21680157F16C0153F16E0151F16
F0150FED07E025467BB830>I<003FB57E4814F0B612FC15FF6C816C812603F8017F9138
003FF0151F6F7E15071503821501A515035E1507150F4B5A153F4AB45A90B65A5E93C7FC
5D8182D9F8007FED3FE0151F150F821507A817F8EEF1FCA53A3FFF8003FB4801C0EBFFF8
B56C7E17F06C496C13E06C49EB7FC0C9EA1F002E397FB730>I<90390FF803C0D97FFF13
E048B512C74814F74814FF5A381FF80F383FE001497E4848137F90C7123F5A48141FA215
0FA37EED07C06C91C7FC7F7FEA3FF0EA1FFEEBFFF06C13FF6C14E0000114F86C80011F13
FF01031480D9003F13C014019138007FE0151FED0FF0A2ED07F8A2007C140312FEA56C14
0716F07F6DEB0FE06D131F01F8EB3FC001FF13FF91B51280160000FD5CD8FC7F13F8D8F8
1F5BD878011380253A7BB830>I<003FB712C04816E0B8FCA43AFE003F800FA8007CED07
C0C791C7FCB3B1011FB5FC4980A46D91C7FC2B387EB730>I<3B7FFFC007FFFCB56C4813
FEA46C496C13FCD803F8C7EA3F80B3B16D147F00011600A36C6C14FE6D13016D5CEC8003
90393FE00FF890391FF83FF06DB55A6D5C6D5C6D91C7FC9038007FFCEC1FF02F3980B730
>I<D87FFE90380FFFC0B54913E06E5AA24A7E6C486D13C0D807F0903801FC00A26D1303
00035DA46C6C495AA46C6C495AA46D131F6D5CA3EC803F013F5CA46D6C48C7FCA490380F
E0FEA401075B14F1A301035BA314FB01015BA314FFA26D5BA46E5A6E5A2B397EB730>I<
D83FFC903801FFE0486C4913F000FF16F8A2007F16F06C486D13E0D81FC09038001FC000
0F1680A76D143F00071600A7000390380F803E9039F01FC07EEC3FE0A3EC7FF0A2147D00
01157CA29039F8FDF8FCA314F8A300005D01F913FCA2ECF07CA201FD137DA2017D5CECE0
3DA3017F133FA2ECC01FA2013F5CA2EC800F6D486C5A2D397FB730>I<3A3FFF01FFF848
01837F02C77FA202835B6C01015B3A01FC007F806D91C7FC00005C6D5BEB7F01EC81FCEB
3F8314C3011F5B14E7010F5B14FF6D5BA26D5BA26D5BA26D90C8FCA4497FA2497FA2815B
81EB0FE781EB1FC381EB3F8181EB7F0081497F49800001143F49800003141F4980000714
0FD87FFEEB7FFFB590B5128080A25C6C486D130029387DB730>I<D87FFF90381FFFC0B5
6C4813E0A46C496C13C0D803F8903803F8006D1307A26C6C495AA26C6C5C151F6D5CEC80
3F013F5CECC07F011F91C7FCA290380FE0FEA214F101075BA2903803FBF8A201015B14FF
6D5BA26E5AA36E5AB1903803FFF8497F497FA26D5B6D5B2B387EB730>I<001FB612FC48
15FE5AA490C7EA03FCED07F816F0150FED1FE016C0153FED7F80003E1500C85A4A5A5D14
034A5A5D140F4A5A5D143F4A5A92C7FC5C495A5C1303495A5C130F495A5C133F495A91C8
FC5B4848147C4914FE1203485A5B120F485A5B123F485A90B6FCB7FCA46C15FC27387CB7
30>I<007FB5FCB61280A4150048C8FCB3B3B3A5B6FC1580A46C140019476DBE30>I<127C
A212FEA27EA26C7EA26C7EA26C7EA26C7EA26C7EA26C7EA212017FA26C7EA26D7EA26D7E
A26D7EA26D7EA26D7EA26D7EA2130180A26D7EA26E7EA26E7EA26E7EA26E7EA26E7EA26E
7EA2140181A26E7EA2ED7F80A2ED3FC0A2ED1FE0A2ED0FF0A2ED07F8A21503A2ED01F015
0025477BBE30>I<007FB5FCB61280A47EC7123FB3B3B3A5007FB5FCB6FCA46C14001947
7DBE30>I<1307EB1FC0EB7FF0497E000313FE000FEBFF80003F14E0D87FFD13F039FFF0
7FF8EBC01FEB800F38FE0003007CEB01F00010EB00401D0E77B730>I<007FB612F0A2B7
12F8A36C15F0A225077B7D30>I<1338137CEA01FE12031207EA0FFC13F0EA1FE013C0EA
3F8013005A127EA212FE5AA5EAFFC013E013F0127FA2123FA2EA1FE0EA07C00F1D70BE30
>I<EB7FF80003B5FC4814C04880488048809038E01FFC9038C003FE14016E7E6C487F6C
C77FC8123FA491B5FC130F137F48B6FC12075A48EB803F383FF800EA7FE0138048C7FC5A
A4157F7E6C6C13FFEBC003263FF01FEBFF8090B712C07E6C14EF000314876CD9FE011380
26003FE0C8FC2A2A7BA830>I<EA3FFC487E12FFA2127F123F1200AAEC03FE91381FFF80
027F13E091B57E90B612FC82ECFE079138F001FF4A6C13804A137F4AEB3FC091C7121F17
E049140FA217F01607A8160FA217E07F161F6EEB3FC0A26EEB7F806E13FFDAF003130091
38FC0FFE91B55A5E495CD97E7F13C0D93C1F90C7FC90380003FC2C3980B730>I<ECFFE0
010713FC011F7F017F7F90B612804815C048EB807F3907FC003F485A485A49EB1F804848
EB0F004990C7FC127F90C9FCA25A5AA87E7EA27F003FEC07C06DEB0FE06C7E6D131F6C6C
14C0D807FE133F9039FFC0FF806C90B5FCC615006D5B011F13F801075B01011380232A7A
A830>I<913801FFE04A7F5CA28080EC0007AAEB03FE90381FFF874913E790B6FC5A5A48
1303380FFC00D81FF0133F49131F485A150F4848130790C7FCA25AA25AA87E6C140FA27F
003F141F6D133F6C7E6D137F390FF801FF2607FE07EBFFC06CB712E06C16F06C14F76D01
C713E0011F010313C0D907FCC8FC2C397DB730>I<49B4FC010713E0011F13F8017F7F90
B57E488048018113803A07FC007FC04848133FD81FE0EB1FE0150F484814F0491307127F
90C7FCED03F85A5AB7FCA516F048C9FC7E7EA27F003FEC01F06DEB03F86C7E6C7E6D1307
D807FEEB1FF03A03FFC07FE06C90B5FC6C15C0013F14806DEBFE00010713F8010013C025
2A7CA830>I<EDFF80020713E0021F13F05C4A13F891B5FC491387903803FE079138FC03
F0903907F800C04A1300A8003FB612C04815E0B7FCA36C15C0260007F0C7FCB3A9003FB5
12FE4880B71280A26C15006C5C25397DB830>I<D903FC13FF90261FFF8713C04913DF90
B712E05A5A2607FE07138F903AF801FE07C048486C6CC7FCA2497F001F8149133FA56D13
7F000F92C7FC6D5BA26C6C485AEBFE0790B55A5D485C15C001DF5BD9C3FCC8FC01C0C9FC
A37F7F6CB512F015FF6C15C04815F0488148813A3FE0001FFE0180130148C8127F007E81
00FE168048151FA56C153F007FED7F006D5C6C6C495A01F013076CB4EB7FFC6C90B55A6C
5D000115C06C6C91C7FC011F13FC010113C02B3E7DA730>I<EA3FFC487E12FFA2127F12
3F1200AAEC01FE91380FFF80023F13E091B57E90B67EA29138FE07FCECF8039138E001FE
14C0EC8000A291C7FCA25BB3A23B3FFFF81FFFF8486D4813FCB500FE14FEA26C01FC14FC
6C496C13F82F3880B730>I<14E0EB03F8A2497EA36D5AA2EB00E091C8FCA9381FFFF848
7F5AA27E7EEA0001B3A9003FB612C04815E0B7FCA27E6C15C023397AB830>I<EC01C0EC
07F0A2EC0FF8A3EC07F0A2EC01C091C7FCA990B512F04814F8A47EEB0003B3B3A5EC07F0
A2123C007EEB0FE0B4131FEC3FC0147F90B512806C14005C6C5B000F13F0000313C01D4E
7CB830>I<EA7FF8487EA4127F1200AB0203B512804A14C017E0A217C06E14809139001F
E0004B5A4B5A4BC7FC4A5A4A5AEC0FF84A5A4A5A4A5A4A5A01FD7F90B57E8114F7ECE3F8
ECC1FCEC81FEEC00FF497F496D7E6F7E826F7E15076F7E6F7E3B7FFFF81FFFE0B56C4813
F017F8A217F06C496C13E02D387FB730>I<387FFFF8B57EA47EEA0001B3B3A8007FB612
F0B712F8A46C15F025387BB730>I<02FC137E3B7FC3FF01FF80D8FFEF01877F90B500CF
7F15DF92B57E6C010F13872607FE07EB03F801FC13FE9039F803FC01A201F013F8A301E0
13F0B3A23C7FFE0FFF07FF80B548018F13C0A46C486C01071380322881A730>I<EC01FE
3A3FFC0FFF80267FFE3F13E000FF90B57E90B67E7E6C9038FE07FCC6EBF8039138E001FE
14C0EC8000A291C7FCA25BB3A23B3FFFF81FFFF8486D4813FCB500FE14FEA26C01FC14FC
6C496C13F82F2880A730>I<49B4FC010F13E0013F13F8497F90B57E0003ECFF8014013A
07FC007FC04848EB3FE0D81FE0EB0FF0A24848EB07F8491303007F15FC90C71201A300FE
EC00FEA86C14016C15FCA26D1303003F15F86D13076D130F6C6CEB1FF06C6CEB3FE06D13
7F3A07FF01FFC06C90B512806C15006C6C13FC6D5B010F13E0010190C7FC272A7CA830>
I<EC03FE3A3FFC1FFF80267FFE7F13E000FF90B57E90B612FC6C816CEBFE07C69038F001
FF4A6C13804A137F4AEB3FC091C7121F17E049140FA217F01607A8160FA217E07F161F6E
EB3FC0A26EEB7F806E13FFDAF00313009138FC0FFE91B55A5E495C6E13C0021F90C7FCEC
03FC91C9FCAD383FFFF8487FB57EA26C5B6C5B2C3C80A730>I<49B413F8010FEBC1FC01
3F13F14913FD48B6FC5A481381390FFC007F49131F4848130F491307485A491303127F90
C7FC15015A5AA77E7E15037FA26C6C1307150F6C6C131F6C6C133F01FC137F3907FF01FF
6C90B5FC6C14FD6C14F9013F13F1010F13C1903803FE0190C7FCAD92B512F84A14FCA46E
14F82E3C7DA730>I<ED07F83A3FFF803FFF486DB51280B512C302CF14C06C13DF6C9038
FFFC3FD8001F13E09238801F809238000F004A90C7FC5C5C5CA25CA45CAF003FB512FC48
80B7FCA26C5C6C5C2A287EA730>I<90381FFC1E48B5129F000714FF5A5A5A387FF007EB
800100FEC7FC4880A46C143E007F91C7FC13E06CB4FC6C13FC6CEBFF806C14E0000114F8
6C6C7F01037F9038000FFF02001380007C147F00FEEC1FC0A2150F7EA27F151F6DEB3F80
6D137F9039FC03FF0090B6FC5D5D00FC14F0D8F83F13C026780FFEC7FC222A79A830>I<
EB0780497E131FA9003FB612E04815F0B7FCA36C15E026001FC0C7FCB216F8ED01FCA5EC
E003010FEB07F814F09138FC1FF06DB512E06D14C016806D14009038007FFCEC1FF02633
7EB130>I<D83FFCEB3FFC486C497E00FF14FFA2007F147F003F143F00001400B3A41501
A2150315076D130F903A7FC07FFFF891B612FC6D15FE7F6D4913FC6D9038F87FF8010001
C0C7FC2F2880A630>I<3B3FFFC07FFF80486DB512C0B515E0A26C16C06C496C13803B01
F80003F000A26D130700005DA26D130F017E5CA2017F131F6D5CA2EC803F011F91C7FCA2
6E5A010F137EA2ECE0FE01075BA214F101035BA3903801FBF0A314FF6D5BA36E5A6E5A2B
277EA630>I<3B3FFFC01FFFE0486D4813F0B515F8A26C16F06C496C13E0D807E0C7EA3F
00A26D5C0003157EA56D14FE00015DEC0F80EC1FC0EC3FE0A33A00FC7FF1F8A2147DA2EC
FDF9017C5C14F8A3017E13FBA290393FF07FE0A3ECE03FA2011F5C90390F800F802D277F
A630>I<3A3FFF81FFFC4801C37FB580A26C5D6C01815BC648C66CC7FC137FEC80FE9038
3F81FC90381FC3F8EB0FE3ECE7F06DB45A6D5B7F6D5B92C8FC147E147F5C497F81903803
F7E0EB07E790380FE3F0ECC1F890381F81FC90383F80FE90387F007E017E137F01FE6D7E
48486D7E267FFF80B5FCB500C1148014E3A214C16C0180140029277DA630>I<3B3FFFC0
7FFF80486DB512C0B515E0A26C16C06C496C13803B01FC0003F000A2000014076D5C137E
150F017F5C7F151FD91F805BA214C0010F49C7FCA214E00107137EA2EB03F0157C15FCEB
01F85DA2EB00F9ECFDF0147D147FA26E5AA36E5AA35DA2143F92C8FCA25C147EA2000F13
FE486C5AEA3FC1EBC3F81387EB8FF0EBFFE06C5B5C6C90C9FC6C5AEA01F02B3C7EA630>
I<001FB612FC4815FE5AA316FC90C7EA0FF8ED1FF0ED3FE0ED7FC0EDFF80003E491300C7
485A4A5A4A5A4A5A4A5A4A5A4A5A4990C7FC495A495A495A495A495A495A4948133E4890
C7127F485A485A485A485A485A48B7FCB8FCA46C15FE28277DA630>I<ED3FF0913803FF
F8140F5C147F16F09138FFF00092C7FC495A5CB3A21303495A133F383FFFF0B55A5C91C8
FC14C080003F7F38003FF813076D7E1301B3A2806D7E15F091387FFFF016F8141F801403
9138003FF025477BBE30>I<127CA212FEB3B3B3AD127CA207476CBE30>I<EA7FE0EAFFFE
6D7E8014F07EC66C7E13076D7E1301B3A2806D7E15E091387FFFE06E13F8801407141F5C
4A13E09138FFE00092C7FC495A5CB3A21303495A137F387FFFF0B5FC14C05C49C8FCEA7F
E025477BBE30>I<017C133848B4137C48EB80FE4813C14813C348EBEFFC397FEFFFF0D8
FF8713E0010713C0486C1380D87C0113003838007C1F0C78B730>I
E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fv cmbx10 10.95 62
/Fv 62 122 df<DBFFF8EB3FF0021F9039FE03FFFC027FD9FF8F7F49B9FC0107D9C03F01
F113804948C66C1381D91FF8494913C0D93FE0EB7FFE495A01FF15FC5C484C6C138091C7
003F6D1300197E041F91C7FC160FA9BAFCA50001902780000FFCC8FCB3AC007FD9FE03B5
12FCA542407EBF3D>11 D<EDFFF8020F13FF027F8049B612E001079038C01FF090390FFE
0007D91FF8497ED93FE0131F4948497E13FF5C5A91C7FCA2705A705AEE03C093C8FCA6EE
03FCB8FCA50001903880001F160FB3AB007FD9FE03B512F0A534407EBF3A>I<DBFFF890
3807FFC0021F01FE017F13F8027FD9FF83B57E49B600CF14FF01079028C03FFFFE007F90
270FFE000F01F0133FD91FF84901C0497ED93FE04990C712FF49484A497F13FF4A495A5A
91C76C5AA2041F6E5B040F6F5A081EC7FC97C8FCA6F21FE0BCFCA50001902780000FFCC7
FC1A7FB3AB007FD9FE03B5D8F01FB51280A551407EBF57>14 D<120FEA3F80487E7F487E
7F7FA26C7E7F001F13806C13C0000313E0C6FCEB3FF0EB0FE0EB03C01301141276BF34>
18 D<130FEB1FC0EB3FE0137FEBFFF05A5AA24813E05A481380481300EA7FFC13F0EAFF
C06CC7FC123C123814126BBF34>I<DA7FF0EC3FF80107B549B5FC011FDAC00714C0017F
DAF01F14F0903DFFE03FF83FF83FF848903C800FFC7FE00FFC3D03FE0003FEFF80034848
6DB500007F000F4C6D7E48487F496E486D1380123FA2127F496E48EC7FC0A212FFA294B7
FCA405F8C9FCA5127F836D147F123F71EC07C06C6C14FF71140F6C6C491780000771131F
6C6C494801E0EB3F002A01FF800FFC7FF013FE6C903CE03FF83FFE03FC6DB5D8F00FB55A
011FDAC0075C010791C714C09026007FF0DA1FFEC7FC4A2B7DA951>27
D<EA0FC0EA1FE0EA3FF0EA7FF8EAFFFCA313FEA3127F123F121FEA0FDEEA001EA2133E13
3CA2137C1378A213F8EA01F0A2EA03E0EA07C0EA0F80121FEA3F00121E120C0F2079BE1D
>39 D<B612E0A91B097F9823>45 D<EA0FC0EA1FE0EA3FF0EA7FF8EAFFFCA6EA7FF8EA3F
F0EA1FE0EA0FC00E0E798D1D>I<ECFFE0010713FC011F13FF017F14C0D9FFE07F489038
803FF03A03FE000FF848486D7EA248486D7E001F81A348486D1380A3007F16C0A500FF16
E0B3A2007F16C0A5003F16806D5BA2001F1600A2000F5D6D13076C6C495A6C6C495A6C6D
485A6C9038E0FFE06DB55A011F91C7FC010713FC010013E02B3D7CBB34>48
D<140F143F5C495A130F48B5FCB6FCA313F7EAFE071200B3B3A8007FB612F0A5243C78BB
34>I<903803FF80013F13F890B512FE00036E7E4881260FF80F7F261FC0037F4848C67F
486C6D7E6D6D7E487E6D6D7EA26F1380A46C5A6C5A6C5A0007C7FCC8FC4B1300A25E153F
5E4B5AA24B5A5E4A5B4A5B4A48C7FC5D4A5AEC1FE04A5A4A5A9139FF000F80EB01FC495A
4948EB1F00495AEB1F8049C7FC017E5C5B48B7FC485D5A5A5A5A5AB7FC5EA4293C7BBB34
>I<903801FFE0010F13FE013F6D7E90B612E04801817F3A03FC007FF8D807F06D7E82D8
0FFC131F6D80121F7FA56C5A5E6C48133FD801F05CC8FC4B5A5E4B5A4A5B020F5B902607
FFFEC7FC15F815FEEDFFC0D9000113F06E6C7E6F7E6F7E6F7E1780A26F13C0A217E0EA0F
C0487E487E487E487EA317C0A25D491580127F49491300D83FC0495A6C6C495A3A0FFE01
FFF86CB65A6C5DC61580013F49C7FC010313E02B3D7CBB34>I<ED01F815031507A2150F
151F153FA2157F15FF5C5CA25C5CEC1FBFEC3F3F143E147C14FCEB01F814F0EB03E01307
EB0FC0EB1F801400133E137E5B485A5B485A1207485A5B48C7FC5A127E5AB812F8A5C838
7FF800AA49B612F8A52D3C7DBB34>I<00071538D80FE0EB01F801FE133F90B6FC5E5E5E
5E93C7FC5D15F85D15C04AC8FC0180C9FCA9ECFFC0018713FC019F13FF90B67E020113E0
9039F8007FF0496D7E01C06D7E5B6CC77FC8120F82A31780A21207EA1FC0487E487E12FF
7FA21700A25B4B5A6C5A01805C6CC7123F6D495AD81FE0495A260FFC075B6CB65A6C92C7
FCC614FC013F13F0010790C8FC293D7BBB34>I<EC07FF023F13C049B512F001078049EB
03FC90383FF80090397FE001FE9038FFC0034849487E48495AA2485A120FA2485A6F5A00
3F6E5A6F5A92C8FC485AA21402EC3FFE00FF496C7E01F9B512E001FB809138E03FF89039
FF800FFC4A6C7E825B6F13804915C0A317E05BA4127FA5123FA26D15C0121FA2000F4A13
806D150012076C6C495A6C6D485A6C9038E07FF86DB55A6D5C6D1480010749C7FC010013
F02B3D7CBB34>I<121F7F13F890B712F0A45A17E017C0178017005E5E5A007EC7EA01F8
4B5A007C4A5A4B5A4B5A93C7FC485C157E5DC7485A4A5AA24A5A140F5D141F143F5D147F
A214FF92C8FC5BA25BA3495AA3130FA5131FAA6D5A6D5A6D5A2C3F7ABD34>I<ECFFF001
0713FE011F6D7E017F14E09039FFC07FF03A01FE001FF848486D7E48486D7E1503485A82
81121FA27F7F7F6D5B02C05B14F06C6D485A9138FE0FF89138FF9FF06CECFFE06C5D5E6C
92C7FC6C816D14E0011F80498090B67E48812607FE3F7F48486C1480381FF807D9F00114
C048486C7E007F8049010F13E0150348487F81167FA2163FA36D15C0127FEE7F807F6C6C
ECFF006C6C5B01FEEB07FE3A0FFFC03FFC6C90B55A000115E06C6C5C011F49C7FC010113
F02B3D7CBB34>I<903801FFE0010F13FC013F13FF90B612C04801E07F489038003FF048
486D7E000F6E7E485A6F7E123F48488081178012FFA217C0A517E0A4007F5CA4003F5C6C
7E5D6C7E00075C3903FF80FB6C13FF6C6C13F36D13C3010F018313C090380008031400A2
4B1380EA03F0487E486C1500487E4B5AA25E151F4B5A495C6C48EBFFE049485B2607FC0F
5B6CB6C7FC6C14FC6C14F06D13C0D90FFEC8FC2B3D7CBB34>I<EA0FC0EA1FE0EA3FF0EA
7FF8EAFFFCA6EA7FF8EA3FF0EA1FE0EA0FC0C7FCACEA0FC0EA1FE0EA3FF0EA7FF8EAFFFC
A6EA7FF8EA3FF0EA1FE0EA0FC00E2879A71D>I<16FCA24B7EA24B7EA34B7FA24B7FA34B
7FA24B7FA34B7F157C03FC7FEDF87FA2020180EDF03F0203804B7E02078115C082020F81
4B7E021F811500824A81023E7F027E81027C7FA202FC814A147F49B77EA34982A2D907E0
C7001F7F4A80010F835C83011F8391C87E4983133E83017E83017C81B500FC91B612FCA5
463F7CBE4F>65 D<B812F8EFFF8018F018FC8426003FFCC7EA3FFF050F13807113C07113
E08319F0A27113F8A719F05FA24D13E019C04D13804D1300EF3FFE933801FFF891B712E0
188018F818FE02FCC7380FFF80050313C07113E07113F019F8F07FFCA2F03FFEA219FFA3
8460A419FE187FA2F0FFFC4D13F85F4D13F0053F13E0BA12C0190018FC18F095C7FC403E
7DBD4A>I<922607FFC0130E92B500FC131E020702FF133E023FEDC07E91B7EAE1FE0103
9138803FFB499039F80003FF4901C01300013F90C8127F4948151FD9FFF8150F48491507
485B4A1503481701485B18004890CAFC197E5A5B193E127FA349170012FFAC127F7F193E
A2123FA27F6C187E197C6C7F19FC6C6D16F86C6D150119F06C6D15036C6DED07E0D97FFE
ED0FC06D6CED3F80010F01C0ECFF006D01F8EB03FE6D9039FF801FFC010091B55A023F15
E002071580020002FCC7FC030713C03F407ABE4C>I<B812F8EFFF8018F018FC18FF2600
3FFCC76C13C005077F05017F716C7E727E727E727E721380A27213C0A27213E0A21AF084
A21AF8A41AFCA5197FA319FFA51AF8A41AF0A2601AE0A24E13C0A24E13804E1300604E5A
4E5A4D485A050713E0057F5BBA5A4EC7FC18F818C005F8C8FC463E7DBD50>I<BAFCA419
8026003FFEC7123F1707170183183FA2181FF00FC0A31807EE07C0A3F003E0A3160F95C7
FC161F163F16FF91B6FCA54AC6FC163F161F040F147CA2160719F8A593C71201A219F018
03A21807A2180FF01FE0183F18FF1703173FBAFCA219C0A33E3D7DBC45>I<922607FFC0
130E92B500FC131E020702FF133E023FEDC07E91B7EAE1FE01039138803FFB499039F800
03FF4901C01300013F90C8127F4948151FD9FFF8150F48491507485B4A1503481701485B
18004890CAFC197E5A5B193E127FA34994C7FC12FFAB0407B612FC127F7FA3003F92C738
3FFE00A27F7EA26C7FA26C7F6C7FA26C7F6C7FD97FFE157F6D6C7E010F01E014FF6D01F8
13036D9038FF801F010091B512F3023F15C00207ED803E02009138FE000E030701E090C7
FC46407ABE52>71 D<B71280A526003FFEC7FCB3B3B0B71280A5213E7DBD28>73
D<B712E0A526003FFEC9FCB3AD183EA4187E187CA418FCA21701A2EF03F8A21707170F17
1F177FEE01FF160FB9FC18F0A4373E7DBD3F>76 D<B6051FB512C06F5EA26F5EA2D8003F
97C7FC6F16F7A26E6CED01E7A26E6CED03C7A36E6CED0787A26E6CED0F07A26E6C151EA3
6E6D143CA26E6D1478A26E6D14F0A26F6CEB01E0A36F6CEB03C0A26F6CEB0780A26F6CEB
0F00A36F6C131EA26F6D5AA26F6D5AA26F6D5AA393387FF1E0A293383FFBC0A270B45AA3
7090C7FCA2705AA2705AB600C0031FB612C0A2705AA2705A5A3E7CBD63>I<B6037FB512
E0A2818181D8003F6D9139001F800081A281816E7E6E7F6E7F80826E7F6E7F6E7F6E7F15
7F826F7F6F7F6F7F6F7F81836F7F6F7F707E701380A27013C07013E07013F07013F87013
FCA27013FEEF7FFF71139F7113DF8319FF8383838384A28484848484A284B600C080197F
193F191FA24B3E7DBD52>I<ED3FFF0203B512F0021F14FE027F6E7E902701FFF80713E0
0107D9C00013F84990C7EA3FFCD93FFCEC0FFF49486E7F49486E7F48496E7F4A80488448
496F7EA24890C96C7E4884A249161F003F84A34848701380A400FF19C0AD007F19806D5E
A3003F1900A26D5E6C60A26C6D4B5AA26C6D4B5A6C6D4A5BA26C6D4A5B6C6D4A5B6D6C4A
5B6DB4023F90C7FC6D01C0EBFFFE0107D9F80713F8010190B612E06D5E021F4AC8FC0203
14F0DA003F90C9FC42407ABE4F>I<B812F017FF18C018F018FC26003FFCC77FEF1FFF71
13807113C07113E0A27113F0A319F8A819F0A34D13E019C05F4D1380053F1300EFFFFE91
B712F860188005FCC7FC4ACAFCB3A4B77EA53D3E7DBD47>I<B87E17FCEFFF8018F08428
003FFC000113FE9338003FFF050F7F717F717FA2858385A761A25F61614D5B4D90C8FCEF
3FFE4CB45A91B712F018C04DC9FC717E9126FC000F7F040113F0707F717EA2717EA2717E
A685A6F207C019C0A271140F07E01380B76DEBF01F719038FC3F007190B5FC716C5B061F
13F8CB000113E04A3F7DBD4E>82 D<903A03FFC001C0011FEBF803017FEBFE0748B6128F
4815DF48010013FFD80FF8130F48481303497F4848EB007F127F49143F161F12FF160FA2
7F1607A27F7F01FC91C7FCEBFF806C13F8ECFFC06C14FCEDFF806C15E016F86C816C816C
816C16806C6C15C07F010715E0EB007F020714F0EC003F1503030013F8167F163F127800
F8151FA2160FA27EA217F07E161F6C16E06D143F01E015C001F8EC7F8001FEEB01FF9026
FFE00713004890B55A486C14F8D8F81F5CD8F00314C027E0003FFEC7FC2D407ABE3A>I<
003FB912FCA5903BFE003FFE003FD87FF0EE0FFE01C0160349160190C71500197E127EA2
007C183EA400FC183F48181FA5C81600B3AF010FB712F8A5403D7CBC49>I<B76C90B612
80A526003FFEC9003EC7FCB3B3A4197E011F177C80A26D17FC616D6D14014E5A6D6D4A5A
6D6D140F6D01F8EC3FC0DA7FFEECFF8091273FFFC00F90C8FC020F90B512FC02035D0200
15E0031F1480030101F8C9FC493F7DBD50>I<007FB6013FB512F0A5D8001F01C0D9003F
C7FC6D6D147E18FE6D6D5C6D6D495A6D4B5A6F13076D6D5C6E6C495A4D5A6EEB803F6E01
C090C8FC6E147E705A6E13F16EEBF9F86EEBFBF0EEFFE0806F5B5F816F7F81836F7F8183
4B7F4B7F5D83DB3F3F7FED7E1F03FE804B6C7F4A486C7F4A487E0207814B6C7F4A487E4A
4880023F6E7E92C76C7F027E804A8201016F7F4A6E7F495A49486E7F010F6F7F4A80B600
C0017F90B5FCA5483E7DBD4F>88 D<13021307EB1FC0497E497E497E487F000713FFD80F
FD1380391FF07FC0393FE03FE039FF800FF8397F0007F0003CEB01E00018EB00C01D0F75
BE34>94 D<903807FFC0013F13F848B6FC48812607FE037F260FF8007F6DEB3FF0486C80
6F7EA36F7EA26C5A6C5AEA01E0C8FC153F91B5FC130F137F3901FFFE0F4813E0000F1380
381FFE00485A5B485A12FF5BA4151F7F007F143F6D90387BFF806C6C01FB13FE391FFF07
F36CEBFFE100031480C6EC003FD91FF890C7FC2F2B7DA933>97 D<13FFB5FCA512077EAF
EDFFE0020713FC021FEBFF80027F80DAFF8113F09139FC003FF802F06D7E4A6D7E4A1307
4A80701380A218C082A318E0AA18C0A25E1880A218005E6E5C6E495A6E495A02FCEB7FF0
903AFCFF01FFE0496CB55AD9F01F91C7FCD9E00713FCC7000113C033407DBE3A>I<EC7F
F00107B5FC011F14C0017F14E09039FFF01FF0489038800FF848EB001F4848EB3FFC120F
485AA2485AA2007FEC1FF849EB0FF0ED03C000FF91C7FCAB127F7FA3003F153E7F001F15
7E6C6C147C6C6C14FC91388001F86C9038C003F0C69038F81FE06DB512C0011F14800107
EBFE009038007FF0272B7DA92E>I<EE07F8ED07FFA5ED003F161FAFEC7FF0903807FFFE
011FEBFF9F017F14DF9039FFF01FFF48EBC00348EB00014848EB007F485A001F153F5B12
3FA2127F5BA212FFAA127FA37F123FA26C6C147F120F6D14FF6C6C01037F6C6D48EBFFE0
6CEBF03F6C6CB512BF6D143F010713FC010001E0EBE00033407DBE3A>I<ECFFF0010713
FE011F6D7E017F809039FFE07FE0489038801FF048496C7E48486D7E48486D7E121F4913
01003F81A2485A6F1380A212FFA290B7FCA401F0C9FCA5127FA27F123FEE0F806C7E161F
6C6C15006C6C5C6C6D137E6C9038E001FC6C9038F80FF8013FB55A6D14C0010391C7FC90
38007FF8292B7DA930>I<EC07FE91387FFF8049B512C0010714E090390FFE3FF0EB1FF0
90393FE07FF8EB7FC013FF1480A2489038003FF0ED1FE0ED0FC092C7FCAAB612E0A50001
0180C7FCB3AC007FEBFF80A525407DBF20>I<903A03FF8007F0013F9038F83FF8499038
FCFFFC48B712FE48018313F93A07FC007FC34848EB3FE1001FEDF1FC4990381FF0F81700
003F81A7001F5DA26D133F000F5D6C6C495A3A03FF83FF8091B5C7FC4814FC01BF5BD80F
03138090CAFCA2487EA27F13F06CB6FC16F016FC6C15FF17806C16C06C16E01207001F16
F0393FE000034848EB003F49EC1FF800FF150F90C81207A56C6CEC0FF06D141F003F16E0
01F0147FD81FFC903801FFC02707FF800F13006C90B55AC615F8013F14E0010101FCC7FC
2F3D7DA834>I<13FFB5FCA512077EAFED1FF8EDFFFE02036D7E4A80DA0FE07F91381F00
7F023C805C4A6D7E5CA25CA35CB3A4B5D8FE0FB512E0A5333F7CBE3A>I<EA01F8487E48
7E487E481380A66C13006C5A6C5A6C5AC8FCA913FFB5FCA512077EB3ABB512F8A515407C
BF1D>I<EC0FC0EC1FE0EC3FF0EC7FF8ECFFFCA6EC7FF8EC3FF0EC1FE0EC0FC091C7FCA9
EC03FCEB07FFA5EB001F140FB3B3A2EA1F80EA3FC0EA7FE0EAFFF0EC1FF8A3EC3FF015E0
397FE07FC0393FC1FF806CB512006C5B6C13F8C613801E5386BF20>I<13FFB5FCA51207
7EB3B3AFB512FCA5163F7CBE1D>108 D<01FFD91FF8ECFFC0B590B5010713F80203DAC0
1F13FE4A6E487FDA0FE09026F07F077F91261F003FEBF8010007013EDAF9F0806C0178EC
FBC04A6DB4486C7FA24A92C7FC4A5CA34A5CB3A4B5D8FE07B5D8F03FEBFF80A551297CA8
58>I<01FFEB1FF8B5EBFFFE02036D7E4A80DA0FE07F91381F007F0007013C806C5B4A6D
7E5CA25CA35CB3A4B5D8FE0FB512E0A533297CA83A>I<EC7FF0903803FFFE011FEBFFC0
017F14F09039FFE03FF8489038800FFC3A03FE0003FE48486D7E000F168048486D13C0A2
003F16E049147F007F16F0A400FF16F8AA007F16F0A46C6CECFFE0A2001F16C06C6C4913
80A26C6C4913003A03FF800FFE6C9038E03FFC6C6CB512F0011F14C0010791C7FC903800
7FF02D2B7DA934>I<01FFEBFFE0B5000713FC021FEBFF80027F80DAFF8113F09139FC00
7FF8000701F06D7E6C496D7E4A130F4A6D7E1880A27013C0A38218E0AA4C13C0A318805E
18005E6E5C6E495A6E495A02FCEBFFF0DAFF035B92B55A029F91C7FC028713FC028113C0
0280C9FCACB512FEA5333B7DA83A>I<DA7FE01378902607FFFC13F8011FEBFF01017F14
819039FFF81FC3489038E007E74890388003F74890380001FF48487F001F157F5B003F15
3F5B127F161FA2485AAA127F7FA36C6C143F167F121F6C6C14FF6D5B6C6D5A6CEBC00F6C
EBF03F6C6CB512BF6DEBFE3F010713F8010013C091C7FCAC030FB512E0A5333B7DA837>
I<3901FE01FE00FF903807FF804A13E04A13F0EC3F1F91387C3FF8000713F8000313F0EB
FFE0A29138C01FF0ED0FE091388007C092C7FCA391C8FCB3A2B6FCA525297DA82B>I<90
383FFC1E48B512BE000714FE5A381FF00F383F800148C7FC007E147EA200FE143EA27E7F
6D90C7FC13F8EBFFE06C13FF15C06C14F06C806C806C806C80C61580131F1300020713C0
14000078147F00F8143F151F7EA27E16806C143F6D140001E013FF9038F803FE90B55A15
F0D8F87F13C026E00FFEC7FC222B7DA929>I<EB07C0A5130FA4131FA3133F137FA213FF
5A1207001FEBFFFEB6FCA40001EBC000B3151FA96CEBE03EA2017F137EECF8FC90383FFF
F86D13F0010713E001001380203B7EB929>I<D9FF80EB0FF8B5EB0FFFA50007EC007F6C
153FB3A5167FA316FF6C5C4B7F6C903AC007DFFFE09138F01F9F6DB5121F6D13FE010F13
F8010101E0EBE000332A7CA83A>I<B500FC90383FFFC0A5000101C0903803E0006E1307
A26C5E6E130F017F5D6E131F013F92C7FC6E5B011F143E6E137E010F147C6E13FCA26D5C
15816D5C15C36D5C15E76D5C15FF6E5BA36E90C8FCA26E5AA26E5AA26E5AA26E5AA23228
7EA737>I<B53CFC3FFFFC03FFFEA50003D980009039C0000F806E161F6C037F15006E49
6C5B6C183E836E48157E017F177C6E486D13FC013F02EF5C83DAFC071401011F02C75CDA
FE0FEBFE03010F02835C17FFDAFF1F14076D02015C03BF148F6DD9BE005C18CF03FE14DF
6D49017F90C7FC18FF6D496D5AA36E486D5AA26E486D5AA36E486D5AA26E486D5A47287E
A74C>I<B5D8FC03B51280A5C69026E0007FC7FC6E13FE6D6C5B6D6C485A6D6C485A010F
13076D6C485AED9FC06DEBFF806D91C8FC6D5B6E5AA2143F6E7E140F814A7F4A7F4A7F02
FE7F903801FC7F49486C7E02F07F49486C7E49486C7E011F7F49486C7FD97F008001FE6D
7FB5D8C007EBFFC0A532287EA737>I<B500FC90383FFFC0A5000101C0903803E0006E13
07A26C5E6E130F017F5D6E131F013F92C7FC6E5B011F143E6E137E010F147C6E13FCA26D
5C15816D5C15C36D5C15E76D5C15FF6E5BA36E90C8FCA26E5AA26E5AA26E5AA26E5AA35D
14075D000E130FD83F805B387FC01FD8FFE090C9FC5C143E147E5CEBC1F8387FC3F0387E
0FE06CB45A6C5B6C48CAFCEA03F8323B7EA737>I E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fw cmr10 10.95 93
/Fw 93 128 df<4AB4EB0FE0021F9038E03FFC913A7F00F8FC1ED901FC90383FF03FD907
F090397FE07F80494801FF13FF4948485BD93F805C137F0200ED7F00EF003E01FE6D91C7
FC82ADB97EA3C648C76CC8FCB3AE486C4A7E007FD9FC3FEBFF80A339407FBF35>11
D<EC03FE91383FFF809138FE03E0903903F800F0D90FE013384948137C90393F8001FE90
387F00035B5BA2485A6F5AED007093C7FCAA16FEB7FCA33901FC000315011500B3AC486C
497EB5D8F87F13FCA32E407EBF33>I<EC03FF023F13EE9138FE01FEEB03F090380FE003
EB1FC0EB3F80EB7F005B5B150148481300AEB7FCA3D801FCC7FCB3AE486C497EB5D8F87F
13FCA32E407EBF33>I<DA03FE49B4FC91273FFF801F13C0913BFE03E07F01F0903C03F0
00F1FC0078D90FE0D97FF0131C49484948133E4948484913FF494848495A5B491500A248
485C03016E5A0300153896C7FCAA197FBBFCA3D801FCC738FE00018485B3AC486C496CEC
FF80B5D8F87FD9FC3F13FEA347407EBF4C>I<DA03FE49B47E91273FFFC01F13F7913BFE
01F07F00FF903A03F00079F8D90FE09038FFF00190261FC00313E0D93F8014C0D97F0014
805B4915008448486D48801500ADBBFCA3D801FCC748C77EB3AE486C496CECFF80B5D8F8
7FD9FC3F13FEA347407EBF4C>I<EA01FC127FA3120712031201B3AC487EB512F0A31428
7DA71A>I<127C12FC7E7EA2EA7F80EA3FC0EA1FE0120FEA07F0EA03F81201EA007C133E
131F130E1304101176BE2D>18 D<133E133F137F13FFA2EA01FEEA03FCEA07F813F0EA0F
E0EA1FC01380EA3E005A5A1270122010116EBE2D>I<EA01FCA3EBFFC038001FE0EB07F8
130314FC1301A2130314F8EB0FF0EB7FE0B51280EBF0001610757D28>24
D<D901FEEC07F890260FFFC0EB1FFE90263F03F090387C0F80903C7C00F801F007E04848
903A7E03E003F04848903A3F07C001F84848D91F8F1300484890260FDF8013FC496DB4C7
FC001F187E003F5D90C7120348183E193F5E007E140112FEA293B7FCA204FCC8FCA6127E
007F4A7EA36C18076D497E001F180F6C6C90260FDF80130E191E6C6C90261F8FC0131C6C
6C90263F07E0133C6C6C90267E03F01378D8007C9026F800F813F090263F03F090387E03
C090260FFFC090381FFF00D901FEC7EA03FC402A7DA847>27 D<121EEA7F80EAFFC0A9EA
7F80ACEA3F00AC121EAB120CC7FCA8121EEA7F80A2EAFFC0A4EA7F80A2EA1E000A4179C0
19>33 D<001E130F397F803FC000FF137F01C013E0A201E013F0A3007F133F391E600F30
00001300A401E01370491360A3000114E04913C00003130101001380481303000EEB0700
48130E0018130C0038131C003013181C1C7DBE2D>I<121EEA7F8012FF13C0A213E0A312
7FEA1E601200A413E013C0A312011380120313005A120E5A1218123812300B1C79BE19>
39 D<1430147014E0EB01C0EB03801307EB0F00131E133E133C5B13F85B12015B1203A2
485AA2120F5BA2121F90C7FCA25AA3123E127EA6127C12FCB2127C127EA6123E123FA37E
A27F120FA27F1207A26C7EA212017F12007F13787F133E131E7FEB07801303EB01C0EB00
E014701430145A77C323>I<12C07E12707E7E121E7E6C7E7F12036C7E7F12007F137813
7CA27FA2133F7FA21480130FA214C0A3130714E0A6130314F0B214E01307A614C0130FA3
1480A2131F1400A25B133EA25BA2137813F85B12015B485A12075B48C7FC121E121C5A5A
5A5A145A7BC323>I<1506150FB3A9007FB912E0BA12F0A26C18E0C8000FC9FCB3A91506
3C3C7BB447>43 D<121EEA7F8012FF13C0A213E0A3127FEA1E601200A413E013C0A31201
1380120313005A120E5A1218123812300B1C798919>I<B512FEA617067F961E>I<121EEA
7F80A2EAFFC0A4EA7F80A2EA1E000A0A798919>I<ED0180ED03C01507A21680150FA216
005DA2151E153EA2153C157CA2157815F8A25D1401A25D1403A25D1407A25D140FA24AC7
FCA2141E143EA2143C147CA2147814F8A25C1301A25C1303A25C1307A25C130FA291C8FC
5BA2131E133EA25BA2137813F8A25B1201A25B1203A25B1207A25B120FA290C9FC5AA212
1E123EA2123C127CA2127812F8A25A1260225B7BC32D>I<EB01FE90380FFFC090383F03
F090387C00F849137C48487F48487F4848EB0F80A2000F15C04848EB07E0A3003F15F0A2
90C712034815F8A64815FCB3A26C15F8A56C6CEB07F0A3001F15E0A36C6CEB0FC0A26C6C
EB1F80000315006C6C133E6C6C5B017C5B90383F03F090380FFFC0D901FEC7FC263F7DBC
2D>I<EB01C013031307131F137FEA07FFB5FC139FEAF81F1200B3B3ACEB7FF0B612F8A3
1D3D78BC2D>I<EB07FC90383FFF8090B512E03903F01FF83907C007FC390F0001FE001E
6D7E001C1580003CEC7FC05AED3FE01270B4FC6DEB1FF07FA56C5A6CC7FC120CC813E015
3FA216C0157F168015FF16004A5A5D4A5A4A5A5D4A5A4A5A4AC7FC147E147C5C495A495A
495A495A49C71270133E133C5B4914E0485A485A485A48C7120148B6FCA25A4815C0B7FC
A3243D7CBC2D>I<EB07FC90383FFF809038F80FE03901E003F839078001FCD80F007F00
0E6D7E001E1580D81F80137F486C14C07FA27F5BA2121F6C5AC8138015FF1600A24A5AA2
4A5A5DEC07E04A5A023FC7FCEB1FFCECFF809038000FE0EC07F86E7E6E7E6E7E1680ED7F
C0A216E0153FA216F0A2120C123F487E487EA316E0A249137F6CC713C01278EDFF807E6C
4913006C495A3907C007FC3903F80FF0C6B55A013F1380D907F8C7FC243F7CBC2D>I<15
0E151E153EA2157EA215FE1401A21403EC077E1406140E141CA214381470A214E0EB01C0
A2EB0380EB0700A2130E5BA25B5BA25B5B1201485A90C7FC5A120E120C121C5AA25A5AB8
FCA3C8EAFE00AC4A7E49B6FCA3283E7EBD2D>I<00061403D80780131F01F813FE90B5FC
5D5D5D15C092C7FC14FCEB3FE090C9FCACEB01FE90380FFF8090383E03E090387001F849
6C7E49137E497F90C713800006141FC813C0A216E0150FA316F0A3120C127F7F12FFA416
E090C7121F12FC007015C012780038EC3F80123C6CEC7F00001F14FE6C6C485A6C6C485A
3903F80FE0C6B55A013F90C7FCEB07F8243F7CBC2D>I<EC1FE0ECFFF8903803F03E9038
0FC00F90391F000780133E017EEB1FC049133F4848137F12035B12074848EB3F80ED1F00
001F91C7FC5BA2123FA3485AA214FE903887FF8039FF8F07E090389C01F09038B800FC01
B0137E13F0497F16804914C0A2ED1FE0A34914F0A5127FA6123F6D14E0A2121FED3FC0A2
6C6C1480A20007EC7F006C6C137E6C6C5B6C6C485A90387E07F06DB45A010F1380D903FC
C7FC243F7CBC2D>I<1238123C123F90B612FCA316F85A16F016E00078C712010070EC03
C0ED078016005D48141E151C153C5DC8127015F04A5A5D14034A5A92C7FC5C141EA25CA2
147C147814F8A213015C1303A31307A3130F5CA2131FA6133FAA6D5A0107C8FC26407BBD
2D>I<EB03FC90381FFF8090387C07E09038F001F83901E0007C48487F48487F48C7FCED
0F80121E16C0003E1407A4123FA26DEB0F807F6C6C131F6D140001FC133E6C6C5B9038FF
80786C6D5A6CEBF3E06CEBFF806C91C7FC133F6D13C06D7F013F13F801787F48486C7E39
03E01FFF48486C1380260F800313C048487E489038007FE0003E143F007E141F007CEC0F
F01507481403A31501A46C15E0007C1403A2007E15C06C14076CEC0F806DEB1F006C6C13
3ED807F05B3901FC03F86CB512E0011F1380D903FCC7FC243F7CBC2D>I<EB03FCEB1FFF
90387E07C09038FC03F048486C7E48486C7E4848137C000F147E4848137F81003F15805B
007F15C0A2151F12FF16E0A516F0A5127F153FA36C7EA2001F147F120F6C6C13FF6D13DF
000313013900F8039F90387E0F1FD91FFE13E0EB07F090C7FCA2ED3FC0A41680157FD80F
801400487E486C13FEA24A5A5D49485AEB8007391E000FE0001F495A260FC07FC7FC3803
FFFE6C13F838003FC0243F7CBC2D>I<121EEA7F80A2EAFFC0A4EA7F80A2EA1E00C7FCB3
121EEA7F80A2EAFFC0A4EA7F80A2EA1E000A2779A619>I<121EEA7F80A2EAFFC0A4EA7F
80A2EA1E00C7FCB3121E127FEAFF80A213C0A4127F121E1200A412011380A3120313005A
1206120E120C121C5A1230A20A3979A619>I<007FB912E0BA12F0A26C18E0CDFCAE007F
B912E0BA12F0A26C18E03C167BA147>61 D<EB1FF890B5FC3903E01FC0390F0007F0001E
EB03F848EB01FC4814FE140000FE14FF7E7FA46CC7FC123EC7EA01FEA2EC03FCEC07F815
F0EC0FC0EC1F80EC3F00143E5C147814F85C13015CA2495AA25CAB91C7FC90C8FCA8EB07
80EB1FE0A2497EA46D5AA2EB078020407BBF2B>63 D<15074B7EA34B7EA34B7EA34B7EA3
4B7E15E7A2913801C7FC15C3A291380381FEA34AC67EA3020E6D7EA34A6D7EA34A6D7EA3
4A6D7EA34A6D7EA349486D7E91B6FCA249819138800001A249C87EA24982010E157FA201
1E82011C153FA2013C820138151FA2017882170F13FC00034C7ED80FFF4B7EB500F0010F
B512F8A33D417DC044>65 D<B712FCEEFF8017F00001903980000FF86C6CC7EA03FE707E
701380EF7FC0EF3FE0A2EF1FF0A218F8A3170F171FA318F0A2EF3FE0177F18C0EFFF804C
1300EE03FCEE0FF8EE7FE091B6C7FC17E091C7EA07FCEE01FE933800FF80EF7FC0EF3FE0
EF1FF018F8170F18FC1707A218FEA718FC170FA2EF1FF818F0173FEF7FE0EFFFC0040313
8048486C90380FFE00B85A17E094C7FC373E7DBD40>I<DB3FF01306912603FFFE130E02
0F9038FF801E913A3FF007E03E9139FF8000F8D903FEC7EA7C7ED907F8EC1EFE4948140F
D93FE0140749481403495A91C812014848150012034848167E5B000F173EA24848161EA2
123F5B180E127FA349160012FFAC127F7F180EA2123FA27F001F171E181C6C7EA2000717
3C6D16386C6C1678000117706C6C16F06EEC01E06D6C15C06D6C1403D90FF0EC07806D6C
EC1F00D903FE143E902600FF8013F891393FF007F0020FB512C0020391C7FC9138003FF0
37427BBF42>I<B712FCEEFF8017E000019039C0001FF86C6C48EB03FEEE00FF717E717E
EF0FE084717E717E170184717EA21980187F19C0A3F03FE0A519F0AB19E0A5F07FC0A219
80A218FF19004D5AA24D5A6017074D5A4D5AEF7FC04DC7FCEE03FE48486CEB1FF8B85A17
8004FCC8FC3C3E7DBD45>I<B912E0A300019038C000016C6C48EB001FEF0FF01703A217
011700A31870A418381638A41800A21678A216F81501150791B5FCA3EC80071501150016
78A21638A2180EA3181C93C7FCA4183C1838A21878A318F8EF01F0A21707170F173F4848
6CEB03FFB912E0A3373E7DBD3E>I<B91280A300019038C000036C6C48EB007FEF1FC017
0F1707A21703A31701A4EF00E0A21638A31800A31678A216F81501150791B5FCA3EC8007
150115001678A21638A693C8FCAF3801FFE0B612F0A3333E7DBD3B>I<DB3FE0130C9126
03FFFE131C021F9038FF803C913A7FF00FC07C9139FF0001F0D903FC90380078FC494814
3DD91FE0141F4948140F4948140701FF15034890C8FC491501485A000716005B000F177C
5B001F173CA2485AA2181C127FA25B95C7FC12FFAB041FB512F0127FA26D9139000FFE00
EF03FC123FA27F121FA26C7EA212077F12036C7E7F6C7F6D6C14076D7E6D6C140FD907F8
141ED903FEEC3C7C902600FF80EBF83C913A7FF007F01C021FB5EAC00C020391C8FC9138
003FF03C427BBF47>I<B6D8C01FB512F8A3000101E0C7383FFC0026007F80EC0FF0B3A6
91B7FCA30280C7120FB3A92601FFE0EC3FFCB6D8C01FB512F8A33D3E7DBD44>I<B612F0
A3C6EBF000EB3FC0B3B3B2EBFFF0B612F0A31C3E7EBD21>I<011FB512FCA3D900071300
6E5A1401B3B3A6123FEA7F80EAFFC0A44A5A1380D87F005B007C130700385C003C495A6C
495A6C495A2603E07EC7FC3800FFF8EB3FC026407CBD2F>I<B600C090387FFFFCA30001
01E0C7000F138026007F80913807FE0018F818E0604D5A4DC7FC173E5F5F4C5A4C5A4C5A
4C5A4CC8FC163E5E5E4B5A4B5AED07804B7E151F4B7E4B7E15FF913881EFF8913883C7FC
EC878791388F03FE91389E01FF14BCDAF8007F4A6D7E5C4A6D7E4A6D7EA2707E707EA270
7E707EA2707F717E84173F717E717EA2717E848419802601FFE04A13C0B600C090B6FCA3
403E7DBD47>I<B612F8A3000101E0C9FC38007F80B3B0EF0380A517071800A45FA35FA2
5F5F5F4C5A160748486C133FB8FCA3313E7DBD39>I<B500C093B512C0A300016D4BEBE0
00D8007F1880D977F0ED03BFA3D973F8ED073FA3D971FC150EA2D970FE151CA3027F1538
A36E6C1470A36E6C14E0A26E6CEB01C0A36E6CEB0380A36E6CEB0700A26E6C130EA36E6C
5BA3037F5BA26F6C5AA36F6C5AA392380FE1C0A3923807F380A26FB4C7FCA36F5AA213F8
486C6D5AD807FFEFFFE0B500F80178017FEBFFC0A34A3E7CBD53>I<B56C91B512F88080
D8007F030713006EEC01FC6E6E5A1870EB77FCEB73FEA2EB71FF01707FA26E7E6E7EA26E
7E6E7EA26E7E6E7EA26E7E6E7FA26F7E6F7EA26F7E6F7EA26F7E6F7EA26F7E6F1380A2EE
7FC0EE3FE0A2EE1FF0EE0FF8A2EE07FCEE03FEA2EE01FF7013F0A2177F173FA2171F170F
A2170701F81503487ED807FF1501B500F81400A218703D3E7DBD44>I<ED7FE0913807FF
FE91391FC03F8091397E0007E04948EB03F8D907F0EB00FE4948147F49486E7E49486E7E
49C86C7E01FE6F7E00018349150300038348486F7EA248486F7EA2001F188049167F003F
18C0A3007F18E049163FA300FF18F0AC007F18E06D167FA4003F18C0A26C6CEEFF80A36C
6C4B1300A26C6C4B5A00035F6D150700015F6C6C4B5A6D5E6D6C4A5A6D6C4A5A6D6C4AC7
FC6D6C14FED901FCEB03F8D9007FEB0FE091391FC03F80912607FFFEC8FC9138007FE03C
427BBF47>I<B712F8EEFF8017E000019039C0003FF86C6C48EB07FCEE01FE707EEF7F80
EF3FC018E0A2EF1FF0A218F8A818F0A2EF3FE0A218C0EF7F80EFFF004C5AEE07FCEE3FF0
91B612C04CC7FC0280C9FCB3A73801FFE0B612C0A3353E7DBD3E>I<ED7FE0913807FFFE
91391FC03F8091397F000FE0D901FCEB03F8D907F0EB00FE4948147F49486E7E49486E7E
49C86C7E498248486F7E49150300038348486F7EA2000F834981001F1880A24848EE7FC0
A3007F18E0A249163FA200FF18F0AC007F18E0A26D167FA3003F18C0A26C6CEEFF80A300
0F18006D5D0007DA0F805B6C6C90393FE003FCED70706C6C496C485A6C6C48486C485A01
7FD9800E5BD93F819038061FC0D91FC19038073F80D90FE14AC7FCD907F1EB03FE902601
FDC013F8903A007EE007E091271FF03FC013180207B5FC9139007FE1E0DB000114388371
1378A2706C13F0EFFF0318FFA27113E0A37113C0711380711300715AEF01F83D527BBF47
>I<B712C016FCEEFF800001D9C00013E06C6C48EB1FF0EE07FCEE01FE707E84717EA271
7EA284A760177F606017FF95C7FCEE01FCEE07F8EE1FE0EEFF8091B500FCC8FC16F09138
8001FCED003FEE1FC0707E707E83160383160183A383A484A4F0C004190EA28218E0057F
131E2601FFE0161CB600C0EB3FF094381FF83805071370CA3801FFE09438003F803F407D
BD43>I<D907FC131890391FFF8038017FEBE0783901FC03F83A03F0007CF8D807C0133F
4848130F001F140748C7FC003E1403007E1401A2007C140012FC1678A46C1538A27EA26C
6C14007F7FEA3FF8EBFF806C13F86CEBFF806C14F06C14FC6C14FF6C15C0013F14E00107
14F0EB007F020713F89138007FFC150FED07FE15031501ED00FFA200E0157FA3163FA27E
A3163E7E167E6C157C6C15FC6C15F86D13016DEB03F06DEB07E0D8F9FCEB0FC03AF07F80
3F8090391FFFFE00D8E00713F839C0007FC028427BBF33>I<003FB91280A3903AF0007F
E001018090393FC0003F48C7ED1FC0007E1707127C00781703A300701701A548EF00E0A5
C81600B3B14B7E4B7E0107B612FEA33B3D7DBC42>I<B600C090B512F8A3000101E0C700
07130026007F80EC01FC715A1870B3B3A4013F16F06E5DA21701011F5E80010F15036E4A
5A010793C7FC6D6C5C6D6C141E6D6C5C027F14F86E6C485A91390FF00FE00203B5128002
0049C8FCED1FF03D407DBD44>I<B691380FFFFEA3000301E0020113E06C01809138007F
806CEF3F00017F163E181C6E153C013F1638A26E1578011F1670A26D6C5DA26E14010107
5EA26E140301035EA26D6C4AC7FCA2806D150EA26F131E027F141CA26F133C023F1438A2
6E6C5BA26F13F0020F5CA2EDF80102075CA26E6C485AA2EDFE07020191C8FCA26F5A6E13
0EA2ED7F9CA216DCED3FF8A36F5AA36F5AA26F5AA36F5A3F407EBD44>I<B500FE017FB5
D88007B5FCA3000301C0010101E0C713F86C90C849EC3FE07148EC0F807E7215006E143F
017F190E84A26D6C60A24D7E6D6C60A2EFE7F86D6C60A2933801C3FC6E18F00107610403
7F6E0281140101036104077F17006D6C4D5AA2040EEB7F806D6C4DC7FCA24CEB3FC0DA7F
80160EA24CEB1FE003C0161E023F171C047814F0DBE070010F133C021F173804F014F84C
1307DA0FF05EA2DBF1C0EB03FCDA07F95EA2DBFB80EB01FEDA03FF6F5AA293C8FCA26E5F
A24B157F020094C8FCA24B81037C153EA20378151E0338151C58407EBD5D>I<007FB5D8
C003B512E0A3C649C7EBFC00D93FF8EC3FE06D48EC1F806D6C92C7FC171E6D6C141C6D6C
143C5F6D6C14706D6D13F04C5ADA7FC05B023F13036F485ADA1FF090C8FC020F5BEDF81E
913807FC1C163C6E6C5A913801FF7016F06E5B6F5AA26F7E6F7EA28282153FED3BFEED71
FF15F103E07F913801C07F0203804B6C7EEC07004A6D7E020E6D7E5C023C6D7E02386D7E
14784A6D7E4A6D7F130149486E7E4A6E7E130749C86C7E496F7E497ED9FFC04A7E00076D
EC7FFFB500FC0103B512FEA33F3E7EBD44>I<B66C0103B51280A3000101F0C8EBF8006C
6C48ED3FC0725A013F041EC7FC6D7E606D6C15386D6C1578606D6C5D6E14016D5E6D6D13
03606E6C49C8FC6E6C5B170E6E6C131E171C6E6C5B6E6C137817706E6C13F06F5B6E1301
6EEB83C05FED7FC7DB3FE7C9FC16EFED1FFE5E150F6F5AB3A4ED1FFC020FB512FCA3413E
7FBD44>I<EAFFFCA4EAF000B3B3B3B3ABEAFFFCA40E5B77C319>91
D<486C13C00003130101001380481303000EEB070048130E0018130C0038131C00301318
0070133800601330A300E01370481360A400CFEB678039FFC07FE001E013F0A3007F133F
A2003F131F01C013E0390F0007801C1C73BE2D>I<EAFFFCA4EA003CB3B3B3B3ABEAFFFC
A40E5B7FC319>I<1318133C137E13FF3801E7803803C3C0380781E0380F00F0001E1378
48133C48131E48130F00601306180D76BD2D>I<EA0180120313005A120E5A1218123812
3012701260A312E05AA412CFEAFFC013E0A3127FA2123F13C0EA0F000B1C7ABE19>96
D<EB0FF8EBFFFE3903F01F8039078007E0000F6D7E9038E001F8D81FF07F6E7EA3157F6C
5AEA0380C8FCA4EC1FFF0103B5FC90381FF87FEB7F803801FC00EA07F8EA0FE0485A485A
A248C7FCEE038012FEA315FFA3007F5BEC03BF3B3F80071F8700261FC00E13CF3A07F03C
0FFE3A01FFF807FC3A003FC001F0292A7DA82D>I<EA01FC12FFA3120712031201B1EC03
FC91381FFF8091387C07E09039FDE001F09039FFC000FC4A137E91C77E49158049141F17
C0EE0FE0A217F0A2160717F8AA17F0A2160FA217E0161F17C06D1580EE3F006D5C6E13FE
9039F3C001F89039F1E003F09039E0780FC09026C03FFFC7FCC7EA07F82D407EBE33>I<
49B4FC010F13E090383F00F8017C131E4848131F4848137F0007ECFF80485A5B121FA248
48EB7F00151C007F91C7FCA290C9FC5AAB6C7EA3003FEC01C07F001F140316806C6C1307
6C6C14000003140E6C6C131E6C6C137890383F01F090380FFFC0D901FEC7FC222A7DA828
>I<ED01FC15FFA3150715031501B114FF010713E190381F80F990387E003D49131FD803
F81307485A49130348481301121F123F5B127FA290C7FCA25AAA7E7FA2123FA26C7E000F
14037F000714076C6C497E6C6C497ED8007C017913F890383F01F190380FFFC1903A01FE
01FC002D407DBE33>I<EB01FE90380FFFC090383F03F09038FC01F848486C7E4848137E
48487F000F158049131F001F15C04848130FA2127F16E090C7FCA25AA290B6FCA290C9FC
A67EA27F123F16E06C7E1501000F15C06C6C13036DEB07806C6C1400C66C131E017E5B90
381F80F8903807FFE0010090C7FC232A7EA828>I<EC1FC0EC7FF8903801F83C903807E0
7E90380FC0FFEB1FC1EB3F811401137FEC00FE01FE137C1500AEB6FCA3C648C7FCB3AE48
7E007F13FFA320407EBF1C>I<167C903903F801FF903A1FFF078F8090397E0FDE1F9038
F803F83803F001A23B07E000FC0600000F6EC7FC49137E001F147FA8000F147E6D13FE00
075C6C6C485AA23901F803E03903FE0FC026071FFFC8FCEB03F80006CAFC120EA3120FA2
7F7F6CB512E015FE6C6E7E6C15E06C810003813A0FC0001FFC48C7EA01FE003E14004815
7E825A82A46C5D007C153E007E157E6C5D6C6C495A6C6C495AD803F0EB0FC0D800FE017F
C7FC90383FFFFC010313C0293D7EA82D>I<EA01FC12FFA3120712031201B1EC01FE9138
07FFC091381E07E091387803F09138E001F8D9FDC07F148001FF6D7E91C7FCA25BA25BB3
A6486C497EB5D8F87F13FCA32E3F7DBE33>I<EA01E0EA07F8A2487EA46C5AA2EA01E0C8
FCACEA01FC127FA3120712031201B3AC487EB512F0A3143E7DBD1A>I<1478EB01FEA2EB
03FFA4EB01FEA2EB00781400AC147FEB7FFFA313017F147FB3B3A5123E127F38FF807E14
FEA214FCEB81F8EA7F01387C03F0381E07C0380FFF803801FC00185185BD1C>I<EA01FC
12FFA3120712031201B292B51280A392383FFC0016E0168093C7FC153C5D5D4A5AEC07C0
4A5A4AC8FC143E147F4A7E13FD9038FFDFC0EC9FE0140F496C7E01FC7F496C7E1401816E
7E81826F7E151F826F7EA282486C14FEB539F07FFFE0A32B3F7EBE30>I<EA01FC12FFA3
120712031201B3B3B1487EB512F8A3153F7DBE1A>I<2701F801FE14FF00FF902707FFC0
0313E0913B1E07E00F03F0913B7803F03C01F80007903BE001F87000FC2603F9C06D487F
000101805C01FBD900FF147F91C75B13FF4992C7FCA2495CB3A6486C496CECFF80B5D8F8
7FD9FC3F13FEA347287DA74C>I<3901F801FE00FF903807FFC091381E07E091387803F0
00079038E001F82603F9C07F0001138001FB6D7E91C7FC13FF5BA25BB3A6486C497EB5D8
F87F13FCA32E287DA733>I<14FF010713E090381F81F890387E007E01F8131F4848EB0F
804848EB07C04848EB03E0000F15F04848EB01F8A2003F15FCA248C812FEA44815FFA96C
15FEA36C6CEB01FCA3001F15F86C6CEB03F0A26C6CEB07E06C6CEB0FC06C6CEB1F80D800
7EEB7E0090383F81FC90380FFFF0010090C7FC282A7EA82D>I<3901FC03FC00FF90381F
FF8091387C0FE09039FDE003F03A07FFC001FC6C496C7E6C90C7127F49EC3F805BEE1FC0
17E0A2EE0FF0A3EE07F8AAEE0FF0A4EE1FE0A2EE3FC06D1580EE7F007F6E13FE9138C001
F89039FDE007F09039FC780FC0DA3FFFC7FCEC07F891C9FCAD487EB512F8A32D3A7EA733
>I<02FF131C0107EBC03C90381F80F090397F00387C01FC131CD803F8130E4848EB0FFC
150748481303121F485A1501485AA448C7FCAA6C7EA36C7EA2001F14036C7E15076C6C13
0F6C7E6C6C133DD8007E137990383F81F190380FFFC1903801FE0190C7FCAD4B7E92B512
F8A32D3A7DA730>I<3901F807E000FFEB1FF8EC787CECE1FE3807F9C100031381EA01FB
1401EC00FC01FF1330491300A35BB3A5487EB512FEA31F287EA724>I<90383FC0603901
FFF8E03807C03F381F000F003E1307003C1303127C0078130112F81400A27E7E7E6D1300
EA7FF8EBFFC06C13F86C13FE6C7F6C1480000114C0D8003F13E0010313F0EB001FEC0FF8
00E01303A214017E1400A27E15F07E14016C14E06CEB03C0903880078039F3E01F0038E0
FFFC38C01FE01D2A7DA824>I<131CA6133CA4137CA213FCA2120112031207001FB512C0
B6FCA2D801FCC7FCB3A215E0A912009038FE01C0A2EB7F03013F138090381F8700EB07FE
EB01F81B397EB723>I<D801FC14FE00FF147FA3000714030003140100011400B3A51501
A31503120015076DEB06FF017E010E13806D4913FC90381FC078903807FFE00100903880
FE002E297DA733>I<B539E00FFFE0A32707FE000313006C48EB00FC5E00015D7F00005D
A26D13016D5CA26D6C485AA2ECC007011F91C7FCA290380FE00EA2ECF01E0107131CA26D
6C5AA2ECFC7801011370A2ECFEF001005BA2EC7FC0A36E5AA26EC8FCA3140E2B287EA630
>I<B53BC3FFFE03FFF8A3290FFE003FE00013C06C486D48EB3F806C4817006D010F141E
00016F131C15076D163C00004A6C1338A2017F5E4B7E151DD93F805DED3DFC1538D91FC0
4A5AED78FE9238707E03D90FE0017F5BEDE03F02F0140701070387C7FC9138F1C01F02F9
148F010315CE9138FB800F02FF14DE6D15FCED00076D5DA24A1303027E5CA2027C130102
3C5C023813003D287EA642>I<B539F01FFFE0A30003D9C00F1300C690388007F8D97F00
13E002805BD93FC05B011F49C7FC90380FE00EECF01E6D6C5A01035B6D6C5A6E5AEB00FF
6E5A6E5A81141F814A7E81147BECF1FC903801E1FEECC0FF01037F49486C7ED90F007F01
1E6D7E013E130F496D7E01FC80486C80000F4A7EB539803FFFF8A32D277FA630>I<B539
E00FFFE0A32707FE000313006C48EB01FC6F5A00015D7F00005DA2017F495AA2EC800301
3F5CA26D6C48C7FCA26E5A010F130EA26D6C5AA2ECF83C01031338A26D6C5AA2ECFEF001
005BA2EC7FC0A36E5AA36EC8FCA2140EA2141E141C143C1438A2147800181370127EB45B
A2495AA248485AD87E07C9FCEA780EEA3C3CEA1FF8EA07E02B3A7EA630>I<001FB61280
A2EBE0000180140049485A001E495A121C4A5A003C495A141F00385C4A5A147F5D4AC7FC
C6485AA2495A495A130F5C495A90393FC00380A2EB7F80EBFF005A5B4848130712074914
00485A48485BA248485B4848137F00FF495A90B6FCA221277EA628>I<B812F0A22C0280
982D>I<BE12C0A25A0280985B>I<001C130E007FEB3F8039FF807FC0A5397F003F80001C
EB0E001A0977BD2D>127 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fx cmr10 10 33
/Fx 33 118 df<133C137EA213FE1201EA03FC13F0EA07E0EA0FC0EA1F80EA1E005A5A5A
12C00F0F6FB92A>19 D<146014E0EB01C0EB0380EB0700130E131E5B5BA25B485AA2485A
A212075B120F90C7FCA25A121EA2123EA35AA65AB2127CA67EA3121EA2121F7EA27F1207
7F1203A26C7EA26C7E1378A27F7F130E7FEB0380EB01C0EB00E01460135278BD20>40
D<12C07E12707E7E7E120F6C7E6C7EA26C7E6C7EA21378A2137C133C133E131EA2131F7F
A21480A3EB07C0A6EB03E0B2EB07C0A6EB0F80A31400A25B131EA2133E133C137C1378A2
5BA2485A485AA2485A48C7FC120E5A5A5A5A5A13527CBD20>I<15301578B3A6007FB812
F8B912FCA26C17F8C80078C8FCB3A6153036367BAF41>43 D<121C127FEAFF80A5EA7F00
121C0909798817>46 D<150C151E153EA2153C157CA2157815F8A215F01401A215E01403
A215C01407A21580140FA215005CA2141E143EA2143C147CA2147814F8A25C1301A25C13
03A2495AA25C130FA291C7FC5BA2131E133EA2133C137CA2137813F8A25B1201A25B1203
A25B1207A25B120FA290C8FC5AA2121E123EA2123C127CA2127812F8A25A12601F537BBD
2A>I<EB03F8EB1FFF90387E0FC09038F803E03901E000F0484813780007147C48487FA2
48C77EA2481580A3007EEC0FC0A600FE15E0B3007E15C0A4007F141F6C1580A36C15006D
5B000F143EA26C6C5B6C6C5B6C6C485A6C6C485A90387E0FC0D91FFFC7FCEB03F8233A7D
B72A>I<EB01C013031307131F13FFB5FCA2131F1200B3B3A8497E007FB512F0A31C3879
B72A>I<EC3FC0903801FFF0010713FC90380FE03E90383F800790387E001F49EB3F8048
48137F485AA2485A000FEC3F0049131E001F91C7FCA2485AA3127F90C9FCEB01FC903807
FF8039FF1E07E090383801F0496C7E01607F01E0137E497FA249148016C0151FA290C713
E0A57EA56C7E16C0A2121FED3F807F000F15006C6C5B15FE6C6C5B6C6C485A3900FE07F0
90383FFFC06D90C7FCEB03FC233A7DB72A>54 D<12301238123E003FB612E0A316C05A16
8016000070C712060060140E5D151800E01438485C5D5DC712014A5A92C7FC5C140E140C
141C5CA25CA214F0495AA21303A25C1307A2130FA3495AA3133FA5137FA96DC8FC131E23
3B7BB82A>I<1538A3157CA315FEA34A7EA34A6C7EA202077FEC063FA2020E7FEC0C1FA2
021C7FEC180FA202387FEC3007A202707FEC6003A202C07F1501A2D901807F81A249C77F
167FA20106810107B6FCA24981010CC7121FA2496E7EA3496E7EA3496E7EA213E0707E12
01486C81D80FFC02071380B56C90B512FEA3373C7DBB3E>65 D<B612C0A3C6EBC0006D5A
B3B3AD497EB612C0A31A397EB81E>73 D<B5913807FFFE8080C69238007FE06EEC1F80D9
DFF0EC0F001706EBCFF8EBC7FCA2EBC3FEEBC1FFA201C07F6E7EA26E7E6E7E81140F6E7E
8114036E7E168080ED7FC016E0153FED1FF0ED0FF8A2ED07FCED03FEA2ED01FF6F1386A2
EE7FC6EE3FE6A2EE1FF6EE0FFEA216071603A216011600A2177E486C153E487ED80FFC15
1EB500C0140EA2170637397DB83E>78 D<B612FEEDFFE016F8000190388007FE6C90C76C
7EEE3FC0707E707E707EA2707EA283A65FA24C5AA24C5A4C5AEE3F8004FFC8FCED07FC91
B512E05E9138000FF0ED03F8ED00FE82707E707EA2161F83A583A6F00180A217F8160F18
03486D01071400B66D6C5A04011306933800FE0ECAEA3FFCEF07F0393B7DB83D>82
D<003FB812E0A3D9C003EB001F273E0001FE130348EE01F00078160000701770A3006017
30A400E01738481718A4C71600B3B0913807FF80011FB612E0A335397DB83C>84
D<B500FC91387FFF80A30003018091380FFC006C90C8EA07E0715A6C705A6E1403017F93
C7FCA280013F1506A26E140E011F150C80010F5DA28001075DA26E147001031560A26D6C
5CA2806D4A5AA2ED8003027F91C8FCA291383FC006A215E0021F5BA2EDF01C020F1318A2
6E6C5AA215FC02035BA2EDFEE002015BA26E6C5AA36FC9FCA3153EA2151CA3393B7EB83E
>86 D<EB1FE0EBFFFC3803E03F3907000F80390F8007E0486C6C7E13E06E7EA26E7E6C5A
6C5AC8FCA4147FEB07FFEB3FE0EBFE00EA03F8EA0FF0EA1FC0123F485A90C7FC160C12FE
A31401A26C13036CEB077C903980063E18383FC01E3A0FE0781FF03A03FFF00FE03A007F
8007C026277DA52A>97 D<EA03F012FFA3120F1203B0EC1FE0EC7FF89038F1E03E9039F3
801F809039F7000FC001FEEB07E049EB03F049EB01F85BED00FCA216FEA2167E167FAA16
7E16FEA216FC15016D14F8ED03F07F01EEEB07E001C6EB0FC09039C7801F00903881E07E
903800FFF8C7EA1FC0283B7EB92E>I<EB03FC90381FFF8090387E03E03901F800704848
13F83907E001FC380FC003A2EA1F80123F90380001F848EB00F01500A2127E12FEAA127E
127FA26C14067F001F140E6D130C000F141C6C6C13386C6C13706C6C13E039007C07C090
381FFF00EB07F81F277DA525>I<ED0FC0EC03FFA3EC003F150FB0EB03F8EB1FFF90387E
078F9038F801EF3903F0007F4848133F4848131FA24848130F123F90C7FC5AA2127E12FE
AA127E127FA27EA26C6C131FA26C6C133F6C6C137F6C6CEBEFF03A01F801CFFF39007C07
8F90381FFE0FD907F813C0283B7DB92E>I<EB07F8EB1FFF90387C0FC03901F803E03903
F001F0D807E013F8380FC0004848137CA248C7127E153E5A153F127E12FEA3B7FCA248C8
FCA5127EA2127FA26C14037F001F14076C6C13060007140E6D131CD801F013386C6C1370
90387E03E090381FFF80903803FC0020277EA525>I<ED03F090390FF00FF890393FFC3C
3C9039F81F707C3901F00FE03903E007C03A07C003E010000FECF000A248486C7EA86C6C
485AA200075C6C6C485A6D485A6D48C7FC38073FFC38060FF0000EC9FCA4120FA213C06C
B512C015F86C14FE6CECFF804815C03A0F80007FE048C7EA0FF0003E140348140116F848
1400A56C1401007C15F06CEC03E0003F1407D80F80EB0F80D807E0EB3F003901FC01FC39
007FFFF0010790C7FC26387EA52A>103 D<EA0380EA0FE0487EA56C5AEA0380C8FCAAEA
03F012FFA312071203B3AA487EB512C0A312387EB717>105 D<EA03F012FFA3120F1203
B3B3AD487EB512C0A3123A7EB917>108 D<2703F00FF0EB1FE000FFD93FFCEB7FF8913A
F03F01E07E903BF1C01F83803F3D0FF3800FC7001F802603F70013CE01FE14DC49D907F8
EB0FC0A2495CA3495CB3A3486C496CEB1FE0B500C1B50083B5FCA340257EA445>I<3903
F00FF000FFEB3FFCECF03F9039F1C01F803A0FF3800FC03803F70013FE496D7EA25BA35B
B3A3486C497EB500C1B51280A329257EA42E>I<EB03FE90380FFF8090383E03E09038F8
00F84848137C48487F48487F4848EB0F80001F15C090C712074815E0A2007EEC03F0A400
FE15F8A9007E15F0A2007F14076C15E0A26C6CEB0FC0000F15806D131F6C6CEB3F006C6C
137EC66C13F890387E03F090381FFFC0D903FEC7FC25277EA52A>I<3903F01FE000FFEB
7FF89038F1E07E9039F3801F803A0FF7000FC0D803FEEB07E049EB03F04914F849130116
FC150016FEA3167FAA16FEA3ED01FCA26DEB03F816F06D13076DEB0FE001F614C09039F7
803F009038F1E07E9038F0FFF8EC1FC091C8FCAB487EB512C0A328357EA42E>I<D903F8
13C090381FFE0190387E07819038FC01C33903F000E3000714774848133749133F001F14
1F485A150F48C7FCA312FEAA127FA37E6D131F121F6D133F120F6C6C137F6C6C13EF3901
F801CF39007E078F90381FFE0FEB07F890C7FCABED1FE00203B5FCA328357DA42C>I<38
07E01F00FFEB7FC09038E1E3E09038E387F0380FE707EA03E613EE9038EC03E09038FC00
80491300A45BB3A2487EB512F0A31C257EA421>I<EBFF03000313E7380F80FF381E003F
487F487F00707F12F0A2807EA27EB490C7FCEA7FE013FF6C13E06C13F86C7F00037FC67F
01071380EB007F141F00C0EB0FC01407A26C1303A37E15806C13077EEC0F00B4131E38F3
C07C38E1FFF038C03F801A277DA521>I<1318A51338A31378A313F8120112031207001F
B5FCB6FCA2D801F8C7FCB215C0A93800FC011580EB7C03017E13006D5AEB0FFEEB01F81A
347FB220>I<D803F0EB07E000FFEB01FFA3000FEB001F00031407B3A4150FA3151F1201
6D133F0000EC77F86D9038E7FF8090383F03C790381FFF87903A03FC07E00029267EA42E
>I E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fy cmr7 7 1
/Fy 1 50 df<13381378EA01F8121F12FE12E01200B3AB487EB512F8A215267BA521>49
D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fz cmr8 8 15
/Fz 15 115 df<127012F87EA2127E7EEA0F801207EA03C0EA01E0EA007013200C0C78AD
23>18 D<EB3FC0EBFFF03803E07C48487E48487E497E001EEB0780A2003E14C0A248EB03
E0A500FC14F0B0007C14E0A3007E1307003E14C0A36CEB0F806C14006D5A3807C03E3803
F0FC3800FFF0EB3FC01C2D7DAB23>48 D<130C133C137CEA03FC12FFEAFC7C1200B3B113
FE387FFFFEA2172C7AAB23>I<EB7F803801FFF0380780FC380E003F48EB1F8048EB0FC0
5A0060EB07E012F000FC14F07E1403A3007C1307C7FCA215E0140F15C0141F1580EC3F00
147E147C5C495A495A495A495A011EC7FC5B5B4913305B485A4848136048C7FC000E14E0
001FB5FC5A4814C0B6FCA21C2C7DAB23>I<EB3FC03801FFF03807C0FC380E007E487FEC
1F80003F14C0A2EB800F1300A2000C131FC7FC1580A2EC3F00143E5C5CEB03F0EBFFC014
F0EB00FC143FEC1F8015C0140F15E0A2EC07F0A21238127C12FEA3EC0FE012F8006014C0
0070131F6C1480001EEB3F00380780FC3801FFF038007FC01C2D7DAB23>I<140EA2141E
143EA2147E14FEA2EB01BE1303143E1306130E130C131813381330136013E013C0EA0180
120313001206120E120C5A123812305A12E0B612FCA2C7EA3E00A9147F90381FFFFCA21E
2D7EAC23>I<000CEB0180380FC01F90B512005C5C14F014C0D80C7EC7FC90C8FCA8EB1F
C0EB7FF8380DE07C380F801F01001380000E130F000CEB07C0C713E0A2140315F0A41278
12FCA448EB07E012E0006014C00070130F6C14806CEB1F006C133E380780F83801FFE038
007F801C2D7DAB23>I<EB03F8EB0FFE90383E0780EBF8013901F007C03803E00FEA07C0
EA0F80A2391F00078091C7FC123EA2127EA2127CEB0FC038FC3FF0EBF07C38FDC01EB448
7E01001380EC07C04814E0A214034814F0A4127CA3127EA2003E14E01407121E001F14C0
6CEB0F803907801F003803C03E6C6C5A38007FF0EB1FC01C2D7DAB23>I<1230123C003F
B512F8A215F05A15E039700001C000601480140348EB0700140E140CC7121C5C14301470
5C495AA2495AA249C7FCA25B130E131EA2133EA3133C137CA413FCA913781D2E7CAC23>
I<EB1FC0EBFFF03803E07C3807801E48487E001EEB0780A248EB03C0A4123E1407003F14
80381FC00F01E01300EBF81E6C6C5A3807FFF86C13E0C6FCEB3FF8EBFFFC3803C7FFD807
831380D81F0013C0001E133F48EB1FE0007C13070078EB03F012F84813011400A46C14E0
00781301007C14C0003C13036CEB0780390F800F003807E03C3801FFF038003FC01C2D7D
AB23>I<EB3F80EBFFF03803E0783807C03E48487E48487E003E14801407007E14C0127C
00FC14E01403A315F0A5007C1307127EA2003E130F7E6C131F3807803B3803E0F33800FF
C390383F03E013001407A215C0A2140F001E1480003F14005C143E143C003E5B001C5B38
0E03E03807FF80D801FEC7FC1C2D7DAB23>I<EB1F80EBFFF03803E0783807C03E380F80
1E381F001FEC0F80123E007E130715C0127C12FCA3B6FCA200FCC8FCA5127EA2003E14C0
123F6C1301390F80038001C013003803E00F3801F03C38007FF8EB1FC01A207E9E1F>
101 D<EA0780EA0FC0EA1FE0A4EA0FC0EA0780C7FCA8EA07C012FFA2120F1207B3A5EA0F
E0EAFFFCA20E2E7EAD14>105 D<2607C07FEB07F03BFFC3FFC03FFC903AC783F0783F3C
0FCE01F8E01F803B07DC00F9C00F01F8D9FF8013C04990387F000749137EA249137CB248
6C01FEEB0FE03CFFFE0FFFE0FFFEA2371E7E9D3C>109 D<380781F838FF87FEEB8E3FEA
0F9CEA07B813B0EBF01EEBE000A45BB0487EB5FCA2181E7E9D1C>114
D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: FA cmr12 12 21
/FA 21 122 df<131F1480133F137FA2EBFF00485A485A5B485A485A138048C7FC123E12
3C5A12E0124011126CC431>19 D<14FF010713E090381F81F890383E007C01FC133F4848
EB1F8049130F4848EB07C04848EB03E0A2000F15F0491301001F15F8A2003F15FCA390C8
FC4815FEA54815FFB3A46C15FEA56D1301003F15FCA3001F15F8A26C6CEB03F0A36C6CEB
07E0000315C06D130F6C6CEB1F806C6CEB3F00013E137C90381F81F8903807FFE0010090
C7FC28447CC131>48 D<EB03FE90381FFFC0017F13F03901F80FFC3903C001FE48486C7E
000EC7EA7F8048EC3FC0ED1FE04815F00030140F007015F800601407126CB415FC7F7F15
03A46C4813076CC7FCC8FC16F8A2150F16F0151F16E0A2ED3FC0ED7F8016005D5D4A5A4A
5A4A5A5D4A5A4A5A4AC7FC147C5C5C495A495A495A49C7120C131E5B013814185B5B485A
4848143848C81230000E1570001FB612F0A25A5AB712E0A326427BC131>50
D<49B4FC010F13E0013F13FC9038FE01FE3A01F0007F80D803C0EB3FC048C7EA1FE0120E
ED0FF0EA0FE0486C14F8A215077F5BA26C48130FEA03C0C813F0A3ED1FE0A2ED3FC01680
ED7F0015FE4A5AEC03F0EC1FC0D90FFFC7FC15F090380001FCEC007FED3F80ED1FC0ED0F
E016F0ED07F816FC150316FEA2150116FFA3121EEA7F80487EA416FE491303A2007EC713
FC00701407003015F80038140F6C15F06CEC1FE06C6CEB3FC0D803E0EB7F803A01FE01FE
0039007FFFF8010F13E0010190C7FC28447CC131>I<121CA2EA1F8090B712C0A3481680
A217005E0038C8120C0030151C00705D0060153016705E5E4814014B5A4BC7FCC8120615
0E5D151815385D156015E04A5AA24A5A140792C8FC5CA25C141E143EA2147E147CA214FC
A21301A3495AA41307A6130FAA6D5AEB01C02A457BC231>55 D<B8FC17F017FC00019039
C00007FF6C499038007FC0017FED1FE0EF07F0EF03FC717E717E84727E727E727EA2727E
85180385A2180185A38584A31A80AD1A00A36061A361180361180761180F614E5A183F61
4EC7FC18FEEF03FC4D5AEF1FE001FFED7FC0486DD907FFC8FCB812FC17F094C9FC41447C
C34B>68 D<B612F8A3000101E0C9FC6C6C5A5CB3B31830A418701860A518E0A3EF01C0A2
17031707A2170F173F177FEE01FF48486C011F1380B9FCA334447CC33D>76
D<B712E016FF17C000019039C0003FF86C6C48EB03FCEE00FF717E717E717E717E717EA2
84170384A760A21707604D5AA24D5A4D5A4DC8FCEE01FEEE07F8EE3FE091B6C9FC16FC91
3980007F80EE0FE0707EEE03FC707E160083717EA2717EA784A71A6084171FA21AE0716C
13C02601FFE002071301B600C01680943801FC03943900FE0700CBEA3FFEF007F843467C
C348>82 D<003FB500E0011FB5FCA3C691C7000713E0D93FFC020190C7FC6D4815FC010F
6F5A6D6C15E0A26D6C4A5A6D6C5D4DC8FC6D6D5B6E6C13065F6E6C131C6E6C13185F6E6C
13706E6C13605F913803FE01DA01FF5B4CC9FC6E1387ED7FC616CCED3FFC6F5A5E6F7E6F
7EA26F7E82A203067F150E92380C7FC04B6C7E15389238301FF04B6C7E15E04B6C7E4A48
6C7E14034B6C7E02066D7F140E020C6E7E4A6E7E143802306E7E4A6E7E14E04A6E7E4948
6E7E130349C86C7E496F7F5B496C8201FF83000701E0020313F8B500F8021FEBFFF0A344
447EC349>88 D<EB07FC90383FFF809038F80FE03903C003F048C66C7E000E6D7ED80FC0
137E486C137F6D6D7EA36F7EA26C5AEA0380C8FCA4EC0FFF49B5FC90380FFE1FEB3FC0EB
FF00EA03FC485A485A485A485A127F5B176048C7FCA3153FA36D137F007F14EF6D9038C7
E0C0003F13013A1FE00783F13B07F81E03FF802701FFFC0113003A001FE0007C2B2E7CAC
31>97 D<167FED3FFFA315018182B3EC7F80903803FFF090380FC07C90383F000E017E13
07496D5AD803F87F48487F5B000F81485AA2485AA2127FA290C8FC5AAB7E7FA2123FA26C
7EA2000F5D7F6C6C5B00035C6C6C9038077F806C6C010E13C0013F011C13FE90380FC0F8
903803FFE09026007F0013002F467DC436>100 D<EB01FE903807FFC090381F03F09038
7E00FC49137E48487F485A4848EB1F80000F15C049130F121F484814E01507A2007F15F0
90C7FCA25AA390B6FCA290C9FCA67EA27FA2123F16306C7E1670000F15606D14E06C6C14
C0000314016C6CEB03806C6CEB0700013E131E90381F80F8903803FFE0010090C7FC242E
7DAC2B>I<EA01E0EA07F8A2487EA46C5AA2EA01E0C8FCADEA01FC12FFA3120712031201
B3B0487EB512F8A315437DC21C>105 D<143C14FFA2491380A46D1300A2143C91C7FCAD
EC7F80EB3FFFA31300147F143FB3B3AA123E127F39FF807F00A2147EA25C6C485A383C01
F06C485A3807FF80D801FEC7FC195785C21E>I<D801FC01FFEC1FE000FF010701E0EBFF
FC913B0F03F801E07F913C3C01FC07803F800007903C7000FE0E001FC0000349D97E1C13
0F2601FDC0D97F38804A143001FFDA3FF06D7E91C75BA2495DA3495DB3A8486C4A6C497E
B5D8F81FB50003B512E0A34B2C7DAB52>109 D<3901FC01FE00FF903807FFC091381E07
F091383801F8000701707F0003EBE0002601FDC07F5C01FF147F91C7FCA25BA35BB3A848
6CECFF80B5D8F83F13FEA32F2C7DAB36>I<EC7F80903803FFF090380FC0FC90383E001F
496D7E496D7E48486D7E48486D7E48486D7E000F81A24848147E003F157FA290C87E4816
80A44816C0AA6C1680A26D147F003F1600A2001F157E6D14FE000F5D6D130100075D6C6C
495A6C6C495A6C6C495A013E49C7FC90381FC0FE903807FFF89038007F802A2E7DAC31>
I<3903F803F000FFEB1FFCEC3C3EEC707F0007EBE0FF3803F9C000015B13FBEC007E153C
01FF13005BA45BB3A748B4FCB512FEA3202C7DAB26>114 D<D801FC147F00FFEC3FFFA3
00071401000380000181B3A85EA35DA212006D5B017E9038077F80017F010E13C06D011C
13FE90380FC078903803FFF09026007F8013002F2D7DAB36>117
D<B539F001FFFCA3000790C7EA7FE06C48EC1F8000011600160E1200160C017F5CA28001
3F5CA26E1370011F146080010F5CA2ECF00101075CA26D6C48C7FCA26E5A01011306A26D
6C5AA214FF6E5AA215B8EC3FB015F06E5AA36E5AA26E5AA36EC8FC2E2C7EAA33>I<B539
F001FFFCA3000790C7EA7FE06C48EC1F8000011600160E0000150C6D141C6D1418A26E13
38013F1430A26D6C5BA26E13E0010F5CA26D6C485AA2ECF803010391C7FCA2903801FC06
A2ECFE0E0100130CA2EC7F18A215B8EC3FB0A2EC1FE0A36E5AA26E5AA36EC8FCA21406A3
5CA25CA2123C007E5BB4FC5CA25CEAFE01387C0380D87007C9FCEA3C1EEA0FFCEA03F02E
3F7EAA33>121 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: FB cmbx12 24.88 37
/FB 37 122 df[<96380FFFFE060FB612E04DB712FC051F16FF94B912C0040784041F18
F8047F9126FC001F7F4BB6008001017F030702F8C8EA3FFF4B02E0030F7F033F02804B7F
4B49C9127F92B54893B57E4A02F05D4A4A4B804A4A5D4A4A84634A91C9FC4A5BA24A5B51
80755C91B5FC5EA3755CA2755C755C755CE23FFEC8FCF40FF899CAFCAF083FB612FCBFFC
A9C702FCC912038787B3B3B3B2003FB800F0013FB812F0A9>116
144 123 271 129 12 D[<13FE3803FF804813E0487F487F487F5A80B6FC8181A2818181
A2816C806C80827E0007816C81C681013F80130F0103800100806E7F021F148014070201
14C06E6C13E06F13C0030F1380150303001300163E160C>43 39
104 272 116 18 D[<ED0FE0ED3FF8EDFFFC4A7F4A7F4A148017C05C4A14E05C5CA291B6
FC5B5BA25B4915C04915805B17004914FC90B65A4815E04815804BC7FC4814F84814E048
5C4891C8FC14FC4813F0B512C06C5B6C48C9FC13F8EA1FE0EA0F800006CAFC>43
39 80 272 116 I<BA12F0B33C137DB74D>45 D<EB1FE0EB7FF83801FFFE0007EBFF8048
14C04814E0A24814F0A24814F8A2B612FCA86C14F8A26C14F0A26C14E0A26C14C06C1480
0001EBFE0038007FF8EB1FE090C8FCB3AEEB1FE0EB7FF83801FFFE0007EBFF804814C048
14E0A24814F0A24814F8A2B612FCA86C14F8A26C14F0A26C14E0A26C14C06C14800001EB
FE0038007FF8EB1FE01E5C6FDB41>58 D[<BFFC1EFEF6FFE01FFCF7FF8020F020FC20FF
8DC7000392CA001F15E00B0181776C800C1F807814FF0C03818A78818E79808B8E8B8E8B
8EA27980A4791580AB551500A4555CA26A676A676A555C9CB65AA2545D5492C7FC545C54
14F80C3F5C545C53B612800B0F4AC8FC0B7F14F80A1FB612E095BBC9FC1FF81F801FF8F7
FF8020F820FE95CBECFFC00C1F14F00C07807814FE0C006E7E7980798079807980798079
808E79158023C08B23E08C23F0A223F88CA223FCA38C23FEAB5614FCA55614F8A39DB612
F0A25515E06723C055158067551500555C555C9CB6FC545D0C075D0C1F15C09BB75A0B0F
93C7FCC212FC6921E021800EFCC8FC20F020800DF0C9FC0CFCCAFC>143
142 120 269 165 66 D[<0803B500C0EE01F00703B600FEEE03F8077FDBFFE015070607
B800FC150F063F05FF151F4DBA00E0143F050F07F8147F053F07FE14FF94BC5B04039326
F8000FECC003040F4BC86CEBF007043F03C0030F6D5A93B648C900036D5A4B03F0933900
7FFF3F030703C0051F90B5FC4B92CB7E033F02FC18034B02F08492B648844A0380193F4A
92CD7E4A4A864A4A864A02F0864A4A864A8991B65A494B874992CF7E4C885B494A885E49
8B494A88A2495C8D90B65A8D5A5E48217FA24892D1FC223FA25A5DA248211FA3485CFA0F
F09FC7FCA25AA45DA3B6FCB27EA381A47EA46C80FA07F0FA0FF87EA2817EA36C6F1D1F23
F07E827E223F6D6E1EE0A26D6E1D7F23C06D6E1DFF7F705213806D806D55130070646D6F
646D6F515A6E6E1B1F6E6E515A6E6E515A6E6E1BFF6E6E505B6E6E505B6E6F4F5B6E03E0
4F90C7FC6F6EF13FFE6F02FC4F5A030F02FF4E485A6F03C005075B030103F0051F5B6F03
FE057F1380043FDAFFE00303B5C8FC040F03FE033F13FC0403DBFFF80107B55A040093B8
12E0053F1A80050F4FC9FC050119F8DD003F18C0060795CAFCDE007F16F0070393CBFCDF
000314C0>141 146 115 271 168 I[<0803B500C0EE01F00703B600FE4C7E077FDBFFE0
15070607B800FC150F063F05FF151F4DBA00E0143F050F07F8147F053F07FE14FF94BC5B
04039326F8000FECC003040F4BC86CEBF007043F03C0030F6D5A93B648C900036D5A4B03
F09339007FFF3F030703C0051F90B5FC4B92CB7E033F02FC18034B02F08492B648844A03
80193F4A92CD7E4A4A864A4A864A02F0864A4A864A8991B65A494B874992CF7E4C885B49
4A885E498B494A88A2495C8D90B65A8D5A5E48217FA24892D1FC223FA25A5DA248211FA3
485C7C5A9FC9FCA25AA45DA3B6FCB27EA381A20A0FBB12F8A27EA46C80A36C98C96C02F8
C7FCA2817EA36C81A27E827E827FA26D80A26D806D80A26D806D80A26D816D816E806E80
6E806E6E97B6FC6E806E806E03C0606E816F02F8606F02FE60030F6E606F03E0173F0301
03F85F6F03FF933801FFFC043F03E00307497E040F03FF033F497E040304FC0107B5EAE0
0F040093B8487E053FF20001050F07FCEB007F050107F0141FDD003F06C01407060795C8
1201DE007F04F8ED00700703048093C8FCDF000302E0CDFC>157
146 115 271 183 71 D[<BC12C0A9C7000103E0C8FCB3B3B3B3B3B3B0BC12C0A9>74
142 122 269 87 73 D[<BC12F8A9C7000303C0CEFCB3B3B3B3A5F8FF80A4672100A667
A368A21F07A41F0FA3555AA21F3FA21F7FA21FFFA2666668666666666653B5FC65650B1F
5C1D7F0A03B6FC1C1F0903B7FCC1FCA468A5>121 142 120 269
140 76 D[<97B512F0077FECFFE00607B712FE067FEEFFE00503B912FC051FF0FF80057F
19E00403BB12FC040F9226E0007F14FF043F02FCC7000315C04C02E0DA007F804BB60080
031F14F8030702FCC9000314FE4B4A70804B02E0706C80037F0280051F14E092B6CB6C80
4A4A72804A4A72804A02F00600804A4A737F4A4A73804A8B4A4A738091B6CD6C80494A74
80A2494A7480494A7480498C4C86498D4C87498D494A7580A290B68B4C87488EA24892CF
6C80A3488E4B88A2488EA3484A761580A34823C0A5484A7615E0A7B621F0B36C23E0A26F
64A56C23C0A46F646C2380A36C23006F64A26C6AA270636C6AA26C6A70636C6A70636D69
A26D6E98B65AA26D6E505DA26D6E5092C7FC6D6870626D6E505C6D686D6F4F5C6E6E4F5C
6E6E4F5CA26E6E96B65A6E6E4E92C8FC6E6E4E5C020102FF060F14F86E6F4D5C6F6E4D5C
6F02F094B65A030F6E4C92C9FC6F02FE04075C03016E6C031F14F86F03F092B65A043F02
FE020715C0040FDAFFF090B7CAFC040392B812FC04001AF0051F198005074ECBFCDD007F
17E0060F94CCFCDE007F15E0070002F0CDFC>148 146 115 271
175 79 D[<BE12F8F5FFF01EFF1FE01FFCF7FF8020E020F820FEC700030380C8000781E2
003F15C00B03810B00810C3F8078800C07807880788178818E8B8E8B8E8B8EA28EA28B8E
A42380AC2300A46A67A26AA26A676A676A9CB65A6A665492C7FC545C0C1F5C545C9BB612
E00B075D0B3F5D0A07B648C8FC95BB12F820E0208055C9FC1FF09CCAFC1EF00BF8CBFC06
C0D0FCB3B3B2BCFCA9>137 142 120 269 159 I[<000FC312F8A6488EA304C0C7001F4A
C7120103F8C8F0000F03C01C0192C9737E02FC1E1F4A1E0702E08A4A8A4A8A4890CA757E
A249203F49201FA349200FA2492007A4492003007F8EA4498CA848487A1380A6CC99C7FC
B3B3B3B3AA030FBD12FCA9>145 140 120 267 162 84 D[<BC040FB912C0A9C7000303
C0CD001F02E0C7FC9E26007FF8C8FC7C5AB3B3B3B3B36E555AA3848022FF6BA26F657264
81696F9CC9FC72626F66210F6F6E505AA26F6E505A6F535A6F6E1AFF734E5B706E4E5B70
637002F04E5B706E063F90CAFC706E4E5A7002FF4D485A04006F04075B7102E0043F5B71
02FC4BB55A050FDAFF80020F14807103FC0103B6CBFC050192B812FC716C61061F19E006
031980060006FCCCFC071F17F007011780DF001F03F8CDFCE0001F49CEFC>162
144 120 269 179 I<93B512FC037FECFFF00207B8FC023F17E091B912F84918FE010772
7E499126C0007F14E04901E0C7000F80496D020380496D020014FE6F6F7F90B570806F6F
8085486E6F807380A27380A28885886C5CA26D4982886D5B6D5B010713C0010190CAFC90
CCFCA90603B7FC050FB8FC0403B9FC167F0307BAFC153F4AB7EA807F020FEDE000023F02
FCC7FC91B612E0010392C8FC4914FC011F14F04914C0495C90B548C9FC485C485C485C48
5C5A5D485CA24891CAFCA3B6FC5CA397B6FCA461806C60F107EF6C6E150F6F16CF6C183F
6FDB7F8F806C6EDBFF0F14E06C02FCDA03FE15FE6C6E91260FFC0791B5FC6C6E6CD93FF8
17806C923AF803FFF003013F91B6487E010FEF8000010394C77E010004FC141F021F03F0
140702010380DA007F1400DA000701F8CDFC695F79DD71>97 D[<ED1FF0017FB5FCB7FC
A9EA003F1307A27FB3B296383FFFC00607B512FE063FECFFE04DB712F8050716FF051F17
C0057F17F094B5D8C00F8004F301FCC714FE04F701E0023F7F93B50080020F804DC86C14
E005F80301804D6F804D707F05808294CA804C717F4C7180A24C71808BA27680A28B88A2
8BA28BA3888BA52080B02000A56764A267A3676467A2525CA267647062704D91C7FC704D
5BA2714C5B7193B55A05F04B5CDCBFF84B5CDC1FFC030F5C4B6CB44B91C8FC7001C0027F
5B4B6C01F00103B55A4BC601FF013F14F04B6D90B712C04B011F94C9FC4B6D16FC4B0103
16F092C86C15804A030F02F8CAFC90CB49CBFC>113 144 121 270
129 I<94387FFFF0041FB612E093B712FE0307707E031F17F092B97E4A18FE020784021F
9126F8000F14804A0280010014C04A49C74814E049B500F85C494A17F0494A5C495C494A
4A14F84991C8FC5D495B90B5FC5D5A485C7314F05A4B6F14E05A7314C0487214804B9338
3FFE00F20FF84896C8FCA4485CA5B6FCB07EA281A37EA36C80A37E6F18FE6CF201FFA26C
6E5F1CFE6C801B076C6EEF0FFC6D7F70EE1FF86DF13FF06D6E167F6D6EEEFFE06D02F84B
13C06D6E5D6D02FF030F13806D03C0023F1300023F02F0903801FFFC6E9126FF801F5B02
0792B65A6E18C0020060033F4CC7FC030716F8030016C0041F4AC8FCDC007F13C0585F78
DD67>I[<F53FE098B6FC4FB7FCA996C77E1B0FA287B3B294383FFF80040FB512FC93B712
80030716E0031F16F8037F16FE4AB9128702074AC66C13C7021F02E0010713F74A91C890
B6FC4A01FC153F49B548150F4902E081494A81494A814991CA7E495B8749498390B54883
5A5D5AA2485CA25A5D5AA35AA25D5AA5B6FCB07EA57E81A37EA27EA2817EA26C80A26C62
6C6E5F636D7F6D6D94B6FC6D606D6D1607705D6D6E4B81010102F0157F6D6E92B712FE6E
01FE020301EF91B512806E6D6C011F13CF020FDAF801B5120F020391B612FE6E17F86E6C
16E0030F16800301EDFC00DB003F14E0040049C74AC8FC>113 144
120 270 129 I<94387FFFC0040FB6FC93B712E0030716FC031F16FF037F17C04AB912F0
0207DAF80380021F912680003F13FE4A49C7000F7F4A01F802038049B5486E804902C06E
6C7F494A6F7F4991C9FC49727F4949707F4B84498490B548707F5A4B198048855D481CC0
86481CE05D5A871DF05AA25D5AA21DF887A2B6FCA392BBFCA51DF00380CDFCA77EA4817E
A37EA2817EA26CF307F06FF00FF87E816C1B1F6F19F06C1B3F6D6DF07FE06D7FF4FFC06D
6E4C13806D6E5E6D02F04C13006D6EEE1FFE6D6E4C5A6D6C01FFEEFFF86E02E002035B6E
02FC021F5B02079126FFC003B55A6E92B7C7FC020060033F17F8030F17E003011780DB00
3F03FCC8FC040315C0DC000F01F8C9FC5D5F7ADD6A>I[<95383FFF80050FB512F094B612
FE040781041F16C0047F824BB87E0307DAF8077F031FDAC00F7F4B49C6487F4B495B92B5
00F0814A4A5B4A5C4A93B612805F4A91C7FC5C5E5C5E5C731400A24C6E5B91B56F5BA273
5B070313E00700138097C8FCB3A4BA12F8A9C702FCCBFCB3B3B3B3A2003FB9FCA9>81
144 121 271 71 I<F5FFC093260FFFFC030F13F04BB600E0027F7F031F03FE49B512FE
037F9226FF8007800203B8EAF01F020FDDFC3F15804A7148133F027FDA003F90B500F014
C091B500F80107ED807F4902E00101ECFC00010702806D6C5B93C87E49496F7F49496F7F
49496F6D6D1380491A8077130090B5486F6E6C5AF503F84875C8FCA2484A6F80A44887AB
6C63A46C6E4B5CA26C63A26D6D4B5CA26D97C9FC6D6D4B5B6D6D4B5B6D6D4B5B705C0101
02E049B512E06D02F801075C4902FF013F5C4992B648CAFC496002F317F090260FE07F16
80031F4BCBFC90261FC00115E0DB000F01FCCCFC013F91CFFCA3137FA280A380A2808080
6E7E15F092B812F06DF0FFE01BFEF3FFC06D1AF81CFE767E6D1BE06D87896D1BFE6D877F
6E878A0103BD7E130F013F8890BEFC4802E0C9003F814891CBFC4801FC180F4849060180
4849727E484985884849737F88A2B55A88A66E616C65A26E616C6D4F5B6C656E616C6D4F
5B6C6D96B55A6C6D6C05035C6F5FC602F0051F49C7FC6D01FC057F5B6DD9FF800303B55A
010F02F8033F14E06DDAFFE0010FB65A010192B9C8FCD9003F19F8020F19E0020196C9FC
DA001F17F0030194CAFCDB000192CBFC6A887ADD74>I[<ED1FF0017FB5FCB7FCA9EA003F
1307A27FB3B2963803FFFC073FEBFFE096B612F8060715FE061F6F7E4E16E095B87E4DD9
FC03804DD9C000804D48C76C7FDD0FF880DD1FE0824D486E804D5A05FEC881DCF1FC815F
04F385EEF7F04D81EEFFC0A24D84A294C9FCA25EA35EA45EB3B3AFB9D8E001B912C0A9>
114 143 119 270 129 I[<EC3FC0ECFFF0010313FC497F497F498049804980A290B67E
A24881A86C5DA26D5CA26D5C6D5C6D91C8FC6D5B6D5B010013F0EC3FC091CAFCB3A3ED1F
F0017FB5FCB7FCA9EA003F1307A27FB3B3B3B0B91280A9>49 144
119 271 65 I[<EF03FCEF0FFF053F13C04D7F94B57E4C804C804C80A24C80A24C1580A8
701500A2705CA2705C705C705C715B715B050F90C7FCEF03FC94C9FCB3A3F1FF800407B6
FC031FB7FCA9ED0001707E8383B3B3B3B3B1137F3801FFC0000713F0487F487F487F1A00
486D5CA2B66C5DA25F616194B5FC61A26C4A485C4C5C6C495E4A4991C7FC6C49495B6C49
013F5B6C01FE90B512F06C90B75A6C17806C6C4BC8FC011F15F8010715E0010092C9FC02
0F13E0>65 185 140 271 71 I[<ED1FF0017FB5FCB7FCA9EA003F1307A27FB3B3B3B3B3
B3ACB912C0A9>50 143 119 270 65 108 D<DB3FE0912601FFFC943801FFFC017FB503
1FD9FFE0041FEBFFE0B792B600FC93B612FC060303FF030315FF060F04C0020F16C0063F
04F0023F16F095B86C91B87E4DD9FC036E49D9FC03804DD9C0006E49D9C000804D48C700
3F6D4948C7003F7FDD0FF86EDB0FF880D8003F4B48714848830107DB3FC06E9126C03FC0
6E804D484E5A6D4BC86F48C881DCE1FE6FDAE1FE814D61DCE3F8DEF3F884DCE7F0F0F7F0
4D6F4B81DCEFC0F0FFC0A2DCFF804F84A294C993C9FCA24C61A34C61A44C61B3B3AFB900
E090B900E090B912E0A9B35D77DCC2>I<DB3FE0913803FFFC017FB5033FEBFFE0B792B6
12F8060715FE061F6F7E4E16E095B87E4DD9FC03804DD9C000804D48C76C7FDD0FF880D8
003FDB1FE08201074B486E804D5A6D03FEC881DCE1FC815F04E385EEE7F04D81EEEFC0A2
DCFF8084A294C9FCA25EA35EA45EB3B3AFB9D8E001B912C0A9725D77DC81>I<94381FFF
F00407B612C0047F15FC0303B87E030F17E0037F17FC4ABAFC4A9126FC007F80020F02C0
010714E04A49C880027F01F8033F13FC91B5486F7F4902C003077F494A6F804991C96C80
494970804949717F49874949717FA290B548717F48884B83481D80A2481DC04B83481DE0
A2481DF0A3484A7114F8A4481DFCA5B61BFEAF6C1DFCA56C6E4D14F8A36C1DF0A36C1DE0
6F5F6C1DC0A26C6E4D1480A26C1D006F5F6C646D6D4D5B6F94B5FC6D636D6D4C5C6D6E4B
5C6D6E4B5C6D02F0031F5C6D6E4B91C7FC6D6C01FE92B512FC6ED9FFC001075C6E02FC01
7F5C020791B812C0020196C8FC6E6C17FC031F17F003031780DB007F03FCC9FC040715C0
DC001F01F0CAFC675F7ADD74>I<DB1FF091381FFFC0017FB50203B6FCB7021F15E095B7
12FC050316FF050F17C0053F17F094B912FC04F1DAC01F8004F79026FC00018093B500E0
6D6C14C0D8003F93C86C8001074B030F8005F86F806D03E06F804D6F804D8194CA6C7F4C
864C71805E7680A27680A27680A28B88A28BA288A28BA4882080B0200064A467A26467A3
525CA26764676467647062704D91C7FC7094B55AA2714B5C714B5C714B5C05F84B5C7103
3F5C05FF4B91C8FC06C049B55A04FB01F001075C04F801FF017F14F07190B712C0051F94
C9FC7116FC050316F0DD007F1580060F02F8CAFC060049CBFC96CDFCB3ACB912E0A97185
79DC81>I<DD7FFFEE1FE0040FB500F0153F93B600FE157F03076F7E031F04E014FF92B8
00F85B0203834A715B021F923A007FFF80074A02F0010F13C091B600C001036D5A4992C8
6D5A4902FCED3FF8494A031F5B494A6F6C5A494AED07FE494A6FB6FC494A8193C9FC90B6
82484A83A2484A83A2484A83A2484A83A25A4B83A25AA25D5AA5B65AB07E81A47EA3817E
A26C80A36C62816C62816C626C6E5F98B6FC6D7F6D6E5D6D606D6E5D6D6E151F6D6E5D6D
6E5D6D02FE913801FFEF6E6D020713CF6E02C0011F138F020F913AFC01FFFE0F020391B6
12FC020017F0033F16C0030F1600030115FCDB003F14E0040049C7FC94C9FCB3AC0703B9
1280A9718578DC7B>I<DB7FC049B47E90B6021F13F8B7027F13FE4DB67E4D15E04D814D
814D01077F94263FF00F7F94387FC01F4D48487FD8003F16000107DAC1FE491480EEC3FC
6D5DEEC7F05F16CF5F16DF4D6D1400A204FFC76C5BA2735B4C6E5B735B070013C04C92C8
FCA45EA65EB3B3AAB912FCA9515D79DC5F>I<92261FFFF814F80203B638C001FC023FED
FC0791B8121F010317FF130F013F9038F8001F4990C8FCD9FFF8153F4801E0150F484915
034849814890CAFC197F4848173F191F485AA2007F180FA31907487EA27FA28002E0705A
6E93C8FC14FC14FF15F06CECFF8016FCEEFFF06CEEFF8018F06C17FE727E6C18E0856C18
FC6C846C727E6C856D84011F846D841303010084023F83140F020183EC001FDB007F1680
1603DC000F15C01700183F060F14E0007F1703486C82727E857F85857FA2857F1BC07FA2
7F1B806D5F7F1B006E5E6E5F6E163F6E4C5A02FC4C5A6E03035B6E6C4A5B03F0023F5B03
FF0107B55A01F991B7C7FCD9F07F16FCD9E01F16F0D9800716C0D9000193C8FC48D9003F
14F8007C020349C9FC4B5F78DD5C>I[<ED03FEA81507A5150FA4151FA3153FA2157FA215
FFA25CA25C5CA25C5C5C5C91B5FC13035B131F017F91B712F00007BAFCBBFCA7C74AC9FC
B3B3AAF101FFB1616E17FE82A219076E17FC836EEE0FF871131F6E6EEB3FF071137F6E6E
EBFFE06EDAFF0313C06E92B512806E1700033F5D6F5D03075D030015E0041F1480040001
FCC7FC>72 132 124 258 90 I<DB0FF8F01FF0017FB594B6FCB74BB7FCA9D8003F94C7
7E0107190FA26D85B3B3B063A463A263A27F6398B6FCA26DF001FB7015036EEF07F3E00F
E3806E6D151FE07FC314FF6E6D6CDAFF83EDFFC06E6E010313036E02FCEB3FFE6E91B612
FC020017F86F16E0031F16800303EDFE00DB007F14F8040102C093C8FC725E77DC81>I<
B90303B7FCA9D8000702F8CA000FEBFE006D6E050013E0666D6E6164826D5090C7FC836E
4F5AA26E6E4C5AA26E6E4C5AA26E6E5F1C3F836E4F5A836E4F5AA26E6E4B5BA26E6E4B90
C8FCA26F6E5D1B07846F4D5A846F4D5AA26F6E4A5AA26F6E4A5AA26F6E5D1BFF846F4C5B
846F4C90C9FCA2706E485AA27002C05B1A0F7002E05B1A1F19F0704B5A19F8704B5AA270
6E485AA2706E5B96B5FC7093CAFCA3715CA2715CA2715CA2715CA3715CA2715CA2715CA2
7191CBFCA2725AA3725A725A725A705D7BDB7B>I<007FB86C49B712FEA9C792C9000F02
C0C7FC6E6E030101F0C8FC715F6E6E4B5B6E6E4B5B6E4E90C9FC6E6E5E71151F6E6E4B5A
6E6E4B5A6E4E5A6F6E495B72495B6F6E495B6F806F6E4990CAFC6F4C5A72495A6F6E495A
6F6E495A6F03815B705E7014C307E75B7091B5CBFC705D705D705D6282705D715C838671
8071807180837180864D814D815F4D81874D814D81DDFFF3804C13E14C01C1804C018081
4E6C804C6E804C487F4C48824C486D804C486D804B496D804B497F73804B49834B90C86C
804B486F804B48814B486F804B48844C6F804A71804A496F804A49814A90CA814A487180
023F7280010FB500E07080B8031FB812E0A9735C7CDB7B>120 D<007FB800C04AB71280
A9D800034ACA000791C7FC6D080013F0775A6D6E4E5AA26E6E6064836E4F90C8FC836E4F
5A836E4F5AA26E6E4C5AA26E6E5F1C3F6E6E5F1C7F836E4F5A846F4D5B846F4D90C9FCA2
6F6E4A5AA26F6E5D1B0F846F4D5A846F4D5A846F4D5AA26F6E4A5AA2706E5C627002C091
CAFC6219E0704B5A19F0704B5AA2706E485AA2706E485AA27002FE5B1A7F19FF704B5AA2
715DA27192CBFCA2715CA2715CA3715CA2715CA2715CA2715CA2725BA27290CCFCA3725A
A2725AA24E5AA24E5AA261187FA24E5AA24D5B13FE2603FF804A90CDFC000F13E0486D4A
5A487F486D4A5AA260B56C141F4D5AA24D5A17FF604C5B4A4990CEFC6C5D4C5A6C49EB3F
FC4A495A6C4948485A9026FE80075B270FFFC03F5B6C90B6CFFC6C5D6C15F86C6C5C011F
14C0010749D0FC9038007FE071857CDB7B>I E
%EndDVIPSBitmapFont
end
%%EndProlog
%%BeginSetup
%%Feature: *Resolution 600dpi
TeXDict begin
%%PaperSize: A4

%%EndSetup
%%Page: 1 1
1 0 bop Black Black Black Black 188 2084 a FB(Programmation)77
b(du)h(syst)-5 b(\022)-111 b(eme)76 b(Unix)928 2333 y(en)h(Ob)13
b(jectiv)-6 b(e)77 b(Caml)1202 2800 y FA(Xa)m(vier)32
b(Lero)m(y)i(and)e(Didier)f(R)m(\023)-46 b(em)m(y)2517
2764 y Fz(1)1618 3053 y FA(27)32 b(juin)g(2003)p Black
41 5499 a Fy(1)79 5529 y Fx(INRIA)c(Ro)r(cquencourt)p
Black Black Black eop
%%Page: 2 2
2 1 bop Black -71 24 a Fw(2)p Black 1699 280 a Fv(R)n(\023)-50
b(esum)n(\023)g(e)p Black Black 156 409 a Fw(Ce)32 b(rapp)s(ort)f(est)h
(un)e(cours)i(d'in)m(tro)s(duction)d(\022)-45 b(a)32
b(la)g(programmation)f(du)f(syst)m(\022)-43 b(eme)33
b(Unix,)e(mettan)m(t)156 522 y(l'accen)m(t)e(sur)e(la)g(comm)m
(unication)g(en)m(tre)h(les)f(pro)s(cessus.)g(La)g(principale)e(nouv)m
(eaut)m(\023)-43 b(e)29 b(de)f(ce)g(tra)m(v)-5 b(ail)156
635 y(est)35 b(l'utilisation)c(du)j(langage)h(Ob)5 b(jectiv)m(e)34
b(Caml,)g(un)f(dialecte)h(du)f(langage)j(ML,)e(\022)-45
b(a)35 b(la)f(place)g(du)156 748 y(langage)25 b(C)e(qui)e(est)j
(d'ordinaire)d(asso)s(ci)m(\023)-43 b(e)25 b(\022)-45
b(a)23 b(la)g(programmation)g(syst)m(\022)-43 b(eme.)25
b(Ceci)e(donne)g(des)g(p)s(oin)m(ts)156 861 y(de)31 b(vue)f(nouv)m
(eaux)g(\022)-45 b(a)31 b(la)f(fois)g(sur)f(la)h(programmation)g(syst)m
(\022)-43 b(eme)32 b(et)f(sur)e(le)h(langage)h(ML.)833
2904 y Fv(Unix)36 b(system)e(programming)g(in)h(Ob)6
b(jectiv)m(e)35 b(Caml)156 3082 y Fw(This)30 b(rep)s(ort)g(is)g(an)h
(in)m(tro)s(ductory)f(course)h(on)g(Unix)f(system)h(programming,)g
(with)e(an)i(emphasis)156 3195 y(on)h(comm)m(unications)e(b)s(et)m(w)m
(een)i(pro)s(cesses.)f(The)g(main)f(no)m(v)m(elt)m(y)j(of)e(this)f(w)m
(ork)i(is)e(the)h(use)g(of)h(the)156 3308 y(Ob)5 b(jectiv)m(e)29
b(Caml)e(language,)i(a)f(dialect)g(of)g(the)h(ML)f(language,)h(instead)
e(of)i(the)f(C)g(language)g(that)156 3421 y(is)37 b(customary)h(in)e
(systems)i(programming.)f(This)e(giv)m(es)j(an)g(un)m(usual)e(p)s(ersp)
s(ectiv)m(e)g(on)i(systems)156 3534 y(programming)30
b(and)f(on)i(the)f(ML)h(language.)p Black Black eop
%%Page: 3 3
3 2 bop Black Black -71 946 a FB(T)-19 b(able)76 b(des)i(mati)-5
b(\022)-111 b(eres)-71 1484 y Fv(1)84 b(G)n(\023)-50
b(en)n(\023)g(eralit)n(\023)g(es)3194 b(9)65 1598 y Fw(1.1)95
b(Les)30 b(mo)s(dules)f Fu(Sys)g Fw(et)i Fu(Unix)e Fw(.)46
b(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h
(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)p
Black 130 w(9)p Black 65 1712 a(1.2)95 b(In)m(terface)31
b(a)m(v)m(ec)i(le)d(programme)g(app)s(elan)m(t)90 b(.)46
b(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g
(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)p Black 84 w(10)p Black
65 1826 a(1.3)95 b(T)-8 b(raitemen)m(t)31 b(des)f(erreurs)48
b(.)d(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g
(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)
p Black 84 w(11)p Black 65 1941 a(1.4)95 b(Quelques)29
b(fonctions)g(de)i(librairie)20 b(.)46 b(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)
g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g
(.)f(.)h(.)g(.)g(.)p Black 84 w(12)p Black -71 2147 a
Fv(2)84 b(Les)35 b(\014c)m(hiers)3153 b(13)65 2261 y
Fw(2.1)95 b(Noms)30 b(de)g(\014c)m(hiers,)g(descripteurs)e(de)j(\014c)m
(hiers)44 b(.)h(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f
(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)p Black 84 w(13)p
Black 65 2375 a(2.2)95 b(Ouv)m(erture)29 b(d'un)h(\014c)m(hier)67
b(.)45 b(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)
g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g
(.)p Black 84 w(14)p Black 65 2489 a(2.3)95 b(Lecture)30
b(et)f(\023)-43 b(ecriture)69 b(.)46 b(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g
(.)f(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)
f(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)p Black 84 w(16)p
Black 65 2604 a(2.4)95 b(F)-8 b(ermeture)31 b(d'un)e(descripteur)77
b(.)45 b(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)
g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)p
Black 84 w(18)p Black 65 2718 a(2.5)95 b(Exemple)29 b(complet)h(:)h
(copie)f(de)h(\014c)m(hiers)43 b(.)i(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)
g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g
(.)p Black 84 w(18)p Black 65 2832 a(2.6)95 b(Co)s(^)-48
b(ut)30 b(des)g(app)s(els)f(syst)m(\022)-43 b(eme.)32
b(Les)e(tamp)s(ons)49 b(.)d(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f
(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)p
Black 84 w(19)p Black 65 2946 a(2.7)95 b(Exemple)29 b(complet)h(:)h
(une)f(p)s(etite)g(biblioth)m(\022)-43 b(eque)29 b(d'en)m(tr)m(\023)-43
b(ees-sorties)79 b(.)46 b(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)g
(.)g(.)p Black 84 w(20)p Black 65 3061 a(2.8)95 b(P)m(ositionnemen)m(t)
54 b(.)45 b(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h
(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)
g(.)f(.)h(.)g(.)g(.)p Black 84 w(23)p Black 65 3175 a(2.9)95
b(D)m(\023)-43 b(etermination)31 b(du)e(t)m(yp)s(e)h(d'un)g(\014c)m
(hier)56 b(.)45 b(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f
(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)p
Black 84 w(24)p Black 65 3289 a(2.10)k(Op)m(\023)-43
b(erations)30 b(sp)m(\023)-43 b(eci\014ques)30 b(\022)-45
b(a)31 b(certains)f(t)m(yp)s(es)g(de)g(\014c)m(hiers)44
b(.)i(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)f(.)h
(.)g(.)g(.)p Black 84 w(24)p Black 275 3403 a(2.10.1)60
b(Fic)m(hiers)30 b(normaux)37 b(.)46 b(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g
(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)
f(.)h(.)g(.)f(.)h(.)g(.)g(.)p Black 84 w(24)p Black 275
3518 a(2.10.2)60 b(R)m(\023)-43 b(ep)s(ertoires)64 b(.)46
b(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)g
(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)
g(.)p Black 84 w(26)p Black 275 3632 a(2.10.3)60 b(Liens)30
b(sym)m(b)s(oliques)78 b(.)46 b(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g
(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)
f(.)h(.)g(.)g(.)p Black 84 w(26)p Black 275 3746 a(2.10.4)60
b(Fic)m(hiers)30 b(sp)m(\023)-43 b(eciaux)53 b(.)46 b(.)g(.)f(.)h(.)g
(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)
g(.)f(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)p Black 84
w(26)p Black 65 3860 a(2.11)k(Exemple)29 b(complet)h(:)h(copie)f(r)m
(\023)-43 b(ecursiv)m(e)31 b(de)f(\014c)m(hiers)88 b(.)45
b(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)f
(.)h(.)g(.)g(.)p Black 84 w(28)p Black 65 3975 a(2.12)k(Exemple)29
b(:)i Fv(T)p Fw(ap)s(e)f Fv(AR)p Fw(c)m(hiv)m(e)65 b(.)46
b(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g
(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)p
Black 84 w(30)p Black -71 4181 a Fv(3)84 b(Les)35 b(pro)s(cessus)3042
b(37)65 4295 y Fw(3.1)95 b(Cr)m(\023)-43 b(eation)31
b(de)f(pro)s(cessus)81 b(.)45 b(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f
(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)
h(.)g(.)f(.)h(.)g(.)g(.)p Black 84 w(37)p Black 65 4409
a(3.2)95 b(Exemple)29 b(complet)h(:)h(la)f(commande)h
Fu(leave)90 b Fw(.)45 b(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g
(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)p Black
84 w(38)p Black 65 4523 a(3.3)95 b(A)m(tten)m(te)32 b(de)f(la)f
(terminaison)e(d'un)h(pro)s(cessus)f(.)45 b(.)h(.)g(.)f(.)h(.)g(.)g(.)f
(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)p
Black 84 w(38)p Black 65 4638 a(3.4)95 b(Lancemen)m(t)31
b(d'un)e(programme)42 b(.)j(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)f(.)h
(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)
g(.)g(.)p Black 84 w(40)p Black 65 4752 a(3.5)95 b(Exemple)29
b(complet)h(:)h(un)e(mini-shell)84 b(.)46 b(.)f(.)h(.)g(.)f(.)h(.)g(.)f
(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)f(.)
h(.)g(.)g(.)p Black 84 w(41)p Black -71 4958 a Fv(4)84
b(Comm)m(unications)34 b(in)m(ter-pro)s(cessus)i(classiques)1705
b(45)65 5072 y Fw(4.1)95 b(Les)30 b(tuy)m(aux)87 b(.)46
b(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h
(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)
g(.)f(.)h(.)g(.)g(.)p Black 84 w(45)p Black 65 5186 a(4.2)95
b(Exemple)29 b(complet)h(:)h(le)f(crible)f(d')1474 5163
y(\023)1466 5186 y(Eratosth)m(\022)-43 b(ene)32 b(parall)m(\022)-43
b(ele)49 b(.)d(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)f
(.)h(.)g(.)g(.)p Black 84 w(47)p Black 65 5300 a(4.3)95
b(Les)30 b(tuy)m(aux)h(nomm)m(\023)-43 b(es)87 b(.)46
b(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g
(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)
p Black 84 w(50)p Black 65 5415 a(4.4)95 b(Redirections)29
b(de)h(descripteurs)41 b(.)k(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)f(.)
h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)f(.)h
(.)g(.)g(.)p Black 84 w(50)p Black 65 5529 a(4.5)95 b(Exemple)29
b(complet)h(:)h(comp)s(oser)f Ft(N)41 b Fw(commandes)51
b(.)46 b(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)
h(.)g(.)f(.)h(.)g(.)g(.)p Black 84 w(52)p Black Black
1856 5757 a(3)p Black eop
%%Page: 4 4
4 3 bop Black -71 24 a Fw(4)2820 b Fs(T)-8 b(ABLE)30
b(DES)h(MA)-8 b(TI)3600 1 y(\022)3588 24 y(ERES)p Black
65 280 a Fw(4.6)95 b(Multiplexage)29 b(d'en)m(tr)m(\023)-43
b(ees-sorties)53 b(.)46 b(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)g
(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)
g(.)p Black 84 w(53)p Black 65 396 a(4.7)95 b(Les)30
b(signaux)60 b(.)46 b(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g
(.)f(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)
f(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)p Black 84 w(58)p
Black 65 513 a(4.8)95 b(Pro)s(duire)28 b(des)i(signaux)42
b(.)k(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)g
(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)
g(.)p Black 84 w(59)p Black 65 629 a(4.9)95 b(Changer)29
b(l'e\013et)i(d'un)f(signal)41 b(.)46 b(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f
(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)
h(.)g(.)f(.)h(.)g(.)g(.)p Black 84 w(59)p Black 65 745
a(4.10)k(Masquer)30 b(des)g(signaux)51 b(.)46 b(.)f(.)h(.)g(.)f(.)h(.)g
(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)
g(.)f(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)p Black 84
w(60)p Black 65 861 a(4.11)k(Probl)m(\022)-43 b(emes)30
b(a)m(v)m(ec)i(les)e(signaux)88 b(.)45 b(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)
h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h
(.)g(.)f(.)h(.)g(.)g(.)p Black 84 w(62)p Black -71 1070
a Fv(5)84 b(Comm)m(unications)34 b(mo)s(dernes)h(:)g(les)g(prises)1911
b(63)65 1186 y Fw(5.1)95 b(Les)30 b(prises)67 b(.)45
b(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f
(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)
h(.)g(.)f(.)h(.)g(.)g(.)p Black 84 w(63)p Black 65 1302
a(5.2)95 b(Cr)m(\023)-43 b(eation)31 b(d'une)e(prise)69
b(.)46 b(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)
g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)g
(.)g(.)p Black 84 w(64)p Black 65 1418 a(5.3)95 b(Adresses)41
b(.)46 b(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)
h(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h
(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)p Black 84 w(65)p
Black 65 1534 a(5.4)95 b(Connexion)29 b(\022)-45 b(a)30
b(un)g(serv)m(eur)77 b(.)46 b(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h
(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)
g(.)f(.)h(.)g(.)g(.)p Black 84 w(66)p Black 65 1651 a(5.5)283
1628 y(\023)275 1651 y(Etablissemen)m(t)29 b(d'un)g(service)k(.)46
b(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g
(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)p
Black 84 w(66)p Black 65 1767 a(5.6)95 b(D)m(\023)-43
b(econnexion)91 b(.)46 b(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)
f(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f
(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)p Black 84 w(68)p
Black 65 1883 a(5.7)95 b(Autres)30 b(op)m(\023)-43 b(erations)32
b(.)46 b(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)
f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)f
(.)h(.)g(.)g(.)p Black 84 w(69)p Black 275 1999 a(5.7.1)105
b(R)m(\023)-43 b(eglage)33 b(des)d(prises)79 b(.)46 b(.)f(.)h(.)g(.)g
(.)f(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)
f(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)p Black 84 w(69)p
Black 275 2115 a(5.7.2)105 b(Les)31 b(lectutres/)m(\023)-43
b(ecritures)31 b(a)m(v)m(ec)i(options)d(.)46 b(.)g(.)f(.)h(.)g(.)g(.)f
(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)p
Black 84 w(69)p Black 275 2231 a(5.7.3)105 b(Les)31 b(lectures/)m(\023)
-43 b(ecritures)31 b(en)f(mo)s(de)g(d)m(\023)-43 b(econnect)m(\023)g(e)
40 b(.)46 b(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)f
(.)h(.)g(.)g(.)p Black 84 w(70)p Black 65 2347 a(5.8)95
b(Exemple)29 b(complet)h(:)h(le)f(clien)m(t-serv)m(eur)g(univ)m(ersel)
92 b(.)45 b(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h
(.)g(.)f(.)h(.)g(.)g(.)p Black 84 w(70)p Black 65 2463
a(5.9)95 b(Primitiv)m(es)28 b(de)i(haut)g(niv)m(eau)64
b(.)46 b(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)
h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)p
Black 84 w(73)p Black 65 2579 a(5.10)k(Exemples)29 b(de)h(proto)s
(coles)89 b(.)46 b(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)f(.)h
(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)
g(.)g(.)p Black 84 w(73)p Black 275 2695 a(5.10.1)60
b(Proto)s(coles)31 b(\\binaires")c(.)45 b(.)h(.)g(.)g(.)f(.)h(.)g(.)f
(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)
h(.)g(.)f(.)h(.)g(.)g(.)p Black 84 w(74)p Black 275 2812
a(5.10.2)60 b(Proto)s(coles)31 b(\\texte")69 b(.)46 b(.)f(.)h(.)g(.)g
(.)f(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)
f(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)p Black 84 w(76)p
Black 65 2928 a(5.11)k(Exemple)29 b(complet)h(:)h(requ)m(^)-43
b(etes)32 b(h)m(ttp)77 b(.)46 b(.)f(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g
(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)
p Black 84 w(77)p Black 275 3044 a(5.11.1)60 b(R)m(\023)-43
b(ecup)m(\023)g(eration)33 b(d'une)c(url)24 b(.)46 b(.)g(.)g(.)f(.)h(.)
g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g
(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)p Black 84 w(78)p Black
275 3160 a(5.11.2)60 b(Relais)30 b(HTTP)57 b(.)46 b(.)f(.)h(.)g(.)f(.)h
(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)
g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)p Black
84 w(79)p Black 275 3276 a(5.11.3)60 b(Le)31 b(Proto)s(cole)g(HTTP/1.1)
55 b(.)46 b(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f
(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)p
Black 84 w(81)p Black -71 3485 a Fv(6)84 b(Les)35 b(copro)s(cessus)2944
b(85)65 3601 y Fw(6.1)95 b(G)m(\023)-43 b(en)m(\023)g(eralit)m(\023)g
(es)82 b(.)46 b(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h
(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)
g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)p Black 84 w(85)p Black
65 3717 a(6.2)95 b(Cr)m(\023)-43 b(eation)31 b(et)g(terminaison)d(des)i
(copro)s(cessus)66 b(.)45 b(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h
(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)p
Black 84 w(86)p Black 65 3833 a(6.3)95 b(Mise)30 b(en)g(atten)m(te)53
b(.)45 b(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)
g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g
(.)f(.)h(.)g(.)g(.)p Black 84 w(86)p Black 65 3950 a(6.4)95
b(Sync)m(hronisation)28 b(en)m(tre)j(copro)s(cessus)f(:)h(les)f(v)m
(errous)81 b(.)46 b(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f
(.)h(.)g(.)f(.)h(.)g(.)g(.)p Black 84 w(88)p Black 65
4066 a(6.5)95 b(Exemple)29 b(complet)h(:)h(relais)e(HTTP)j(.)46
b(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g
(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)p Black
84 w(89)p Black 65 4182 a(6.6)95 b(Les)30 b(conditions)d(.)46
b(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g
(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)
f(.)h(.)g(.)g(.)p Black 84 w(91)p Black 65 4298 a(6.7)95
b(Comm)m(unication)29 b(sync)m(hrone)h(en)m(tre)h(copro)s(cessus)f(par)
d(\023)-43 b(ev)m(\023)g(enemen)m(ts)88 b(.)46 b(.)g(.)f(.)h(.)g(.)f(.)
h(.)g(.)f(.)h(.)g(.)g(.)p Black 84 w(92)p Black 65 4414
a(6.8)95 b(Quelques)29 b(d)m(\023)-43 b(etails)30 b(d'impl)m(\023)-43
b(emen)m(tation)70 b(.)45 b(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h
(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)p
Black 84 w(96)p Black -71 4623 a Fv(A)57 b(Corrig)n(\023)-50
b(e)35 b(des)h(exercices)2642 b(103)-71 4832 y(B)62 b(In)m(terfaces)
3162 b(113)65 4948 y Fw(B.1)76 b(Mo)s(dule)29 b Fu(Sys)g
Fw(:)41 b(System)30 b(in)m(terface.)57 b(.)46 b(.)g(.)f(.)h(.)g(.)f(.)h
(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)
g(.)f(.)h(.)g(.)g(.)p Black 39 w(113)p Black 65 5065
a(B.2)76 b(Mo)s(dule)29 b Fu(Unix)g Fw(:)41 b(In)m(terface)31
b(to)g(the)g(Unix)e(system)46 b(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h
(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)p
Black 39 w(116)p Black 65 5181 a(B.3)76 b(Mo)s(dule)29
b Fu(Thread)g Fw(:)40 b(Ligh)m(t)m(w)m(eigh)m(t)31 b(threads)f(for)h(P)
m(osix)f Fu(1003.1c)e Fw(and)i(Win32.)48 b(.)e(.)f(.)h(.)g(.)f(.)h(.)g
(.)g(.)p Black 39 w(144)p Black 65 5297 a(B.4)76 b(Mo)s(dule)29
b Fu(Mutex)g Fw(:)40 b(Lo)s(c)m(ks)31 b(for)f(m)m(utual)g(exclusion.)41
b(.)46 b(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)
h(.)g(.)f(.)h(.)g(.)g(.)p Black 39 w(146)p Black 65 5413
a(B.5)76 b(Mo)s(dule)29 b Fu(Condition)f Fw(:)40 b(Condition)29
b(v)-5 b(ariables)29 b(to)i(sync)m(hronize)e(b)s(et)m(w)m(een)i
(threads.)74 b(.)46 b(.)f(.)h(.)g(.)g(.)p Black 39 w(147)p
Black 65 5529 a(B.6)76 b(Mo)s(dule)29 b Fu(Event)g Fw(:)40
b(First-class)30 b(sync)m(hronous)g(comm)m(unication.)50
b(.)c(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)p
Black 39 w(148)p Black Black Black eop
%%Page: 5 5
5 4 bop Black -71 24 a Fs(T)-8 b(ABLE)31 b(DES)f(MA)-8
b(TI)735 1 y(\022)723 24 y(ERES)2819 b Fw(5)p Black -71
280 a Fv(C)60 b(Index)3348 b(151)p Black Black eop
%%Page: 6 6
6 5 bop Black -71 24 a Fw(6)2820 b Fs(T)-8 b(ABLE)30
b(DES)h(MA)-8 b(TI)3600 1 y(\022)3588 24 y(ERES)p Black
Black Black eop
%%Page: 7 7
7 6 bop Black Black -71 953 a FB(In)-6 b(tro)6 b(duction)70
1406 y Fw(Ces)38 b(notes)h(son)m(t)g(issues)e(d'un)g(cours)h(de)g
(programmation)f(syst)m(\022)-43 b(eme)40 b(que)e(Xa)m(vier)h(Lero)m(y)
g(a)f(enseign)m(\023)-43 b(e)39 b(en)-71 1519 y(premi)m(\022)-43
b(ere)26 b(ann)m(\023)-43 b(ee)27 b(du)d(Magist)m(\022)-43
b(ere)28 b(de)e(Math)m(\023)-43 b(ematiques)27 b(F)-8
b(ondamen)m(tales)27 b(et)f(Appliqu)m(\023)-43 b(ees)25
b(et)h(d'Informatique)e(de)-71 1632 y(l')-12 1609 y(\023)-20
1632 y(Ecole)30 b(Normale)h(Sup)m(\023)-43 b(erieure)29
b(en)h(1994.)i(Cette)g(premi)m(\022)-43 b(ere)30 b(v)m(ersion)g
(utilisait)e(le)i(langage)h(Caml-Ligh)m(t)f([1].)70 1753
y(Didier)24 b(R)m(\023)-43 b(em)m(y)28 b(en)d(a)h(fait)g(une)f
(traduction)g(p)s(our)f(le)h(langage)i(OCaml)d([2)q(])i(en)g(2002)h(p)s
(our)d(un)h(cours)g(enseign)m(\023)-43 b(e)-71 1866 y(en)29
b(Ma)5 b(jeure)29 b(d'Informatique)f(\022)-45 b(a)29
b(l')1157 1843 y(\023)1149 1866 y(Ecole)g(P)m(olytec)m(hnique.)g(Cette)
h(v)m(ersion)e(comp)s(orte)i(des)e(a)5 b(jouts)30 b(et)f(quelques)-71
1979 y(mises)38 b(\022)-45 b(a)39 b(jour)f(:)h(en)f(presque)g(une)g(d)m
(\023)-43 b(ecennie)39 b(certains)f(ordres)g(de)h(grandeur)f(on)m(t)h
(d)m(\023)-43 b(ecal)m(\023)g(e)41 b(leur)c(virgule)g(d'un)-71
2092 y(c)m(hi\013re)15 b(;)33 b(aussi,)f(la)g(toile)e(\023)-43
b(etait)34 b(seulemen)m(t)f(en)g(train)f(d')m(^)-43 b(etre)34
b(tiss)m(\023)-43 b(ee)34 b(et)f(l'exemple,)g(aujourd'h)m(ui)d
(classique,)i(du)-71 2205 y(relais)26 b(HTTP)h(aurait)f(presqu'eut)h
(un)f(cot)m(\023)-43 b(e)30 b(pr)m(\023)-43 b(ecurseur)26
b(en)h(1994.)j(Mais)d(surtout)f(le)h(langage)h(OCaml)e(a)i(gagn)m(\023)
-43 b(e)-71 2318 y(en)30 b(maturit)m(\023)-43 b(e)31
b(depuis)e(et)i(a)d(\023)-43 b(et)m(\023)g(e)33 b(utilis)m(\023)-43
b(e)29 b(dans)h(de)g(v)m(\023)-43 b(eritables)30 b(applications)f(syst)
m(\022)-43 b(eme,)32 b(telle)e(que)g(Unison)f([15)q(].)70
2439 y(La)35 b(tradition)d(v)m(eut)j(que)f(la)g(programmation)g(du)f
(syst)m(\022)-43 b(eme)35 b(Unix)e(se)i(fasse)f(dans)f(le)h(langage)h
(C.)f(Dans)g(le)-71 2552 y(cadre)g(de)f(ce)h(cours,)f(il)f(a)i(sem)m
(bl)m(\023)-43 b(e)33 b(plus)f(in)m(t)m(\023)-43 b(eressan)m(t)34
b(d'utiliser)d(un)h(langage)i(de)f(plus)f(haut)h(niv)m(eau,)g(Caml)f
(en)-71 2665 y(l'o)s(ccurrence,)e(p)s(our)f(expliquer)g(la)h
(programmation)f(du)h(syst)m(\022)-43 b(eme)32 b(Unix.)70
2786 y(La)40 b(pr)m(\023)-43 b(esen)m(tation)41 b(Caml)d(des)i(app)s
(els)e(syst)m(\022)-43 b(emes)41 b(est)f(plus)d(abstraite,)j(utilisan)m
(t)e(toute)j(la)e(puissance)f(de)-71 2899 y(l'alg)m(\022)-43
b(ebre)32 b(de)f(t)m(yp)s(es)h(de)f(ML)h(p)s(our)d(repr)m(\023)-43
b(esen)m(ter)33 b(de)e(mani)m(\022)-43 b(ere)32 b(claire)f(les)f
(argumen)m(ts)i(et)g(les)f(r)m(\023)-43 b(esultats,)32
b(au)g(lieu)-71 3012 y(de)f(dev)m(oir)f(tout)h(co)s(der)g(en)f(termes)h
(d'en)m(tiers)g(et)g(de)f(c)m(hamps)h(de)g(bits)e(comme)j(en)e(C.)h(En)
f(cons)m(\023)-43 b(equence,)32 b(il)e(est)-71 3125 y(plus)35
b(facile)h(d'expliquer)e(la)i(s)m(\023)-43 b(eman)m(tique)37
b(des)f(app)s(els)f(syst)m(\022)-43 b(emes,)39 b(sans)d(a)m(v)m(oir)h
(\022)-45 b(a)37 b(se)f(p)s(erdre)f(dans)h(les)g(d)m(\023)-43
b(etails)-71 3238 y(de)36 b(l'enco)s(dage)h(des)f(argumen)m(ts)g(et)h
(des)f(r)m(\023)-43 b(esultats.)37 b(\(V)-8 b(oir)36
b(par)g(exemple)g(la)g(pr)m(\023)-43 b(esen)m(tation)37
b(de)f(l'app)s(el)e Fu(wait)p Fw(,)-71 3350 y(page)d(38.\))70
3472 y(De)c(plus,)d(OCaml)g(app)s(orte)h(une)g(plus)f(grande)h(s)m
(\023)-43 b(ecurit)m(\023)g(e)28 b(de)d(programmation)g(que)h(C,)f(en)h
(particulier)d(gr^)-45 b(ace)-71 3585 y(au)35 b(t)m(ypage)j(statique)d
(et)h(\022)-45 b(a)36 b(la)f(clart)m(\023)-43 b(e)37
b(de)e(ses)h(constructions)f(de)g(base.)h(Ces)f(traits,)h(qui)e(p)s
(euv)m(en)m(t)i(appara)-10 b(^)-35 b(\020tre)-71 3698
y(au)28 b(programmeur)g(C)g(c)m(hevronn)m(\023)-43 b(e)29
b(comme)g(de)f(simples)c(\023)-43 b(el)m(\023)g(emen)m(ts)30
b(de)e(confort,)h(se)g(r)m(\023)-43 b(ev)m(\022)g(elen)m(t)30
b(cruciaux)e(p)s(our)f(les)-71 3810 y(programmeurs)i(inexp)m(\023)-43
b(erimen)m(t)m(\023)g(es)31 b(comme)g(ceux)g(auxquels)e(ce)i(cours)g
(s'adresse.)70 3932 y(Un)21 b(deuxi)m(\022)-43 b(eme)22
b(but)e(de)h(cette)j(pr)m(\023)-43 b(esen)m(tation)22
b(de)f(la)g(programmation)g(syst)m(\022)-43 b(eme)23
b(en)e(OCaml)f(est)i(de)f(mon)m(trer)g(le)-71 4045 y(langage)28
b(OCaml)d(\022)-45 b(a)27 b(l'\033uvre)f(dans)g(un)g(domaine)g(qui)f
(sort)i(nettemen)m(t)h(de)f(ses)g(applications)d(usuelles,)h(\022)-45
b(a)28 b(sa)m(v)m(oir)-71 4157 y(la)33 b(d)m(\023)-43
b(emonstration)34 b(automatique,)f(la)g(compilation,)f(et)i(le)f
(calcul)f(sym)m(b)s(olique.)g(OCaml)g(se)h(tire)g(plut^)-45
b(ot)32 b(bien)-71 4270 y(de)26 b(l'exp)m(\023)-43 b(erience,)26
b(essen)m(tiellemen)m(t)g(gr^)-45 b(ace)27 b(\022)-45
b(a)26 b(son)f(solide)g(no)m(y)m(au)h(imp)m(\023)-43
b(eratif,)25 b(compl)m(\023)-43 b(et)m(\023)g(e)29 b(p)s(onctuellemen)m
(t)24 b(par)i(les)-71 4383 y(autres)34 b(traits)f(plus)e(no)m(v)-5
b(ateurs)34 b(du)f(langage)h(\(p)s(olymorphisme,)d(fonctions)i(d'ordre)
f(sup)m(\023)-43 b(erieur,)32 b(exceptions\).)-71 4496
y(Le)25 b(fait)f(que)h(OCaml)e(com)m(bine)h(programmation)g(applicativ)
m(e)g(et)h(programmation)g(imp)m(\023)-43 b(erativ)m(e,)25
b(au)f(lieu)f(de)i(les)-71 4609 y(exclure)g(m)m(utuellemen)m(t,)h(rend)
e(p)s(ossible)g(l'in)m(t)m(\023)-43 b(egration)26 b(dans)f(un)f(m)m(^)
-43 b(eme)27 b(programme)f(de)g(calculs)e(sym)m(b)s(oliques)-71
4722 y(compliqu)m(\023)-43 b(es)30 b(et)h(d'une)e(b)s(onne)h(in)m
(terface)g(a)m(v)m(ec)j(le)d(syst)m(\022)-43 b(eme.)70
4843 y(Ces)37 b(notes)g(supp)s(osen)m(t)e(le)i(lecteur)f(familier)e(a)m
(v)m(ec)39 b(le)d(syst)m(\022)-43 b(eme)39 b(OCaml,)c(et)j(a)m(v)m(ec)g
(l'utilisation)c(des)i(com-)-71 4956 y(mandes)e(Unix,)g(en)g
(particulier)e(du)i(shell.)f(On)h(se)g(rep)s(ortera)h(\022)-45
b(a)35 b(la)f(do)s(cumen)m(tation)g(du)g(syst)m(\022)-43
b(eme)36 b(OCaml)d([2)q(])-71 5069 y(p)s(our)40 b(toutes)j(les)e
(questions)g(relativ)m(es)h(au)f(langage,)i(et)g(\022)-45
b(a)42 b(la)f(section)h(1)g(du)f(man)m(uel)g(Unix)f(ou)i(\022)-45
b(a)42 b(un)f(livre)-71 5182 y(d'in)m(tro)s(duction)28
b(\022)-45 b(a)31 b(Unix)e([5)q(,)i(6])g(p)s(our)d(toutes)k(les)e
(questions)f(relativ)m(es)h(\022)-45 b(a)31 b(l'utilisation)c(d'Unix.)
70 5303 y(On)f(d)m(\023)-43 b(ecrit)28 b(ici)d(uniquemen)m(t)h(l'in)m
(terface)h(\\programmatique")g(du)f(syst)m(\022)-43 b(eme)28
b(Unix,)e(et)i(non)e(son)h(impl)m(\023)-43 b(emen-)-71
5416 y(tation)34 b(ni)e(son)h(arc)m(hitecture)h(in)m(terne.)f(L'arc)m
(hitecture)h(in)m(terne)f(de)g(BSD)h(4.3)g(est)g(d)m(\023)-43
b(ecrite)34 b(dans)f([8])16 b(;)33 b(celle)g(de)-71 5529
y(System)26 b(V,)h(dans)e([9)q(].)h(Les)h(livres)d(de)i(T)-8
b(anen)m(baum)26 b([10)q(,)h(11])g(donnen)m(t)f(une)f(vue)h(d'ensem)m
(ble)g(des)g(arc)m(hitectures)p Black 1856 5757 a(7)p
Black eop
%%Page: 8 8
8 7 bop Black -71 24 a Fw(8)2820 b Fs(T)-8 b(ABLE)30
b(DES)h(MA)-8 b(TI)3600 1 y(\022)3588 24 y(ERES)p Black
-71 280 a Fw(de)30 b(syst)m(\022)-43 b(emes)32 b(et)f(de)f(r)m(\023)-43
b(eseaux.)70 393 y(Le)27 b(syst)m(\022)-43 b(eme)29 b(Ob)5
b(jectiv)m(e)27 b(OCaml)f(don)m(t)h(la)f(biblioth)m(\022)-43
b(eque)25 b(d'in)m(terface)j(a)m(v)m(ec)h(Unix)c(pr)m(\023)-43
b(esen)m(t)m(\023)g(ee)30 b(ici)c(fait)h(partie)-71 506
y(in)m(t)m(\023)-43 b(egran)m(te)33 b(est)e(en)f(acc)m(\022)-43
b(es)33 b(libre)28 b(\022)-45 b(a)31 b(l'URL)e Fu
(http://caml.inria.fr/ocaml)o(/dis)o(tri)o(b.ht)o(ml)p
Fw(.)p Black Black eop
%%Page: 9 9
9 8 bop Black Black -71 907 a Fr(Chapitre)66 b(1)-71
1326 y FB(G)-5 b(\023)-111 b(en)-5 b(\023)-111 b(eralit)-5
b(\023)-111 b(es)-71 1811 y Fq(1.1)135 b(Les)46 b(mo)t(dules)f
Fp(Sys)e Fq(et)j Fp(Unix)70 2021 y Fw(Les)e(fonctions)g(qui)e(donnen)m
(t)i(acc)m(\022)-43 b(es)46 b(au)e(syst)m(\022)-43 b(eme)46
b(depuis)c(OCaml)g(son)m(t)j(regroup)m(\023)-43 b(ees)45
b(dans)e(deux)h(mo-)-71 2134 y(dules.)39 b(Le)h(premier)f(mo)s(dule,)f
Fu(Sys)p Fw(,)i(con)m(tien)m(t)h(les)e(quelques)g(fonctions)h(comm)m
(unes)g(\022)-45 b(a)40 b(Unix)f(et)i(aux)f(autres)-71
2247 y(syst)m(\022)-43 b(emes)31 b(d'exploitation)e(sous)h(lesquels)e
(tourne)i(OCaml.)f(Le)h(second)g(mo)s(dule,)e Fu(Unix)p
Fw(,)h(con)m(tien)m(t)i(tout)g(ce)f(qui)-71 2360 y(est)h(sp)m(\023)-43
b(eci\014que)30 b(\022)-45 b(a)31 b(Unix.)e(On)h(trouv)m(era)h(dans)f
(l'annexe)g(C)g(l'in)m(terface)g(du)f(mo)s(dule)g Fu(Unix)p
Fw(.)70 2477 y(P)m(ar)42 b(la)g(suite,)f(on)h(fait)f(r)m(\023)-43
b(ef)m(\023)g(erence)45 b(aux)c(iden)m(ti\014cateurs)g(des)g(mo)s
(dules)f Fu(Sys)h Fw(et)h Fu(Unix)f Fw(sans)g(pr)m(\023)-43
b(eciser)42 b(de)-71 2589 y(quel)d(mo)s(dule)f(ils)g(pro)m(viennen)m
(t.)i(Autremen)m(t)g(dit,)f(on)h(supp)s(ose)f(qu'on)g(est)h(dans)g(la)f
(p)s(ort)m(\023)-43 b(ee)41 b(des)f(directiv)m(es)-71
2702 y Fu(open)47 b(Sys)37 b Fw(et)h Fu(open)47 b(Unix)p
Fw(.)37 b(Dans)h(les)g(exemples)f(complets)h(\(ceux)g(don)m(t)h(les)e
(lignes)f(son)m(t)j(n)m(um)m(\023)-43 b(erot)m(\023)g(ees\),)41
b(on)-71 2815 y(met)31 b(explicitemen)m(t)f(les)f Fu(open)p
Fw(,)h(a\014n)g(d')m(^)-43 b(etre)31 b(vraimen)m(t)g(complet.)70
2932 y(Les)26 b(mo)s(dules)d Fu(Sys)i Fw(et)h Fu(Unix)e
Fw(p)s(euv)m(en)m(t)h(red)m(\023)-43 b(e\014nir)24 b(certains)h(iden)m
(ti\014cateurs)g(d)m(\023)-43 b(ej\022)e(a)26 b(d)m(\023)-43
b(e\014nis)24 b(dans)h Fu(Pervasives)-71 3045 y Fw(et)30
b(cac)m(her)h(leur)d(anciennes)h(d)m(\023)-43 b(e\014nitions.)29
b(P)m(ar)g(exemple,)h Fu(Pervasives.stdin)25 b Fw(est)30
b(di\013)m(\023)-43 b(eren)m(t)30 b(de)g Fu(Unix.stdin)p
Fw(.)-71 3158 y(Les)h(anciennes)e(d)m(\023)-43 b(e\014nitions)29
b(p)s(euv)m(en)m(t)h(toujours)e(^)-43 b(etre)31 b(obten)m(ues)g(en)f
(les)g(pr)m(\023)-43 b(e\014xan)m(t.)70 3274 y(P)m(our)30
b(compiler)f(un)h(programme)g(OCaml)f(qui)g(utilise)f(la)i(biblioth)m
(\022)-43 b(eque)29 b(Unix,)h(il)e(faut)j(faire)f(:)311
3407 y Fu(ocamlc)46 b(-o)h(prog)g(unix)o(.)o(cma)g(mod1)o(.ml)g(mod2)o
(.ml)g(mod3)o(.ml)-71 3543 y Fw(en)30 b(supp)s(osan)m(t)g(que)g(le)g
(programme)g Fu(prog)g Fw(est)h(comp)s(os)m(\023)-43
b(e)31 b(des)f(trois)g(mo)s(dules)f Fu(mod1)p Fw(,)g
Fu(mod2)h Fw(et)h Fu(mod3)p Fw(.)e(On)h(p)s(eut)-71 3656
y(aussi)f(compiler)g(s)m(\023)-43 b(epar)m(\023)g(emen)m(t)33
b(les)d(mo)s(dules)f(:)311 3789 y Fu(ocamlc)46 b(-c)h(mod1)o(.ml)311
3902 y(ocamlc)f(-c)h(mod2)o(.ml)311 4014 y(ocamlc)f(-c)h(mod3)o(.ml)-71
4151 y Fw(puis)29 b(faire)g(p)s(our)g(l')m(\023)-43 b(edition)30
b(de)g(lien)f(:)311 4283 y Fu(ocamlc)46 b(-o)h(prog)g(unix)o(.)o(cma)g
(mod1)o(.cmo)g(mod2)o(.cmo)f(mod3)o(.cmo)-71 4419 y Fw(Dans)31
b(les)f(deux)f(cas,)i(l'argumen)m(t)g Fu(unix.cma)d Fw(repr)m(\023)-43
b(esen)m(te)32 b(la)e(biblioth)m(\022)-43 b(eque)28 b
Fu(Unix)f Fw(\023)-43 b(ecrite)31 b(en)g(OCaml.)70 4536
y(P)m(our)g(utiliser)d(le)i(compilateur)f(natif)h(plut^)-45
b(ot)30 b(que)g(le)g(b)m(yteco)s(de,)i(on)e(remplace)g
Fu(ocamlc)f Fw(par)h Fu(ocamlopt)e Fw(et)-71 4649 y Fu(unix.cma)g
Fw(par)i Fu(unix.cmxa)p Fw(.)70 4766 y(On)35 b(p)s(eut)h(aussi)f(acc)m
(\023)-43 b(eder)38 b(au)e(syst)m(\022)-43 b(eme)38 b(Unix)c(depuis)h
(le)g(syst)m(\022)-43 b(eme)38 b(in)m(teractif)e(\(le)g(\\toplev)m
(el"\).)h(Si)e(le)h(lien)-71 4879 y(dynamique)28 b(des)h(librairies)d
(C)j(est)h(p)s(ossible)d(sur)h(v)m(otre)j(plateforme,)e(il)f(su\016t)h
(de)g(lancer)g(le)g(toplev)m(el)g Fu(ocaml)f Fw(et)-71
4992 y(de)i(tap)s(er)g(la)h(directiv)m(e)311 5124 y Fu(#load)46
b Fo("unix)o(.cma)o(")p Fu(;;)-71 5260 y Fw(Sinon,)29
b(il)g(faut)h(d'ab)s(ord)f(cr)m(\023)-43 b(eer)32 b(un)d(syst)m(\022)
-43 b(eme)32 b(in)m(teractif)e(con)m(tenan)m(t)j(les)c(fonctions)h
(syst)m(\022)-43 b(emes)32 b(pr)m(\023)-43 b(ec)m(harg)m(\023)g(ees)33
b(:)311 5393 y Fu(ocamlmktop)45 b(-o)i(ocamlunix)e(unix)o(.cma)-71
5529 y Fw(Ce)30 b(syst)m(\022)-43 b(eme)32 b(se)f(lance)f(ensuite)g
(par)g(:)p Black 1856 5757 a(9)p Black eop
%%Page: 10 10
10 9 bop Black -71 24 a Fw(10)2491 b Fs(CHAPITRE)30 b(1.)61
b(G)3246 1 y(\023)3234 24 y(EN)3376 1 y(\023)3364 24
y(ERALIT)3729 1 y(\023)3717 24 y(ES)p Black 311 280 a
Fu(./)o(camlunix)-71 599 y Fq(1.2)135 b(In)l(terface)47
b(a)l(v)l(ec)e(le)h(programme)g(app)t(elan)l(t)70 807
y Fw(Lorsqu'on)30 b(lance)g(un)g(programme)g(depuis)e(un)i(shell)e
(\(in)m(terpr)m(\023)-43 b(eteur)31 b(de)f(commandes\),)h(le)f(shell)f
(transmet)-71 920 y(au)40 b(programme)f(des)g Fn(ar)-5
b(guments)41 b Fw(et)f(un)f Fn(envir)-5 b(onnement)p
Fw(.)41 b(Les)e(argumen)m(ts)h(son)m(t)g(les)f(mots)h(de)g(la)f(ligne)f
(de)-71 1033 y(commande)g(qui)d(suiv)m(en)m(t)i(le)g(nom)g(de)g(la)g
(commande.)h(L'en)m(vironnemen)m(t)e(est)i(un)e(ensem)m(ble)h(de)g(c)m
(ha)-10 b(^)-35 b(\020nes)37 b(de)-71 1146 y(la)g(forme)g
Fu(variable=valeur)p Fw(,)c(repr)m(\023)-43 b(esen)m(tan)m(t)39
b(les)e(liaisons)e(globales)i(de)g(v)-5 b(ariables)36
b(d'en)m(vironnemen)m(ts)g(:)i(les)-71 1258 y(liaisons)29
b(faites)j(a)m(v)m(ec)i Fu(setenv)46 b(var=val)29 b Fw(dans)i(le)g(cas)
h(du)f(shell)e Fu(csh)p Fw(,)i(ou)h(bien)e(a)m(v)m(ec)j
Fu(var=val;)46 b(export)g(var)-71 1371 y Fw(dans)30 b(le)g(cas)h(du)e
(shell)g Fu(sh)p Fw(.)70 1487 y(Les)i(argumen)m(ts)f(pass)m(\023)-43
b(es)32 b(au)e(programme)g(son)m(t)h(plac)m(\023)-43
b(es)31 b(dans)f(le)g(v)m(ecteur)h(de)g(c)m(ha)-10 b(^)-35
b(\020nes)30 b Fu(argv)f Fw(:)311 1619 y Fu(Sys)o(.argv)46
b(:)i(string)e(array)-71 1754 y Fw(L'en)m(vironnemen)m(t)30
b(du)f(programme)i(tout)g(en)m(tier)f(s'obtien)m(t)h(par)f(la)g
(fonction)g Fu(environment)d Fw(:)311 1886 y Fu(Unix)o(.environment)44
b(:)k(unit)e(->)i(string)e(array)-71 2021 y Fw(Une)31
b(mani)m(\022)-43 b(ere)30 b(plus)f(commo)s(de)h(de)g(consulter)g(l'en)
m(vironnemen)m(t)f(est)i(par)f(la)g(fonction)g Fu(getenv)f
Fw(:)311 2154 y Fu(Unix)o(.getenv)46 b(:)h(string)f(->)h(string)-71
2288 y(getenv)41 b Ft(v)k Fw(ren)m(v)m(oie)e(la)f(v)-5
b(aleur)41 b(asso)s(ci)m(\023)-43 b(ee)44 b(\022)-45
b(a)43 b(la)e(v)-5 b(ariable)41 b(de)i(nom)e Ft(v)46
b Fw(dans)41 b(l'en)m(vironnemen)m(t,)h(et)h(d)m(\023)-43
b(eclenc)m(he)-71 2401 y(l'exception)30 b Fu(Not_found)e
Fw(si)h(cette)k(v)-5 b(ariable)29 b(n'est)i(pas)f(li)m(\023)-43
b(ee.)p Black -71 2600 a Fv(Exemple:)p Black 45 w Fw(Comme)26
b(premier)f(exemple,)h(v)m(oici)h(le)f(programme)g Fu(echo)f
Fw(qui)h(a\016c)m(he)h(la)f(liste)g(de)g(ses)h(argumen)m(ts,)-71
2713 y(comme)k(le)f(fait)g(la)g(commande)h(Unix)e(de)h(m)m(^)-43
b(eme)32 b(nom.)193 2846 y Fz(1)83 b Fv(let)53 b Fu(echo)o(\(\))47
b(=)193 2959 y Fz(2)178 b Fv(let)48 b Fu(len)f(=)g(Array)o(.)o(length)g
(Sys)o(.)o(argv)g Fv(in)193 3071 y Fz(3)178 b Fv(if)56
b Fu(len)47 b(>)g(2)h Fv(then)193 3184 y Fz(4)274 b Fv(b)s(egin)193
3297 y Fz(5)369 b Fu(print_string)45 b(Sys)o(.argv)o(.\(1\);)193
3410 y Fz(6)369 b Fv(for)48 b Fu(i)g(=)f(2)h Fv(to)f
Fu(len)g(-)h(1)f Fv(do)193 3523 y Fz(7)465 b Fu(print_char)45
b(')i(';)193 3636 y Fz(8)465 b Fu(print_string)44 b(Sys)o(.argv)o(.\()o
(i\);)193 3749 y Fz(9)369 b Fv(done)q Fu(;)157 3862 y
Fz(10)h Fu(print_newline)m(\(\);)157 3975 y Fz(11)275
b Fv(end)p Fu(;;)157 4088 y Fz(12)84 b Fu(echo)o(\(\);;)70
4358 y Fw(Un)30 b(programme)h(p)s(eut)e(terminer)g(pr)m(\023)-43
b(ematur)m(\023)g(emen)m(t)33 b(par)d(l'app)s(el)e Fu(exit)h
Fw(:)311 4491 y Fu(exit)47 b(:)g(int)g(->)g('a)-71 4626
y Fw(L'argumen)m(t)27 b(est)g(le)f(co)s(de)g(de)h(retour)f(\022)-45
b(a)27 b(ren)m(v)m(o)m(y)m(er)h(au)e(programme)g(app)s(elan)m(t.)g(La)h
(con)m(v)m(en)m(tion)g(est)g(de)f(ren)m(v)m(o)m(y)m(er)-71
4739 y(z)m(\023)-43 b(ero)30 b(comme)g(co)s(de)f(de)f(retour)g(quand)g
(tout)h(s'est)g(bien)e(pass)m(\023)-43 b(e,)30 b(et)f(un)f(co)s(de)h
(de)f(retour)g(non-n)m(ul)f(p)s(our)g(signaler)-71 4852
y(une)e(erreur.)h(Le)g(shell)e Fu(sh)p Fw(,)i(dans)f(les)h
(constructions)f(conditionnelles,)f(in)m(terpr)m(\022)-43
b(ete)26 b(le)g(co)s(de)g(de)g(retour)g(0)g(comme)-71
4964 y(le)32 b(b)s(o)s(ol)m(\023)-43 b(een)32 b(\\vrai")g(et)h(tout)f
(co)s(de)g(de)g(retour)g(non-n)m(ul)f(comme)h(le)g(b)s(o)s(ol)m(\023)
-43 b(een)32 b(\\faux".)h(Lorsqu'un)d(programme)-71 5077
y(termine)h(normalemen)m(t)g(apr)m(\022)-43 b(es)33 b(a)m(v)m(oir)f(ex)
m(\023)-43 b(ecut)m(\023)g(e)35 b(toutes)d(les)f(phrases)g(qui)f(le)h
(comp)s(osen)m(t,)i(il)d(e\013ectue)j(un)d(app)s(el)-71
5190 y(implicite)37 b(\022)-45 b(a)39 b Fu(exit)47 b(0)p
Fw(.)39 b(Lorsqu'un)e(programme)i(termine)g(pr)m(\023)-43
b(ematur)m(\023)g(emen)m(t)41 b(parce)e(qu'une)f(exception)i(lev)m
(\023)-43 b(ee)-71 5303 y(n'a)36 b(pas)d(\023)-43 b(et)m(\023)g(e)38
b(rattrap)m(\023)-43 b(ee,)38 b(il)c(e\013ectue)j(un)d(app)s(el)g
(implicite)f(\022)-45 b(a)36 b Fu(exit)47 b(2)p Fw(.)36
b(La)f(fonction)h Fu(exit)e Fw(vide)h(toujours)g(les)-71
5416 y(tamp)s(ons)26 b(des)f(canaux)i(ouv)m(erts)f(en)e(\023)-43
b(ecriture.)26 b(La)g(fonction)g Fu(at_exit)e Fw(p)s(ermet)i
(d'enregistrer)f(d'autres)h(actions)-71 5529 y(\022)-45
b(a)31 b(e\013ectuer)g(au)g(momen)m(t)g(de)f(la)g(terminaison)f(du)g
(programme.)p Black Black eop
%%Page: 11 11
11 10 bop Black -71 24 a Fs(1.3.)62 b(TRAITEMENT)30 b(DES)g(ERREURS)
2280 b Fw(11)p Black 311 280 a Fu(at_exit)46 b(:)h(\(unit)g(->)g(unit)o
(\))g(->)g(unit)-71 416 y Fw(La)31 b(fonction)f(enregistr)m(\023)-43
b(ee)31 b(la)f(derni)m(\022)-43 b(ere)30 b(est)h(app)s(el)m(\023)-43
b(ee)31 b(en)f(premier.)-71 721 y Fq(1.3)135 b(T)-11
b(raitemen)l(t)47 b(des)e(erreurs)70 930 y Fw(Sauf)30
b(men)m(tion)g(du)f(con)m(traire,)i(toutes)g(les)f(fonctions)g(du)f(mo)
s(dule)g Fu(Unix)g Fw(d)m(\023)-43 b(eclenc)m(hen)m(t)32
b(l'exception)-71 1043 y Fu(Unix_error)c Fw(en)i(cas)h(d'erreur.)311
1175 y Fv(exception)48 b Fu(Unix_error)d Fv(of)j Fu(error)f(*)g(string)
f(*)i(string)-71 1311 y Fw(Le)36 b(deuxi)m(\022)-43 b(eme)36
b(argumen)m(t)g(de)f(l'exception)h Fu(Unix_error)c Fw(est)37
b(le)e(nom)g(de)h(l'app)s(el)d(syst)m(\022)-43 b(eme)38
b(qui)c(a)i(d)m(\023)-43 b(eclenc)m(h)m(\023)g(e)-71
1424 y(l'erreur.)33 b(Le)h(troisi)m(\022)-43 b(eme)34
b(argumen)m(t)g(iden)m(ti\014e,)e(si)h(p)s(ossible,)f(l'ob)5
b(jet)34 b(sur)e(lequel)h(l'erreur)f(s'est)i(pro)s(duite)14
b(;)34 b(par)-71 1537 y(exemple,)39 b(p)s(our)f(un)g(app)s(el)g(syst)m
(\022)-43 b(eme)40 b(qui)e(prend)g(en)h(argumen)m(t)h(un)e(nom)g(de)h
(\014c)m(hier,)g(c'est)h(ce)g(nom)f(qui)f(se)-71 1650
y(retrouv)m(e)32 b(en)f(troisi)m(\022)-43 b(eme)32 b(p)s(osition)d
(dans)i Fu(Unix_error)p Fw(.)d(En\014n,)i(le)h(premier)f(argumen)m(t)h
(de)g(l'exception)g(est)h(un)-71 1763 y(co)s(de)j(d'erreur,)f(indiquan)
m(t)e(la)i(nature)h(de)f(l'erreur.)g(Il)g(appartien)m(t)g(au)h(t)m(yp)s
(e)f(concret)g(\023)-43 b(en)m(um)m(\023)g(er)m(\023)g(e)37
b Fu(error)c Fw(\(v)m(oir)-71 1876 y(page)e(116)h(p)s(our)d(une)h
(description)e(compl)m(\022)-43 b(ete\))32 b(:)311 2008
y Fv(t)m(yp)s(e)48 b Fu(error)e(=)h(E2BIG)g(|)g(EACCES)f(|)i(EAGAIN)e
(|)h(...)95 b(|)47 b(EUNKNOWNERR)e Fv(of)j Fu(int)-71
2144 y Fw(Les)c(constructeurs)f(de)h(ce)g(t)m(yp)s(e)g(reprennen)m(t)f
(les)g(m)m(^)-43 b(emes)44 b(noms)g(et)g(les)f(m)m(^)-43
b(emes)45 b(signi\014cations)c(que)j(ceux)-71 2257 y(emplo)m(y)m(\023)
-43 b(es)27 b(dans)d(la)i(norme)f(POSIX)f(plus)g(certaines)i(erreurs)e
(de)h(UNIX98)i(et)f(BSD.)g(T)-8 b(outes)27 b(les)e(autres)g(erreurs)-71
2370 y(son)m(t)31 b(rapp)s(ort)m(\023)-43 b(ees)31 b(a)m(v)m(ec)i(le)d
(constructeur)g Fu(EUNKNOWNERR)p Fw(.)78 2463 y(\023)70
2486 y(Etan)m(t)25 b(donn)m(\023)-43 b(e)24 b(la)g(s)m(\023)-43
b(eman)m(tique)25 b(des)e(exceptions,)i(une)e(erreur)g(qui)g(n'est)h
(pas)f(sp)m(\023)-43 b(ecialemen)m(t)25 b(pr)m(\023)-43
b(evue)25 b(et)f(in)m(ter-)-71 2599 y(cept)m(\023)-43
b(ee)24 b(par)d(un)g Fu(try)g Fw(se)g(propage)h(jusqu'au)f(sommet)h(du)
e(programme,)i(et)g(le)g(termine)e(pr)m(\023)-43 b(ematur)m(\023)g
(emen)m(t.)24 b(Qu'une)-71 2712 y(erreur)k(impr)m(\023)-43
b(evue)28 b(soit)h(fatale,)h(c'est)g(g)m(\023)-43 b(en)m(\023)g
(eralemen)m(t)31 b(la)e(b)s(onne)f(s)m(\023)-43 b(eman)m(tique.)30
b(Il)d(con)m(vien)m(t)j(n)m(\023)-43 b(eanmoins)28 b(de)h(l'af-)-71
2825 y(\014c)m(her)e(de)f(mani)m(\022)-43 b(ere)27 b(claire.)f(P)m(our)
g(ce)i(faire,)e(le)g(mo)s(dule)f Fu(Unix)g Fw(fournit)g(la)i
(fonctionnelle)e Fu(handle_unix_error)p Fw(.)311 2957
y Fu(handle_unix_error)43 b(:)k(\('a)g(->)h('b)o(\))f(->)h('a)f(->)g
('b)-71 3093 y Fw(L'app)s(el)19 b Fu(handle_unix_error)d
Ft(f)29 b(x)20 b Fw(applique)e(la)i(fonction)g Ft(f)30
b Fw(\022)-45 b(a)20 b(l'argumen)m(t)h Ft(x)p Fw(.)f(Si)f(cette)j
(application)d(d)m(\023)-43 b(eclenc)m(he)-71 3206 y(l'exception)30
b Fu(Unix_error)p Fw(,)d(un)i(message)i(d)m(\023)-43
b(ecriv)-5 b(an)m(t)31 b(l'erreur)e(est)h(a\016c)m(h)m(\023)-43
b(e,)32 b(et)f(on)f(sort)g(par)f Fu(exit)47 b(2)p Fw(.)30
b(L'utilisa-)-71 3319 y(tion)g(t)m(ypique)g(est)311 3451
y Fu(handle_unix_error)43 b(prog)k(\(\);;)-71 3587 y
Fw(o)s(\022)-48 b(u)30 b(la)g(fonction)g Fu(prog)47 b(:)h(unit)e(->)h
(unit)30 b Fw(ex)m(\023)-43 b(ecute)32 b(le)e(corps)g(du)g(programme)g
Fu(prog)p Fw(.)70 3703 y(P)m(our)g(r)m(\023)-43 b(ef)m(\023)g(erence,)
34 b(v)m(oici)c(commen)m(t)h(est)g(impl)m(\023)-43 b(emen)m(t)m(\023)g
(ee)32 b Fu(handle_unix_error)p Fw(.)193 3835 y Fz(1)83
b Fv(op)s(en)48 b Fu(Unix)o(;;)193 3948 y Fz(2)83 b Fv(let)53
b Fu(handle_unix_error)43 b(f)k(arg)g(=)193 4061 y Fz(3)178
b Fv(try)193 4174 y Fz(4)274 b Fu(f)47 b(arg)193 4287
y Fz(5)178 b Fv(with)47 b Fu(Unix_error)n(\()o(err,)g(fun_name)n(,)g
(arg)o(\))h(->)193 4400 y Fz(6)274 b Fu(prerr_string)44
b(Sys)o(.argv)o(.\(0\);)193 4513 y Fz(7)274 b Fu(prerr_string)44
b Fo(":)j(\\"")p Fu(;)193 4626 y Fz(8)274 b Fu(prerr_string)44
b(fun_name)n(;)193 4739 y Fz(9)274 b Fu(prerr_string)44
b Fo("\\")j(failed)o(")o Fu(;)157 4852 y Fz(10)275 b
Fv(if)48 b Fu(String)n(.length)e(arg)h(>)g(0)h Fv(then)f(b)s(egin)157
4964 y Fz(11)370 b Fu(prerr_string)45 b Fo(")i(on)g(\\"")p
Fu(;)157 5077 y Fz(12)370 b Fu(prerr_string)45 b(arg)o(;)157
5190 y Fz(13)370 b Fu(prerr_string)45 b Fo(")o(\\"")157
5303 y Fz(14)275 b Fv(end)p Fu(;)157 5416 y Fz(15)g Fu(prerr_string)44
b Fo(":)j(")p Fu(;)157 5529 y Fz(16)275 b Fu(prerr_endline)44
b(\(error_message)g(err)o(\);)p Black Black eop
%%Page: 12 12
12 11 bop Black -71 24 a Fw(12)2491 b Fs(CHAPITRE)30
b(1.)61 b(G)3246 1 y(\023)3234 24 y(EN)3376 1 y(\023)3364
24 y(ERALIT)3729 1 y(\023)3717 24 y(ES)p Black 157 280
a Fz(17)275 b Fu(exit)46 b(2;;)-71 413 y Fw(Les)f(fonctions)g(de)g(la)f
(forme)h Fu(prerr_xxx)e Fw(son)m(t)j(comp)s(orte)f(comme)h(les)e
(fonction)h Fu(print_xxx)e Fw(mais)h(\022)-45 b(a)45
b(la)-71 526 y(di\013)m(\023)-43 b(erence)23 b(qu'elles)c(\023)-43
b(ecriv)m(en)m(t)24 b(dans)d(le)h(\015ux)g(d'erreur)f
Fu(stderr)g Fw(au)h(lieu)f(d')m(\023)-43 b(ecrire)23
b(dans)e(le)i(\015ux)e(standard)h Fu(stdout)p Fw(.)-71
639 y(De)31 b(plus)e Fu(prerr_endline)d Fw(vide)k(le)g(tamp)s(on)g
Fu(stderr)e Fw(\(alors)j(que)f Fu(print_endline)d Fw(ne)j(le)g(fait)g
(pas\).)70 752 y(La)g(primitiv)m(e)d Fu(error_message)p
Fw(,)f(de)j(t)m(yp)s(e)g Fu(error)47 b(->)g(string)p
Fw(,)28 b(ren)m(v)m(oie)i(un)e(message)i(d)m(\023)-43
b(ecriv)-5 b(an)m(t)30 b(l'erreur)-71 864 y(donn)m(\023)-43
b(ee)29 b(en)f(argumen)m(t)h(\(ligne)e(16\).)j(L'argumen)m(t)e(n)m(um)m
(\023)-43 b(ero)29 b(z)m(\023)-43 b(ero)30 b(de)e(la)g(commande,)h
Fu(Sys.argv.\(0\))p Fw(,)c(con)m(tien)m(t)-71 977 y(le)30
b(nom)g(de)g(commande)h(utilis)m(\023)-43 b(e)29 b(p)s(our)g(in)m(v)m
(o)s(quer)g(le)h(programme)h(\(ligne)e(6\).)70 1090 y(La)34
b(fonction)f Fu(handle_unix_error)28 b Fw(traite)34 b(des)f(erreurs)f
(fatales,)i Fn(i.e.)f Fw(des)g(erreurs)f(qui)g(arr)m(^)-43
b(eten)m(t)35 b(le)e(pro-)-71 1203 y(gramme.)39 b(C'est)f(un)f(a)m(v)-5
b(an)m(tage)41 b(de)d(OCaml)f(d'obliger)f(les)i(erreurs)f(\022)-45
b(a)36 b(^)-43 b(etre)39 b(prises)d(en)i(compte,)h(ne)f(serait-ce)-71
1316 y(qu'au)d(niv)m(eau)h(le)f(plus)f(haut)h(pro)m(v)m(o)s(quan)m(t)i
(l'arr)m(^)-43 b(et)36 b(du)f(programme.)h(En)f(e\013et,)i(tout)f
(erreur)f(dans)g(un)f(app)s(el)-71 1429 y(syst)m(\022)-43
b(eme)33 b(l)m(\022)-43 b(ev)m(e)33 b(une)e(exception,)h(et)g(le)f
(\014l)f(d'ex)m(\023)-43 b(ecution)33 b(en)e(cours)g(est)h(in)m
(terrompu)e(jusqu'\022)-45 b(a)31 b(un)f(niv)m(eau)h(o)s(\022)-48
b(u)32 b(elle)-71 1542 y(est)25 b(explicitemen)m(t)e(rattrap)m(\023)-43
b(ee)26 b(et)e(donc)g(trait)m(\023)-43 b(ee.)26 b(Cela)21
b(\023)-43 b(evite)25 b(de)f(con)m(tin)m(uer)f(le)h(programme)g(dans)f
(une)g(situation)-71 1655 y(incoh)m(\023)-43 b(eren)m(te.)-71
1941 y Fq(1.4)135 b(Quelques)46 b(fonctions)f(de)g(librairie)70
2144 y Fw(De)37 b(nom)m(breuses)d(fonctions)h(auxiliaires)e(son)m(t)j
(en)g(fait)f(explicitemen)m(t)g(ou)g(implicitemen)m(t)e(des)j
(fonctions)-71 2257 y(de)26 b(librairies)d(:)k(elle)e(p)s(euv)m(en)m(t)
f(^)-43 b(etre)28 b(utilis)m(\023)-43 b(ees)25 b(dans)h(di\013)m(\023)
-43 b(eren)m(ts)27 b(con)m(texte)h(que)e(l'on)g(ne)g(conna)-10
b(^)-35 b(\020t)27 b(pas)f(a)h(priori.)d(En)-71 2370
y(particulier)i(on)i(ne)g(sait)g(pas)g(a)h(priori)d(si)h(telle)h(ou)g
(telle)g(erreur)f(sera)h(fatale)h(ou)f(rattrap)m(\023)-43
b(ee.)31 b(De)e(telles)f(fonctions)-71 2483 y(doiv)m(en)m(t)c(souv)m
(en)m(t)g(d)m(\023)-43 b(etecter)26 b(certaines)e(p)s(our)e
(e\013ectuer)i(un)f Fm(<)p Fw(netto)m(y)m(age)p Fm(>)i
Fw(que)f(la)f(fonction)g(app)s(elan)m(te)g(ne)g(serait)-71
2596 y(pas)30 b(capable)h(de)f(faire)g(puis)e(de)i(relancer)g
(l'erreur.)f(On)h(utilisera)e(donc)i(souv)m(en)m(t)i(la)e(fonction)g
(suiv)-5 b(an)m(te)30 b(:)311 2728 y Fv(let)53 b Fu(try_finalize)44
b(f)k(x)f(g)h(y)f(=)406 2841 y Fv(try)h(let)f Fu(v)h(=)f(f)h(x)f
Fv(in)h Fu(g)f(y;)h(v)f Fv(with)g Fu(z)h(->)f(g)g(y;)g
Fv(raise)h Fu(z;;)-71 2974 y Fw(Cette)37 b(fonction)e(n'est)h(pas)g(d)m
(\023)-43 b(e\014nie)35 b(en)g(librairie.)e(Dans)j(le)f(reste)h(du)f
(cours,)h(nous)f(utiliserons)e(une)i(librairie)-71 3087
y(auxiliaire)28 b Fu(More)h Fw(qui)g(d)m(\023)-43 b(e\014nit)29
b(quelques)h(fonctions)f(d'usage)i(assez)g(g)m(\023)-43
b(en)m(\023)g(eral)32 b(et)f(utilis)m(\023)-43 b(ees)30
b(\022)-45 b(a)30 b(plusieurs)d(endroits)-71 3199 y(dans)j(le)g(cours.)
g(La)h(fonction)f Fu(try_finalize)d Fw(sera)j(la)g(premi)m(\022)-43
b(ere)31 b(fonction)f(de)g(cette)i(librairie.)70 3312
y(P)m(ar)24 b(ailleurs,)c(\022)-45 b(a)24 b(titre)f(d'illustration,)d
(nous)i(allons)g(le)g(long)h(du)f(cours)h(prop)s(oser)f(des)g
(fonctions)h(de)g(librairies)-71 3425 y(qui)29 b(enric)m(hissen)m(t)g
(la)h(biblioth)m(\022)-43 b(eque)29 b Fu(Unix)p Fw(.)g(Nous)i(a)5
b(jouterons)28 b(\023)-43 b(egalemen)m(t)32 b(ces)f(fonction)f(au)h(mo)
s(dule)d Fu(More)p Fw(.)82 3515 y(\022)70 3538 y(A)c(la)f(di\013)m
(\023)-43 b(erence)24 b(des)g(exemples)f(de)h(programmes)f(o)s(\022)-48
b(u)24 b(l'utilisation)c(des)k(fonctions)f(est)h(en)m(ti)m(\022)-43
b(eremen)m(t)25 b(conn)m(us)-71 3651 y(et)34 b(o)s(\022)-48
b(u)33 b(nous)g(p)s(ouv)m(ons)f(souv)m(en)m(t)i(utiliser)d(le)i(fait)g
(que)g(la)f(plupart)g(des)h(erreurs)f(son)m(t)i(fatales)f(et)h(arr)m(^)
-43 b(eten)m(t)35 b(tout)-71 3764 y(le)d(programme)h(p)s(our)e
(simpli\014er)e(leur)i(traitemen)m(t,)j(nous)e(ferons)g(atten)m(tion)h
(dans)f(les)g(fonctions)g(de)h(librairie)-71 3877 y(\022)-45
b(a)32 b(bien)e(rattrap)s(er)i(les)f(erreurs)g(p)s(our)f(que)h(la)h
(fonction)f(soien)m(t)h(utilisable)c(dans)j(un)g(con)m(texte)j(aussi)c
(large)i(que)-71 3990 y(p)s(ossible.)p Black Black eop
%%Page: 13 13
13 12 bop Black Black -71 908 a Fr(Chapitre)66 b(2)-71
1328 y FB(Les)77 b(\014c)-6 b(hiers)70 1777 y Fw(Le)31
b(terme)g(\\\014c)m(hier")f(en)g(Unix)f(recouvre)i(plusieurs)c(t)m(yp)s
(es)k(d'ob)5 b(jets)30 b(:)p Black 70 1890 a({)p Black
46 w(les)25 b(\014c)m(hiers)g(normaux)f(:)i(les)f(suites)g(\014nies)f
(d'o)s(ctets)i(con)m(tenan)m(t)i(du)c(texte)j(ou)e(des)h(informations)d
(binaires)161 2003 y(qu'on)30 b(app)s(elle)f(d'ordinaire)f(\014c)m
(hiers)p Black 70 2116 a({)p Black 46 w(les)i(r)m(\023)-43
b(ep)s(ertoires)p Black 70 2229 a({)p Black 46 w(les)30
b(liens)f(sym)m(b)s(oliques)p Black 70 2342 a({)p Black
46 w(les)20 b(\014c)m(hiers)g(sp)m(\023)-43 b(eciaux)21
b(\()p Fn(devic)-5 b(es)7 b Fw(\),)22 b(qui)e(donnen)m(t)g(en)h
(particulier)d(acc)m(\022)-43 b(es)23 b(aux)e(p)m(\023)-43
b(eriph)m(\023)g(eriques)19 b(de)i(la)f(mac)m(hine)p
Black 70 2455 a({)p Black 46 w(les)30 b(tuy)m(aux)h(nomm)m(\023)-43
b(es)31 b(\()p Fn(name)-5 b(d)34 b(pip)-5 b(es)7 b Fw(\))p
Black 70 2568 a({)p Black 46 w(les)30 b(prises)f(\()p
Fn(so)-5 b(ckets)7 b Fw(\))32 b(nomm)m(\023)-43 b(ees)32
b(dans)d(le)h(domaine)g(Unix.)-71 2681 y(La)d(repr)m(\023)-43
b(esen)m(tation)27 b(d'un)e(\014c)m(hier)h(con)m(tien)m(t)h(\022)-45
b(a)27 b(la)f(fois)g(les)g(donn)m(\023)-43 b(ees)27 b(con)m(ten)m(ues)h
(dans)d(le)h(\014c)m(hier)g(et)h(des)f(informa-)-71 2794
y(tions)f(sur)f(le)i(\014c)m(hier)e(\(aussi)h(app)s(el)m(\023)-43
b(ees)26 b(m)m(\023)-43 b(eta-donn)m(\023)g(ees\))28
b(telles)d(que)h(son)f(t)m(yp)s(e,)h(les)f(droits)g(d'acc)m(\022)-43
b(es,)28 b(les)d(derni)m(\022)-43 b(eres)-71 2907 y(dates)31
b(d'acc)m(\022)-43 b(es,)33 b Fn(etc.)-71 3220 y Fq(2.1)135
b(Noms)46 b(de)f(\014c)l(hiers,)g(descripteurs)g(de)g(\014c)l(hiers)70
3433 y Fw(Il)35 b(y)h(a)g(deux)g(mani)m(\022)-43 b(eres)36
b(d'acc)m(\023)-43 b(eder)38 b(\022)-45 b(a)36 b(un)f(\014c)m(hier.)g
(La)h(premi)m(\022)-43 b(ere)36 b(est)g(par)g(son)f Fn(nom)p
Fw(,)i(ou)f Fn(chemin)i(d'ac)-5 b(c)n(\022)-44 b(es)-71
3545 y Fw(\022)f(a)32 b(l'in)m(t)m(\023)-43 b(erieur)31
b(de)h(la)g(hi)m(\023)-43 b(erarc)m(hie)31 b(de)h(\014c)m(hiers.)f
(\(Un)h(m)m(^)-43 b(eme)34 b(\014c)m(hier)d(p)s(eut)g(a)m(v)m(oir)h
(plusieurs)d(noms)j(di\013)m(\023)-43 b(eren)m(ts,)32
b(du)-71 3658 y(fait)h(des)h(liens)d(durs.\))i(Les)g(noms)g(son)m(t)i
(repr)m(\023)-43 b(esen)m(t)m(\023)g(es)35 b(par)e(des)h(c)m(ha)-10
b(^)-35 b(\020nes)33 b(de)g(caract)m(\022)-43 b(eres)37
b(\(t)m(yp)s(e)d Fu(string)p Fw(\).)e(V)-8 b(oici)-71
3771 y(quelques)29 b(exemples)h(d'app)s(els)f(syst)m(\022)-43
b(eme)32 b(qui)d(op)m(\022)-43 b(eren)m(t)32 b(au)e(niv)m(eau)g(des)g
(noms)g(de)g(\014c)m(hiers)f(:)p Black Black 594 3975
a Fu(unlink)47 b Ft(f)300 b Fw(e\013ace)32 b(le)d(\014c)m(hier)g(de)h
(nom)g Ft(f)39 b Fw(\(comme)31 b(la)f(commande)1274 4088
y Fu(rm)47 b(-f)g Ft(f)10 b Fw(\))594 4201 y Fu(link)47
b Ft(f)878 4215 y Fz(1)947 4201 y Ft(f)992 4215 y Fz(2)1274
4201 y Fw(cr)m(\023)-43 b(ee)31 b(un)d(lien)g(dur)g(nomm)m(\023)-43
b(e)30 b Ft(f)2289 4215 y Fz(2)2357 4201 y Fw(sur)e(le)h(\014c)m(hier)f
(de)h(nom)1274 4314 y Ft(f)1319 4328 y Fz(1)1388 4314
y Fw(\(comme)j(la)e(commande)g Fu(ln)47 b Ft(f)2475 4328
y Fz(1)2545 4314 y Ft(f)2590 4328 y Fz(2)2629 4314 y
Fw(\))594 4427 y Fu(symlink)f Ft(f)1021 4441 y Fz(1)1090
4427 y Ft(f)1135 4441 y Fz(2)1274 4427 y Fw(cr)m(\023)-43
b(ee)33 b(un)c(lien)h(sym)m(b)s(olique)e(nomm)m(\023)-43
b(e)32 b Ft(f)2605 4441 y Fz(2)2675 4427 y Fw(sur)d(le)i(\014c)m(hier)
1274 4539 y(de)f(nom)g Ft(f)1642 4553 y Fz(1)1712 4539
y Fw(\(comme)h(la)f(commande)h Fu(ln)47 b(-s)g Ft(f)2942
4553 y Fz(1)3011 4539 y Ft(f)3056 4553 y Fz(2)3095 4539
y Fw(\))594 4652 y Fu(rename)g Ft(f)974 4666 y Fz(1)1043
4652 y Ft(f)1088 4666 y Fz(2)1274 4652 y Fw(renomme)35
b(en)g Ft(f)1844 4666 y Fz(2)1918 4652 y Fw(le)f(\014c)m(hier)h(de)f
(nom)h Ft(f)2671 4666 y Fz(1)2745 4652 y Fw(\(comme)h(la)1274
4765 y(commande)31 b Fu(mv)47 b Ft(f)1917 4779 y Fz(1)1986
4765 y Ft(f)2031 4779 y Fz(2)2070 4765 y Fw(\).)-71 4964
y(L'autre)d(mani)m(\022)-43 b(ere)44 b(d'acc)m(\023)-43
b(eder)46 b(\022)-45 b(a)44 b(un)e(\014c)m(hier)h(est)h(par)f(l'in)m
(term)m(\023)-43 b(ediaire)43 b(d'un)f(descripteur.)g(Un)i(descripteur)
-71 5077 y(repr)m(\023)-43 b(esen)m(te)39 b(un)d(p)s(oin)m(teur)f(v)m
(ers)j(un)e(\014c)m(hier,)g(plus)g(des)g(informations)g(comme)i(la)e(p)
s(osition)g(couran)m(te)i(de)f(lec-)-71 5190 y(ture/)m(\023)-43
b(ecriture)46 b(dans)f(ce)h(\014c)m(hier,)f(des)g(p)s(ermissions)d(sur)
i(ce)i(\014c)m(hier)f(\(p)s(eut-on)g(lire)14 b(?)45 b(p)s(eut-on)d
(\023)-43 b(ecrire)16 b(?\),)45 b(et)-71 5303 y(des)35
b(drap)s(eaux)f(gouv)m(ernan)m(t)i(le)f(comp)s(ortemen)m(t)h(des)f
(lectures)g(et)g(des)e(\023)-43 b(ecritures)35 b(\()m(\023)-43
b(ecritures)36 b(en)f(a)5 b(jout)35 b(ou)g(en)-74 5416
y(\023)-43 b(ecrasemen)m(t,)32 b(lectures)d(blo)s(quan)m(tes)g(ou)g
(non\).)h(Les)f(descripteurs)f(son)m(t)i(repr)m(\023)-43
b(esen)m(t)m(\023)g(es)31 b(par)e(des)g(v)-5 b(aleurs)29
b(du)f(t)m(yp)s(e)-71 5529 y(abstrait)i Fu(file_descr)p
Fw(.)p Black 1834 5757 a(13)p Black eop
%%Page: 14 14
14 13 bop Black -71 24 a Fw(14)2520 b Fs(CHAPITRE)29
b(2.)62 b(LES)29 b(FICHIERS)p Black 70 280 a Fw(Les)i(acc)m(\022)-43
b(es)34 b(\022)-45 b(a)32 b(tra)m(v)m(ers)g(un)e(descripteur)f(son)m(t)
j(en)f(grande)g(partie)g(ind)m(\023)-43 b(ep)s(endan)m(ts)29
b(des)i(acc)m(\022)-43 b(es)34 b(via)d(le)f(nom)h(du)-71
393 y(\014c)m(hier.)g(En)g(particulier,)e(lorsqu'on)h(a)i(obten)m(u)f
(un)g(descripteur)e(sur)i(un)f(\014c)m(hier,)h(le)g(\014c)m(hier)f(p)s
(eut)f(^)-43 b(etre)32 b(d)m(\023)-43 b(etruit)-71 506
y(ou)30 b(renomm)m(\023)-43 b(e,)32 b(le)e(descripteur)f(p)s(oin)m
(tera)g(toujours)h(sur)f(le)h(\014c)m(hier)g(d'origine.)70
619 y(Au)c(lancemen)m(t)g(d'un)f(programme,)h(trois)f(descripteurs)f
(on)m(t)h(\023)-43 b(et)m(\023)g(e)28 b(pr)m(\023)-43
b(eallou)m(\023)g(es)27 b(et)f(li)m(\023)-43 b(es)26
b(aux)g(v)-5 b(ariables)24 b Fu(stdin)p Fw(,)-71 732
y Fu(stdout)29 b Fw(et)i Fu(stderr)e Fw(du)g(mo)s(dule)g
Fu(Unix)g Fw(:)643 890 y Fu(stdin)47 b(:)g(file_descr)80
b Fw(l'en)m(tr)m(\023)-43 b(ee)32 b(standard)e(du)f(pro)s(cessus)596
1003 y Fu(stdout)46 b(:)h(file_descr)80 b Fw(la)30 b(sortie)h(standard)
e(du)h(pro)s(cessus)596 1116 y Fu(stderr)46 b(:)h(file_descr)80
b Fw(la)30 b(sortie)h(d'erreur)e(standard)g(du)h(pro)s(cessus)-71
1292 y(Lorsque)22 b(le)g(programme)h(est)g(lanc)m(\023)-43
b(e)23 b(depuis)e(un)g(in)m(terpr)m(\023)-43 b(eteur)23
b(de)f(commandes)h(in)m(teractif)f(et)h(sans)f(redirections,)-71
1405 y(les)33 b(trois)h(descripteurs)d(fon)m(t)k(r)m(\023)-43
b(ef)m(\023)g(erence)36 b(au)e(terminal.)e(Mais)i(si,)f(par)g(exemple,)
h(l'en)m(tr)m(\023)-43 b(ee)35 b(a)d(\023)-43 b(et)m(\023)g(e)36
b(redirig)m(\023)-43 b(ee)34 b(par)-71 1518 y(la)i(notation)g
Fu(<)f Ft(f)10 b Fw(,)36 b(alors)f(le)h(descripteur)e
Fu(stdin)g Fw(fait)i(r)m(\023)-43 b(ef)m(\023)g(erence)38
b(au)e(\014c)m(hier)f(de)h(nom)f Ft(f)10 b Fw(.)35 b(De)i(m)m(^)-43
b(eme)37 b(p)s(our)e(les)-71 1631 y(autres)c(p)s(ossibilit)m(\023)-43
b(es)27 b(de)j(redirection.)-71 1914 y Fq(2.2)135 b(Ouv)l(erture)46
b(d'un)e(\014c)l(hier)70 2117 y Fw(L'app)s(el)29 b(syst)m(\022)-43
b(eme)32 b Fu(openfile)c Fw(p)s(ermet)i(d'obtenir)f(un)h(descripteur)e
(sur)i(un)f(\014c)m(hier)g(d'un)g(certain)i(nom.)311
2250 y Fu(openfile)45 b(:)j(string)e(->)h(open_flag)e(list)i(->)g
(file_perm)f(->)h(file_descr)-71 2382 y Fw(Le)24 b(premier)e(argumen)m
(t)i(est)g(le)g(nom)f(du)g(\014c)m(hier)g(\022)-45 b(a)24
b(ouvrir.)e(Le)i(deuxi)m(\022)-43 b(eme)24 b(argumen)m(t)g(est)g(une)f
(liste)g(de)g(drap)s(eaux)-71 2495 y(pris)h(dans)h(le)g(t)m(yp)s(e)f
(\023)-43 b(en)m(um)m(\023)g(er)m(\023)g(e)28 b Fu(open_flag)p
Fw(,)c(et)i(d)m(\023)-43 b(ecriv)-5 b(an)m(t)27 b(dans)e(quel)g(mo)s
(de)g(le)g(\014c)m(hier)g(doit)e(^)-43 b(etre)27 b(ouv)m(ert,)g(et)f
(que)-71 2608 y(faire)33 b(s'il)e(n'existe)i(pas.)g(Le)h(troisi)m(\022)
-43 b(eme)33 b(argumen)m(t)g(de)g(t)m(yp)s(e)h Fu(file_perm)c
Fw(indique)h(a)m(v)m(ec)k(quels)d(droits)g(d'acc)m(\022)-43
b(es)-71 2721 y(cr)m(\023)g(eer)44 b(le)e(\014c)m(hier,)g(le)h(cas)e
(\023)-43 b(ec)m(h)m(\023)g(ean)m(t.)46 b(Le)d(r)m(\023)-43
b(esultat)43 b(est)g(un)f(descripteur)f(de)i(\014c)m(hier)e(p)s(oin)m
(tan)m(t)i(v)m(ers)g(le)f(\014c)m(hier)-71 2834 y(indiqu)m(\023)-43
b(e.)29 b(La)i(p)s(osition)d(de)i(lecture/)m(\023)-43
b(ecriture)32 b(est)e(initialemen)m(t)f(\014x)m(\023)-43
b(ee)32 b(au)e(d)m(\023)-43 b(ebut)30 b(du)g(\014c)m(hier.)70
2947 y(La)43 b(liste)f(des)g(mo)s(des)g(d'ouv)m(erture)h(\(deuxi)m
(\022)-43 b(eme)43 b(argumen)m(t\))h(doit)e(con)m(tenir)g(exactemen)m
(t)k(un)41 b(des)i(trois)-71 3060 y(drap)s(eaux)29 b(suiv)-5
b(an)m(ts)30 b(:)967 3165 y Fu(O_RDONLY)81 b Fw(ouv)m(erture)30
b(en)g(lecture)h(seule)967 3277 y Fu(O_WRONLY)81 b Fw(ouv)m(erture)30
b(en)g(lecture)h(seule)967 3390 y Fu(O_RDWR)177 b Fw(ouv)m(erture)30
b(en)g(lecture)h(et)g(en)c(\023)-43 b(ecriture)-71 3539
y(Ces)24 b(drap)s(eaux)e(conditionnen)m(t)g(la)i(p)s(ossibilit)m(\023)
-43 b(e)21 b(de)i(faire)g(par)g(la)g(suite)g(des)g(op)m(\023)-43
b(erations)25 b(de)e(lecture)g(ou)h(d')m(\023)-43 b(ecriture)-71
3652 y(\022)e(a)29 b(tra)m(v)m(ers)h(le)e(descripteur.)f(L'app)s(el)g
Fu(openfile)c Fw(\023)-43 b(ec)m(houe)31 b(si)c(on)h(demande)g(\022)-45
b(a)29 b(ouvrir)e(en)f(\023)-43 b(ecriture)28 b(un)g(\014c)m(hier)f
(sur)-71 3765 y(lequel)k(le)g(pro)s(cessus)g(n'a)h(pas)g(le)f(droit)g
(d')m(\023)-43 b(ecrire,)33 b(ou)f(si)f(on)g(demande)h(\022)-45
b(a)32 b(ouvrir)e(en)i(lecture)g(un)f(\014c)m(hier)g(que)g(le)-71
3878 y(pro)s(cessus)h(n'a)h(pas)f(le)h(droit)e(de)i(lire.)f(C'est)h(p)s
(ourquoi)d(il)h(ne)i(faut)g(pas)f(ouvrir)g(syst)m(\023)-43
b(ematiquemen)m(t)34 b(en)e(mo)s(de)-71 3991 y Fu(O_RDWR)p
Fw(.)70 4104 y(La)k(liste)f(des)g(mo)s(des)g(d'ouv)m(erture)g(p)s(eut)g
(con)m(tenir)h(en)f(plus)f(un)g(ou)i(plusieurs)c(des)j(drap)s(eaux)g
(parmi)f(les)-71 4217 y(suiv)-5 b(an)m(ts)30 b(:)521
4375 y Fu(O_APPEND)177 b Fw(ouv)m(erture)30 b(en)h(a)5
b(jout)521 4488 y Fu(O_CREAT)225 b Fw(cr)m(\023)-43 b(eer)31
b(le)f(\014c)m(hier)g(s'il)f(n'existe)h(pas)521 4601
y Fu(O_TRUNC)225 b Fw(tronquer)29 b(le)h(\014c)m(hier)g(\022)-45
b(a)31 b(z)m(\023)-43 b(ero)32 b(s'il)d(existe)h(d)m(\023)-43
b(ej\022)e(a)521 4714 y Fu(O_EXCL)270 b Fw(\023)-43 b(ec)m(houer)32
b(si)d(le)h(\014c)m(hier)g(existe)g(d)m(\023)-43 b(ej\022)e(a)521
4877 y Fu(O_NONBLOCK)81 b Fw(ouv)m(erture)30 b(en)h(mo)s(de)f(non)f
(blo)s(quan)m(t)521 5152 y Fu(O_NOCTTY)177 b Fw(ne)30
b(pas)g(fonctionner)g(en)g(mo)s(de)g(terminal)f(de)h(con)m(tr^)-45
b(ole)521 5315 y Fu(O_SYNC)273 b Fw(e\013ectuer)31 b(les)c(\023)-43
b(ecritures)31 b(en)f(mo)s(de)g(sync)m(hronis)m(\023)-43
b(e)521 5428 y Fu(O_DSYNC)225 b Fw(e\013ectuer)31 b(les)c(\023)-43
b(ecritures)31 b(de)f(donn)m(\023)-43 b(ees)31 b(en)f(mo)s(de)g(sync)m
(hronis)m(\023)-43 b(e)521 5541 y Fu(O_RSYNC)225 b Fw(e\013ectuer)31
b(les)f(lectures)g(en)g(mo)s(de)g(sync)m(hronis)m(\023)-43
b(e)p Black Black eop
%%Page: 15 15
15 14 bop Black -71 24 a Fs(2.2.)62 b(OUVER)-8 b(TURE)30
b(D'UN)i(FICHIER)2336 b Fw(15)p Black 70 280 a(Le)31
b(premier)e(group)s(e)g(indique)f(le)i(comp)s(ortemen)m(t)h(\022)-45
b(a)31 b(suivre)e(selon)h(que)g(le)g(\014c)m(hier)f(existe)i(ou)f(non.)
70 393 y(Si)h Fu(O_APPEND)f Fw(est)j(fourni,)e(le)h(p)s(oin)m(teur)f
(de)h(lecture/)m(\023)-43 b(ecriture)33 b(sera)g(p)s(ositionn)m(\023)
-43 b(e)32 b(\022)-45 b(a)32 b(la)g(\014n)g(du)f(\014c)m(hier)g(a)m(v)
-5 b(an)m(t)-71 506 y(c)m(haque)30 b(\023)-43 b(ecriture.)31
b(En)g(cons)m(\023)-43 b(equence,)34 b(toutes)e(les)c(\023)-43
b(ecritures)32 b(s'a)5 b(jouteron)m(t)33 b(\022)-45 b(a)32
b(la)f(\014n)f(du)g(\014c)m(hier.)h(Au)g(con)m(traire,)-71
619 y(sans)f Fu(O_APPEND)p Fw(,)e(les)g(\023)-43 b(ecritures)30
b(se)h(fon)m(t)f(\022)-45 b(a)31 b(la)f(p)s(osition)f(couran)m(te)i
(\(initialemen)m(t,)e(le)h(d)m(\023)-43 b(ebut)31 b(du)e(\014c)m
(hier\).)70 732 y(Si)24 b Fu(O_TRUNC)f Fw(est)j(fourni,)d(le)h(\014c)m
(hier)h(est)g(tronqu)m(\023)-43 b(e)26 b(au)f(momen)m(t)g(de)g(l'ouv)m
(erture)g(:)g(la)g(longueur)e(du)h(\014c)m(hier)h(est)-71
845 y(ramen)m(\023)-43 b(ee)29 b(\022)-45 b(a)28 b(z)m(\023)-43
b(ero,)29 b(et)f(les)f(o)s(ctets)h(con)m(ten)m(us)g(dans)f(le)g(\014c)m
(hier)f(son)m(t)i(p)s(erdus.)d(Les)g(\023)-43 b(ecritures)27
b(reparten)m(t)h(donc)f(d'un)-71 958 y(\014c)m(hier)g(vide.)h(Au)g(con)
m(traire,)h(sans)e Fu(O_TRUNC)p Fw(,)g(les)e(\023)-43
b(ecritures)28 b(se)g(fon)m(t)h(par)e(dessus)h(les)f(o)s(ctets)j(d)m
(\023)-43 b(ej\022)e(a)29 b(pr)m(\023)-43 b(esen)m(ts,)29
b(ou)-71 1071 y(\022)-45 b(a)31 b(la)f(suite.)70 1184
y(Si)g Fu(O_CREAT)f Fw(est)i(fourni,)f(le)g(\014c)m(hier)g(est)i(cr)m
(\023)-43 b(e)m(\023)g(e)33 b(s'il)d(n'existe)h(pas)f(d)m(\023)-43
b(ej\022)e(a.)33 b(Le)e(\014c)m(hier)f(est)h(cr)m(\023)-43
b(e)m(\023)g(e)34 b(a)m(v)m(ec)f(une)d(taille)-71 1296
y(n)m(ulle,)40 b(et)h(a)m(v)m(ec)i(p)s(our)c(droits)h(d'acc)m(\022)-43
b(es)43 b(les)e(droits)f(indiqu)m(\023)-43 b(es)39 b(par)h(le)g(troisi)
m(\022)-43 b(eme)42 b(argumen)m(t,)f(mo)s(di\014)m(\023)-43
b(es)40 b(par)g(le)-71 1409 y(masque)k(de)f(cr)m(\023)-43
b(eation)45 b(du)e(pro)s(cessus.)g(\(Le)h(masque)g(de)f(cr)m(\023)-43
b(eation)46 b(est)e(consultable)e(et)j(mo)s(di\014able)c(par)i(la)-71
1522 y(commande)32 b Fu(umask)p Fw(,)e(et)i(par)f(l'app)s(el)e(syst)m
(\022)-43 b(eme)33 b(de)e(m)m(^)-43 b(eme)33 b(nom\).)f(Les)f(droits)f
(son)m(t)i(co)s(d)m(\023)-43 b(es)33 b(sous)e(forme)g(de)g(bits)-71
1635 y(dans)c(un)f(en)m(tier)i(\(cf.)g(la)f(commande)h
Fu(chmod)p Fw(\))e(et)i(le)f(t)m(yp)s(e)h Fu(file_perm)d
Fw(est)j(simplemen)m(t)e(une)h(abr)m(\023)-43 b(eviation)28
b(p)s(our)-71 1748 y(le)i(t)m(yp)s(e)h Fu(int)e Fw(:)p
Black Black 130 1910 a(Bit)i(\(o)s(ctal\))p 601 1944
4 113 v 104 w(Notation)g Fu(ls)47 b(-l)p 1324 1944 V
103 w Fw(Droit)p 81 1947 3597 4 v 130 2026 a Fu(0o100)p
601 2060 4 113 v 379 w(--x------)p 1324 2060 V 196 w
Fw(ex)m(\023)-43 b(ecution,)32 b(p)s(our)c(le)i(propri)m(\023)-43
b(etaire)130 2139 y Fu(0o200)p 601 2173 V 379 w(-w-------)p
1324 2173 V 193 w Fw(\023)g(ecriture,)31 b(p)s(our)e(le)h(propri)m
(\023)-43 b(etaire)130 2252 y Fu(0o400)p 601 2286 V 379
w(r--------)p 1324 2286 V 196 w Fw(lecture,)30 b(p)s(our)f(le)h(propri)
m(\023)-43 b(etaire)130 2365 y Fu(0o10)p 601 2399 V 427
w(-----x---)p 1324 2399 V 196 w Fw(ex)m(\023)g(ecution,)32
b(p)s(our)c(les)i(mem)m(bres)g(des)g(group)s(es)g(du)f(propri)m(\023)
-43 b(etaire)130 2478 y Fu(0o20)p 601 2512 V 427 w(----w----)p
1324 2512 V 193 w Fw(\023)g(ecriture,)31 b(p)s(our)e(les)h(mem)m(bres)g
(des)g(group)s(es)f(du)h(propri)m(\023)-43 b(etaire)130
2591 y Fu(0o40)p 601 2625 V 451 w(---r----)p 1324 2625
V 220 w Fw(lecture,)30 b(p)s(our)f(les)h(mem)m(bres)g(des)g(group)s(es)
g(du)f(propri)m(\023)-43 b(etaire)130 2704 y Fu(0o1)p
601 2738 V 475 w(--------x)p 1324 2738 V 196 w Fw(ex)m(\023)g(ecution,)
32 b(p)s(our)c(les)i(autres)h(utilisateurs)130 2817 y
Fu(0o2)p 601 2850 V 475 w(-------w-)p 1324 2850 V 193
w Fw(\023)-43 b(ecriture,)31 b(p)s(our)e(les)h(autres)g(utilisateurs)
130 2929 y Fu(0o4)p 601 2963 V 475 w(------r--)p 1324
2963 V 196 w Fw(lecture,)g(p)s(our)f(les)h(autres)g(utilisateurs)130
3042 y Fu(0o4000)p 601 3076 V 331 w(--s------)p 1324
3076 V 196 w Fw(le)g(bit)f Fu(s)h Fw(sur)f(l'utilisateur)130
3155 y Fu(0o2000)p 601 3189 V 331 w(-----s---)p 1324
3189 V 196 w Fw(le)h(bit)f Fu(s)h Fw(sur)f(le)h(group)s(e)-71
3317 y(Le)i(masque)f(de)h(cr)m(\023)-43 b(eation)32 b(est)g(co)s(d)m
(\023)-43 b(e)33 b(de)e(m)m(^)-43 b(eme.)33 b(T)-8 b(ous)32
b(les)f(bits)f(\022)-45 b(a)32 b(1)g(dans)f(le)g(masque)g(de)g(cr)m
(\023)-43 b(eation)33 b(son)m(t)f(mis)f(\022)-45 b(a)-71
3430 y(z)m(\023)i(ero)32 b(dans)e(les)g(droits)f(du)g(\014c)m(hier)h
(cr)m(\023)-43 b(e)m(\023)g(e.)p Black -71 3621 a Fv(Exemple:)p
Black 45 w Fw(la)35 b(plupart)e(des)i(programmes)g(prennen)m(t)g
Fu(0o666)f Fw(comme)i(troisi)m(\022)-43 b(eme)36 b(argumen)m(t)g(de)f
Fu(openfile)p Fw(,)-71 3734 y(c'est-\022)-45 b(a-dire)32
b Fu(rw-rw-rw-)d Fw(en)i(notation)h(sym)m(b)s(olique.)d(Av)m(ec)k(le)e
(masque)g(de)g(cr)m(\023)-43 b(eation)33 b(standard)d(de)h
Fu(0o022)p Fw(,)f(le)-71 3847 y(\014c)m(hier)i(est)h(donc)f(cr)m(\023)
-43 b(e)m(\023)g(e)36 b(a)m(v)m(ec)f(les)d(droits)f Fu(rw-r--r--)p
Fw(.)g(Av)m(ec)j(un)d(masque)i(plus)e(con\014an)m(t)i(de)f
Fu(0o002)p Fw(,)g(le)g(\014c)m(hier)-71 3960 y(est)f(cr)m(\023)-43
b(e)m(\023)g(e)33 b(a)m(v)m(ec)g(les)c(droits)h Fu(rw-rw-r--)p
Fw(.)70 4151 y(Si)c Fu(O_EXCL)f Fw(est)i(fourni,)e Fu(openfile)d
Fw(\023)-43 b(ec)m(houe)28 b(si)e(le)g(\014c)m(hier)g(existe)h(d)m
(\023)-43 b(ej\022)e(a.)28 b(Ce)e(drap)s(eau,)g(emplo)m(y)m(\023)-43
b(e)28 b(en)e(conjonc-)-71 4264 y(tion)38 b(a)m(v)m(ec)j
Fu(O_CREAT)p Fw(,)c(p)s(ermet)h(d'utiliser)d(des)j(\014c)m(hiers)g
(comme)h(v)m(errous)g(\()p Fn(lo)-5 b(cks)7 b Fw(\).)2847
4231 y Fz(1)2927 4264 y Fw(Un)38 b(pro)s(cessus)f(qui)g(v)m(eut)-71
4377 y(prendre)d(le)h(v)m(errou)g(app)s(elle)f Fu(openfile)f
Fw(sur)h(le)h(\014c)m(hier)f(a)m(v)m(ec)j(les)e(mo)s(des)g
Fu(O_EXCL)f Fw(et)i Fu(O_CREAT)p Fw(.)d(Si)h(le)h(\014c)m(hier)-71
4490 y(existe)d(d)m(\023)-43 b(ej\022)e(a,)34 b(cela)f(signi\014e)d
(qu'un)h(autre)h(pro)s(cessus)f(d)m(\023)-43 b(etien)m(t)34
b(le)d(v)m(errou.)i(Dans)f(ce)h(cas,)g Fu(openfile)d
Fw(d)m(\023)-43 b(eclenc)m(he)-71 4603 y(une)31 b(erreur,)h(et)g(il)f
(faut)h(attendre)g(un)f(p)s(eu,)h(puis)e(r)m(\023)-43
b(eessa)m(y)m(er.)34 b(Si)d(le)h(\014c)m(hier)f(n'existe)h(pas,)g
Fu(openfile)d Fw(retourne)-71 4716 y(sans)i(erreur)f(et)h(le)g(\014c)m
(hier)f(est)i(cr)m(\023)-43 b(e)m(\023)g(e,)34 b(emp)m(^)-43
b(ec)m(han)m(t)33 b(les)d(autres)h(pro)s(cessus)f(de)h(prendre)f(le)g
(v)m(errou.)h(P)m(our)g(lib)m(\023)-43 b(erer)-71 4829
y(le)31 b(v)m(errou,)g(le)f(pro)s(cessus)g(qui)g(le)g(d)m(\023)-43
b(etien)m(t)32 b(fait)f Fu(unlink)e Fw(dessus.)h(La)h(cr)m(\023)-43
b(eation)33 b(d'un)c(\014c)m(hier)h(est)i(une)e(op)m(\023)-43
b(eration)-71 4941 y(atomique)27 b(:)h(si)e(deux)h(pro)s(cessus)f(essa)
m(y)m(en)m(t)j(de)e(cr)m(\023)-43 b(eer)29 b(un)d(m)m(^)-43
b(eme)28 b(\014c)m(hier)f(en)g(parall)m(\022)-43 b(ele)26
b(a)m(v)m(ec)k(les)c(options)h Fu(O_EXCL)-71 5054 y Fw(et)i
Fu(O_CREAT)p Fw(,)e(au)i(plus)e(un)g(seul)h(des)g(deux)g(seulemen)m(t)h
(p)s(eut)f(r)m(\023)-43 b(eussir.)2370 5031 y(\023)2362
5054 y(Evidemmen)m(t)27 b(cette)k(m)m(\023)-43 b(etho)s(de)29
b(n'est)g(pas)-71 5167 y(tr)m(\022)-43 b(es)26 b(satisfaisan)m(te)e
(car)h(d'une)e(part)h(le)g(pro)s(cessus)f(qui)g(n'a)i(pas)f(le)g(v)m
(errou)g(doit)d(^)-43 b(etre)26 b(en)e(atten)m(te)i(activ)m(e,)g
(d'autre)-71 5280 y(part)k(un)g(pro)s(cessus)f(qui)g(se)i(termine)e
(anormalemen)m(t)i(p)s(eux)e(laisser)g(le)h(v)m(errou)g(blo)s(qu)m
(\023)-43 b(e.)p Black -71 5352 1560 4 v 33 5406 a Fl(1)94
5438 y Fk(Ce)28 b(n'est)f(pas)h(p)r(ossible)g(si)g(le)f(\014c)n(hier)g
(v)n(errou)g(r)n(\023)-36 b(eside)27 b(sur)g(une)g(partition)g(NFS,)g
(car)h(NFS)e(n'impl)n(\023)-36 b(emen)n(te)25 b(pas)j(correctemen)n(t)
-71 5529 y(l'option)f Fj(O_CREAT)g Fk(de)e Fj(open)p
Fk(.)p Black Black Black eop
%%Page: 16 16
16 15 bop Black -71 24 a Fw(16)2520 b Fs(CHAPITRE)29
b(2.)62 b(LES)29 b(FICHIERS)p Black Black -71 280 a Fv(Exemple:)p
Black 45 w Fw(p)s(our)f(se)j(pr)m(\023)-43 b(eparer)30
b(\022)-45 b(a)31 b(lire)e(un)g(\014c)m(hier)h(:)311
413 y Fu(openfile)45 b(filename)h([O_RDONLY)n(])h(0)-71
549 y Fw(Le)28 b(troisi)m(\022)-43 b(eme)28 b(argumen)m(t)g(p)s(eut)c
(^)-43 b(etre)29 b(quelconque,)f(puisque)d Fu(O_CREAT)h
Fw(n'est)i(pas)f(sp)m(\023)-43 b(eci\014)m(\023)g(e.)30
b(On)c(prend)h(con)m(v)m(en-)-71 662 y(tionnellemen)m(t)37
b Fu(0)p Fw(.)h(P)m(our)d(\023)-43 b(ecrire)38 b(un)f(\014c)m(hier)g
(\022)-45 b(a)39 b(partir)e(de)g(rien,)g(sans)h(se)g(pr)m(\023)-43
b(eo)s(ccup)s(er)38 b(de)g(ce)h(qu'il)d(con)m(tenait)-74
774 y(\023)-43 b(ev)m(en)m(tuellemen)m(t)32 b(:)311 907
y Fu(openfile)45 b(filename)h([O_WRONLY)n(;)h(O_TRUNC)n(;)h(O_CREAT)n
(])f(0o666)-71 1043 y Fw(Si)27 b(le)h(\014c)m(hier)g(qu'on)g(ouvre)h(v)
-5 b(a)29 b(con)m(tenir)f(du)f(co)s(de)i(ex)m(\023)-43
b(ecutable)30 b(\(cas)g(des)e(\014c)m(hiers)g(cr)m(\023)-43
b(e)m(\023)g(es)31 b(par)d Fu(ld)p Fw(\),)g(ou)h(un)e(script)-71
1156 y(de)j(commandes,)h(on)f(a)5 b(joute)32 b(les)d(droits)h(d'ex)m
(\023)-43 b(ecution)31 b(dans)f(le)g(troisi)m(\022)-43
b(eme)30 b(argumen)m(t)h(:)311 1288 y Fu(openfile)45
b(filename)h([O_WRONLY)n(;)h(O_TRUNC)n(;)h(O_CREAT)n(])f(0o777)-71
1424 y Fw(Si)33 b(le)i(\014c)m(hier)e(qu'on)h(ouvre)h(est)g(con\014den)
m(tiel,)f(comme)h(par)f(exemple)g(les)g(\014c)m(hiers)g(\\b)s(o)-10
b(^)-35 b(\020te)34 b(aux)h(lettres")g(dans)-71 1537
y(lesquels)21 b Fu(mail)g Fw(sto)s(c)m(k)m(e)k(les)d(messages)h(lus,)e
(on)i(le)f(cr)m(\023)-43 b(ee)24 b(en)f(restreignan)m(t)f(la)g(lecture)
h(et)g(l')m(\023)-43 b(ecriture)22 b(au)h(propri)m(\023)-43
b(etaire)-71 1650 y(uniquemen)m(t)29 b(:)311 1782 y Fu(openfile)45
b(filename)h([O_WRONLY)n(;)h(O_TRUNC)n(;)h(O_CREAT)n(])f(0o600)-71
1918 y Fw(P)m(our)36 b(se)g(pr)m(\023)-43 b(eparer)36
b(\022)-45 b(a)36 b(a)5 b(jouter)36 b(des)g(donn)m(\023)-43
b(ees)36 b(\022)-45 b(a)36 b(la)g(\014n)f(d'un)f(\014c)m(hier)h
(existan)m(t,)i(et)f(le)g(cr)m(\023)-43 b(eer)37 b(vide)e(s'il)f
(n'existe)-71 2031 y(pas)c(:)311 2164 y Fu(openfile)45
b(filename)h([O_WRONLY)n(;)h(O_APPEND)n(;)g(O_CREAT)n(])h(0o666)70
2470 y Fw(Le)26 b(drap)s(eau)e Fu(O_NONBLOCK)f Fw(assure)i(que)g(si)g
(le)g(supp)s(ort)f(est)i(un)e(tuy)m(au)i(nomm)m(\023)-43
b(e)26 b(ou)g(un)e(\014c)m(hier)h(sp)m(\023)-43 b(ecial,)26
b(alors)-71 2582 y(l'ouv)m(erture)k(du)g(\014c)m(hier)f(ainsi)g(que)h
(les)g(lectures)g(et)e(\023)-43 b(ecritures)30 b(ult)m(\023)-43
b(erieur)30 b(se)g(feron)m(t)h(en)f(mo)s(de)g(non)g(blo)s(quan)m(t.)70
2755 y(Le)25 b(drap)s(eau)f Fu(O_NOCTYY)f Fw(assure)i(que)f(si)g(le)h
(supp)s(ort)e(est)j(un)e(terminal)f(de)i(con)m(tr^)-45
b(ole)26 b(\(cla)m(vier,)f(fen)m(^)-43 b(etre,)27 b Fn(etc.)p
Fw(\),)-71 2868 y(alors)j(celui-ci)f(ne)h(devien)m(t)h(pas)f(le)g
(terminal)f(de)h(con)m(tr^)-45 b(ole)31 b(du)e(pro)s(cessus)h(app)s
(elan)m(t.)70 3041 y(Le)45 b(dernier)d(group)s(e)h(de)h(drap)s(eaux)f
(indique)f(commen)m(t)j(sync)m(hroniser)d(les)i(op)m(\023)-43
b(erations)45 b(de)f(lectures)f(et)-74 3154 y(\023)-43
b(ecritures.)31 b(P)m(ar)g(d)m(\023)-43 b(efaut,)31 b(ces)g(op)m(\023)
-43 b(erations)31 b(ne)g(son)m(t)g(pas)f(sync)m(hronis)m(\023)-43
b(ees.)70 3270 y(Si)44 b Fu(O_DSYNC)f Fw(est)i(fourni,)e(les)h(donn)m
(\023)-43 b(ees)45 b(son)m(t)e(\023)-43 b(ecrites)46
b(de)e(fa\030)-40 b(con)46 b(sync)m(hronis)m(\023)-43
b(ee)45 b(de)f(telle)h(fa\030)-40 b(con)45 b(que)f(la)-71
3383 y(commande)32 b(est)g(blo)s(quan)m(te)e(et)i(ne)g(retourne)f(que)g
(lorsque)f(toutes)j(les)28 b(\023)-43 b(ecritures)31
b(auron)m(t)e(\023)-43 b(et)m(\023)g(e)34 b(e\013ectu)m(\023)-43
b(ees)34 b(ph)m(y-)-71 3496 y(siquemen)m(t)c(sur)f(le)h(supp)s(ort)f
(\(disque)g(en)h(g)m(\023)-43 b(en)m(\023)g(eral\).)70
3613 y(Si)39 b Fu(O_SYNC)g Fw(est)h(fourni,)f(ce)i(son)m(t)f(\022)-45
b(a)41 b(la)f(fois)f(les)h(donn)m(\023)-43 b(ees)41 b(et)g(les)e
(informations)g(sur)g(le)g(\014c)m(hier)h(qui)e(son)m(t)-71
3726 y(sync)m(hronis)m(\023)-43 b(ees.)70 3842 y(Si)41
b Fu(O_RSYNC)e Fw(est)j(fourni)e(en)h(pr)m(\023)-43 b(esence)43
b(de)e Fu(O_DSYNC)f Fw(les)h(lectures)g(des)g(donn)m(\023)-43
b(ees)42 b(son)m(t)e(\023)-43 b(egalemen)m(t)43 b(syn-)-71
3955 y(c)m(hronis)m(\023)-43 b(ees)42 b(:)g(il)e(est)i(assur)m(\023)-43
b(e)42 b(que)g(toutes)g(les)d(\023)-43 b(ecritures)41
b(en)g(cours)h(\(demand)m(\023)-43 b(ees)42 b(mais)f(pas)g(n)m(\023)-43
b(ecessairemen)m(t)-71 4068 y(enregistr)m(\023)g(ees\))31
b(sur)e(ce)h(\014c)m(hier)f(seron)m(t)h(e\013ectiv)m(emen)m(t)f(\023)
-43 b(ecrites)31 b(sur)d(le)i(supp)s(ort)d(a)m(v)-5 b(an)m(t)32
b(la)d(pro)s(c)m(haine)g(lecture.)g(Si)-71 4181 y Fu(O_RSYNC)c
Fw(est)j(fourni)d(en)h(pr)m(\023)-43 b(esence)28 b(de)f
Fu(O_SYNC)f Fw(cela)h(s'applique)22 b(\023)-43 b(egalemen)m(t)29
b(aux)e(informations)e(sur)h(le)h(\014c)m(hier.)-71 4486
y Fq(2.3)135 b(Lecture)46 b(et)c(\023)-64 b(ecriture)70
4696 y Fw(Les)31 b(app)s(els)d(syst)m(\022)-43 b(emes)32
b Fu(read)d Fw(et)j Fu(write)c Fw(p)s(ermetten)m(t)j(de)g(lire)d(et)j
(d')m(\023)-43 b(ecrire)31 b(les)f(o)s(ctets)i(d'un)d(\014c)m(hier.)311
4829 y Fu(read)94 b(:)48 b(file_descr)d(->)i(string)f(->)h(int)g(->)g
(int)g(->)g(int)311 4941 y(write)f(:)i(file_descr)d(->)i(string)f(->)h
(int)g(->)g(int)g(->)g(int)-71 5077 y Fw(Les)28 b(deux)f(app)s(els)g
(on)m(t)h(la)g(m)m(^)-43 b(eme)29 b(in)m(terface.)g(Le)f(premier)e
(argumen)m(t)j(est)f(le)g(descripteur)e(sur)h(lequel)g(la)g(lecture)-71
5190 y(ou)e(l')m(\023)-43 b(ecriture)25 b(doit)f(a)m(v)m(oir)i(lieu.)d
(Le)i(deuxi)m(\022)-43 b(eme)25 b(argumen)m(t)h(est)f(une)f(c)m(ha)-10
b(^)-35 b(\020ne)25 b(de)g(caract)m(\022)-43 b(eres)28
b(con)m(tenan)m(t)e(les)f(o)s(ctets)-71 5303 y(\022)-45
b(a)26 b(\023)-43 b(ecrire)28 b(\(cas)h(de)e Fu(write)p
Fw(\),)g(ou)h(dans)f(laquelle)f(v)m(on)m(t)g(^)-43 b(etre)30
b(sto)s(c)m(k)m(\023)-43 b(es)30 b(les)d(o)s(ctets)i(lus)d(\(cas)j(de)f
Fu(read)p Fw(\).)f(Le)h(troisi)m(\022)-43 b(eme)-71 5416
y(argumen)m(t)43 b(est)h(la)e(p)s(osition,)g(dans)g(la)g(c)m(ha)-10
b(^)-35 b(\020ne)43 b(de)g(caract)m(\022)-43 b(eres,)46
b(du)c(premier)f(o)s(ctet)j(\022)-45 b(a)41 b(\023)-43
b(ecrire)43 b(ou)g(\022)-45 b(a)43 b(lire.)f(Le)-71 5529
y(quatri)m(\022)-43 b(eme)28 b(argumen)m(t)g(est)g(le)f(nom)m(bre)g
(d'o)s(ctets)h(\022)-45 b(a)28 b(lire)e(ou)h(\022)-45
b(a)25 b(\023)-43 b(ecrire.)28 b(Les)f(troisi)m(\022)-43
b(eme)28 b(et)g(quatri)m(\022)-43 b(eme)28 b(argumen)m(ts)p
Black Black eop
%%Page: 17 17
17 16 bop Black -71 24 a Fs(2.3.)62 b(LECTURE)29 b(ET)778
1 y(\023)766 24 y(ECRITURE)2481 b Fw(17)p Black -71 280
a(d)m(\023)-43 b(esignen)m(t)34 b(donc)g(une)f(sous-c)m(ha)-10
b(^)-35 b(\020ne)33 b(de)h(la)f(c)m(ha)-10 b(^)-35 b(\020ne)34
b(pass)m(\023)-43 b(ee)35 b(en)e(deuxi)m(\022)-43 b(eme)34
b(argumen)m(t.)h(\(Cette)g(sous-c)m(ha)-10 b(^)-35 b(\020ne)33
b(ne)-71 393 y(doit)d(pas)g(d)m(\023)-43 b(eb)s(order)30
b(de)g(la)g(c)m(ha)-10 b(^)-35 b(\020ne)30 b(d'origine)14
b(;)31 b Fu(read)e Fw(et)i Fu(write)e Fw(ne)h(v)m(\023)-43
b(eri\014en)m(t)31 b(pas)f(ce)h(fait.\))p 0.800 setgray
4 setlinewidth np 1699 670 a 2059 670 li 2059 550 li
1699 550 li closepath fil 0 setgray np 1699 670 a 2059
670 li 2059 550 li 1699 550 li closepath st np 979 550
a 2779 550 li st np 979 670 a 2779 670 li st 836 629
a Fu(fd)p 0.800 setgray np 1699 1090 a 2059 1090 li 2059
970 li 1699 970 li closepath fil 0 setgray np 1699 1090
a 2059 1090 li 2059 970 li 1699 970 li closepath st np
1459 1090 a 2179 1090 li 2179 970 li 1459 970 li closepath
st 1364 1049 a(s)p np 1459 1150 a 1699 1150 li st 0.000 setgray
np 1519 1165 a 1459 1150 li 1519 1135 li closepath fil
0 setgray np 1519 1165 a 1459 1150 li 1519 1135 li closepath
st 0.000 setgray np 1639 1135 a 1699 1150 li 1639 1165
li closepath fil 0 setgray np 1639 1135 a 1699 1150 li
1639 1165 li closepath st 1555 1226 a(d)p np 1699 1150
a 2059 1150 li st 0.000 setgray np 1759 1165 a 1699 1150
li 1759 1135 li closepath fil 0 setgray np 1759 1165
a 1699 1150 li 1759 1135 li closepath st 0.000 setgray
np 1999 1135 a 2059 1150 li 1999 1165 li closepath fil
0 setgray np 1999 1135 a 2059 1150 li 1999 1165 li closepath
st 252 w(n)p np 1819 670 a 1819 970 li st 0.000 setgray
np 1834 910 a 1819 970 li 1804 910 li closepath fil 0 setgray
np 1834 910 a 1819 970 li 1804 910 li closepath st 1151
839 a(read)47 b(fd)g(s)g(d)h(n)p np 1939 970 a 1939 670
li st 0.000 setgray np 1924 730 a 1939 670 li 1954 730
li closepath fil 0 setgray np 1924 730 a 1939 670 li
1954 730 li closepath st 215 w(write)94 b(fd)47 b(s)h(d)f(n)70
1366 y Fw(L'en)m(tier)31 b(ren)m(v)m(o)m(y)m(\023)-43
b(e)33 b(par)d Fu(read)f Fw(ou)h Fu(write)f Fw(est)i(le)f(nom)m(bre)g
(d'o)s(ctets)h(r)m(\023)-43 b(eellemen)m(t)31 b(lus)e(ou)f(\023)-43
b(ecrits.)70 1486 y(Les)40 b(lectures)g(et)h(les)c(\023)-43
b(ecritures)39 b(on)m(t)i(lieu)d(\022)-45 b(a)41 b(partir)d(de)i(la)g
(p)s(osition)e(couran)m(te)j(de)f(lecture/)m(\023)-43
b(ecriture.)41 b(\(Si)-71 1599 y(le)35 b(\014c)m(hier)e(a)g(\023)-43
b(et)m(\023)g(e)37 b(ouv)m(ert)f(en)f(mo)s(de)f Fu(O_APPEND)p
Fw(,)f(cette)j(p)s(osition)d(est)j(plac)m(\023)-43 b(ee)36
b(\022)-45 b(a)35 b(la)f(\014n)g(du)g(\014c)m(hier)g(a)m(v)-5
b(an)m(t)36 b(toute)-73 1711 y(\023)-43 b(ecriture.\))31
b(Cette)g(p)s(osition)e(est)h(a)m(v)-5 b(anc)m(\023)-43
b(ee)34 b(du)29 b(nom)m(bre)h(d'o)s(ctets)i(lus)c(ou)g(\023)-43
b(ecrits.)70 1831 y(Dans)23 b(le)e(cas)i(d'une)c(\023)-43
b(ecriture,)22 b(le)g(nom)m(bre)f(d'o)s(ctets)i(e\013ectiv)m(emen)m(t)f
(\023)-43 b(ecrits)22 b(est)h(toujours)f(le)f(nom)m(bre)h(d'o)s(ctets)
-71 1944 y(demand)m(\023)-43 b(es.)25 b(Dans)f(le)g(cas)h(o)s(\022)-48
b(u)24 b(il)f(n'est)h(pas)g(p)s(ossible)e(d')m(\023)-43
b(ecrire)25 b(les)e(o)s(ctets)j(\(si)e(le)f(disque)g(est)i(plein,)d
(par)i(exemple\),)-71 2057 y Fu(write)29 b Fw(d)m(\023)-43
b(eclenc)m(he)32 b(une)d(erreur.)h(L'en)m(tier)g(ren)m(v)m(o)m(y)m
(\023)-43 b(e)33 b(par)d Fu(write)f Fw(p)s(eut)h(donc)e(^)-43
b(etre)31 b(ignor)m(\023)-43 b(e.)3045 2024 y Fz(2)p
Black -71 2308 a Fv(Exemple:)p Black 45 w Fw(supp)s(osan)m(t)29
b Fu(fd)h Fw(li)m(\023)-43 b(e)30 b(\022)-45 b(a)31 b(un)e(descripteur)
g(ouv)m(ert)i(en)c(\023)-43 b(ecriture,)311 2440 y Fu(write)46
b(fd)h Fo("Hello)g(world)n(!")g Fu(3)h(7)-74 2579 y Fw(\023)-43
b(ecrit)31 b(les)f(caract)m(\022)-43 b(eres)34 b(\\)p
Fu(lo)47 b(worl)p Fw(")30 b(dans)f(le)h(\014c)m(hier)g(corresp)s(ondan)
m(t,)g(et)h(ren)m(v)m(oie)g(7.)70 2824 y(Dans)k(le)g(cas)g(d'une)f
(lecture,)h(il)e(se)i(p)s(eut)f(que)h(le)f(nom)m(bre)h(d'o)s(ctets)g
(e\013ectiv)m(emen)m(t)i(lus)d(soit)g(strictemen)m(t)-71
2937 y(inf)m(\023)-43 b(erieur)22 b(au)i(nom)m(bre)g(d'o)s(ctets)h
(demand)m(\023)-43 b(es.)25 b(Premier)e(cas)i(:)f(lorsque)f(la)h(\014n)
f(du)g(\014c)m(hier)g(est)i(pro)s(c)m(he,)f(c'est-\022)-45
b(a-dire)-71 3050 y(lorsque)36 b(le)h(nom)m(bre)g(d'o)s(ctets)i(en)m
(tre)e(la)g(p)s(osition)f(couran)m(te)i(et)g(la)f(\014n)f(du)h(\014c)m
(hier)f(est)i(inf)m(\023)-43 b(erieur)35 b(au)i(nom)m(bre)-71
3163 y(d'o)s(ctets)f(requis.)f(En)f(particulier,)f(lorsque)i(la)g(p)s
(osition)e(couran)m(te)j(est)g(sur)e(la)h(\014n)g(du)f(\014c)m(hier,)g
Fu(read)h Fw(ren)m(v)m(oie)-71 3276 y(z)m(\023)-43 b(ero.)41
b(Cette)e(con)m(v)m(en)m(tion)h(\\z)m(\023)-43 b(ero)38
b(\023)-43 b(egal)39 b(\014n)f(de)g(\014c)m(hier")g(s'applique)e(aussi)
h(aux)i(lectures)f(depuis)e(des)i(\014c)m(hiers)-71 3389
y(sp)m(\023)-43 b(eciaux)29 b(ou)f(des)h(disp)s(ositifs)c(de)j(comm)m
(unication.)g(P)m(ar)h(exemple,)g Fu(read)e Fw(sur)h(le)g(terminal)f
(ren)m(v)m(oie)i(z)m(\023)-43 b(ero)31 b(si)c(on)-71
3502 y(frapp)s(e)i Fu(ctrl-D)g Fw(en)h(d)m(\023)-43 b(ebut)31
b(de)f(ligne.)70 3621 y(Deuxi)m(\022)-43 b(eme)43 b(cas)g(o)s(\022)-48
b(u)42 b(le)g(nom)m(bre)f(d'o)s(ctets)i(lus)e(p)s(eut)d(^)-43
b(etre)44 b(inf)m(\023)-43 b(erieur)40 b(au)i(nom)m(bre)f(d'o)s(ctets)j
(demand)m(\023)-43 b(es)42 b(:)-71 3734 y(lorsqu'on)28
b(lit)g(depuis)f(un)h(\014c)m(hier)g(sp)m(\023)-43 b(ecial)29
b(tel)g(qu'un)f(terminal,)g(ou)h(depuis)e(un)h(disp)s(ositif)e(de)j
(comm)m(unication)-71 3847 y(comme)e(un)e(tuy)m(au)h(ou)g(une)f(prise.)
g(P)m(ar)h(exemple,)g(lorsqu'on)f(lit)g(depuis)e(le)j(terminal,)f
Fu(read)g Fw(blo)s(que)f(jusqu'\022)-45 b(a)25 b(ce)-71
3960 y(qu'une)35 b(ligne)g(en)m(ti)m(\022)-43 b(ere)38
b(soit)e(disp)s(onible.)d(Si)h(la)i(longueur)f(de)h(la)g(ligne)f(d)m
(\023)-43 b(epasse)37 b(le)f(nom)m(bre)g(d'o)s(ctets)h(requis,)-71
4073 y Fu(read)22 b Fw(retourne)h(le)f(nom)m(bre)h(d'o)s(ctets)h
(requis.)d(Sinon,)h Fu(read)g Fw(retourne)g(imm)m(\023)-43
b(ediatemen)m(t)24 b(a)m(v)m(ec)h(la)d(ligne)g(lue,)g(sans)-71
4186 y(forcer)34 b(la)g(lecture)g(d'autres)g(lignes)f(p)s(our)g
(atteindre)h(le)g(nom)m(bre)f(d'o)s(ctets)j(requis.)c(\(C'est)j(le)f
(comp)s(ortemen)m(t)-71 4298 y(par)h(d)m(\023)-43 b(efaut)36
b(du)f(terminal)14 b(;)35 b(on)g(p)s(eut)g(aussi)f(mettre)j(le)e
(terminal)f(dans)g(un)h(mo)s(de)g(de)g(lecture)g(caract)m(\022)-43
b(ere)39 b(par)-71 4411 y(caract)m(\022)-43 b(ere)34
b(au)c(lieu)f(de)h(ligne)f(\022)-45 b(a)31 b(ligne.)e(V)-8
b(oir)30 b(section)h(2.10.4)h(ou)f(page)g(141)h(p)s(our)c(a)m(v)m(oir)j
(tous)g(les)f(d)m(\023)-43 b(etails.\))p Black -71 4663
a Fv(Exemple:)p Black 45 w Fw(l'expression)34 b(suiv)-5
b(an)m(te)35 b(lit)g(au)g(plus)f(100)j(caract)m(\022)-43
b(eres)39 b(depuis)34 b(l'en)m(tr)m(\023)-43 b(ee)37
b(standard,)f(et)g(ren)m(v)m(oie)g(la)-71 4775 y(c)m(ha)-10
b(^)-35 b(\020ne)30 b(des)h(caract)m(\022)-43 b(eres)33
b(lus.)311 4908 y Fv(let)53 b Fu(buffer)46 b(=)h(String)o(.)o(create)g
(100)f Fv(in)311 5021 y(let)53 b Fu(n)47 b(=)h(read)e(stdin)h(buffer)f
(0)h(100)g Fv(in)406 5134 y Fu(String)o(.)o(sub)g(buffer)f(0)i(n)p
Black -71 5261 1560 4 v 33 5315 a Fl(2)67 5346 y Fk(La)23
b(seule)h(exception)e(est)h(lorsqu'on)e(\023)-36 b(ecrit)24
b(sur)e(un)g(descripteur)h(de)f(\014c)n(hiers)h(qui)f(r)n(\023)-36
b(ef)n(\023)g(erence)24 b(un)e(tuy)n(au)g(ou)g(une)g(prise,)i(et)f(qui)
f(est)-71 5438 y(plac)n(\023)-36 b(e)29 b(dans)f(le)h(mo)r(de)f(en)n
(tr)n(\023)-36 b(ees/sorties)30 b(non)e(blo)r(quan)n(tes.)g(Dans)g(ce)h
(cas,)g(les)e(\023)-36 b(ecritures)29 b(p)r(euv)n(en)n(t)c(^)-36
b(etre)28 b(partielles.)i(On)e(ne)g(parlera)-71 5529
y(pas)e(d'en)n(tr)n(\023)-36 b(ees/sorties)28 b(non)d(blo)r(quan)n(tes)
h(dans)f(ce)h(cours.)p Black Black Black eop
%%Page: 18 18
18 17 bop Black -71 24 a Fw(18)2520 b Fs(CHAPITRE)29
b(2.)62 b(LES)29 b(FICHIERS)p Black Black -71 280 a Fv(Exemple:)p
Black 45 w Fw(la)34 b(fonction)g Fu(really_read)e Fw(ci-dessous)i(a)h
(la)g(m)m(^)-43 b(eme)36 b(in)m(terface)f(que)g Fu(read)p
Fw(,)f(mais)g(fait)g(plusieurs)-71 393 y(ten)m(tativ)m(es)f(de)d
(lecture)h(si)e(n)m(\023)-43 b(ecessaire)32 b(p)s(our)d(essa)m(y)m(er)j
(de)f(lire)e(le)h(nom)m(bre)h(d'o)s(ctets)g(requis.)f(Si,)f(ce)j
(faisan)m(t,)f(elle)-71 506 y(rencon)m(tre)g(une)f(\014n)f(de)h(\014c)m
(hier,)g(elle)g(d)m(\023)-43 b(eclenc)m(he)31 b(l'exception)f
Fu(End_of_file)p Fw(.)311 639 y Fv(let)53 b(rec)48 b
Fu(really_read)d(fd)i(buffer)f(start)g(length)g(=)406
752 y Fv(if)56 b Fu(length)46 b(<=)h(0)h Fv(then)f Fu(\(\))g
Fv(else)502 864 y(matc)m(h)g Fu(read)f(fd)i(buffer)e(start)g(length)g
Fv(with)597 977 y Fu(0)i(->)f Fv(raise)h Fu(End_of_file)502
1090 y(|)f(r)h(->)f(really_read)e(fd)i(buffer)f(\(start)g(+)h(r\))h(\()
o(length)e(-)i(r\);;)-71 1420 y Fq(2.4)135 b(F)-11 b(ermeture)46
b(d'un)e(descripteur)70 1631 y Fw(L'app)s(el)29 b(syst)m(\022)-43
b(eme)32 b Fu(close)d Fw(ferme)h(le)g(descripteur)f(pass)m(\023)-43
b(e)31 b(en)g(argumen)m(t.)311 1764 y Fu(close)46 b(:)i(file_descr)d
(->)i(unit)-71 1900 y Fw(Apr)m(\022)-43 b(es)24 b(qu'un)e(descripteur)f
(a)g(\023)-43 b(et)m(\023)g(e)26 b(ferm)m(\023)-43 b(e,)25
b(toute)f(ten)m(tativ)m(e)h(de)e(lire,)f(d')m(\023)-43
b(ecrire,)24 b(ou)f(de)g(faire)g(quoi)f(que)h(ce)h(soit)f(a)m(v)m(ec)
-71 2013 y(ce)30 b(descripteur)c(\023)-43 b(ec)m(houe.)31
b(Il)d(est)i(recommand)m(\023)-43 b(e)31 b(de)e(fermer)g(les)g
(descripteurs)f(d)m(\022)-43 b(es)30 b(qu'ils)d(ne)j(son)m(t)g(plus)d
(utilis)m(\023)-43 b(es.)-71 2126 y(Ce)22 b(n'est)g(pas)g(obligatoire)
14 b(;)23 b(en)e(particulier,)f(con)m(trairemen)m(t)j(\022)-45
b(a)22 b(ce)h(qui)d(se)i(passe)g(a)m(v)m(ec)i(la)e(biblioth)m(\022)-43
b(eque)20 b(standard)-71 2239 y Fu(Pervasives)p Fw(,)35
b(il)h(n'est)i(pas)f(n)m(\023)-43 b(ecessaire)39 b(de)e(fermer)g(les)g
(descripteurs)f(p)s(our)d(^)-43 b(etre)39 b(certain)e(que)h(les)c(\023)
-43 b(ecritures)-71 2352 y(en)38 b(atten)m(te)i(on)m(t)d(\023)-43
b(et)m(\023)g(e)41 b(e\013ectu)m(\023)-43 b(ees)40 b(:)f(les)c(\023)-43
b(ecritures)38 b(faites)g(a)m(v)m(ec)i Fu(write)d Fw(son)m(t)i(imm)m
(\023)-43 b(ediatemen)m(t)38 b(transmises)f(au)-71 2465
y(no)m(y)m(au.)g(D'un)f(autre)g(c^)-45 b(ot)m(\023)i(e,)39
b(le)d(nom)m(bre)g(de)g(descripteurs)e(qu'un)h(pro)s(cessus)g(p)s(eut)g
(allouer)g(est)i(limit)m(\023)-43 b(e)35 b(par)g(le)-71
2578 y(no)m(y)m(au)29 b(\(plusieurs)d(cen)m(taines)j(\022)-45
b(a)29 b(quelques)e(milliers\).)f(F)-8 b(aire)28 b Fu(close)f
Fw(sur)h(un)f(descripteur)g(in)m(utile)f(p)s(ermet)i(de)g(le)-71
2691 y(d)m(\023)-43 b(esallouer,)30 b(et)h(donc)g(d')m(\023)-43
b(eviter)31 b(de)f(tom)m(b)s(er)g(\022)-45 b(a)31 b(court)g(de)f
(descripteurs.)-71 3001 y Fq(2.5)135 b(Exemple)46 b(complet)g(:)f
(copie)h(de)f(\014c)l(hiers)70 3212 y Fw(On)31 b(v)-5
b(a)33 b(programmer)e(une)g(commande)h Fu(file_copy)p
Fw(,)e(\022)-45 b(a)32 b(deux)f(argumen)m(ts)i Ft(f)2765
3226 y Fz(1)2835 3212 y Fw(et)g Ft(f)2988 3226 y Fz(2)3027
3212 y Fw(,)f(qui)e(recopie)i(dans)f(le)-71 3325 y(\014c)m(hier)f(de)g
(nom)g Ft(f)568 3339 y Fz(2)637 3325 y Fw(les)g(o)s(ctets)i(con)m(ten)m
(us)f(dans)e(le)h(\014c)m(hier)g(de)g(nom)g Ft(f)2356
3339 y Fz(1)2395 3325 y Fw(.)193 3457 y Fz(1)83 b Fv(op)s(en)48
b Fu(Unix)o(;;)193 3570 y Fz(2)193 3683 y(3)83 b Fv(let)53
b Fu(buffer_size)45 b(=)i(8192;;)193 3796 y Fz(4)83 b
Fv(let)53 b Fu(buffer)46 b(=)h(String)o(.)o(create)g(buffer_size)m(;;)
193 3909 y Fz(5)193 4022 y(6)83 b Fv(let)53 b Fu(file_copy)45
b(input_name)g(output_name)g(=)193 4135 y Fz(7)178 b
Fv(let)48 b Fu(fd_in)e(=)i(openfile)d(input_name)g([O_RDONLY)n(])i(0)h
Fv(in)193 4248 y Fz(8)178 b Fv(let)48 b Fu(fd_out)e(=)h(openfile)f
(output_name)f([)o(O_WRONLY)n(;)j(O_CREAT)n(;)f(O_TRUNC)n(])h(0)o(o666)
f Fv(in)193 4361 y Fz(9)178 b Fv(let)48 b(rec)g Fu(copy_loop)d(\(\))i
(=)157 4474 y Fz(10)275 b Fv(matc)m(h)47 b Fu(read)f(fd_in)h(buffer)f
(0)h(buffer_size)e Fv(with)157 4587 y Fz(11)370 b Fu(0)48
b(->)f(\(\))157 4699 y Fz(12)275 b Fu(|)47 b(r)h(->)f(ignore)f(\(write)
g(fd_out)g(buffer)g(0)i(r)o(\);)g(copy_loop)d(\(\))i
Fv(in)157 4812 y Fz(13)179 b Fu(copy_loop)46 b(\(\);)157
4925 y Fz(14)179 b Fu(close)47 b(fd_in)n(;)157 5038 y
Fz(15)179 b Fu(close)47 b(fd_out)n(;;)157 5190 y Fz(16)157
5303 y(17)84 b Fv(let)53 b Fu(copy)46 b(\(\))i(=)157
5416 y Fz(18)179 b Fv(if)56 b Fu(Array)n(.length)46 b(Sys)o(.argv)h(=)g
(3)h Fv(then)f(b)s(egin)157 5529 y Fz(19)275 b Fu(file_copy)45
b(Sys)o(.argv)o(.\(1\))i(Sys)o(.)o(argv)o(.\(2\);)p Black
Black eop
%%Page: 19 19
19 18 bop Black -71 24 a Fs(2.6.)62 b(CO)283 1 y(^)268
24 y(UT)30 b(DES)g(APPELS)f(SYST)1283 1 y(\022)1271 24
y(EME.)h(LES)f(T)-8 b(AMPONS)1545 b Fw(19)p Black 157
280 a Fz(20)275 b Fu(exit)46 b(0)157 393 y Fz(21)179
b Fv(end)48 b(else)g(b)s(egin)157 506 y Fz(22)275 b Fu(prerr_endline)
157 619 y Fz(23)370 b Fu(\()p Fo("Usage)n(:)48 b(")f
Fu(^Sys)o(.argv)o(.\(0\)^)f Fo(")i(<)o(input_file)n(>)f(<output_file)m
(>")o Fu(\);)157 732 y Fz(24)275 b Fu(exit)46 b(1)157
845 y Fz(25)179 b Fv(end)p Fu(;;)157 958 y Fz(26)157
1071 y(27)84 b Fu(handle_unix_error)43 b(copy)k(\(\);;)-71
1204 y Fw(L'essen)m(tiel)24 b(du)e(tra)m(v)-5 b(ail)24
b(est)g(fait)g(par)f(la)h(fonction)f Fu(file_copy)e Fw(des)j(lignes)e
(6{15.)k(On)d(commence)i(par)e(ouvrir)f(un)-71 1317 y(descripteur)j(en)
h(lecture)g(seule)f(sur)h(le)f(\014c)m(hier)h(d'en)m(tr)m(\023)-43
b(ee)28 b(\(ligne)d(7\),)i(et)g(un)e(descripteur)g(en)f(\023)-43
b(ecriture)26 b(seule)f(sur)g(le)-71 1430 y(\014c)m(hier)e(de)h(sortie)
g(\(ligne)f(8\).)i(Le)f(\014c)m(hier)g(de)f(sortie)h(est)h(tronqu)m
(\023)-43 b(e)25 b(s'il)d(existe)i(d)m(\023)-43 b(ej\022)e(a)26
b(\(option)d Fu(O_TRUNC)p Fw(\),)g(et)i(cr)m(\023)-43
b(e)m(\023)g(e)27 b(s'il)-71 1542 y(n'existe)h(pas)g(\(option)h
Fu(O_CREAT)p Fw(\),)d(a)m(v)m(ec)31 b(les)d(droits)f
Fu(rw-rw-rw-)f Fw(mo)s(di\014)m(\023)-43 b(es)27 b(par)h(le)g(masque)g
(de)g(cr)m(\023)-43 b(eation.)30 b(\(Ceci)-71 1655 y(n'est)38
b(pas)e(satisfaisan)m(t)h(:)h(si)e(on)h(copie)g(un)f(\014c)m(hier)g(ex)
m(\023)-43 b(ecutable,)39 b(on)e(v)m(oudrait)g(que)g(la)g(copie)g(soit)
d(\023)-43 b(egalemen)m(t)-71 1768 y(ex)m(\023)g(ecutable.)25
b(On)c(v)m(erra)i(plus)e(loin)g(commen)m(t)j(attribuer)d(\022)-45
b(a)23 b(la)f(copie)h(les)f(m)m(^)-43 b(emes)24 b(droits)d(d'acc)m
(\022)-43 b(es)25 b(qu'\022)-45 b(a)23 b(l'original.\))-71
1881 y(Dans)31 b(les)e(lignes)g(9{13,)k(on)d(e\013ectue)i(la)e(copie)g
(par)g(blo)s(cs)f(de)h Fu(buffer_size)d Fw(caract)m(\022)-43
b(eres.)34 b(On)29 b(demande)h(\022)-45 b(a)31 b(lire)-71
1994 y Fu(buffer_size)38 b Fw(caract)m(\022)-43 b(eres)44
b(\(lignes)c(10\).)j(Si)d Fu(read)g Fw(ren)m(v)m(oie)h(z)m(\023)-43
b(ero,)43 b(c'est)g(qu'on)d(a)i(attein)m(t)g(la)f(\014n)f(du)g(\014c)m
(hier)-71 2107 y(d'en)m(tr)m(\023)-43 b(ee,)37 b(et)e(la)f(copie)h(est)
g(termin)m(\023)-43 b(ee)35 b(\(ligne)e(11\).)j(Sinon)d(\(ligne)h
(12\),)i(on)c(\023)-43 b(ecrit)35 b(les)f Fu(r)g Fw(o)s(ctets)i(qu'on)e
(vien)m(t)g(de)-71 2220 y(lire)27 b(sur)h(le)g(\014c)m(hier)g(de)h
(destination,)f(et)h(on)g(recommence.)h(Finalemen)m(t,)f(on)g(ferme)f
(les)h(deux)f(descripteurs.)f(Le)-71 2333 y(programme)i(principal)d
(\(lignes)i(17{24\))k(v)m(\023)-43 b(eri\014e)29 b(que)g(la)g(commande)
g(a)h(re\030)-40 b(cu)29 b(deux)f(argumen)m(ts,)i(et)g(les)f(passe)g
(\022)-45 b(a)-71 2446 y(la)30 b(fonction)g Fu(file_copy)p
Fw(.)70 2559 y(T)-8 b(oute)37 b(erreur)d(p)s(endan)m(t)h(la)h(copie,)g
(comme)g(par)f(exemple)g(l'imp)s(ossibilit)m(\023)-43
b(e)32 b(d'ouvrir)i(le)h(\014c)m(hier)g(d'en)m(tr)m(\023)-43
b(ee,)-71 2672 y(parce)25 b(qu'il)e(n'existe)i(pas)f(ou)h(parce)g
(qu'il)e(n'est)i(pas)f(p)s(ermis)f(de)h(le)g(lire,)g(ou)g(encore)i(l')m
(\023)-43 b(ec)m(hec)27 b(d'une)21 b(\023)-43 b(ecriture)25
b(par)-71 2785 y(manque)33 b(de)h(place)g(sur)e(le)i(disque,)e(se)i
(traduit)f(par)g(une)g(exception)h Fu(Unix_error)d Fw(qui)h(se)i
(propage)g(jusqu'au)-71 2898 y(niv)m(eau)c(le)g(plus)e(externe)j(du)f
(programme,)g(o)s(\022)-48 b(u)30 b(elle)g(est)h(in)m(tercept)m(\023)
-43 b(ee)32 b(et)f(a\016c)m(h)m(\023)-43 b(ee)33 b(par)d
Fu(handle_unix_error)p Fw(.)p Black -71 3114 a Fv(Exercice)36
b(1)p Black 45 w Fn(Ajouter)29 b(une)f(option)i Fu(-a)d
Fn(au)i(pr)-5 b(o)g(gr)g(amme,)31 b(tel)5 b(le)29 b(que)e
Fu(file_copy)46 b(-a)h Ft(f)2980 3128 y Fz(1)3047 3114
y Ft(f)3092 3128 y Fz(2)3159 3114 y Fn(ajoute)29 b(le)f(c)-5
b(ontenu)-71 3227 y(de)33 b Ft(f)95 3241 y Fz(1)166 3227
y Fn(\022)-46 b(a)33 b(la)h(\014n)e(de)h Ft(f)648 3241
y Fz(2)720 3227 y Fn(si)f Ft(f)862 3241 y Fz(2)934 3227
y Fn(existe)g(d)n(\023)-44 b(ej\022)e(a.)1727 b Fw(\(V)-8
b(oir)31 b(le)f(corrig)m(\023)-43 b(e\))p 3783 3177 47
4 v 3783 3224 4 47 v 3826 3224 V 3783 3227 47 4 v -71
3517 a Fq(2.6)135 b(Co)t(^)-71 b(ut)46 b(des)f(app)t(els)g(syst)m(\022)
-64 b(eme.)46 b(Les)f(tamp)t(ons)70 3721 y Fw(Dans)28
b(l'exemple)e Fu(file_copy)p Fw(,)f(les)h(lectures)h(se)g(fon)m(t)h
(par)f(blo)s(cs)f(de)h(8192)h(o)s(ctets.)h(P)m(ourquoi)d(pas)h(o)s
(ctet)i(par)-71 3834 y(o)s(ctet)17 b(?)32 b(ou)h(m)m(\023)-43
b(egao)s(ctet)36 b(par)c(m)m(\023)-43 b(egao)s(ctet)18
b(?)33 b(P)m(our)f(des)g(raisons)g(d'e\016cacit)m(\023)-43
b(e.)35 b(La)d(\014gure)g(2.1)i(mon)m(tre)f(la)f(vitesse)-71
3946 y(de)f(copie,)g(en)g(o)s(ctets)h(par)f(seconde,)h(du)d(programme)i
Fu(file_copy)p Fw(,)e(quand)h(on)h(fait)g(v)-5 b(arier)30
b(la)h(taille)e(des)i(blo)s(cs)-71 4059 y(\(la)f(v)-5
b(ariable)30 b Fu(buffer_size)p Fw(\))d(de)k(1)f(o)s(ctet)i(a)f(8)g(m)m
(\023)-43 b(egao)s(ctets,)34 b(en)c(doublan)m(t)f(\022)-45
b(a)31 b(c)m(haque)g(fois.)70 4173 y(P)m(our)f(de)f(p)s(etites)g
(tailles)f(de)i(blo)s(cs,)f(la)g(vitesse)g(de)h(copie)f(est)h(\022)-45
b(a)30 b(p)s(eu)f(pr)m(\022)-43 b(es)29 b(prop)s(ortionnelle)e(\022)-45
b(a)30 b(la)f(taille)f(des)-71 4286 y(blo)s(cs.)f(Cep)s(endan)m(t,)h
(la)g(quan)m(tit)m(\023)-43 b(e)29 b(de)f(donn)m(\023)-43
b(ees)29 b(transf)m(\023)-43 b(er)m(\023)g(ees)30 b(est)f(la)e(m)m(^)
-43 b(eme)30 b(quelle)c(que)i(soit)g(la)g(taille)f(des)h(blo)s(cs.)-71
4399 y(L'essen)m(tiel)k(du)f(temps)h(ne)f(passe)h(donc)g(pas)g(dans)f
(le)h(transfert)g(de)g(donn)m(\023)-43 b(ees)32 b(propremen)m(t)g(dit,)
f(mais)g(dans)g(la)-71 4512 y(gestion)h(de)g(la)f(b)s(oucle)g
Fu(copy_loop)p Fw(,)e(et)j(dans)f(les)h(app)s(els)e Fu(read)g
Fw(et)j Fu(write)p Fw(.)d(En)h(mesuran)m(t)h(plus)d(\014nemen)m(t,)j
(on)-71 4625 y(v)m(oit)k(que)g(ce)g(son)m(t)g(les)f(app)s(els)f
Fu(read)g Fw(et)j Fu(write)d Fw(qui)g(prennen)m(t)h(l'essen)m(tiel)g
(du)f(temps.)i(On)e(en)i(conclut)f(donc)-71 4737 y(qu'un)e(app)s(el)g
(syst)m(\022)-43 b(eme,)36 b(m)m(^)-43 b(eme)36 b(lorsqu'il)31
b(n'a)k(pas)f(grand)f(c)m(hose)j(\022)-45 b(a)34 b(faire)g(\()p
Fu(read)g Fw(d'un)e(caract)m(\022)-43 b(ere\),)38 b(prend)33
b(un)-71 4850 y(temps)c(minim)m(um)e(d'en)m(viron)h(8)i(micro-secondes)
g(\(sur)f(la)g(mac)m(hine)g(emplo)m(y)m(\023)-43 b(ee)31
b(p)s(our)d(faire)h(le)g(test\).)i(P)m(our)e(des)-71
4963 y(blo)s(cs)g(d'en)m(tr)m(\023)-43 b(ee/sortie)33
b(de)d(p)s(etite)g(taille,)g(c'est)h(ce)h(temps)e(d'app)s(el)e(syst)m
(\022)-43 b(eme)32 b(qui)d(pr)m(\023)-43 b(edomine.)70
5077 y(P)m(our)32 b(des)f(blo)s(cs)g(plus)f(gros,)i(en)m(tre)g(4K)g(et)
g(128K,)h(la)f(vitesse)f(est)i(constan)m(te)g(et)f(maximale.)g(Ici,)f
(le)g(temps)-71 5190 y(li)m(\023)-43 b(e)31 b(aux)g(app)s(els)f(syst)m
(\022)-43 b(emes)33 b(et)f(\022)-45 b(a)31 b(la)g(b)s(oucle)g(de)g
(copie)g(est)h(p)s(etit)e(dev)-5 b(an)m(t)32 b(le)f(temps)g(de)g
(transfert)g(des)g(donn)m(\023)-43 b(ees,)-71 5303 y(ce)31
b(dernier)26 b(\023)-43 b(etan)m(t)33 b(ind)m(\023)-43
b(ep)s(endan)m(t)29 b(de)h(la)g(taille)f(des)h(blo)s(cs.)70
5416 y(En\014n,)h(p)s(our)g(de)h(tr)m(\022)-43 b(es)33
b(gros)g(blo)s(cs)e(\(256K)j(ou)e(plus\),)f(la)h(vitesse)g(est)h
(toujours)f(ind)m(\023)-43 b(ep)s(endan)m(te)31 b(de)h(la)g(taille)-71
5529 y(des)k(blo)s(cs,)g(mais)f(elle)h(est)h(l)m(\023)-43
b(eg)m(\022)g(eremen)m(t)39 b(en-dessous)d(du)f(maxim)m(um.)h(En)m(tre)
g(en)h(jeu)f(ici)f(le)h(temps)g(n)m(\023)-43 b(ecessaire)p
Black Black eop
%%Page: 20 20
20 19 bop Black -71 24 a Fw(20)2520 b Fs(CHAPITRE)29
b(2.)62 b(LES)29 b(FICHIERS)p Black Black Black Black
701 1745 40 4 v 555 1770 a Fx(0.1)p 3217 1745 V 701 1597
20 4 v 3237 1597 V 701 1511 V 3237 1511 V 701 1449 V
3237 1449 V 701 1401 V 3237 1401 V 701 1363 V 3237 1363
V 701 1329 V 3237 1329 V 701 1301 V 3237 1301 V 701 1277
V 3237 1277 V 701 1253 40 4 v 620 1278 a(1)p 3217 1253
V 701 1105 20 4 v 3237 1105 V 701 1019 V 3237 1019 V
701 957 V 3237 957 V 701 911 V 3237 911 V 701 871 V 3237
871 V 701 839 V 3237 839 V 701 809 V 3237 809 V 701 785
V 3237 785 V 701 763 40 4 v 578 788 a(10)p 3217 763 V
701 615 20 4 v 3237 615 V 701 527 V 3237 527 V 701 467
V 3237 467 V 701 419 V 3237 419 V 701 381 V 3237 381
V 701 347 V 3237 347 V 701 319 V 3237 319 V 701 293 V
3237 293 V 701 271 40 4 v 537 296 a(100)p 3217 271 V
701 1745 4 40 v 680 1852 a(1)p 701 311 V 811 1745 4 20
v 811 291 V 957 1745 V 957 291 V 1031 1745 V 1031 291
V 1067 1745 4 40 v 304 w(10)p 1067 311 V 1177 1745 4
20 v 1177 291 V 1321 1745 V 1321 291 V 1395 1745 V 1395
291 V 1431 1745 4 40 v 259 w(100)p 1431 311 V 1541 1745
4 20 v 1541 291 V 1687 1745 V 1687 291 V 1761 1745 V
1761 291 V 1797 1745 4 40 v 219 w(1000)p 1797 311 V 1907
1745 4 20 v 1907 291 V 2051 1745 V 2051 291 V 2127 1745
V 2127 291 V 2161 1745 4 40 v 175 w(10000)p 2161 311
V 2271 1745 4 20 v 2271 291 V 2417 1745 V 2417 291 V
2491 1745 V 2491 291 V 2527 1745 4 40 v 136 w(100000)p
2527 311 V 2637 1745 4 20 v 2637 291 V 2781 1745 V 2781
291 V 2857 1745 V 2857 291 V 2891 1745 4 40 v 2778 1848
a(1e+06)p 2891 311 V 3001 1745 4 20 v 3001 291 V 3147
1745 V 3147 291 V 3221 1745 V 3221 291 V 3257 1745 4
40 v 138 w(1e+07)p 3257 311 V 701 1745 2556 4 v 3257
1745 4 1474 v 701 271 2556 4 v 213 932 a(Vitesse)193
1015 y(de)f(copie)86 1118 y(\(m)n(\023)-39 b(egao)r(ctet/s\))1548
1968 y(T)-7 b(aille)28 b(des)f(blo)r(cs)g(\(o)r(ctets\))p
701 1745 4 1474 v 3193 386 a Fi(3)3083 332 y(3)2973 316
y(3)2863 332 y(3)2753 316 y(3)2643 332 y(3)2533 316 y(3)-183
b(3)2313 332 y(3)g(3)2093 316 y(3)1985 348 y(3)1875 374
y(3)1765 420 y(3)1655 502 y(3)1545 608 y(3)1435 720 y(3)1325
854 y(3)1215 990 y(3)1105 1136 y(3)995 1278 y(3)885 1422
y(3)775 1574 y(3)665 1714 y(3)p Black 691 2285 a Fh(Fig.)31
b Fw(2.1)g({)g(Vitesse)g(de)f(copie)g(en)h(fonction)f(de)g(la)g(taille)
f(des)h(blo)s(cs)p Black Black -71 2556 a(p)s(our)d(allouer)g(le)g(blo)
s(c)g(et)i(lui)d(attribuer)h(des)h(pages)h(de)f(m)m(\023)-43
b(emoire)28 b(r)m(\023)-43 b(eelle)29 b(au)f(fur)e(et)j(\022)-45
b(a)29 b(mesure)e(qu'il)f(se)j(remplit.)70 2669 y(Moralit)m(\023)-43
b(e)27 b(:)f(un)f(app)s(el)f(syst)m(\022)-43 b(eme,)28
b(m)m(^)-43 b(eme)27 b(s'il)d(fait)i(tr)m(\022)-43 b(es)26
b(p)s(eu)f(de)h(tra)m(v)-5 b(ail,)25 b(co)s(^)-48 b(ute)27
b(c)m(her)f(|)g(b)s(eaucoup)f(plus)f(c)m(her)-71 2782
y(qu'un)36 b(app)s(el)g(de)h(fonction)g(normale)g(:)g(en)g(gros,)h(de)f
(2)h(\022)-45 b(a)38 b(20)g(micro-secondes)f(par)g(app)s(el)f(syst)m
(\022)-43 b(eme,)39 b(suiv)-5 b(an)m(t)-71 2895 y(les)42
b(arc)m(hitectures.)g(Il)f(est)i(donc)f(imp)s(ortan)m(t)f(d')m(\023)-43
b(eviter)43 b(de)f(faire)f(des)h(app)s(els)e(syst)m(\022)-43
b(eme)44 b(trop)e(fr)m(\023)-43 b(equen)m(ts.)43 b(En)-71
3008 y(particulier,)32 b(les)i(op)m(\023)-43 b(erations)35
b(de)f(lecture)g(et)g(d')m(\023)-43 b(ecriture)35 b(doiv)m(en)m(t)f(se)
h(faire)e(par)h(blo)s(cs)f(de)h(taille)f(su\016san)m(te,)h(et)-71
3121 y(non)c(caract)m(\022)-43 b(ere)33 b(par)d(caract)m(\022)-43
b(ere.)70 3234 y(Dans)33 b(des)f(exemples)g(comme)h Fu(file_copy)p
Fw(,)d(il)h(n'est)i(pas)f(di\016cile)e(de)i(faire)g(les)g(en)m(tr)m
(\023)-43 b(ees/sorties)35 b(par)d(gros)-71 3347 y(blo)s(cs.)39
b(En)h(rev)-5 b(anc)m(he,)41 b(d'autres)e(t)m(yp)s(es)h(de)g
(programmes)g(s')m(\023)-43 b(ecriv)m(en)m(t)42 b(naturellemen)m(t)d(a)
m(v)m(ec)j(des)e(en)m(tr)m(\023)-43 b(ees)42 b(ca-)-71
3460 y(ract)m(\022)-43 b(ere)44 b(par)d(caract)m(\022)-43
b(ere)45 b(\(exemples)d(:)f(lecture)h(d'une)f(ligne)f(depuis)g(un)h
(\014c)m(hier,)g(analyse)g(lexicale\),)h(et)g(des)-71
3573 y(sorties)34 b(de)f(quelques)g(caract)m(\022)-43
b(eres)36 b(\022)-45 b(a)35 b(la)e(fois)g(\(exemple)h(:)g(a\016c)m
(hage)h(d'un)e(nom)m(bre\).)h(P)m(our)g(r)m(\023)-43
b(ep)s(ondre)33 b(aux)g(b)s(e-)-71 3685 y(soins)j(de)h(ces)h
(programmes,)f(la)g(plupart)f(des)g(syst)m(\022)-43 b(emes)39
b(fournissen)m(t)d(des)h(biblioth)m(\022)-43 b(eques)35
b(d'en)m(tr)m(\023)-43 b(ees-sorties,)-71 3798 y(qui)34
b(in)m(tercalen)m(t)i(une)e(couc)m(he)j(de)e(logiciel)f(suppl)m(\023)
-43 b(emen)m(taire)34 b(en)m(tre)i(l'application)e(et)i(le)f(syst)m
(\022)-43 b(eme)36 b(d'exploita-)-71 3911 y(tion.)31
b(P)m(ar)g(exemple,)g(en)g(OCaml,)g(on)g(disp)s(ose)e(du)h(mo)s(dule)f
Fu(Pervasives)g Fw(de)i(la)f(biblioth)m(\022)-43 b(eque)30
b(standard,)g(qui)-71 4024 y(fournit)24 b(deux)i(t)m(yp)s(es)f
(abstraits)h Fu(in_channel)d Fw(et)k Fu(out_channel)p
Fw(,)c(analogues)j(aux)g(descripteurs)e(de)h(\014c)m(hiers,)g(et)-71
4137 y(des)31 b(op)m(\023)-43 b(erations)33 b(sur)d(ces)i(t)m(yp)s(es,)
g(comme)g Fu(input_char)p Fw(,)d Fu(input_line)p Fw(,)g
Fu(output_char)p Fw(,)g(ou)i Fu(output_string)p Fw(.)-71
4250 y(Cette)i(couc)m(he)f(suppl)m(\023)-43 b(emen)m(taire)31
b(utilise)f(des)h(tamp)s(ons)g(\()p Fn(bu\013ers)7 b
Fw(\))32 b(p)s(our)e(transformer)h(des)g(suites)g(de)g(lectures)-71
4363 y(ou)36 b(d')m(\023)-43 b(ecritures)37 b(caract)m(\022)-43
b(ere)39 b(par)d(caract)m(\022)-43 b(ere)39 b(en)d(une)g(lecture)g(ou)g
(une)d(\023)-43 b(ecriture)37 b(d'un)e(blo)s(c.)g(On)h(obtien)m(t)g
(donc)-71 4476 y(de)i(bien)e(meilleures)f(p)s(erformances)i(p)s(our)g
(les)g(programmes)g(qui)g(pro)s(c)m(\022)-43 b(eden)m(t)38
b(caract)m(\022)-43 b(ere)41 b(par)c(caract)m(\022)-43
b(ere.)41 b(De)-71 4589 y(plus,)c(cette)k(couc)m(he)e(suppl)m(\023)-43
b(emen)m(taire)38 b(p)s(ermet)g(une)g(plus)f(grande)h(p)s(ortabilit)m
(\023)-43 b(e)38 b(des)g(programmes)h(:)g(il)e(su\016t)-71
4702 y(d'adapter)i(cette)h(biblioth)m(\022)-43 b(eque)38
b(aux)g(app)s(els)f(syst)m(\022)-43 b(eme)41 b(fournis)36
b(par)i(un)g(autre)h(syst)m(\022)-43 b(eme)40 b(d'exploitation,)e(et)
-71 4815 y(tous)43 b(les)g(programmes)g(qui)f(utilisen)m(t)f(la)i
(biblioth)m(\022)-43 b(eque)41 b(son)m(t)j(imm)m(\023)-43
b(ediatemen)m(t)43 b(p)s(ortables)f(v)m(ers)i(cet)g(autre)-71
4927 y(syst)m(\022)-43 b(eme)32 b(d'exploitation.)-71
5213 y Fq(2.7)135 b(Exemple)46 b(complet)g(:)f(une)g(p)t(etite)h
(biblioth)m(\022)-64 b(eque)46 b(d'en)l(tr)m(\023)-64
b(ees-sorties)70 5416 y Fw(P)m(our)35 b(illustrer)c(les)j(tec)m
(hniques)g(de)g(lecture/)m(\023)-43 b(ecriture)35 b(par)f(tamp)s(on,)g
(v)m(oici)g(une)g(impl)m(\023)-43 b(emen)m(tation)34
b(simple)-71 5529 y(d'un)29 b(fragmen)m(t)i(de)g(la)f(biblioth)m(\022)
-43 b(eque)28 b Fu(Pervasives)g Fw(de)i(OCaml.)f(L'in)m(terface)i(est)g
(la)f(suiv)-5 b(an)m(te)30 b(:)p Black Black eop
%%Page: 21 21
21 20 bop Black -71 24 a Fs(2.7.)62 b(EXEMPLE)30 b(COMPLET)f(:)i(UNE)g
(PETITE)e(BIBLIOTH)2246 1 y(\022)2234 24 y(EQUE)g(D'ENTR)2895
1 y(\023)2883 24 y(EES-SOR)-8 b(TIES)257 b Fw(21)p Black
311 280 a Fv(t)m(yp)s(e)48 b Fu(in_channel)311 393 y
Fv(exception)g Fu(End_of_file)311 506 y Fv(v)-6 b(al)48
b Fu(open_in)e(:)h(string)f(->)h(in_channel)311 619 y
Fv(v)-6 b(al)48 b Fu(input_char)d(:)i(in_channel)e(->)j(char)311
732 y Fv(v)-6 b(al)48 b Fu(close_in)d(:)j(in_channel)d(->)i(unit)311
845 y Fv(t)m(yp)s(e)h Fu(out_channel)311 958 y Fv(v)-6
b(al)48 b Fu(open_out)d(:)j(string)e(->)h(out_channel)311
1071 y Fv(v)-6 b(al)48 b Fu(output_char)d(:)i(out_channel)e(->)i(char)g
(->)g(unit)311 1184 y Fv(v)-6 b(al)48 b Fu(close_out)d(:)j(out_channel)
c(->)k(unit)70 1325 y Fw(Commen\030)-40 b(cons)26 b(par)g(la)f(partie)h
(\\lecture".)h(Le)f(t)m(yp)s(e)g(abstrait)g Fu(in_channel)d
Fw(est)k(impl)m(\023)-43 b(emen)m(t)m(\023)g(e)27 b(comme)g(suit)e(:)
193 1458 y Fz(1)83 b Fv(op)s(en)48 b Fu(Unix)o(;;)193
1571 y Fz(2)193 1684 y(3)83 b Fv(t)m(yp)s(e)48 b Fu(in_channel)c(=)193
1797 y Fz(4)178 b Fu({)48 b(in_buffer)m(:)g(string)n(;)193
1910 y Fz(5)274 b Fu(in_fd)n(:)48 b(file_descr)m(;)193
2023 y Fz(6)274 b Fv(m)m(utable)46 b Fu(in_pos)o(:)h(int)o(;)193
2135 y Fz(7)274 b Fv(m)m(utable)46 b Fu(in_end)o(:)h(int)g(};;)193
2248 y Fz(8)83 b Fv(exception)48 b Fu(End_of_file)-71
2390 y Fw(La)33 b(c)m(ha)-10 b(^)-35 b(\020ne)32 b(de)h(caract)m(\022)
-43 b(eres)35 b(du)d(c)m(hamp)g Fu(in_buffer)e Fw(est)j(le)f(tamp)s(on)
g(propremen)m(t)g(dit.)g(Le)h(c)m(hamp)f Fu(in_fd)g Fw(est)-71
2503 y(un)g(descripteur)e(de)j(\014c)m(hier)e(\(Unix\),)h(ouv)m(ert)h
(sur)f(le)g(\014c)m(hier)f(en)i(cours)f(de)g(lecture.)h(Le)f(c)m(hamp)h
Fu(in_pos)d Fw(est)j(la)-71 2616 y(p)s(osition)27 b(couran)m(te)k(de)e
(lecture)g(dans)f(le)h(tamp)s(on.)g(Le)g(c)m(hamp)h Fu(in_end)d
Fw(est)j(le)f(nom)m(bre)f(de)h(caract)m(\022)-43 b(eres)32
b(v)-5 b(alides)-71 2729 y(dans)30 b(le)g(tamp)s(on.)p
4 setlinewidth np 1159 3760 a 2599 3760 li 2599 3640
li 1159 3640 li closepath st 682 3719 a Fu(in_)o(buffer)p
np 559 3040 a 3199 3040 li st np 559 3160 a 3199 3160
li st 273 3119 a(in_)o(fd)p np [ 28.80 ] 0 setdash 1639
3760 a 1639 3040 li st [] 0 setdash [] 0 setdash np [
28.80 ] 0 setdash 2119 3760 a 2119 3040 li st [] 0 setdash
[] 0 setdash 1202 3336 a Fw(caract)m(\022)-43 b(eres)1343
3449 y(lus)1682 3336 y(caract)m(\022)g(eres)1670 3449
y(pr)m(\023)g(ec)m(harg)m(\023)g(es)1778 3562 y(\022)e(a)31
b(lire)p np 1639 3760 a 1639 3880 li st 0.000 setgray
np 1624 3820 a 1639 3760 li 1654 3820 li closepath fil
0 setgray np 1624 3820 a 1639 3760 li 1654 3820 li closepath
st 1496 3956 a Fu(in_)o(pos)p np 2119 3760 a 2119 3880
li st 0.000 setgray np 2104 3820 a 2119 3760 li 2134
3820 li closepath fil 0 setgray np 2104 3820 a 2119 3760
li 2134 3820 li closepath st 193 w(in_)o(end)p np 2119
3040 a 2119 2920 li st 0.000 setgray np 2134 2980 a 2119
3040 li 2104 2980 li closepath fil 0 setgray np 2134
2980 a 2119 3040 li 2104 2980 li closepath st 1355 2883
a Fw(p)s(osition)d(couran)m(te)k(de)e(lecture)g(sur)g
Fu(in_)o(fd)70 4125 y Fw(Les)25 b(c)m(hamps)g Fu(in_pos)e
Fw(et)j Fu(in_end)d Fw(v)m(on)m(t)h(^)-43 b(etre)26 b(mo)s(di\014)m
(\023)-43 b(es)24 b(en)h(place)g(\022)-45 b(a)25 b(l'o)s(ccasion)g(des)
f(op)m(\023)-43 b(erations)26 b(de)f(lecture)15 b(;)-71
4238 y(on)30 b(les)g(d)m(\023)-43 b(eclare)32 b(donc)e
Fu(mutable)p Fw(.)193 4371 y Fz(9)83 b Fv(let)53 b Fu(buffer_size)45
b(=)i(8192;;)157 4484 y Fz(10)84 b Fv(let)53 b Fu(open_in)46
b(filename)f(=)157 4597 y Fz(11)179 b Fu({)48 b(in_buffer)d(=)j(String)
n(.create)e(buffer_size)m(;)157 4710 y Fz(12)275 b Fu(in_fd)46
b(=)i(openfile)d(filename)h([)o(O_RDONLY)n(])i(0;)157
4823 y Fz(13)275 b Fu(in_pos)46 b(=)h(0;)157 4935 y Fz(14)275
b Fu(in_end)46 b(=)h(0)h(};;)-60 5054 y Fw(\022)-71 5077
y(A)34 b(l'ouv)m(erture)f(d'un)f(\014c)m(hier)g(en)h(lecture,)g(on)h
(cr)m(\023)-43 b(ee)35 b(le)e(tamp)s(on)f(a)m(v)m(ec)k(une)c(taille)h
(raisonnable)e(\(su\016sammen)m(t)-71 5190 y(grande)k(p)s(our)f(ne)h
(pas)g(faire)g(d'app)s(els)e(syst)m(\022)-43 b(eme)37
b(trop)e(souv)m(en)m(t)17 b(;)35 b(su\016sammen)m(t)g(p)s(etite)g(p)s
(our)f(ne)h(pas)g(g^)-45 b(ac)m(her)-71 5303 y(de)33
b(m)m(\023)-43 b(emoire\),)35 b(et)f(on)f(initialise)d(le)j(c)m(hamp)g
Fu(in_fd)f Fw(par)h(un)g(descripteur)e(de)i(\014c)m(hier)g(Unix)f(ouv)m
(ert)i(en)f(lecture)-71 5416 y(seule)d(sur)g(le)g(\014c)m(hier)g(en)g
(question.)g(Le)h(tamp)s(on)f(est)h(initialemen)m(t)e(vide)h(\(il)f(ne)
i(con)m(tien)m(t)h(aucun)d(caract)m(\022)-43 b(ere)34
b(du)-71 5529 y(\014c)m(hier\))15 b(;)30 b(le)g(c)m(hamp)h
Fu(in_end)d Fw(est)j(donc)f(initialis)m(\023)-43 b(e)29
b(\022)-45 b(a)30 b(z)m(\023)-43 b(ero.)p Black Black
eop
%%Page: 22 22
22 21 bop Black -71 24 a Fw(22)2520 b Fs(CHAPITRE)29
b(2.)62 b(LES)29 b(FICHIERS)p Black 157 280 a Fz(15)84
b Fv(let)53 b Fu(input_char)45 b(chan)h(=)157 393 y Fz(16)179
b Fv(if)56 b Fu(chan)o(.)o(in_pos)47 b(<)g(chan)o(.in_end)f
Fv(then)h(b)s(egin)157 506 y Fz(17)275 b Fv(let)47 b
Fu(c)h(=)95 b(chan)o(.)o(in_buffer)n(.[)o(chan)o(.in_pos)n(])48
b Fv(in)157 619 y Fz(18)370 b Fu(chan)o(.in_pos)46 b(<-)h(chan)o
(.in_pos)f(+)h(1;)157 732 y Fz(19)370 b Fu(c)157 845
y Fz(20)179 b Fv(end)48 b(else)g(b)s(egin)157 958 y Fz(21)275
b Fv(matc)m(h)47 b Fu(read)f(chan)o(.in_fd)g(chan)o(.in_buffer)f(0)j
(buffer_size)157 1071 y Fz(22)275 b Fv(with)47 b Fu(0)g(->)g
Fv(raise)h Fu(End_of_file)157 1184 y Fz(23)418 b Fu(|)47
b(r)h(->)f(chan)o(.in_end)f(<-)h(r;)157 1296 y Fz(24)752
b Fu(chan)o(.in_pos)46 b(<-)h(1;)157 1409 y Fz(25)752
b Fu(chan)o(.in_buffer)m(.[0])157 1522 y Fz(26)179 b
Fv(end)p Fu(;;)-71 1660 y Fw(P)m(our)33 b(lire)f(un)h(caract)m(\022)-43
b(ere)36 b(depuis)31 b(un)i Fu(in_channel)p Fw(,)e(de)i(deux)g(c)m
(hoses)h(l'une.)e(Ou)h(bien)f(il)g(reste)i(au)f(moins)f(un)-71
1773 y(caract)m(\022)-43 b(ere)28 b(dans)23 b(le)h(tamp)s(on)15
b(;)24 b(c'est-\022)-45 b(a-dire,)26 b(le)e(c)m(hamp)h
Fu(in_pos)d Fw(est)j(strictemen)m(t)g(inf)m(\023)-43
b(erieur)23 b(au)h(c)m(hamp)h Fu(in_end)p Fw(.)-71 1886
y(Alors)38 b(on)h(ren)m(v)m(oie)h(le)e(pro)s(c)m(hain)g(caract)m(\022)
-43 b(ere)42 b(du)c(tamp)s(on,)g(celui)g(\022)-45 b(a)39
b(la)g(p)s(osition)e Fu(in_pos)p Fw(,)h(et)h(on)g(incr)m(\023)-43
b(emen)m(te)-71 1999 y Fu(in_pos)p Fw(.)28 b(Ou)h(bien)f(le)g(tamp)s
(on)h(est)h(vide.)f(On)f(fait)i(alors)e(un)h(app)s(el)f(syst)m(\022)-43
b(eme)31 b Fu(read)d Fw(p)s(our)g(remplir)e(le)j(tamp)s(on.)-71
2112 y(Si)42 b Fu(read)g Fw(retourne)h(z)m(\023)-43 b(ero,)45
b(c'est)f(que)f(la)g(\014n)f(du)g(\014c)m(hier)h(a)e(\023)-43
b(et)m(\023)g(e)45 b(attein)m(te)17 b(;)43 b(on)g(d)m(\023)-43
b(eclenc)m(he)45 b(alors)d(l'exception)-71 2225 y Fu(End_of_file)p
Fw(.)30 b(Sinon,)i(on)h(place)g(le)g(nom)m(bre)f(de)h(caract)m(\022)-43
b(eres)36 b(lus)c(dans)g(le)h(c)m(hamp)g Fu(in_end)p
Fw(.)f(\(On)g(p)s(eut)g(a)m(v)m(oir)-71 2338 y(obten)m(u)k(moins)e(de)h
(caract)m(\022)-43 b(eres)38 b(que)e(demand)m(\023)-43
b(e,)36 b(et)g(donc)f(le)g(tamp)s(on)g(p)s(eut)d(^)-43
b(etre)37 b(partiellemen)m(t)d(rempli.\))g(Et)-71 2451
y(on)c(ren)m(v)m(oie)h(le)f(premier)f(des)h(caract)m(\022)-43
b(eres)33 b(lus.)157 2583 y Fz(27)84 b Fv(let)53 b Fu(close_in)45
b(chan)i(=)157 2696 y Fz(28)179 b Fu(close)47 b(chan)o(.)o(in_fd)o(;;)
-71 2834 y Fw(La)31 b(fermeture)f(d'un)f Fu(in_channel)e
Fw(se)k(r)m(\023)-43 b(eduit)30 b(\022)-45 b(a)31 b(la)f(fermeture)g
(du)f(descripteur)g(Unix)g(sous-jacen)m(t.)70 3014 y(La)23
b(partie)g(\\)m(\023)-43 b(ecriture")24 b(est)f(tr)m(\022)-43
b(es)24 b(pro)s(c)m(he)f(de)g(la)f(partie)h(\\lecture".)h(La)f(seule)f
(dissym)m(\023)-43 b(etrie)22 b(est)h(que)g(le)g(tamp)s(on)-71
3127 y(con)m(tien)m(t)32 b(main)m(tenan)m(t)e(des)e(\023)-43
b(ecritures)30 b(en)g(retard,)h(et)g(non)f(plus)e(des)i(lectures)g(en)h
(a)m(v)-5 b(ance.)p 4 setlinewidth np 1729 4150 a 2929
4150 li 2929 4030 li 1729 4030 li closepath st 1204 4109
a Fu(out_)o(buffer)p np 529 3430 a 3229 3430 li st np
529 3550 a 3229 3550 li st 195 3509 a(out_)o(fd)p np
[ 28.80 ] 0 setdash 1729 4150 a 1729 3430 li st [] 0 setdash
[] 0 setdash np [ 28.80 ] 0 setdash 2209 4150 a 2209
3430 li st [] 0 setdash [] 0 setdash 1292 3727 a Fw(caract)m(\022)-43
b(eres)1380 3839 y(\023)g(ecrits)1336 3952 y(et)31 b(vid)m(\023)-43
b(es)1772 3727 y(caract)m(\022)g(eres)1860 3839 y(\023)g(ecrits)1781
3952 y(non)30 b(vid)m(\023)-43 b(es)p np 2209 4150 a
2209 4270 li st 0.000 setgray np 2194 4210 a 2209 4150
li 2224 4210 li closepath fil 0 setgray np 2194 4210
a 2209 4150 li 2224 4210 li closepath st 2042 4346 a
Fu(out_)o(pos)p np 1729 3430 a 1729 3310 li st 0.000 setgray
np 1744 3370 a 1729 3430 li 1714 3370 li closepath fil
0 setgray np 1744 3370 a 1729 3430 li 1714 3370 li closepath
st 946 3273 a Fw(p)s(osition)29 b(couran)m(te)i(d')m(\023)-43
b(ecriture)31 b(sur)e Fu(out_)o(fd)157 4513 y Fz(29)84
b Fv(t)m(yp)s(e)48 b Fu(out_channel)c(=)157 4626 y Fz(30)179
b Fu({)48 b(out_buffer)m(:)g(string)n(;)157 4739 y Fz(31)275
b Fu(out_fd)n(:)48 b(file_descr)m(;)157 4852 y Fz(32)275
b Fv(m)m(utable)46 b Fu(out_pos)n(:)i(int)f(};;)157 4964
y Fz(33)157 5077 y(34)84 b Fv(let)53 b Fu(open_out)45
b(filename)h(=)157 5190 y Fz(35)179 b Fu({)48 b(out_buffer)d(=)i
(String)o(.)o(create)f(8192;)157 5303 y Fz(36)275 b Fu(out_fd)46
b(=)h(openfile)f(filename)f([O_WRONLY)n(;)i(O_TRUNC)o(;)g(O_CREAT)n(])h
(0)o(o666)o(;)157 5416 y Fz(37)275 b Fu(out_pos)46 b(=)h(0)h(};;)157
5529 y Fz(38)p Black Black eop
%%Page: 23 23
23 22 bop Black -71 24 a Fs(2.8.)62 b(POSITIONNEMENT)2743
b Fw(23)p Black 157 280 a Fz(39)84 b Fv(let)53 b Fu(output_char)45
b(chan)h(c)i(=)157 393 y Fz(40)179 b Fv(if)56 b Fu(chan)o(.)o(out_pos)
46 b(<)i(String)n(.length)e(chan)o(.out_buffer)f Fv(then)i(b)s(egin)157
506 y Fz(41)275 b Fu(chan)o(.)o(out_buffer)n(.[)o(chan)o(.out_pos)n(])
47 b(<-)h(c)o(;)157 619 y Fz(42)275 b Fu(chan)o(.)o(out_pos)46
b(<-)h(chan)o(.out_pos)f(+)h(1)157 732 y Fz(43)179 b
Fv(end)48 b(else)g(b)s(egin)157 845 y Fz(44)275 b Fu(ignore)46
b(\(write)g(chan)o(.out_fd)g(chan)o(.)o(out_buffer)f(0)j(chan)o(.)o
(out_pos)o(\);)157 958 y Fz(45)275 b Fu(chan)o(.)o(out_buffer)n(.[0])46
b(<-)i(c)o(;)157 1071 y Fz(46)275 b Fu(chan)o(.)o(out_pos)46
b(<-)h(1)157 1184 y Fz(47)179 b Fv(end)p Fu(;;)157 1296
y Fz(48)157 1409 y(49)84 b Fv(let)53 b Fu(close_out)45
b(chan)i(=)157 1522 y Fz(50)179 b Fu(ignore)46 b(\(write)h(chan)n
(.out_fd)f(chan)o(.out_buffer)f(0)i(chan)o(.out_pos)n(\);)157
1635 y Fz(51)179 b Fu(close)47 b(chan)o(.)o(out_fd)o(;;)-71
1773 y Fw(P)m(our)27 b(\023)-43 b(ecrire)30 b(un)f(caract)m(\022)-43
b(ere)33 b(sur)c(un)g Fu(out_channel)p Fw(,)e(ou)i(bien)g(le)g(tamp)s
(on)h(n'est)g(pas)f(plein,)f(et)j(on)f(se)g(con)m(ten)m(te)-71
1886 y(de)38 b(sto)s(c)m(k)m(er)i(le)d(caract)m(\022)-43
b(ere)41 b(dans)d(le)f(tamp)s(on)h(\022)-45 b(a)38 b(la)g(p)s(osition)e
Fu(out_pos)p Fw(,)h(et)h(d'a)m(v)-5 b(ancer)39 b Fu(out_pos)14
b Fw(;)38 b(ou)g(bien)e(le)-71 1998 y(tamp)s(on)f(est)i(plein,)c(et)k
(dans)e(ce)h(cas)h(on)e(le)h(vide)f(dans)g(le)g(\014c)m(hier)g(par)g
(un)g(app)s(el)f Fu(write)p Fw(,)g(puis)g(on)i(sto)s(c)m(k)m(e)h(le)-71
2111 y(caract)m(\022)-43 b(ere)34 b(\022)-45 b(a)28 b(\023)-43
b(ecrire)30 b(au)h(d)m(\023)-43 b(ebut)30 b(du)f(tamp)s(on.)70
2229 y(Quand)37 b(on)h(ferme)g(un)g Fu(out_channel)p
Fw(,)d(il)i(ne)h(faut)g(pas)g(oublier)e(de)i(vider)f(le)h(con)m(ten)m
(u)h(du)f(tamp)s(on)f(\(les)-71 2342 y(caract)m(\022)-43
b(eres)34 b(en)m(tre)f(les)d(p)s(ositions)g(0)i(incluse)d(et)j
Fu(out_pos)e Fw(exclue\))h(dans)g(le)g(\014c)m(hier.)g(Autremen)m(t,)h
(les)c(\023)-43 b(ecritures)-71 2455 y(e\013ectu)m(\023)g(ees)33
b(depuis)c(la)h(derni)m(\022)-43 b(ere)30 b(vidange)f(seraien)m(t)i(p)s
(erdues.)p Black -71 2697 a Fv(Exercice)36 b(2)p Black
45 w Fn(Impl)n(\023)-44 b(ementer)34 b(une)f(fonction)311
2830 y Fo(output_string)44 b(:)k(out_channel)c(->)j(string)g(->)g(unit)
-71 2967 y Fn(qui)30 b(se)h(c)-5 b(omp)g(orte)34 b(c)-5
b(omme)32 b(une)e(s)n(\023)-44 b(erie)31 b(de)g Fu(output_char)d
Fn(sur)j(chaque)g(c)-5 b(ar)g(act)n(\022)-44 b(er)-5
b(e)33 b(de)e(la)h(cha)-9 b(^)-37 b(\020ne,)31 b(mais)g(est)g(plus)-71
3080 y(e\016c)-5 b(ac)g(e.)2863 b Fw(\(V)-8 b(oir)31
b(le)f(corrig)m(\023)-43 b(e\))p 3783 3031 47 4 v 3783
3077 4 47 v 3826 3077 V 3783 3080 47 4 v -71 3395 a Fq(2.8)135
b(P)l(ositionnemen)l(t)70 3608 y Fw(L'app)s(el)29 b(syst)m(\022)-43
b(eme)32 b Fu(lseek)d Fw(p)s(ermet)h(de)g(c)m(hanger)h(la)f(p)s
(osition)f(couran)m(te)i(de)f(lecture)h(et)g(d')m(\023)-43
b(ecriture.)311 3740 y Fu(lseek)46 b(:)i(file_descr)d(->)i(int)g(->)g
(seek_command)d(->)k(int)-71 3878 y Fw(Le)22 b(premier)e(argumen)m(t)i
(est)g(le)g(descripteur)e(qu'on)h(v)m(eut)h(p)s(ositionner.)e(Le)i
(deuxi)m(\022)-43 b(eme)21 b(argumen)m(t)h(est)h(la)e(p)s(osition)-71
3990 y(d)m(\023)-43 b(esir)m(\023)g(ee.)32 b(Il)d(est)h(in)m(terpr)m
(\023)-43 b(et)m(\023)g(e)32 b(di\013)m(\023)-43 b(eremmen)m(t)30
b(suiv)-5 b(an)m(t)30 b(la)f(v)-5 b(aleur)29 b(du)g(troisi)m(\022)-43
b(eme)31 b(argumen)m(t,)f(qui)f(indique)e(le)j(t)m(yp)s(e)-71
4103 y(de)g(p)s(ositionnemen)m(t)f(d)m(\023)-43 b(esir)m(\023)g(e)32
b(:)p Black Black 457 4308 a Fu(SEEK_SET)98 b Fw(P)m(ositionnemen)m(t)
22 b(absolu.)f(Le)h(deuxi)m(\022)-43 b(eme)22 b(argumen)m(t)g(est)h(le)
e(n)m(um)m(\023)-43 b(ero)939 4421 y(du)31 b(caract)m(\022)-43
b(ere)35 b(o)s(\022)-48 b(u)33 b(se)f(placer.)g(Le)h(premier)d(caract)m
(\022)-43 b(ere)36 b(d'un)31 b(\014c)m(hier)939 4534
y(est)g(\022)-45 b(a)30 b(la)g(p)s(osition)f(z)m(\023)-43
b(ero.)457 4647 y Fu(SEEK_CUR)98 b Fw(P)m(ositionnemen)m(t)35
b(relatif)f(\022)-45 b(a)36 b(la)f(p)s(osition)f(couran)m(te.)i(Le)g
(deuxi)m(\022)-43 b(eme)939 4760 y(argumen)m(t)28 b(est)g(un)f(d)m
(\023)-43 b(eplacemen)m(t)29 b(par)e(rapp)s(ort)g(\022)-45
b(a)28 b(la)f(p)s(osition)f(cou-)939 4872 y(ran)m(te.)31
b(Il)e(p)s(eut)f(^)-43 b(etre)31 b(n)m(\023)-43 b(egatif)32
b(aussi)d(bien)g(que)h(p)s(ositif.)457 4985 y Fu(SEEK_END)98
b Fw(P)m(ositionnemen)m(t)28 b(relatif)f(\022)-45 b(a)29
b(la)f(\014n)g(du)f(\014c)m(hier.)h(Le)g(deuxi)m(\022)-43
b(eme)29 b(argu-)939 5098 y(men)m(t)35 b(est)h(un)d(d)m(\023)-43
b(eplacemen)m(t)37 b(par)d(rapp)s(ort)g(\022)-45 b(a)35
b(la)g(\014n)f(du)g(\014c)m(hier.)g(Il)939 5211 y(p)s(eut)27
b(^)-43 b(etre)31 b(n)m(\023)-43 b(egatif)32 b(aussi)d(bien)g(que)h(p)s
(ositif.)-71 5416 y(L'en)m(tier)39 b(ren)m(v)m(o)m(y)m(\023)-43
b(e)41 b(par)d Fu(lseek)f Fw(est)j(la)e(p)s(osition)f(absolue)h(du)f(p)
s(oin)m(teur)g(de)i(lecture/)m(\023)-43 b(ecriture)39
b(\(apr)m(\022)-43 b(es)40 b(que)e(le)-71 5529 y(p)s(ositionnemen)m(t)
29 b(a)f(\023)-43 b(et)m(\023)g(e)33 b(e\013ectu)m(\023)-43
b(e\).)p Black Black eop
%%Page: 24 24
24 23 bop Black -71 24 a Fw(24)2520 b Fs(CHAPITRE)29
b(2.)62 b(LES)29 b(FICHIERS)p Black 70 280 a Fw(Une)j(erreur)e(se)i(d)m
(\023)-43 b(eclenc)m(he)33 b(si)d(la)i(p)s(osition)d(absolue)i(demand)m
(\023)-43 b(ee)33 b(est)f(n)m(\023)-43 b(egativ)m(e.)34
b(En)c(rev)-5 b(anc)m(he,)33 b(la)e(p)s(osition)-71 393
y(demand)m(\023)-43 b(ee)35 b(p)s(eut)d(tr)m(\022)-43
b(es)35 b(bien)30 b(^)-43 b(etre)34 b(situ)m(\023)-43
b(ee)35 b(apr)m(\022)-43 b(es)34 b(la)f(\014n)g(du)f(\014c)m(hier.)h
(Juste)g(apr)m(\022)-43 b(es)35 b(un)d(tel)i(p)s(ositionnemen)m(t,)e
(un)-71 506 y Fu(read)24 b Fw(ren)m(v)m(oie)i(z)m(\023)-43
b(ero)27 b(\(\014n)e(de)g(\014c)m(hier)f(attein)m(te\))17
b(;)26 b(un)e Fu(write)d Fw(\023)-43 b(etend)26 b(le)f(\014c)m(hier)g
(par)f(des)h(z)m(\023)-43 b(eros)27 b(jusqu'\022)-45
b(a)25 b(la)g(p)s(osition)-71 619 y(demand)m(\023)-43
b(ee,)32 b(puis)26 b(\023)-43 b(ecrit)30 b(les)g(donn)m(\023)-43
b(ees)31 b(fournies.)p Black -71 853 a Fv(Exemple:)p
Black 45 w Fw(p)s(our)d(se)j(placer)f(sur)f(le)h(milli)m(\022)-43
b(eme)29 b(caract)m(\022)-43 b(ere)33 b(d'un)c(\014c)m(hier)h(:)311
985 y Fu(lseek)46 b(fd)h(1000)g(SEEK_SET)-71 1121 y Fw(P)m(our)30
b(reculer)g(d'un)f(caract)m(\022)-43 b(ere)33 b(:)311
1254 y Fu(lseek)46 b(fd)h(\(-1\))g(SEEK_CUR)-71 1390
y Fw(P)m(our)30 b(conna)-10 b(^)-35 b(\020tre)31 b(la)f(taille)f(d'un)g
(\014c)m(hier)g(:)311 1522 y Fv(let)53 b Fu(file_size)45
b(=)j(lseek)e(fd)h(0)h(SEEK_END)d Fv(in)j Fu(...)70 1772
y Fw(P)m(our)37 b(les)f(descripteurs)f(ouv)m(erts)j(en)f(mo)s(de)f
Fu(O_APPEND)p Fw(,)f(le)i(p)s(oin)m(teur)e(de)i(lecture/)m(\023)-43
b(ecriture)37 b(est)h(automa-)-71 1885 y(tiquemen)m(t)c(plac)m(\023)-43
b(e)36 b(\022)-45 b(a)34 b(la)g(\014n)g(du)f(\014c)m(hier)g(a)m(v)-5
b(an)m(t)36 b(c)m(haque)d(\023)-43 b(ecriture.)34 b(L'app)s(el)f
Fu(lseek)g Fw(ne)h(sert)h(donc)f(\022)-45 b(a)35 b(rien)e(p)s(our)-74
1998 y(\023)-43 b(ecrire)31 b(sur)e(un)h(tel)g(descripteur)14
b(;)30 b(en)g(rev)-5 b(anc)m(he,)32 b(il)c(est)j(bien)e(pris)g(en)h
(compte)h(p)s(our)e(la)h(lecture.)70 2114 y(Le)k(comp)s(ortemen)m(t)g
(de)f Fu(lseek)f Fw(est)i(ind)m(\023)-43 b(etermin)m(\023)g(e)33
b(sur)f(certains)i(t)m(yp)s(es)f(de)g(\014c)m(hiers)f(p)s(our)g
(lesquels)g(l'acc)m(\022)-43 b(es)-71 2227 y(direct)39
b(est)h(absurde)e(:)h(les)g(disp)s(ositifs)d(de)j(comm)m(unication)g
(\(tuy)m(aux,)h(prises\),)e(mais)h(aussi)f(la)h(plupart)e(des)-71
2340 y(\014c)m(hiers)c(sp)m(\023)-43 b(eciaux)35 b(\()p
Fn(devic)-5 b(es)7 b Fw(\),)35 b(comme)g(par)f(exemple)g(le)f
(terminal.)g(Dans)i(la)e(plupart)g(des)h(impl)m(\023)-43
b(emen)m(tations)-71 2453 y(d'Unix,)38 b(un)h Fu(lseek)f
Fw(sur)g(de)i(tels)f(\014c)m(hiers)f(est)i(simplemen)m(t)e(ignor)m
(\023)-43 b(e)40 b(:)g(le)f(p)s(oin)m(teur)f(de)h(lecture/)m(\023)-43
b(ecriture)41 b(est)-71 2566 y(p)s(ositionn)m(\023)-43
b(e,)35 b(mais)g(les)g(op)m(\023)-43 b(erations)37 b(de)f(lecture)f(et)
i(d')m(\023)-43 b(ecriture)36 b(l'ignoren)m(t.)f(Sur)f(certaines)i
(impl)m(\023)-43 b(emen)m(tations,)-71 2679 y Fu(lseek)29
b Fw(sur)g(un)h(tuy)m(au)g(ou)g(sur)g(une)f(prise)g(d)m(\023)-43
b(eclenc)m(he)32 b(une)e(erreur.)p Black -71 2913 a Fv(Exercice)36
b(3)p Black 45 w Fn(L)-5 b(a)26 b(c)-5 b(ommande)27 b
Fu(tail)d Fn(a\016che)i(les)f Ft(N)35 b Fn(derni)n(\022)-44
b(er)-5 b(es)26 b(lignes)f(d'un)g(\014chier.)g(Comment)i(l'impl)n(\023)
-44 b(ementer)-71 3026 y(e\016c)-5 b(ac)g(ement)37 b(si)f(le)g
(\014chier)g(en)g(question)g(est)g(un)g(\014chier)h(normal)17
b(?)36 b(Comment)i(fair)-5 b(e)36 b(fac)-5 b(e)37 b(aux)f(autr)-5
b(es)37 b(typ)-5 b(es)-71 3139 y(de)33 b(\014chiers)16
b(?)33 b(Comment)h(ajouter)f(l'option)i Fu(-f)15 b Fn(?)32
b(\(cf.)h Fu(man)47 b(tail)p Fn(\).)809 b Fw(\(V)-8 b(oir)31
b(le)f(corrig)m(\023)-43 b(e\))p 3783 3089 47 4 v 3783
3136 4 47 v 3826 3136 V 3783 3139 47 4 v -71 3445 a Fq(2.9)135
b(D)m(\023)-64 b(etermination)48 b(du)c(t)l(yp)t(e)h(d'un)f(\014c)l
(hier)70 3655 y Fw(Les)35 b(app)s(els)f(syst)m(\022)-43
b(eme)36 b Fu(stat)p Fw(,)f Fu(lstat)e Fw(et)j Fu(fstat)e
Fw(p)s(ermetten)m(t)h(de)g(d)m(\023)-43 b(eterminer)35
b(le)g(t)m(yp)s(e)g(d'un)f(\014c)m(hier,)g(plus)-71 3768
y(un)29 b(certain)i(nom)m(bre)f(d'informations)e(suppl)m(\023)-43
b(emen)m(taires.)311 3901 y Fu(stat)94 b(:)48 b(string)e(->)h(stats)311
4014 y(lstat)f(:)i(string)e(->)h(stats)311 4126 y(fstat)f(:)i
(file_descr)d(->)i(stats)-71 4262 y Fw(Les)21 b(app)s(els)e
Fu(stat)h Fw(et)i Fu(lstat)d Fw(prennen)m(t)h(un)g(nom)h(de)f(\014c)m
(hier)g(en)h(argumen)m(t.)h(L'app)s(el)d Fu(fstat)h Fw(prend)f(en)i
(argumen)m(t)-71 4375 y(un)26 b(descripteur)e(ouv)m(ert)j(sur)f(le)g
(\014c)m(hier)f(don)m(t)i(on)f(v)m(eut)i(les)d(informations.)g(La)i
(di\013)m(\023)-43 b(erence)27 b(en)m(tre)g Fu(stat)e
Fw(et)i Fu(lstat)-71 4488 y Fw(se)33 b(v)m(oit)f(sur)g(les)f(liens)g
(sym)m(b)s(oliques)f(:)i Fu(lstat)f Fw(ren)m(v)m(oie)i(les)f
(informations)e(sur)i(le)f(lien)g(sym)m(b)s(olique)f(lui-m)m(^)-43
b(eme,)-71 4601 y(alors)30 b(que)g Fu(stat)f Fw(ren)m(v)m(oie)i(les)f
(informations)f(sur)g(le)h(\014c)m(hier)f(v)m(ers)i(lequel)e(p)s(oin)m
(te)h(le)g(lien)f(sym)m(b)s(olique.)70 4718 y(Le)k(r)m(\023)-43
b(esultat)34 b(de)f(ces)g(trois)f(app)s(els)g(est)h(un)f(ob)5
b(jet)33 b(enregistremen)m(t)h(\()p Fn(r)-5 b(e)g(c)g(or)g(d)9
b Fw(\))36 b(de)d(t)m(yp)s(e)g Fu(stats)e Fw(d)m(\023)-43
b(ecrit)34 b(dans)-71 4831 y(la)c(table)g(2.1.)-71 5137
y Fq(2.10)136 b(Op)m(\023)-64 b(erations)46 b(sp)m(\023)-64
b(eci\014ques)44 b(\022)-66 b(a)45 b(certains)h(t)l(yp)t(es)f(de)g
(\014c)l(hiers)-71 5350 y Fg(2.10.1)113 b(Fic)m(hiers)36
b(normaux)70 5529 y Fw(On)30 b(p)s(eut)f(raccourcir)h(un)g(\014c)m
(hier)f(normal)g(par)h(les)g(app)s(els)f(suiv)-5 b(an)m(ts)29
b(:)p Black Black eop
%%Page: 25 25
25 24 bop Black -71 24 a Fs(2.10.)63 b(OP)322 1 y(\023)310
24 y(ERA)-8 b(TIONS)29 b(SP)942 1 y(\023)930 24 y(ECIFIQUES)1478
1 y(\022)1463 24 y(A)i(CER)-8 b(T)g(AINS)30 b(TYPES)f(DE)i(FICHIERS)742
b Fw(25)p Black Black Black Black 195 1110 a Fu(st_dev)46
b(:)h(int)433 b Fw(Un)23 b(iden)m(ti\014cateur)f(de)g(la)h(partition)f
(disque)f(o)s(\022)-48 b(u)23 b(se)g(trouv)m(e)h(le)e(\014c)m(hier)195
1223 y Fu(st_ino)46 b(:)h(int)433 b Fw(Un)34 b(iden)m(ti\014cateur)e
(du)h(\014c)m(hier)g(\022)-45 b(a)34 b(l'in)m(t)m(\023)-43
b(erieur)33 b(de)g(sa)i(partition.)d(Le)1201 1336 y(couple)i(\()p
Fu(st_dev)p Fw(,)f Fu(st_ino)p Fw(\))g(iden)m(ti\014e)g(de)h(mani)m
(\022)-43 b(ere)35 b(unique)d(un)i(\014-)1201 1449 y(c)m(hier)c(dans)g
(le)g(syst)m(\022)-43 b(eme)32 b(de)e(\014c)m(hier.)195
1562 y Fu(st_kind)46 b(:)h(file_kind)97 b Fw(Le)35 b(t)m(yp)s(e)g(du)f
(\014c)m(hier.)g(Le)i(t)m(yp)s(e)f Fu(file_kind)d Fw(est)j(un)f(t)m(yp)
s(e)h(concret)1199 1675 y(\023)-43 b(en)m(um)m(\023)g(er)m(\023)g(e,)33
b(de)d(constructeurs)g(:)p Black Black 1565 1855 a Fu(S_REG)146
b Fw(\014c)m(hier)29 b(normal)1565 1968 y Fu(S_DIR)146
b Fw(r)m(\023)-43 b(ep)s(ertoire)1565 2081 y Fu(S_CHR)146
b Fw(\014c)m(hier)29 b(sp)m(\023)-43 b(ecial)31 b(de)f(t)m(yp)s(e)h
(caract)m(\022)-43 b(ere)1565 2193 y Fu(S_BLK)146 b Fw(\014c)m(hier)29
b(sp)m(\023)-43 b(ecial)31 b(de)f(t)m(yp)s(e)h(blo)s(c)1565
2306 y Fu(S_LNK)146 b Fw(lien)29 b(sym)m(b)s(olique)1565
2419 y Fu(S_FIFO)98 b Fw(tuy)m(au)1565 2532 y Fu(S_SOCK)g
Fw(prise)195 2687 y Fu(st_perm)46 b(:)h(int)385 b Fw(Les)31
b(droits)e(d'acc)m(\022)-43 b(es)33 b(au)d(\014c)m(hier)195
2800 y Fu(st_nlink)45 b(:)j(int)337 b Fw(P)m(our)32 b(un)e(r)m(\023)-43
b(ep)s(ertoire)32 b(:)g(le)f(nom)m(bre)h(d'en)m(tr)m(\023)-43
b(ees)33 b(dans)e(le)g(r)m(\023)-43 b(ep)s(ertoire.)1201
2913 y(P)m(our)30 b(les)g(autres)h(:)f(le)g(nom)m(bre)g(de)h(liens)d
(durs)h(sur)g(ce)i(\014c)m(hier.)195 3026 y Fu(st_uid)46
b(:)h(int)433 b Fw(Le)31 b(n)m(um)m(\023)-43 b(ero)31
b(de)f(l'utilisateur)e(propri)m(\023)-43 b(etaire)29
b(du)h(\014c)m(hier.)195 3139 y Fu(st_gid)46 b(:)h(int)433
b Fw(Le)31 b(n)m(um)m(\023)-43 b(ero)31 b(du)e(group)s(e)h(propri)m
(\023)-43 b(etaire)30 b(du)f(\014c)m(hier.)195 3252 y
Fu(st_rdev)46 b(:)h(int)385 b Fw(L'iden)m(ti\014cateur)75
b(du)f(\\device")i(asso)s(ci)m(\023)-43 b(e)76 b(\(p)s(our)f(les)f
(\014c)m(hiers)1201 3365 y(sp)m(\023)-43 b(eciaux\).)195
3478 y Fu(st_size)46 b(:)h(int)385 b Fw(La)31 b(taille)e(du)g(\014c)m
(hier,)h(en)g(o)s(ctets.)195 3591 y Fu(st_atime)45 b(:)j(int)337
b Fw(La)25 b(date)h(du)e(dernier)f(acc)m(\022)-43 b(es)27
b(au)e(con)m(ten)m(u)h(du)e(\014c)m(hier.)g(\(En)h(secondes)1201
3703 y(depuis)k(le)h(1)1626 3670 y Fz(ier)1739 3703 y
Fw(jan)m(vier)g(1970,)i(min)m(uit\).)195 3816 y Fu(st_mtime)45
b(:)j(int)337 b Fw(La)38 b(date)h(de)e(la)h(derni)m(\022)-43
b(ere)37 b(mo)s(di\014cation)g(du)f(con)m(ten)m(u)j(du)e(\014c)m(hier.)
1201 3929 y(\(Idem.\))195 4042 y Fu(st_ctime)45 b(:)j(int)337
b Fw(La)48 b(date)h(du)e(dernier)f(c)m(hangemen)m(t)k(de)d(l')m(\023)
-43 b(etat)50 b(du)d(\014c)m(hier)g(:)h(ou)1201 4155
y(bien)29 b(\023)-43 b(ecriture)32 b(dans)g(le)g(\014c)m(hier,)g(ou)g
(bien)f(c)m(hangemen)m(t)j(des)e(droits)1201 4268 y(d'acc)m(\022)-43
b(es,)33 b(du)28 b(propri)m(\023)-43 b(etaire,)30 b(du)e(group)s(e)i
(propri)m(\023)-43 b(etaire,)29 b(du)g(nom)m(bre)1201
4381 y(de)h(liens.)p Black 1050 4669 a Fh(T)-8 b(ab.)30
b Fw(2.1)i({)f(Champs)e(de)h(la)g(structure)g Fu(stats)p
Black Black Black Black eop
%%Page: 26 26
26 25 bop Black -71 24 a Fw(26)2520 b Fs(CHAPITRE)29
b(2.)62 b(LES)29 b(FICHIERS)p Black 311 280 a Fu(truncate)93
b(:)48 b(string)e(->)h(int)g(->)g(unit)311 393 y(ftruncate)e(:)j
(file_descr)d(->)i(int)g(->)g(unit)-71 527 y Fw(Le)33
b(premier)d(argumen)m(t)j(d)m(\023)-43 b(esigne)33 b(le)e(\014c)m(hier)
h(\022)-45 b(a)32 b(tronquer)g(\(par)g(son)g(nom,)g(ou)g(via)g(un)g
(descripteur)e(ouv)m(ert)j(sur)-71 640 y(ce)f(\014c)m(hier\).)f(Le)h
(deuxi)m(\022)-43 b(eme)31 b(argumen)m(t)h(est)g(la)f(taille)f(d)m
(\023)-43 b(esir)m(\023)g(ee.)33 b(T)-8 b(outes)32 b(les)f(donn)m(\023)
-43 b(ees)31 b(situ)m(\023)-43 b(ees)32 b(\022)-45 b(a)32
b(partir)e(de)h(cette)-71 752 y(p)s(osition)e(son)m(t)i(p)s(erdues.)-71
1001 y Fg(2.10.2)113 b(R)n(\023)-54 b(ep)s(ertoires)70
1175 y Fw(Seul)40 b(le)h(no)m(y)m(au)f(\023)-43 b(ecrit)41
b(dans)g(les)g(r)m(\023)-43 b(ep)s(ertoires)41 b(\(lorsque)g(des)g
(\014c)m(hiers)f(son)m(t)i(cr)m(\023)-43 b(e)m(\023)g(es\).)44
b(Il)c(est)i(donc)f(in)m(terdit)-71 1288 y(d'ouvrir)36
b(un)i(r)m(\023)-43 b(ep)s(ertoire)38 b(en)d(\023)-43
b(ecriture.)39 b(On)e(p)s(eut)g(ouvrir)g(un)g(r)m(\023)-43
b(ep)s(ertoire)38 b(en)g(lecture,)g(et)h(le)f(lire)f(a)m(v)m(ec)j
Fu(read)p Fw(.)-71 1401 y(Cep)s(endan)m(t,)29 b(le)g(format)h(des)f(en)
m(tr)m(\023)-43 b(ees)32 b(des)d(r)m(\023)-43 b(ep)s(ertoires)29
b(v)-5 b(arie)29 b(suiv)-5 b(an)m(t)29 b(les)g(v)m(ersions)g(d'Unix,)f
(et)i(il)e(est)i(souv)m(en)m(t)-71 1514 y(complexe.)42
b(Les)f(fonctions)g(suiv)-5 b(an)m(tes)41 b(p)s(ermetten)m(t)h(de)g
(lire)e(s)m(\023)-43 b(equen)m(tiellemen)m(t)42 b(un)e(r)m(\023)-43
b(ep)s(ertoire)41 b(de)h(mani)m(\022)-43 b(ere)-71 1626
y(p)s(ortable)29 b(:)311 1759 y Fu(opendir)93 b(:)48
b(string)e(->)h(dir_handle)311 1872 y(readdir)93 b(:)48
b(dir_handle)d(->)i(string)311 1985 y(rewinddir)e(:)j(dir_handle)d(->)i
(unit)311 2098 y(closedir)e(:)j(dir_handle)d(->)i(unit)-71
2231 y Fw(La)28 b(fonction)f Fu(opendir)f Fw(ren)m(v)m(oie)i(un)e
(descripteur)g(de)i(lecture)f(sur)g(un)f(r)m(\023)-43
b(ep)s(ertoire.)28 b(La)g(fonction)f Fu(readdir)f Fw(lit)g(la)-71
2344 y(pro)s(c)m(haine)32 b(en)m(tr)m(\023)-43 b(ee)34
b(d'un)d(r)m(\023)-43 b(ep)s(ertoire)32 b(\(ou)h(d)m(\023)-43
b(eclenc)m(he)34 b(l'exception)e Fu(End_of_file)d Fw(si)i(la)h(\014n)g
(du)f(r)m(\023)-43 b(ep)s(ertoire)33 b(est)-71 2457 y(attein)m(te\).)g
(La)d(c)m(ha)-10 b(^)-35 b(\020ne)30 b(ren)m(v)m(o)m(y)m(\023)-43
b(ee)34 b(est)c(un)g(nom)g(de)g(\014c)m(hier)f(relatif)g(au)i(r)m(\023)
-43 b(ep)s(ertoire)30 b(lu.)f(La)i(fonction)f Fu(rewinddir)-71
2570 y Fw(rep)s(ositionne)f(le)g(descripteur)g(au)h(d)m(\023)-43
b(ebut)31 b(du)e(r)m(\023)-43 b(ep)s(ertoire.)70 2684
y(P)m(our)30 b(cr)m(\023)-43 b(eer)32 b(un)e(r)m(\023)-43
b(ep)s(ertoire,)30 b(ou)g(d)m(\023)-43 b(etruire)30 b(un)g(r)m(\023)-43
b(ep)s(ertoire)30 b(vide,)g(on)g(disp)s(ose)f(de)h(:)311
2816 y Fu(mkdir)46 b(:)i(string)e(->)h(file_perm)e(->)i(unit)311
2929 y(rmdir)f(:)i(string)e(->)h(unit)-71 3063 y Fw(Le)31
b(deuxi)m(\022)-43 b(eme)30 b(argumen)m(t)h(de)f Fu(mkdir)f
Fw(enco)s(de)i(les)e(droits)h(d'acc)m(\022)-43 b(es)32
b(donn)m(\023)-43 b(es)31 b(au)f(nouv)m(eau)h(r)m(\023)-43
b(ep)s(ertoire.)-71 3311 y Fg(2.10.3)113 b(Liens)37 b(sym)m(b)s
(oliques)70 3485 y Fw(La)f(plupart)d(des)i(op)m(\023)-43
b(erations)36 b(sur)e(\014c)m(hiers)g(\\suiv)m(en)m(t")i(les)f(liens)e
(sym)m(b)s(oliques)g(:)j(c'est-\022)-45 b(a-dire,)36
b(elles)f(s'ap-)-71 3598 y(pliquen)m(t)d(au)h(\014c)m(hier)g(v)m(ers)h
(lequel)e(p)s(oin)m(te)h(le)h(lien)e(sym)m(b)s(olique,)f(et)k(non)e
(pas)g(au)h(lien)e(sym)m(b)s(olique)f(lui-m)m(^)-43 b(eme.)-71
3711 y(Exemples)29 b(:)h Fu(openfile)p Fw(,)e Fu(stat)p
Fw(,)h Fu(truncate)p Fw(,)f Fu(opendir)p Fw(.)g(On)i(disp)s(ose)e(de)i
(deux)f(op)m(\023)-43 b(erations)31 b(sur)e(les)g(liens)f(sym-)-71
3824 y(b)s(oliques)g(:)311 3956 y Fu(symlink)93 b(:)48
b(string)e(->)h(string)f(->)h(unit)311 4069 y(readlink)e(:)j(string)e
(->)h(string)-71 4202 y Fw(L'app)s(el)c Fu(symlink)g
Ft(f)694 4216 y Fz(1)777 4202 y Ft(f)822 4216 y Fz(2)905
4202 y Fw(cr)m(\023)-43 b(e)m(\023)g(e)47 b(le)d(\014c)m(hier)g
Ft(f)1546 4216 y Fz(2)1629 4202 y Fw(comme)f(\023)-43
b(etan)m(t)46 b(un)d(lien)g(sym)m(b)s(olique)g(v)m(ers)h
Ft(f)3267 4216 y Fz(1)3306 4202 y Fw(.)h(\(Comme)f(la)-71
4315 y(commande)30 b Fu(ln)47 b(-s)29 b Ft(f)696 4329
y Fz(1)765 4315 y Ft(f)810 4329 y Fz(2)849 4315 y Fw(.\))h(L'app)s(el)f
Fu(readlink)e Fw(ren)m(v)m(oie)k(le)e(con)m(ten)m(u)i(d'un)e(lien)f
(sym)m(b)s(olique,)g(c'est-\022)-45 b(a-dire)30 b(le)-71
4428 y(nom)g(du)f(\014c)m(hier)h(v)m(ers)h(lequel)e(il)f(p)s(oin)m(te.)
-71 4677 y Fg(2.10.4)113 b(Fic)m(hiers)36 b(sp)n(\023)-54
b(eciaux)70 4851 y Fw(Les)43 b(\014c)m(hiers)e(sp)m(\023)-43
b(eciaux)43 b(on)m(t)g(des)f(comp)s(ortemen)m(ts)h(assez)g(v)-5
b(ariables)42 b(en)g(r)m(\023)-43 b(ep)s(onse)42 b(aux)h(app)s(els)e
(syst)m(\022)-43 b(eme)-71 4963 y(g)m(\023)g(en)m(\023)g(eraux)31
b(sur)d(\014c)m(hiers.)g(La)g(plupart)f(des)i(\014c)m(hiers)e(sp)m
(\023)-43 b(eciaux)29 b(\(terminaux,)f(lecteurs)h(de)f(bandes,)g
(disques,)g(.)15 b(.)h(.\))-71 5076 y(ob)m(\023)-43 b(eissen)m(t)32
b(\022)-45 b(a)30 b Fu(read)g Fw(et)h Fu(write)e Fw(de)h(la)g(mani)m
(\022)-43 b(ere)28 b(\023)-43 b(eviden)m(te)31 b(\(mais)f(parfois)f(a)m
(v)m(ec)k(des)d(restrictions)f(sur)g(le)h(nom)m(bre)-71
5189 y(d'o)s(ctets)f(\023)-43 b(ecrits)31 b(ou)f(lus\).)g(Beaucoup)g
(de)h(\014c)m(hiers)e(sp)m(\023)-43 b(eciaux)31 b(ignoren)m(t)f
Fu(lseek)p Fw(.)70 5303 y(En)21 b(plus)f(des)i(app)s(els)e(syst)m(\022)
-43 b(emes)23 b(g)m(\023)-43 b(en)m(\023)g(eraux,)25
b(les)c(\014c)m(hiers)g(sp)m(\023)-43 b(eciaux)22 b(qui)e(corresp)s
(onden)m(t)i(\022)-45 b(a)22 b(des)f(p)m(\023)-43 b(eriph)m(\023)g
(eriques)-71 5416 y(doiv)m(en)m(t)38 b(p)s(ouv)m(oir)33
b(^)-43 b(etre)38 b(param)m(\023)-43 b(etr)m(\023)g(es)40
b(ou)d(command)m(\023)-43 b(es)38 b(dynamiquemen)m(t.)e(Exemple)g(de)h
(telles)g(p)s(ossibilit)m(\023)-43 b(es)34 b(:)-71 5529
y(p)s(our)39 b(un)g(d)m(\023)-43 b(erouleur)39 b(de)h(bande,)g(le)f
(rem)m(b)s(obinage)h(ou)g(l'a)m(v)-5 b(ance)41 b(rapide)14
b(;)40 b(p)s(our)e(un)i(terminal,)e(le)i(c)m(hoix)g(du)p
Black Black eop
%%Page: 27 27
27 26 bop Black -71 24 a Fs(2.10.)63 b(OP)322 1 y(\023)310
24 y(ERA)-8 b(TIONS)29 b(SP)942 1 y(\023)930 24 y(ECIFIQUES)1478
1 y(\022)1463 24 y(A)i(CER)-8 b(T)g(AINS)30 b(TYPES)f(DE)i(FICHIERS)742
b Fw(27)p Black -71 280 a(mo)s(de)29 b(d')m(\023)-43
b(edition)29 b(de)g(ligne,)g(des)g(caract)m(\022)-43
b(eres)32 b(sp)m(\023)-43 b(eciaux,)30 b(des)g(param)m(\022)-43
b(etres)30 b(de)g(la)f(liaison)e(s)m(\023)-43 b(erie)30
b(\(vitesse,)g(parit)m(\023)-43 b(e,)-71 393 y(etc\).)41
b(Ces)f(op)m(\023)-43 b(erations)40 b(son)m(t)g(r)m(\023)-43
b(ealis)m(\023)g(ees)41 b(en)e(Unix)g(par)g(l'app)s(el)f(syst)m(\022)
-43 b(eme)41 b Fu(ioctl)d Fw(qui)g(regroup)s(e)h(tous)g(les)g(cas)-71
506 y(particuliers.)28 b(Cep)s(endan)m(t,)i(cet)h(app)s(el)e(syst)m
(\022)-43 b(eme)32 b(n'est)f(pas)f(relev)m(\023)-43 b(e)31
b(en)g(OCaml.)70 619 y(Les)37 b(terminaux)e(\(ou)h(pseudo-terminaux\))f
(de)h(con)m(tr^)-45 b(ole)37 b(son)m(t)g(un)f(cas)h(particulier)c(de)k
(\014c)m(hiers)e(sp)m(\023)-43 b(eciaux)-71 732 y(de)31
b(t)m(yp)s(e)g(caract)m(\022)-43 b(ere)34 b(p)s(our)29
b(lequel)h(OCaml)g(donne)g(acc)m(\022)-43 b(es)33 b(\022)-45
b(a)32 b(la)e(con\014guration.)h(L'app)s(el)e Fu(tcgetattr)g
Fw(prend)g(en)-71 845 y(argumen)m(t)d(un)e(descripteur)f(de)i(\014c)m
(hier)f(ouv)m(ert)i(sur)e(le)g(\014c)m(hier)g(sp)m(\023)-43
b(ecial)25 b(en)g(question)g(et)g(retourne)g(une)g(structure)-71
958 y(de)e(t)m(yp)s(e)g Fu(terminal_io)d Fw(qui)h(d)m(\023)-43
b(ecrit)24 b(le)e(statut)i(du)e(terminal)f(repr)m(\023)-43
b(esen)m(t)m(\023)g(e)26 b(par)c(ce)i(\014c)m(hier)e(selon)g(la)g
(norme)h(POSIX)-71 1071 y(\(V)-8 b(oir)31 b(page)g(141)g(p)s(our)e(une)
h(description)f(compl)m(\022)-43 b(ete\).)311 1203 y
Fu(tcgetattr)45 b(:)j(file_descr)d(->)i(terminal_io)311
1316 y Fv(t)m(yp)s(e)h Fu(terminal_io)c(=)406 1429 y({)k(c_ignbrk)d(:)j
(bool)o(;)f(c_brk_int)e(:)j(bool)o(;)f(...;)95 b(c_vstop)45
b(:)j(char)f(})-71 1561 y Fw(Cette)33 b(structure)e(p)s(eut)e(^)-43
b(etre)33 b(mo)s(di\014)m(\023)-43 b(ee)31 b(puis)f(pass)m(\023)-43
b(ee)33 b(\022)-45 b(a)32 b(la)f(fonction)h Fu(tcsetattr)d
Fw(p)s(our)h(c)m(hanger)j(les)e(attributs)-71 1674 y(du)e(p)m(\023)-43
b(eriph)m(\023)g(erique.)311 1807 y Fu(tcsetattr)45 b(:)j(file_descr)d
(->)i(setattr_when)d(->)j(terminal_io)e(->)i(unit)-71
1939 y Fw(Le)36 b(premier)e(argumen)m(t)i(est)g(le)f(descripteur)f(de)h
(\014c)m(hier)g(d)m(\023)-43 b(esignan)m(t)36 b(le)f(p)m(\023)-43
b(eriph)m(\023)g(erique.)35 b(Le)h(dernier)e(argumen)m(t)-71
2052 y(est)g(une)e(structure)h(de)g(t)m(yp)s(e)g Fu(tcgetattr)e
Fw(d)m(\023)-43 b(ecriv)-5 b(an)m(t)34 b(les)f(param)m(\022)-43
b(etres)34 b(du)e(p)m(\023)-43 b(eriph)m(\023)g(erique)32
b(tels)h(qu'on)g(v)m(eut)h(les)-74 2165 y(\023)-43 b(etablir.)36
b(Le)h(second)f(est)h(un)e(drap)s(eau)g(du)g(t)m(yp)s(e)f(\023)-43
b(en)m(um)m(\023)g(er)m(\023)g(e)38 b Fu(setattr_when)33
b Fw(indiquan)m(t)h(le)i(momen)m(t)h(\022)-45 b(a)36
b(partir)-71 2278 y(duquel)31 b(la)h(mo)s(di\014cation)f(doit)g
(prendre)g(e\013et)j(:)f(imm)m(\023)-43 b(ediatemen)m(t)33
b(\()p Fu(TCSANOW)p Fw(\),)e(apr)m(\022)-43 b(es)33 b(a)m(v)m(oir)g
(transmis)e(toutes)-71 2391 y(les)i(donn)m(\023)-43 b(ees)32
b(\023)-43 b(ecrites)35 b(\()p Fu(TCSADRAIN)p Fw(\))d(ou)i(apr)m(\022)
-43 b(es)35 b(a)m(v)m(oir)f(lu)f(toutes)i(les)e(donn)m(\023)-43
b(ees)34 b(re\030)-40 b(cues)34 b(\()p Fu(TCAFLUSH)p
Fw(\).)f(Le)h(c)m(hoix)-71 2504 y Fu(TCSADRAIN)23 b Fw(est)k(recommand)
m(\023)-43 b(e)27 b(p)s(our)d(mo)s(di\014er)g(les)h(param)m(\022)-43
b(etres)28 b(d')m(\023)-43 b(ecriture)26 b(et)g Fu(TCSAFLUSH)d
Fw(p)s(our)i(mo)s(di\014er)f(les)-71 2617 y(param)m(\022)-43
b(etres)32 b(de)e(lecture.)p Black -71 2800 a Fv(Exemple:)p
Black 45 w Fw(P)m(endan)m(t)40 b(la)g(lecture)g(d'un)f(mot)i(de)f
(passe,)h(il)d(faut)i(retirer)g(l')m(\023)-43 b(ec)m(ho)42
b(des)e(caract)m(\022)-43 b(eres)43 b(tap)m(\023)-43
b(es)42 b(par)-71 2912 y(l'utilisateur)28 b(si)h(le)h(\015ux)f(d'en)m
(tr)m(\023)-43 b(ee)33 b(standard)c(est)i(connect)m(\023)-43
b(e)33 b(\022)-45 b(a)31 b(un)e(terminal)g(ou)h(pseudo-terminal.)193
3045 y Fz(1)83 b Fv(let)53 b Fu(read_passwd)45 b(message)g(=)193
3158 y Fz(2)178 b Fv(matc)m(h)193 3271 y Fz(3)274 b Fv(try)193
3384 y Fz(4)369 b Fv(let)48 b Fu(default)d(=)j(tcgetattr)d(stdin)i
Fv(in)193 3497 y Fz(5)369 b Fv(let)48 b Fu(silent)e(=)193
3610 y Fz(6)465 b Fu({)47 b(default)f Fv(with)193 3722
y Fz(7)560 b Fu(c_echo)46 b(=)i(false)n(;)193 3835 y
Fz(8)560 b Fu(c_echoe)46 b(=)h(false)o(;)193 3948 y Fz(9)560
b Fu(c_echok)46 b(=)h(false)o(;)157 4061 y Fz(10)561
b Fu(c_echonl)46 b(=)h(false)o(;)157 4174 y Fz(11)466
b Fu(})47 b Fv(in)157 4287 y Fz(12)370 b Fu(Some)47 b(\(default)n(,)g
(silent)o(\))157 4400 y Fz(13)275 b Fv(with)47 b Fu(_)g(->)g(None)157
4513 y Fz(14)179 b Fv(with)157 4626 y Fz(15)g Fu(|)48
b(None)e(->)i(input_line)d(Pervasives)m(.stdin)157 4739
y Fz(16)179 b Fu(|)48 b(Some)e(\(default)n(,)i(silent)n(\))g(->)157
4852 y Fz(17)370 b Fu(print_string)45 b(message)n(;)157
4964 y Fz(18)370 b Fu(flush)47 b(Pervasives)m(.stdout)n(;)157
5077 y Fz(19)370 b Fu(tcsetattr)46 b(stdin)g(TCSANOW)g(silent)n(;)157
5190 y Fz(20)370 b Fv(try)157 5303 y Fz(21)466 b Fv(let)47
b Fu(s)h(=)f(input_line)e(Pervasives)m(.stdin)h Fv(in)157
5416 y Fz(22)466 b Fu(tcsetattr)45 b(stdin)h(TCSANOW)g(default)n(;)i(s)
157 5529 y Fz(23)370 b Fv(with)47 b Fu(x)h(->)p Black
Black eop
%%Page: 28 28
28 27 bop Black -71 24 a Fw(28)2520 b Fs(CHAPITRE)29
b(2.)62 b(LES)29 b(FICHIERS)p Black 157 280 a Fz(24)466
b Fu(tcsetattr)45 b(stdin)h(TCSANOW)g(default)n(;)i Fv(raise)g
Fu(x)o(;;)-71 418 y Fw(La)27 b(fonction)g Fu(read_passwd)c
Fw(commence)28 b(par)f(r)m(\023)-43 b(ecup)m(\023)g(erer)28
b(la)e(v)-5 b(aleur)26 b(par)g(d)m(\023)-43 b(efaut)28
b(des)f(param)m(\022)-43 b(etres)28 b(du)e(terminal)-71
531 y(asso)s(ci)m(\023)-43 b(e)27 b(\022)-45 b(a)27 b
Fu(stdin)d Fw(et)j(construire)e(une)g(v)m(ersion)h(mo)s(di\014)m(\023)
-43 b(ee)26 b(dans)f(laquelle)f(les)i(caract)m(\022)-43
b(eres)29 b(n'on)m(t)d(plus)f(d')m(\023)-43 b(ec)m(ho.)28
b(En)-71 644 y(cas)33 b(d')m(\023)-43 b(ec)m(hec,)34
b(c'est)f(que)e(le)h(\015ux)f(d'en)m(tr)m(\023)-43 b(ee)33
b(n'est)f(pas)g(un)e(terminal)h(de)g(con)m(tr^)-45 b(ole,)33
b(on)f(se)g(con)m(ten)m(te)i(de)d(lire)g(une)-71 757
y(ligne.)c(Sinon,)g(on)h(a\016c)m(he)h(un)e(message,)j(on)e(c)m(hange)h
(le)f(terminal,)f(on)h(lit)f(la)h(r)m(\023)-43 b(ep)s(onse)28
b(et)h(on)f(remet)h(le)f(terminal)-71 870 y(dans)i(son)d(\023)-43
b(etat)32 b(normal.)e(Il)f(faut)h(bien)f(faire)h(atten)m(tion)h(\022)
-45 b(a)30 b(remettre)h(le)f(terminal)f(dans)g(son)f(\023)-43
b(etat)32 b(normal)d(si)g(la)-71 982 y(lecture)h(\022)-45
b(a)29 b(\023)-43 b(ec)m(hou)m(\023)g(ee.)-71 1190 y(Il)26
b(arriv)m(e)g(qu'une)g(application)f(ait)i(b)s(esoin)e(d'en)h(lancer)h
(une)f(autre)h(en)f(lian)m(t)g(son)h(\015ux)e(d'en)m(tr)m(\023)-43
b(ee)29 b(\022)-45 b(a)27 b(un)f(terminal)-71 1303 y(\(ou)42
b(pseudo)e(terminal\))h(de)g(con)m(tr^)-45 b(ole.)43
b(Le)e(syst)m(\022)-43 b(eme)43 b(OCaml)d(ne)i(fournit)d(pas)j(d'aide)e
(p)s(our)g(cela)3430 1270 y Fz(3)3512 1303 y Fw(:)h(il)f(faut)-71
1416 y(man)m(uellemen)m(t)35 b(rec)m(herc)m(her)g(parmi)f(l'ensem)m
(ble)g(des)h(pseudo-terminaux)e(\(en)j(g)m(\023)-43 b(en)m(\023)g
(eral,)37 b(ce)f(son)m(t)f(des)g(\014c)m(hiers)-71 1529
y(de)j(nom)g(de)g(la)g(forme)h Fu(/dev/tty[a-z][a-f0-9])p
Fw(\))32 b(et)39 b(trouv)m(er)g(un)e(de)h(ces)h(\014c)m(hiers)f(qui)f
(ne)h(soit)g(pas)g(d)m(\023)-43 b(ej\022)e(a)-71 1642
y(ouv)m(ert,)31 b(p)s(our)e(l'ouvrir)g(puis)f(lancer)i(l'application)e
(a)m(v)m(ec)33 b(ce)e(\014c)m(hier)e(en)h(\015ux)g(d'en)m(tr)m(\023)-43
b(ee.)70 1760 y(Quatre)31 b(autres)h(fonctions)e(p)s(ermetten)m(t)i(de)
f(con)m(tr^)-45 b(oler)32 b(le)e(\015ux)g(\(vider)h(les)f(donn)m(\023)
-43 b(ees)32 b(en)f(atten)m(te,)j(attendre)-71 1873 y(la)c(\014n)f(de)i
(la)f(transmission,)e(relancer)i(la)g(comm)m(unication\).)311
2005 y Fu(tcsendbreak)45 b(:)i(file_descr)e(->)i(int)g(->)g(unit)-71
2143 y Fw(La)34 b(fonction)e Fu(tcsendbreak)e Fw(en)m(v)m(oie)k(une)f
(in)m(terruption)e(au)i(p)m(\023)-43 b(eriph)m(\023)g(erique.)32
b(Son)h(deuxi)m(\022)-43 b(eme)33 b(argumen)m(t)h(est)f(la)-71
2256 y(dur)m(\023)-43 b(ee)31 b(de)f(l'in)m(terruption)e(\()p
Fu(0)g Fw(\023)-43 b(etan)m(t)32 b(in)m(terpr)m(\023)-43
b(et)m(\023)g(e)32 b(comme)f(la)f(v)-5 b(aleur)30 b(par)f(d)m(\023)-43
b(efaut)32 b(p)s(our)d(le)h(p)m(\023)-43 b(eriph)m(\023)g(erique\).)311
2388 y Fu(tcdrain)46 b(:)h(file_descr)e(->)i(unit)-71
2526 y Fw(La)31 b(fonction)f Fu(tcdrain)e Fw(attend)j(que)f(toutes)h
(les)f(donn)m(\023)-43 b(ees)29 b(\023)-43 b(ecrites)31
b(aien)m(t)d(\023)-43 b(et)m(\023)g(e)33 b(transmises.)311
2659 y Fu(tcflush)46 b(:)h(file_descr)e(->)i(flush_queue)e(->)i(unit)
-71 2796 y Fw(Selon)29 b(la)h(v)-5 b(aleur)29 b(du)g(drap)s(eau)h(pass)
m(\023)-43 b(e)31 b(en)f(second)g(argumen)m(t,)h(la)f(fonction)f
Fu(tcflush)g Fw(abandonne)g(les)g(donn)m(\023)-43 b(ees)-74
2909 y(\023)g(ecrites)35 b(pas)f(encore)h(transmises)e(\()p
Fu(TCIFLUSH)p Fw(\),)g(ou)h(les)g(donn)m(\023)-43 b(ees)34
b(re\030)-40 b(cues)34 b(mais)g(pas)g(encore)h(lues)e(\()p
Fu(TCOFLUSH)p Fw(\))-71 3022 y(ou)d(les)g(deux)g(\()p
Fu(TCIOFLUSH)p Fw(\).)311 3154 y Fu(tcflow)46 b(:)h(file_descr)e(->)j
(flow_action)c(->)k(unit)-71 3292 y Fw(Selon)e(la)h(v)-5
b(aleur)46 b(du)g(drap)s(eau)g(pass)m(\023)-43 b(e)49
b(en)e(second)g(argumen)m(t,)h(la)e(fonction)h Fu(tcflow)f
Fw(susp)s(end)e(l')m(\023)-43 b(emission)-71 3405 y(\()p
Fu(TCOOFF)p Fw(\),)37 b(red)m(\023)-43 b(emarre)39 b(l')m(\023)-43
b(emission)37 b(\()p Fu(TCOON)p Fw(\),)h(en)m(v)m(oie)g(un)f(caract)m
(\022)-43 b(ere)41 b(de)d(con)m(tr^)-45 b(ole)39 b(STOP)e(ou)h(ST)-8
b(AR)g(T)38 b(p)s(our)-71 3518 y(demander)30 b(que)g(la)g(transmission)
e(soit)i(susp)s(endue)e(\()p Fu(TCIOFF)p Fw(\))h(ou)i(relanc)m(\023)-43
b(ee)31 b(\()p Fu(TCION)p Fw(\).)311 3650 y Fu(setsid)46
b(:)h(unit)g(->)g(int)-71 3788 y Fw(La)34 b(fonction)g
Fu(setsid)f Fw(place)h(le)f(pro)s(cessus)g(dans)h(une)f(nouv)m(elle)g
(session)h(et)h(le)e(d)m(\023)-43 b(etac)m(he)37 b(de)d(son)g(terminal)
e(de)-71 3901 y(con)m(tr^)-45 b(ole.)-71 4216 y Fq(2.11)136
b(Exemple)46 b(complet)f(:)h(copie)f(r)m(\023)-64 b(ecursiv)l(e)45
b(de)g(\014c)l(hiers)70 4429 y Fw(On)40 b(v)-5 b(a)39
b(\023)-43 b(etendre)42 b(la)e(commande)i Fu(file_copy)c
Fw(p)s(our)i(copier,)g(en)h(plus)e(des)i(\014c)m(hiers)f(normaux,)g
(les)h(liens)-71 4542 y(sym)m(b)s(oliques)28 b(et)j(les)f(r)m(\023)-43
b(ep)s(ertoires.)31 b(P)m(our)f(les)g(r)m(\023)-43 b(ep)s(ertoires,)30
b(on)g(copie)h(r)m(\023)-43 b(ecursiv)m(emen)m(t)31 b(leur)e(con)m(ten)
m(u.)70 4660 y(On)g(commence)i(par)e(r)m(\023)-43 b(ecup)m(\023)g(erer)
31 b(la)f(fonction)f Fu(file_copy)e Fw(de)j(l'exemple)f(du)g(m)m(^)-43
b(eme)31 b(nom)e(p)s(our)f(copier)i(les)-71 4773 y(\014c)m(hiers)f
(normaux)h(\(page)h(18\).)193 4905 y Fz(1)83 b Fv(op)s(en)48
b Fu(Unix)311 5058 y(...)193 5210 y Fz(5)83 b Fv(let)53
b Fu(file_copy)45 b(input_name)g(output_name)g(=)311
5362 y(...)p Black -71 5443 1560 4 v 33 5497 a Fl(3)67
5529 y Fk(La)26 b(biblioth)n(\022)-36 b(eque)26 b(de)f(Cash)i([3])f
(fournit)g(de)g(telles)g(fonctions.)p Black Black Black
eop
%%Page: 29 29
29 28 bop Black -71 24 a Fs(2.11.)63 b(EXEMPLE)30 b(COMPLET)f(:)h
(COPIE)g(R)1617 1 y(\023)1605 24 y(ECURSIVE)f(DE)i(FICHIERS)1026
b Fw(29)p Black -71 280 a(Puis)29 b(on)f(\023)-43 b(ecrit)31
b(une)e(fonctionnelle)g(d'in)m(t)m(\023)-43 b(er)m(^)g(et)32
b(g)m(\023)-43 b(en)m(\023)g(eral)33 b(:)d(un)g(it)m(\023)-43
b(erateur)31 b(sur)e(les)h(en)m(tr)m(\023)-43 b(ees)32
b(d'un)d(r)m(\023)-43 b(ep)s(ertoire.)157 413 y Fz(16)84
b Fv(let)53 b Fu(do_dir)46 b(f)h(dirname)f(=)157 526
y Fz(17)179 b Fv(let)48 b Fu(d)f(=)h(opendir)d(dirname)h
Fv(in)157 639 y Fz(18)179 b Fv(try)157 752 y Fz(19)275
b Fv(while)47 b Fu(true)g Fv(do)157 864 y Fz(20)370 b
Fu(f\(readdir)46 b(d)o(\))157 977 y Fz(21)275 b Fv(done)157
1090 y Fz(22)179 b Fv(with)47 b Fu(End_of_file)e(->)157
1203 y Fz(23)275 b Fu(closedir)45 b(d)-71 1359 y Fw(La)32
b(fonction)g Fu(set_infos)e Fw(ci-dessous)h(mo)s(di\014e)g(le)g(propri)
m(\023)-43 b(etaire,)32 b(les)g(droits)f(d'acc)m(\022)-43
b(es)34 b(et)f(les)e(dates)i(de)f(dernier)-71 1472 y(acc)m(\022)-43
b(es/derni)m(\022)g(ere)27 b(mo)s(di\014cation)c(d'un)g(\014c)m(hier.)h
(Son)g(but)g(est)h(de)f(pr)m(\023)-43 b(eserv)m(er)25
b(ces)g(informations)e(p)s(endan)m(t)h(la)g(copie.)157
1604 y Fz(24)84 b Fv(let)53 b Fu(set_infos)45 b(filename)h(infos)g(=)
157 1717 y Fz(25)179 b Fu(utimes)46 b(filename)g(infos)o(.)o(st_atime)g
(infos)o(.)o(st_mtime)n(;)157 1830 y Fz(26)179 b Fu(chmod)47
b(filename)e(infos)o(.st_perm)n(;)157 1943 y Fz(27)179
b Fv(try)157 2056 y Fz(28)275 b Fu(chown)46 b(filename)g(infos)n
(.st_uid)g(infos)o(.st_gid)157 2169 y Fz(29)179 b Fv(with)47
b Fu(Unix_error)n(\()o(EPERM)o(,_)o(,_\))g(->)157 2282
y Fz(30)275 b Fu(\(\))-71 2438 y Fw(L'app)s(el)23 b(syst)m(\022)-43
b(eme)25 b Fu(utime)e Fw(mo)s(di\014e)f(les)i(dates)g(d'acc)m(\022)-43
b(es)27 b(et)d(de)g(mo)s(di\014cation.)f(L'app)s(el)g
Fu(chmod)f Fw(mo)s(di\014e)h(les)g(droits)-71 2550 y(d'acc)m(\022)-43
b(es.)31 b(En\014n,)26 b(l'app)s(el)h Fu(chown)f Fw(mo)s(di\014e)h(le)h
(propri)m(\023)-43 b(etaire)27 b(\(deuxi)m(\022)-43 b(eme)29
b(argumen)m(t\))g(et)f(le)g(group)s(e)g(propri)m(\023)-43
b(etaire)-71 2663 y(\(troisi)m(\022)g(eme)23 b(argumen)m(t\).)h(Seul)d
(le)i(sup)s(er-utilisateur)c(a)k(le)f(droit)g(de)g(c)m(hanger)i
(arbitrairemen)m(t)d(ces)j(informations.)-71 2776 y(P)m(our)h(les)g
(utilisateurs)e(normaux,)i(il)f(y)h(a)h(un)e(certain)i(nom)m(bres)e(de)
i(cas)g(o)s(\022)-48 b(u)25 b Fu(chown)f Fw(v)-5 b(a)23
b(\023)-43 b(ec)m(houer)27 b(a)m(v)m(ec)g(une)e(erreur)-71
2889 y(\\p)s(ermission)j(denied".)h(On)h(rattrap)s(e)h(donc)f(cette)i
(erreur-l\022)-45 b(a)29 b(et)i(on)g(l'ignore.)70 3025
y(V)-8 b(oici)31 b(la)f(fonction)g(r)m(\023)-43 b(ecursiv)m(e)30
b(principale.)157 3158 y Fz(31)84 b Fv(let)53 b(rec)48
b Fu(copy_rec)e(source)g(dest)g(=)157 3271 y Fz(32)179
b Fv(let)48 b Fu(infos)e(=)i(lstat)e(source)g Fv(in)157
3384 y Fz(33)179 b Fv(matc)m(h)47 b Fu(infos)o(.st_kind)f
Fv(with)157 3497 y Fz(34)275 b Fu(S_REG)46 b(->)157 3610
y Fz(35)370 b Fu(file_copy)46 b(source)g(dest)o(;)157
3722 y Fz(36)370 b Fu(set_infos)46 b(dest)g(infos)157
3835 y Fz(37)179 b Fu(|)48 b(S_LNK)e(->)157 3948 y Fz(38)370
b Fv(let)48 b Fu(link)e(=)i(readlink)d(source)h Fv(in)157
4061 y Fz(39)370 b Fu(symlink)46 b(link)h(dest)157 4174
y Fz(40)179 b Fu(|)48 b(S_DIR)e(->)157 4287 y Fz(41)370
b Fu(mkdir)47 b(dest)f(0o200)o(;)157 4400 y Fz(42)370
b Fu(do_dir)157 4513 y Fz(43)466 b Fu(\()o Fv(fun)48
b Fu(file)f(->)157 4626 y Fz(44)561 b Fv(if)48 b Fu(file)f(<>)g
(Filename)n(.)o(current_dir_name)157 4739 y Fz(45)752
b Fu(&&)47 b(file)g(<>)g(Filename)n(.parent_dir_name)157
4852 y Fz(46)561 b Fv(then)157 4964 y Fz(47)657 b Fu(copy_rec)157
5077 y Fz(48)752 b Fu(\(Filename)n(.)o(concat)46 b(source)h(file)n(\))
157 5190 y Fz(49)752 b Fu(\(Filename)n(.)o(concat)46
b(dest)h(file)o(\)\))157 5303 y Fz(50)466 b Fu(source)n(;)157
5416 y Fz(51)370 b Fu(set_infos)46 b(dest)g(infos)157
5529 y Fz(52)179 b Fu(|)48 b(_)f(->)p Black Black eop
%%Page: 30 30
30 29 bop Black -71 24 a Fw(30)2520 b Fs(CHAPITRE)29
b(2.)62 b(LES)29 b(FICHIERS)p Black 157 280 a Fz(53)370
b Fu(prerr_endline)44 b(\()p Fo("Can't)i(cope)h(with)g(special)e(file)i
(")g Fu(^)h(source)n(\))-71 416 y Fw(On)35 b(commence)i(par)e(lire)f
(les)h(informations)f(du)h(\014c)m(hier)f(source.)j(Si)d(c'est)j(un)d
(\014c)m(hier)h(normal,)g(on)h(copie)f(son)-71 529 y(con)m(ten)m(u)40
b(a)m(v)m(ec)i Fu(file_copy)p Fw(,)37 b(puis)g(ses)j(informations)d(a)m
(v)m(ec)k Fu(set_infos)p Fw(.)c(Si)h(c'est)j(un)d(lien)g(sym)m(b)s
(olique,)f(on)-71 642 y(lit)c(ce)i(v)m(ers)f(quoi)f(il)g(p)s(oin)m(te,)
g(et)i(on)f(cr)m(\023)-43 b(ee)36 b(un)d(lien)f(qui)h(p)s(oin)m(te)g(v)
m(ers)i(la)e(m)m(^)-43 b(eme)36 b(c)m(hose.)f(Si)e(c'est)i(un)e(r)m
(\023)-43 b(ep)s(ertoire,)-71 755 y(on)42 b(cr)m(\023)-43
b(ee)45 b(un)c(r)m(\023)-43 b(ep)s(ertoire)42 b(comme)i(destination,)d
(puis)f(on)j(lit)e(les)h(en)m(tr)m(\023)-43 b(ees)44
b(du)e(r)m(\023)-43 b(ep)s(ertoire)42 b(source)h(\(en)f(igno-)-71
868 y(ran)m(t)49 b(les)f(en)m(tr)m(\023)-43 b(ees)51
b(du)d(r)m(\023)-43 b(ep)s(ertoire)49 b(v)m(ers)g(lui-m)m(^)-43
b(eme)48 b Fu(Filename.current_dir_nam)o(e)43 b Fw(et)49
b(v)m(ers)g(son)g(paren)m(t)-71 980 y Fu(Filename.parent_dir_name)p
Fw(,)30 b(qu'il)k(ne)i(faut)h(certainemen)m(t)g(pas)e(copier\),)i(et)g
(on)f(app)s(elle)e(r)m(\023)-43 b(ecursiv)m(emen)m(t)-71
1093 y Fu(copy)23 b Fw(p)s(our)g(c)m(haque)i(en)m(tr)m(\023)-43
b(ee.)26 b(Les)e(autres)h(t)m(yp)s(es)f(de)g(\014c)m(hiers)f(son)m(t)i
(ignor)m(\023)-43 b(es,)25 b(a)m(v)m(ec)h(un)d(message)j(d'a)m(v)m
(ertissemen)m(t.)70 1209 y(Le)31 b(programme)f(principal)d(est)k(sans)f
(surprise)e(:)157 1342 y Fz(54)84 b Fv(let)53 b Fu(copyrec)46
b(\(\))h(=)157 1455 y Fz(55)179 b Fv(if)56 b Fu(Array)n(.length)46
b(Sys)o(.argv)h(<>)g(3)g Fv(then)h(b)s(egin)157 1568
y Fz(56)275 b Fu(prerr_endline)44 b(\()p Fo(")o(Usage)o(:)k(")f
Fu(^Sys)o(.argv)o(.\(0\)^)f Fo(")h(<source)n(>)h(<destination)m(>)o(")p
Fu(\);)157 1681 y Fz(57)275 b Fu(exit)46 b(2)157 1794
y Fz(58)179 b Fv(end)48 b(else)g(b)s(egin)157 1906 y
Fz(59)275 b Fu(copy_rec)45 b(Sys.)o(argv)o(.\(1\))i(Sys)o(.argv)o
(.\(2\);)157 2019 y Fz(60)275 b Fu(exit)46 b(0)157 2132
y Fz(61)179 b Fv(end)157 2245 y Fz(62)84 b Fu(;;)157
2358 y Fz(63)g Fu(handle_unix_error)43 b(copyrec)j(\(\);;)p
Black -71 2609 a Fv(Exercice)36 b(4)p Black 45 w Fn(Copier)d(intel)5
b(ligemment)31 b(les)h(liens)f(durs.)h(T)-7 b(el)32 b(que)e(pr)n(\023)
-44 b(esent)n(\023)g(e)32 b(ci-dessus,)f Fu(copyrec)f
Fn(duplique)h Ft(N)-71 2722 y Fn(fois)37 b(un)g(m)n(^)-44
b(eme)38 b(\014chier)f(qui)f(app)-5 b(ar)g(a)c(^)-37
b(\020t)41 b(sous)c Ft(N)47 b Fn(noms)38 b(di\013)n(\023)-44
b(er)-5 b(ents)38 b(dans)g(la)g(hi)n(\023)-44 b(er)-5
b(ar)g(chie)39 b(de)e(\014chiers)h(\022)-46 b(a)37 b(c)-5
b(opier.)-71 2835 y(Essayer)40 b(de)g(d)n(\023)-44 b(ete)-5
b(cter)40 b(c)-5 b(ette)39 b(situation,)h(de)g(ne)f(c)-5
b(opier)41 b(qu'une)d(fois)i(le)f(\014chier,)g(et)h(de)f(fair)-5
b(e)40 b(des)g(liens)f(durs)-71 2948 y(dans)34 b(la)f(hi)n(\023)-44
b(er)-5 b(ar)g(chie)35 b(de)d(destination.)1855 b Fw(\(V)-8
b(oir)31 b(le)f(corrig)m(\023)-43 b(e\))p 3783 2898 47
4 v 3783 2945 4 47 v 3826 2945 V 3783 2948 47 4 v -71
3252 a Fq(2.12)136 b(Exemple)46 b(:)f(Tap)t(e)f(ARc)l(hiv)l(e)70
3461 y Fw(Le)37 b(format)g Fu(tar)e Fw(\(p)s(our)g Fu(t)p
Fn(ap)-5 b(e)39 b Fu(ar)p Fn(chive)p Fw(\))d(p)s(ermet)g(de)g(repr)m
(\023)-43 b(esen)m(ter)38 b(un)d(ensem)m(ble)h(de)g(\014c)m(hiers)g(en)
g(un)f(seul)-71 3574 y(\014c)m(hier.)g(\(En)g(autre)g(il)f(p)s(ermet)g
(de)i(sto)s(c)m(k)m(er)g(tout)g(une)f(hi)m(\023)-43 b(erarc)m(hie)35
b(de)g(\014c)m(hiers)f(sur)g(une)h(bande.\))g(Dans)g(cette)-71
3687 y(section)d(nous)g(d)m(\023)-43 b(ecriv)m(ons)32
b(un)f(ensem)m(ble)h(de)g(fonctions)g(qui)e(p)s(ermetten)m(t)j(de)f
(lire)f(et)h(d')m(\023)-43 b(ecrire)33 b(des)f(arc)m(hiv)m(es)g(au)-71
3800 y(format)38 b Fu(tar)p Fw(.)e(La)h(premi)m(\022)-43
b(ere)37 b(partie,)g(d)m(\023)-43 b(ecrite)38 b(compl)m(\022)-43
b(etemen)m(t,)39 b(consiste)e(\022)-45 b(a)35 b(\023)-43
b(ecrire)37 b(une)g(commande)g Fu(readtar)-71 3913 y
Fw(telle)c(que)g Fu(readtar)e Ft(a)i Fw(a\016c)m(he)h(la)e(liste)g(des)
h(\014c)m(hiers)f(con)m(ten)m(us)i(dans)e(l'arc)m(hiv)m(e)h
Ft(a)g Fw(et)h Fu(readtar)d Ft(a)i(f)43 b Fw(a\016c)m(he)33
b(le)-71 4026 y(con)m(ten)m(u)h(du)e(\014c)m(hier)f Ft(f)42
b Fw(con)m(ten)m(u)34 b(dans)e(l'arc)m(hiv)m(e)h Ft(a)p
Fw(.)g(Nous)g(prop)s(osons)e(en)i(exercice)g(l'extraction)g(de)g(tous)g
(les)-71 4139 y(\014c)m(hiers)28 b(con)m(ten)m(us)i(dans)f(une)f(arc)m
(hiv)m(e,)i(ainsi)d(que)i(la)g(fabrication)f(d'une)h(arc)m(hiv)m(e)g
(\022)-45 b(a)30 b(partir)e(d'un)g(ensem)m(ble)g(de)-71
4252 y(\014c)m(hiers.)-71 4510 y Fv(Description)i(du)f(format)90
b Fw(Une)25 b(arc)m(hiv)m(e)h Fu(tar)e Fw(est)i(une)f(suite)f
(d'enregistremen)m(ts,)i(c)m(haque)g(enregistremen)m(t)-71
4623 y(repr)m(\023)-43 b(esen)m(tan)m(t)37 b(un)c(\014c)m(hier.)h(Un)h
(enregistremen)m(t)g(est)g(comp)s(os)m(\023)-43 b(e)36
b(d'un)d(en)m(t)m(^)-43 b(ete)38 b(qui)33 b(co)s(de)i(les)f
(informations)f(sur)-71 4735 y(le)e(\014c)m(hier)g(\(son)h(nom,)f(son)h
(t)m(yp)s(e,)g(sa)f(taille,)g(son)h(propri)m(\023)-43
b(etaire)30 b Fn(etc.)p Fw(\))i(et)g(du)f(con)m(ten)m(u)i(du)d(\014c)m
(hier.)h(L'en)m(t)m(^)-43 b(ete)35 b(est)-71 4848 y(repr)m(\023)-43
b(esen)m(t)m(\023)g(e)36 b(sur)c(un)g(blo)s(c)h(\(512)h(o)s(ctets\))h
(comme)f(indiqu)m(\023)-43 b(e)32 b(dans)g(le)h(tableau)g(2.2.)i(Le)f
(con)m(ten)m(u)g(est)g(repr)m(\023)-43 b(esen)m(t)m(\023)g(e)-71
4961 y(\022)e(a)36 b(la)e(suite)h(de)g(l'en)m(t)m(^)-43
b(ete)37 b(sur)d(un)g(nom)m(bre)h(en)m(tier)g(de)g(blo)s(cs.)f(Les)h
(enregistremen)m(ts)h(son)m(t)f(repr)m(\023)-43 b(esen)m(t)m(\023)g(es)
38 b(les)c(uns)-71 5074 y(\022)-45 b(a)32 b(la)g(suite)f(des)h(autres.)
g(Le)g(\014c)m(hier)f(est)f(\023)-43 b(ev)m(en)m(tuellemen)m(t)34
b(compl)m(\023)-43 b(et)m(\023)g(e)34 b(par)e(des)f(blo)s(cs)g(vides)g
(p)s(our)f(atteindre)i(au)-71 5187 y(moins)d(20)i(blo)s(cs.)70
5303 y(Comme)38 b(les)g(arc)m(hiv)m(es)h(son)m(t)f(aussi)f(con\030)-40
b(cues)39 b(p)s(our)34 b(^)-43 b(etre)37 b(\023)-43 b(ecrite)39
b(et)g(sur)e(des)h(supp)s(orts)e(fragiles)h(et)i(relues)-71
5416 y(plusieurs)29 b(ann)m(\023)-43 b(ees)33 b(apr)m(\022)-43
b(es,)33 b(l'en)m(t)m(^)-43 b(ete)35 b(comp)s(orte)e(un)e(c)m(hamp)h
Fu(checksum)e Fw(qui)h(p)s(ermet)g(de)i(d)m(\023)-43
b(etecter)34 b(les)e(arc)m(hiv)m(es)-71 5529 y(don)m(t)h(l'en)m(t)m(^)
-43 b(ete)35 b(est)e(endommag)m(\023)-43 b(e)34 b(\(ou)e(d'utiliser)e
(comme)j(une)f(arc)m(hiv)m(e)h(un)e(\014c)m(hier)h(qui)f(n'en)h(serait)
g(pas)g(une.\))p Black Black eop
%%Page: 31 31
31 30 bop Black -71 24 a Fs(2.12.)63 b(EXEMPLE)30 b(:)g
Fv(T)p Fs(APE)g Fv(AR)p Fs(CHIVE)2271 b Fw(31)p Black
Black Black Black 33 192 3692 4 v 33 342 4 150 v 117
297 a Fv(O\013set)p 436 342 V 102 w(Length)819 266 y
Ff(1)p 918 342 V 971 297 a Fv(Co)s(dage)1321 266 y Ff(2)p
1420 342 V 1564 297 a Fv(Nom)p 1996 342 V 354 w(Description)p
3721 342 V 33 345 3692 4 v 33 458 4 113 v 250 424 a Fw(0)p
436 458 V 346 w(100)p 918 458 V 270 w(c)m(ha)-10 b(^)-35
b(\020ne)p 1420 458 V 268 w Fu(name)p 1996 458 V 384
w Fw(Nom)31 b(du)e(\014c)m(hier)p 3721 458 V 33 571 V
159 537 a(100)p 436 571 V 438 w(8)p 918 571 V 297 w(o)s(ctal)p
1420 571 V 296 w Fu(perm)p 1996 571 V 384 w Fw(Mo)s(de)h(du)g(\014c)m
(hier)p 3721 571 V 33 684 V 159 650 a(108)p 436 684 V
438 w(8)p 918 684 V 297 w(o)s(ctal)p 1420 684 V 296 w
Fu(uid)p 1996 684 V 432 w Fw(ID)g(de)h(l'utilisateur)p
3721 684 V 33 797 V 159 763 a(116)p 436 797 V 438 w(8)p
918 797 V 297 w(o)s(ctal)p 1420 797 V 296 w Fu(gid)p
1996 797 V 432 w Fw(ID)f(du)g(group)s(e)f(de)i(l'utilisateur)p
3721 797 V 33 910 V 159 876 a(124)p 436 910 V 393 w(12)p
918 910 V 297 w(o)s(ctal)p 1420 910 V 296 w Fu(size)p
1996 910 V 384 w Fw(T)-8 b(aille)29 b(du)g(\014c)m(hier)2771
848 y Fz(3)p 3721 910 V 33 1023 V 159 989 a Fw(136)p
436 1023 V 393 w(12)p 918 1023 V 297 w(o)s(ctal)p 1420
1023 V 296 w Fu(mtime)p 1996 1023 V 336 w Fw(Date)j(de)e(la)g(derni)m
(\022)-43 b(ere)30 b(mo)s(di\014cation)p 3721 1023 V
33 1135 V 159 1102 a(148)p 436 1135 V 438 w(8)p 918 1135
V 297 w(o)s(ctal)p 1420 1135 V 296 w Fu(checksum)p 1996
1135 V 192 w Fw(Chec)m(ksum)g(de)g(l'en)m(t)m(^)-43 b(ete)p
3721 1135 V 33 1248 V 159 1214 a(156)p 436 1248 V 438
w(1)p 918 1248 V 214 w(caract)m(\022)g(ere)p 1420 1248
V 217 w Fu(kind)p 1996 1248 V 384 w Fw(T)m(yp)s(e)30
b(de)g(\014c)m(hier)p 3721 1248 V 33 1361 V 159 1327
a(157)p 436 1361 V 347 w(100)p 918 1361 V 298 w(o)s(ctal)p
1420 1361 V 296 w Fo(link)p 1996 1361 V 384 w Fw(Lien)p
3721 1361 V 33 1474 V 159 1440 a(257)p 436 1474 V 438
w(8)p 918 1474 V 269 w(c)m(ha)-10 b(^)-35 b(\020ne)p
1420 1474 V 268 w Fu(magic)p 1996 1474 V 336 w Fw(Signature)29
b(\()p Fu("ustar\\032\\032\\0")p Fw(\))p 3721 1474 V
33 1587 V 159 1553 a(265)p 436 1587 V 393 w(32)p 918
1587 V 269 w(c)m(ha)-10 b(^)-35 b(\020ne)p 1420 1587
V 268 w Fu(user)p 1996 1587 V 384 w Fw(Nom)31 b(de)f(l'utilisateur)p
3721 1587 V 33 1700 V 159 1666 a(297)p 436 1700 V 393
w(32)p 918 1700 V 269 w(c)m(ha)-10 b(^)-35 b(\020ne)p
1420 1700 V 268 w Fu(group)p 1996 1700 V 336 w Fw(Nom)31
b(du)e(group)s(e)h(de)g(l'utilisateur)p 3721 1700 V 33
1813 V 159 1779 a(329)p 436 1813 V 438 w(8)p 918 1813
V 297 w(o)s(ctal)p 1420 1813 V 296 w Fo(major)p 1996
1813 V 336 w Fw(Iden)m(ti\014cateur)g(ma)5 b(jeur)30
b(du)f(p)m(\023)-43 b(eriph)m(\023)g(erique)p 3721 1813
V 33 1926 V 159 1892 a(337)p 436 1926 V 438 w(8)p 918
1926 V 297 w(o)s(ctal)p 1420 1926 V 296 w Fo(minor)p
1996 1926 V 336 w Fw(Iden)m(ti\014cateur)30 b(mineur)e(du)h(p)m(\023)
-43 b(eriph)m(\023)g(erique)p 3721 1926 V 33 2039 V 159
2005 a(345)p 436 2039 V 347 w(167)p 918 2039 V 1420 2039
V 1996 2039 V 1364 w(P)m(adding)p 3721 2039 V 33 2042
3692 4 v 92 2094 a Fz(1)165 2121 y Fw(en)30 b(o)s(ctets.)92
2207 y Fz(2)165 2234 y Fw(tous)e(les)e(c)m(hamps)i(son)m(t)g(co)s(d)m
(\023)-43 b(es)28 b(sur)e(des)h(c)m(ha)-10 b(^)-35 b(\020nes)28
b(de)f(caract)m(\022)-43 b(eres)30 b(et)e(termin)m(\023)-43
b(ees)28 b(par)f(le)g(caract)m(\022)-43 b(ere)30 b(n)m(ul)165
2347 y Fu('\\000')p Fw(,)25 b(sauf)h(les)g(c)m(hamps)g
Fn(T)-7 b(yp)i(e)30 b(de)f(\014chier)37 b Fw(et)27 b(le)f(c)m(hamp)h
Fn(T)-7 b(ail)5 b(le)29 b(du)g(\014chier)37 b Fw(\()p
Fu('\\000')25 b Fw(optionnel\).)p Black 1134 2524 a Fh(T)-8
b(ab.)30 b Fw(2.2)h({)g(Repr)m(\023)-43 b(esen)m(tation)32
b(de)e(l'en)m(t)m(^)-43 b(ete)p Black Black -71 2955
a(Sa)36 b(v)-5 b(aleur)35 b(est)h(la)f(somme)h(des)f(co)s(des)h(des)g
(caract)m(\022)-43 b(eres)38 b(de)e(l'en)m(t)m(^)-43
b(ete)38 b(\(p)s(endan)m(t)d(ce)h(calcul,)g(on)f(prend)f(comme)-71
3067 y(h)m(yp)s(oth)m(\022)-43 b(ese)30 b(que)g(le)f(le)g(c)m(hamp)g
Fu(checksum)p Fw(,)e(qui)h(n'est)i(pas)f(encore)h(conn)m(u)g(est)g
(comp)s(os)m(\023)-43 b(e)30 b(de)f(blancs)g(et)h(termin)m(\023)-43
b(e)-71 3180 y(par)30 b(le)g(caract)m(\022)-43 b(ere)33
b(n)m(ul\).)70 3321 y(Le)k(c)m(hamp)f Fu(kind)f Fw(repr)m(\023)-43
b(esen)m(te)37 b(le)f(t)m(yp)s(e)h(des)e(\014c)m(hiers)g(sur)h(un)f(o)s
(ctet.)i(Les)g(v)-5 b(aleurs)35 b(signi\014cativ)m(es)g(son)m(t)i(les)
-71 3434 y(caract)m(\022)-43 b(eres)33 b(indiqu)m(\023)-43
b(es)29 b(dans)h(le)g(tableau)g(ci-dessous)1734 3401
y Fz(4)1803 3434 y Fw(:)p 648 3638 2463 4 v 648 3751
4 113 v 701 3717 a Fu('\\0')f Fw(ou)h Fu('0')p 1241 3751
V 126 w('1')p 1535 3751 V 126 w('2')p 1781 3751 V 102
w('3')p 2027 3751 V 102 w('4')p 2273 3751 V 103 w('5')p
2520 3751 V 126 w('6')p 2813 3751 V 149 w('7')p 3107
3751 V 648 3755 2463 4 v 648 3868 4 113 v 875 3834 a(REG)p
1241 3868 V 275 w(LINK)p 1535 3868 V 102 w(LNK)p 1781
3868 V 102 w(CHR)p 2027 3868 V 102 w(BLK)p 2273 3868
V 103 w(DIR)p 2520 3868 V 102 w(FIFO)p 2813 3868 V 102
w(CONT)p 3107 3868 V 648 3871 2463 4 v -71 4117 a Fw(La)25
b(plupart)e(des)i(cas)h(corresp)s(onden)m(t)e(au)h(t)m(yp)s(e)g
Fu(st_link)e Fw(des)h(t)m(yp)s(es)h(de)g(\014c)m(hier)f(Unix.)g(Le)h
(cas)h Fu(LINK)e Fw(repr)m(\023)-43 b(esen)m(te)-71 4230
y(des)25 b(liens)e(durs)h(:)h(ceux-ci)g(on)m(t)h(le)f(m)m(^)-43
b(eme)26 b(n\033ud)e(\()p Fn(ino)-5 b(de)7 b Fw(\))26
b(mais)f(accessible)g(par)f(deux)h(c)m(hemins)f(di\013)m(\023)-43
b(eren)m(ts)15 b(;)26 b(dans)-71 4343 y(ce)32 b(cas,)f(le)g(lien)e
(doit)h(obligatoiremen)m(t)h(mener)g(\022)-45 b(a)31
b(un)f(autre)h(\014c)m(hier)f(d)m(\023)-43 b(ej\022)e(a)32
b(d)m(\023)-43 b(e\014ni)30 b(dans)g(l'arc)m(hiv)m(e.)h(Le)g(cas)g
Fu(CONT)-71 4456 y Fw(repr)m(\023)-43 b(esen)m(te)26
b(un)d(\014c)m(hier)g(ordinaire,)f(mais)h(qui)g(est)i(repr)m(\023)-43
b(esen)m(t)m(\023)g(e)26 b(par)e(une)f(zone)i(m)m(\023)-43
b(emoire)25 b(con)m(tigu)m(\177)-43 b(e)25 b(\(particularit)m(\023)-43
b(e)-71 4569 y(des)31 b(certains)g(syst)m(\022)-43 b(emes)33
b(de)e(\014c)m(hiers,)f(on)h(p)s(ourra)f(donc)h(le)g(traiter)g(comme)h
(un)e(\014c)m(hier)g(ordinaire\).)g(Le)h(c)m(hamp)-71
4682 y Fo(link)47 b Fw(repr)m(\023)-43 b(esen)m(te)34
b(le)e(lien)e(lorsque)h Fu(kind)g Fw(v)-5 b(aut)33 b
Fu(LNK)e Fw(ou)h Fu(LINK)p Fw(.)g(Les)g(c)m(hamps)g Fo(major)47
b Fw(et)33 b Fo(minor)46 b Fw(repr)m(\023)-43 b(esen)m(ten)m(t)-71
4795 y(les)27 b(n)m(um)m(\023)-43 b(eros)28 b(ma)5 b(jeurs)27
b(et)i(mineur)c(du)i(p)m(\023)-43 b(eriph)m(\023)g(erique)27
b(dans)f(le)i(cas)g(ou)g(le)f(c)m(hamp)h Fu(kind)e Fw(v)-5
b(aut)28 b Fu(CHR)f Fw(ou)g Fu(BLK)p Fw(.)g(Ces)-71 4908
y(trois)j(c)m(hamps)g(son)m(t)h(in)m(utilis)m(\023)-43
b(es)28 b(dans)i(les)g(autres)g(cas.)70 5049 y(La)k(v)-5
b(aleur)33 b(du)g(c)m(hamp)h Fu(kind)f Fw(est)i(naturellemen)m(t)e
(repr)m(\023)-43 b(esen)m(t)m(\023)g(e)36 b(par)e(un)f(t)m(yp)s(e)h
(concret)h(et)f(l'en)m(t)m(^)-43 b(ete)37 b(par)c(un)-71
5161 y(enregistremen)m(t)e(:)p Black -71 5352 1560 4
v 33 5406 a Fl(4)67 5438 y Fk(Ce)j(c)n(hamp)e(p)r(eut)f(\023)-36
b(egalemen)n(t)34 b(prendre)e(d'autres)i(v)l(aleurs)f(p)r(our)h(co)r
(der)g(des)f(cas)h(pathologiques,)h(par)e(exemple)g(lorsque)g(la)-71
5529 y(v)l(aleur)26 b(d'un)f(c)n(hamp)f(d)n(\023)-36
b(eb)r(orde)25 b(la)i(place)f(r)n(\023)-36 b(eserv)n(\023)g(ee)26
b(dans)g(l'en)n(t)n(^)-36 b(ete,)26 b(ou)g(dans)f(des)h(extensions)g
(de)f(la)i(commande)d Fj(tar)p Fk(.)p Black Black Black
eop
%%Page: 32 32
32 31 bop Black -71 24 a Fw(32)2520 b Fs(CHAPITRE)29
b(2.)62 b(LES)29 b(FICHIERS)p Black 193 355 a Fz(1)83
b Fv(op)s(en)48 b Fu(Sys)193 468 y Fz(2)83 b Fv(op)s(en)48
b Fu(Unix)193 581 y Fz(3)193 694 y(4)83 b Fv(t)m(yp)s(e)48
b Fu(kind)e(=)193 807 y Fz(5)178 b Fu(|)48 b(REG)193
920 y Fz(6)178 b Fu(|)48 b(LNK)f Fv(of)h Fu(string)193
1033 y Fz(7)178 b Fu(|)48 b(LINK)e Fv(of)i Fu(string)193
1146 y Fz(8)178 b Fu(|)48 b(CHR)f Fv(of)h Fu(int)f(*)g(int)193
1259 y Fz(9)178 b Fu(|)48 b(BLK)f Fv(of)h Fu(int)f(*)g(int)157
1372 y Fz(10)179 b Fu(|)48 b(DIR)157 1485 y Fz(11)179
b Fu(|)48 b(FIFO)157 1597 y Fz(12)179 b Fu(|)48 b(CONT)2107
363 y Fz(13)84 b Fv(t)m(yp)s(e)48 b Fu(header)e(=)h({)2107
476 y Fz(14)275 b Fu(name)46 b(:)i(string)n(;)2107 589
y Fz(15)275 b Fu(perm)46 b(:)i(int)o(;)2107 702 y Fz(16)275
b Fu(uid)47 b(:)g(int)o(;)2107 815 y Fz(17)275 b Fu(gid)47
b(:)g(int)o(;)2107 928 y Fz(18)275 b Fu(size)46 b(:)i(int)o(;)2107
1040 y Fz(19)275 b Fu(mtime)46 b(:)i(int)o(;)2107 1153
y Fz(20)275 b Fu(kind)46 b(:)i(kind)o(;)2107 1266 y Fz(21)275
b Fu(user)46 b(:)i(string)n(;)2107 1379 y Fz(22)275 b
Fu(group)46 b(:)i(string)2107 1492 y Fz(23)132 b Fu(})-71
1896 y Fv(Lecture)35 b(d'un)g(en)m(t)n(^)-50 b(ete)90
b Fw(La)31 b(lecture)f(d'un)f(en)m(t)m(^)-43 b(ete)33
b(n'est)d(pas)h(tr)m(\022)-43 b(es)31 b(in)m(t)m(\023)-43
b(eressan)m(te,)32 b(mais)e(elle)f(est)i(incon)m(tour-)-71
2009 y(nable.)157 2142 y Fz(24)84 b Fv(exception)48 b
Fu(Error)f Fv(of)h Fu(string)157 2255 y Fz(25)84 b Fv(exception)48
b Fu(Corrupted)e Fv(of)h Fu(string)157 2367 y Fz(26)84
b Fv(let)53 b Fu(corrupted)45 b(mes)i(=)g Fv(raise)h
Fu(\(Corrupted)d(mes)o(\);;)157 2480 y Fz(27)84 b Fv(let)53
b Fu(error)46 b(mes)h(=)h Fv(raise)f Fu(\(Error)f(mes\);;)157
2593 y Fz(28)84 b Fv(let)53 b Fu(handle_error)44 b(f)k(s)f(=)157
2706 y Fz(29)179 b Fv(try)48 b Fu(f)f(s)h Fv(with)157
2819 y Fz(30)179 b Fu(|)48 b(Corrupted)d(mes)i(->)157
2932 y Fz(31)370 b Fu(prerr_endline)44 b(\(Printf)o(.)o(sprintf)i
Fo("Corrupted)f(archive)n(:)j(\045)o(s")g Fu(mes)o(\);)157
3045 y Fz(32)370 b Fu(exit)47 b(2)157 3158 y Fz(33)179
b Fu(|)48 b(Error)e(mes)h(->)157 3271 y Fz(34)370 b Fu(prerr_endline)44
b(\(Printf)o(.)o(sprintf)i Fo("Error)n(:)i(\045s)o(")g
Fu(mes)o(\);)157 3384 y Fz(35)370 b Fu(exit)47 b(1)157
3497 y Fz(36)157 3610 y(37)84 b Fv(let)53 b Fu(substring)45
b(s)j(offset)e(len)h(=)157 3722 y Fz(38)179 b Fv(let)48
b Fu(max_length)d(=)i(min)g(\(offset)f(+)h(len)g(+)h(1\))f(\(String)n
(.length)f(s\))h Fv(in)157 3835 y Fz(39)179 b Fv(let)48
b(rec)g Fu(real_length)d(j)i(=)157 3948 y Fz(40)275 b
Fv(if)48 b Fu(j)f(<)g(max_length)e(&&)j(s)o(.[j])f(<>)g('\\000)o(')g
Fv(then)h Fu(real_length)c(\(succ)j(j\))157 4061 y Fz(41)275
b Fv(else)48 b Fu(j)f(-)h(offset)e Fv(in)157 4174 y Fz(42)179
b Fu(String)o(.)o(sub)47 b(s)h(offset)e(\(real_length)e(offset)o(\);;)
157 4287 y Fz(43)157 4400 y(44)84 b Fv(let)53 b Fu(integer_of_octal)43
b(nbytes)j(s)i(offset)e(=)157 4513 y Fz(45)179 b Fv(let)48
b Fu(i)f(=)h(int_of_string)c(\()p Fo(")o(0o")j Fu(^)h(substring)d(s)i
(offset)f(nbytes)o(\))h Fv(in)157 4626 y Fz(46)179 b
Fv(if)56 b Fu(i)47 b(<)h(0)f Fv(then)h Fu(corrupted)d
Fo("integer)g(too)i(large)o(")g Fv(else)h Fu(i;;)157
4739 y Fz(47)157 4852 y(48)84 b Fv(let)53 b Fu(kind)46
b(s)i(i)f(=)157 4964 y Fz(49)179 b Fv(matc)m(h)47 b Fu(s.[i)o(])h
Fv(with)157 5077 y Fz(50)275 b Fu('\\000)n(')48 b(|)f('0')g(->)g(REG)
157 5190 y Fz(51)179 b Fu(|)48 b('1')f(->)g(LINK)g(\()o(substring)f(s)h
(\(succ)f(i\))i(99\))157 5303 y Fz(52)179 b Fu(|)48 b('2')f(->)g(LNK)g
(\(substring)e(s)i(\(succ)g(i)o(\))h(99\))157 5416 y
Fz(53)179 b Fu(|)48 b('3')f(->)g(CHR)g(\(integer_of_octal)c(8)k(s)h
(329,)e(integer_of_octal)e(8)j(s)h(329\))157 5529 y Fz(54)179
b Fu(|)48 b('4')f(->)g(BLK)g(\(integer_of_octal)c(8)k(s)h(329,)e
(integer_of_octal)e(8)j(s)h(337\))p Black Black eop
%%Page: 33 33
33 32 bop Black -71 24 a Fs(2.12.)63 b(EXEMPLE)30 b(:)g
Fv(T)p Fs(APE)g Fv(AR)p Fs(CHIVE)2271 b Fw(33)p Black
157 280 a Fz(55)179 b Fu(|)48 b('5')f(->)g(DIR)g(|)g('6')g(->)g(FIFO)g
(|)g('7')g(->)h(CONT)157 393 y Fz(56)179 b Fu(|)48 b(_)f(->)g
(corrupted)f Fo(")o(link)o(")157 506 y Fz(57)157 619
y(58)84 b Fv(let)53 b Fu(header_of_string)43 b(s)48 b(=)157
732 y Fz(59)179 b Fu({)48 b(name)e(=)i(substring)d(s)j(0)f(99;)157
845 y Fz(60)275 b Fu(perm)46 b(=)i(integer_of_octal)43
b(8)48 b(s)f(100;)157 958 y Fz(61)275 b Fu(uid)47 b(=)g
(integer_of_octal)d(8)j(s)g(108;)157 1071 y Fz(62)275
b Fu(gid)47 b(=)g(integer_of_octal)d(8)j(s)g(116;)157
1184 y Fz(63)275 b Fu(size)46 b(=)i(integer_of_octal)43
b(12)k(s)h(124;)157 1296 y Fz(64)275 b Fu(mtime)46 b(=)i
(integer_of_octal)43 b(12)k(s)h(136;)157 1409 y Fz(65)275
b Fu(kind)46 b(=)i(kind)f(s)g(156;)157 1522 y Fz(66)275
b Fu(user)46 b(=)i(substring)d(s)j(265)f(32;)157 1635
y Fz(67)275 b Fu(group)46 b(=)i(substring)d(s)i(297)g(32;)157
1748 y Fz(68)179 b Fu(})157 1861 y Fz(69)157 1974 y(70)84
b Fv(let)53 b Fu(block_size)45 b(=)i(512;;)157 2087 y
Fz(71)84 b Fv(let)53 b Fu(total_size)45 b(size)h(=)157
2200 y Fz(72)179 b Fu(block_size)45 b(+)j(\(\()o(block_size)d(-1)i(+)h
(size)o(\))f(/)h(block_size)m(\))f(*)h(block_size)m(;;)-71
2346 y Fw(La)35 b(\014n)f(de)g(l'arc)m(hiv)m(e)h(s'arr)m(^)-43
b(ete)37 b(soit)d(sur)g(une)g(\014n)g(de)g(\014c)m(hier)g(l\022)-45
b(a)34 b(ou)h(devrait)f(commencer)h(un)f(nouv)m(el)g(enregis-)-71
2459 y(tremen)m(t,)k(soit)e(sur)g(un)g(blo)s(c)f(complet)i(mais)f
(vide.)g(P)m(our)g(lire)g(l'en)m(t)m(^)-43 b(ete,)39
b(nous)d(dev)m(ons)h(donc)f(essa)m(y)m(er)i(de)f(lire)-71
2572 y(un)30 b(blo)s(c,)f(qui)g(doit)f(^)-43 b(etre)32
b(vide)d(ou)h(complet.)h(Nous)g(r)m(\023)-43 b(eutilisons)28
b(la)i(fonction)g Fu(really_read)e Fw(d)m(\023)-43 b(e\014nie)30
b(plus)e(haut)-71 2685 y(p)s(our)k(lire)g(un)h(blo)s(c)g(complet.)h(La)
g(\014n)e(de)i(\014c)m(hier)e(ne)i(doit)f(pas)e(^)-43
b(etre)35 b(rencon)m(tr)m(\023)-43 b(ee)36 b(en)d(dehors)g(de)g(la)h
(lecture)f(de)-71 2798 y(l'en)m(t)m(^)-43 b(ete.)157
2930 y Fz(78)84 b Fv(let)53 b Fu(buffer_size)45 b(=)i(block_size)m(;;)
157 3043 y Fz(79)84 b Fv(let)53 b Fu(buffer)46 b(=)h(String)o(.)o
(create)g(buffer_size)m(;;)157 3156 y Fz(80)157 3269
y(81)84 b Fv(let)53 b Fu(end_of_file_error)-5 b(\(\))47
b(=)h(corrupted)d Fo("end)i(of)g(file)o(")157 3382 y
Fz(82)84 b Fv(let)53 b Fu(without_end_of_file)42 b(f)48
b(x)f(=)157 3495 y Fz(83)179 b Fv(try)48 b Fu(f)f(x)h
Fv(with)f Fu(End_of_file)e(->)i(end_of_file_error)-5
b(\(\))157 3608 y Fz(84)157 3721 y(85)84 b Fv(let)53
b Fu(read_header)45 b(fd)i(=)157 3834 y Fz(86)179 b Fv(let)48
b Fu(len)f(=)g(read)g(fd)g(buffer)f(0)h(buffer_size)e
Fv(in)157 3947 y Fz(87)179 b Fv(if)56 b Fu(len)47 b(=)g(0)h(||)95
b(buffer)n(.[0])47 b(=)g('\\000)o(')g Fv(then)h Fu(None)157
4060 y Fz(88)179 b Fv(else)48 b(b)s(egin)157 4172 y Fz(89)275
b Fv(if)48 b Fu(len)e(<)i(buffer_size)d Fv(then)157 4285
y Fz(90)370 b Fu(without_end_of_file)43 b(\(really_read)h(fd)j(buffer)g
(len)o(\))g(\(buffer_size)e(-)i(len)o(\);)157 4398 y
Fz(91)275 b Fu(Some)46 b(\(header_of_string)e(buffer)n(\))157
4511 y Fz(92)179 b Fv(end)p Fu(;;)-71 4852 y Fv(Lecture)23
b(d'une)h(arc)m(hiv)m(e)91 b Fw(P)m(our)21 b(e\013ectuer)g(une)e
(quelconque)h(op)m(\023)-43 b(eration)21 b(dans)f(une)f(arc)m(hiv)m(e,)
i(il)e(est)i(n)m(\023)-43 b(ecessaire)-71 4964 y(de)29
b(lire)e(l'ensem)m(ble)h(des)h(enregistremen)m(ts)g(dans)f(l'ordre)g
(au)h(moins)e(jusqu'\022)-45 b(a)29 b(trouv)m(er)g(celui)e(qui)h
(corresp)s(ond)g(\022)-45 b(a)-71 5077 y(l'op)m(\023)i(eration)35
b(\022)-45 b(a)35 b(e\013ectuer.)h(P)m(ar)e(d)m(\023)-43
b(efaut,)36 b(il)d(su\016t)h(de)g(lire)f(l'en)m(t)m(^)-43
b(ete)37 b(de)d(c)m(haque)h(enregistremen)m(t,)g(sans)g(a)m(v)m(oir)g
(\022)-45 b(a)-71 5190 y(en)34 b(lire)f(le)h(con)m(ten)m(u.)i(Souv)m
(en)m(t,)f(il)e(su\016ra)h(de)g(lire)f(le)h(con)m(ten)m(u)h(de)f
(l'enregistremen)m(t)h(rec)m(herc)m(h)m(\023)-43 b(e)36
b(ou)e(de)h(lire)d(le)-71 5303 y(con)m(ten)m(u)j(apr)m(\022)-43
b(es)35 b(coup)g(d'un)d(enregistremen)m(t)j(le)f(pr)m(\023)-43
b(ec)m(\023)g(eden)m(t.)37 b(P)m(our)d(cela,)h(il)e(faut)h(garder)g(p)s
(our)f(c)m(haque)i(enre-)-71 5416 y(gistremen)m(t)g(en)e(plus)g(de)h
(son)f(en)m(t)m(^)-43 b(ete)37 b(une)d(information)e(sur)h(sa)h(p)s
(osition)f(dans)g(l'arc)m(hiv)m(e.)h(Nous)g(utilisons)d(le)-71
5529 y(t)m(yp)s(e)g(suiv)-5 b(an)m(t)29 b(p)s(our)g(les)h
(enregistremen)m(ts)h(:)p Black Black eop
%%Page: 34 34
34 33 bop Black -71 24 a Fw(34)2520 b Fs(CHAPITRE)29
b(2.)62 b(LES)29 b(FICHIERS)p Black 311 280 a Fv(t)m(yp)s(e)48
b Fu(record)e(=)h({)g(header)g(:)g(header)n(;)h(offset)e(:)h(int;)g
(descr)f(:)i(file_descr)d(};;)-71 414 y Fw(Nous)37 b(allons)f(main)m
(tenan)m(t)f(\023)-43 b(ecrire)38 b(un)e(it)m(\023)-43
b(erateur)38 b(g)m(\023)-43 b(en)m(\023)g(eral)39 b(qui)d(lit)g(les)h
(enregistremen)m(t)h(\(sans)f(leur)f(con)m(ten)m(u\))-71
527 y(et)46 b(les)e(accum)m(ulen)m(t.)h(T)-8 b(outefois)45
b(p)s(our)40 b(^)-43 b(etre)46 b(g)m(\023)-43 b(en)m(\023)g(eral)47
b(nous)d(restons)h(abstrait)f(par)g(rapp)s(ort)g(\022)-45
b(a)45 b(la)f(fonction)-71 640 y(d'accum)m(ulation)30
b Ft(f)40 b Fw(\(qui)29 b(p)s(eut)h(tr)m(\022)-43 b(es)31
b(bien)e(les)h(a)5 b(jouter)31 b(\022)-45 b(a)31 b(ceux)f(d)m(\023)-43
b(ej\022)e(a)32 b(lus,)d(les)h(imprimer,)d(les)j(jeter,)h
Fn(etc.)p Fw(\))157 773 y Fz(93)84 b Fv(let)53 b Fu(fold)46
b(f)i(initial)e(fd)95 b(=)157 885 y Fz(94)179 b Fv(let)48
b(rec)g Fu(fold_aux)d(offset)i(accu)f(=)157 998 y Fz(95)275
b Fu(ignore)46 b(\(without_end_of_file)c(\(lseek)k(fd)h(offset)o(\))g
(SEEK_SET)n(\);)157 1111 y Fz(96)275 b Fv(matc)m(h)47
b Fu(without_end_of_file)42 b(read_header)j(fd)i Fv(with)157
1224 y Fz(97)370 b Fu(Some)47 b(h)g(->)157 1337 y Fz(98)466
b Fv(let)47 b Fu(r)h(=)157 1450 y Fz(99)561 b Fu({)48
b(header)e(=)h(h;)g(offset)f(=)i(offset)e(+)h(block_size)n(;)g(descr)g
(=)g(fd)g(})h Fv(in)122 1563 y Fz(100)466 b Fu(fold_aux)45
b(\(offset)h(+)i(total_size)d(h)o(.size)o(\))i(\(f)h(r)f(accu)o(\))122
1676 y Fz(101)275 b Fu(|)47 b(None)g(->)g(accu)g Fv(in)122
1789 y Fz(102)179 b Fu(fold_aux)46 b(0)h(initial)n(;;)-71
1923 y Fw(Une)21 b(\023)-43 b(etap)s(e)24 b(de)f Fu(fold_aux)e
Fw(commence)j(\022)-45 b(a)23 b(une)g(p)s(osition)e Fu(offset)g
Fw(a)m(v)m(ec)k(un)d(r)m(\023)-43 b(esultat)24 b(partiel)e
Fu(accu)p Fw(.)g(Elle)g(consiste)-71 2036 y(\022)-45
b(a)29 b(se)f(placer)g(\022)-45 b(a)28 b(la)g(p)s(osition)e
Fu(offset)p Fw(,)h(qui)f(doit)f(^)-43 b(etre)30 b(le)d(d)m(\023)-43
b(ebut)29 b(d'un)d(enregistremen)m(t,)j(lire)e(l'en)m(t)m(^)-43
b(ete,)30 b(construire)-71 2149 y(l'enregistremen)m(t)c
Fu(r)g Fw(puis)f(recommencer)i(\022)-45 b(a)27 b(la)f(\014n)f(de)i
(l'enregistremen)m(t)f(a)m(v)m(ec)i(le)e(nouv)m(eau)h(r)m(\023)-43
b(esultat)27 b Fu(f)48 b(r)f(accu)-71 2261 y Fw(\(moins)27
b(partiel\).)h(On)f(s'arr)m(^)-43 b(ete)29 b(lorsque)e(il)g(l'en)m(t)m
(^)-43 b(ete)30 b(est)e(vide,)g(ce)g(qui)f(signi\014e)f(qu'on)i(est)g
(\022)-45 b(a)29 b(la)e(\014n)g(de)h(l'arc)m(hiv)m(e.)-71
2510 y Fv(A\016c)m(hage)53 b(de)f(la)g(liste)g(des)g(enregistremen)m
(ts)g(d'une)g(arc)m(hiv)m(e)92 b Fw(Il)44 b(su\016t)h(simplemen)m(t)f
(d'a\016c)m(her)-71 2623 y(l'ensem)m(ble)30 b(des)g(enregistremen)m
(ts,)g(au)h(fur)e(et)i(\022)-45 b(a)31 b(mesure,)f(sans)g(a)m(v)m(oir)h
(\022)-45 b(a)30 b(les)g(conserv)m(er)h(:)122 2756 y
Fz(103)84 b Fv(let)53 b Fu(list)46 b(tarfile)g(=)122
2869 y Fz(104)179 b Fv(let)48 b Fu(fd)f(=)g(openfile)f(tarfile)g([)h
(O_RDONLY)f(])h(0o0)g Fv(in)122 2981 y Fz(105)179 b Fv(let)48
b Fu(add)f(r)g(\(\))g(=)h(print_string)c(r.header)n(.name)o(;)j
(print_newline)m(\(\))g Fv(in)122 3094 y Fz(106)179 b
Fu(fold)47 b(add)g(\(\))g(fd;)122 3207 y Fz(107)179 b
Fu(close)47 b(fd)-71 3476 y Fv(A\016c)m(hage)29 b(du)g(con)m(ten)m(u)g
(d'un)g(\014c)m(hier)g(dans)g(une)g(arc)m(hiv)m(e)91
b Fw(La)25 b(commande)g Fu(readtar)e Ft(a)i(f)34 b Fw(doit)24
b(rec)m(her-)-71 3588 y(c)m(her)32 b(le)g(\014c)m(hier)f(de)h(nom)f
Ft(f)41 b Fw(dans)32 b(l'arc)m(hiv)m(e)g(et)g(l'a\016c)m(her)g(si)f
(c'est)i(un)e(\014c)m(hier)g(r)m(\023)-43 b(egulier.)32
b(De)g(plus)e(si)h(le)h(c)m(hemin)-71 3701 y Ft(f)49
b Fw(m)m(^)-43 b(eme)41 b(dans)e(l'arc)m(hiv)m(e)h(\022)-45
b(a)40 b(un)e(lien)g(dur)g(v)m(ers)i Ft(g)s Fw(,)h(nous)e(allons)f
(suivre)g(ce)j(lien)d(et)i(a\016c)m(her)g(le)g(con)m(ten)m(u)g(de)-71
3814 y Ft(g)35 b Fw(:)d(en)g(e\013et,)g(dans)f(l'arc)m(hiv)m(e)h
Ft(f)41 b Fw(et)32 b Ft(g)j Fw(son)m(t)d(repr)m(\023)-43
b(esen)m(t)m(\023)g(es)34 b(di\013)m(\023)-43 b(eremmen)m(t,)33
b(alors)e(qu'\022)-45 b(a)31 b(la)h(cr)m(\023)-43 b(eation)33
b(de)e(l'arc)m(hiv)m(e)-71 3927 y(ils)36 b(d)m(\023)-43
b(esignaien)m(t)39 b(exactemen)m(t)h(le)d(m)m(^)-43 b(eme)40
b(\014c)m(hier.)d(Le)h(fait)f(que)h Ft(g)k Fw(soit)37
b(un)g(lien)f(v)m(ers)j Ft(f)47 b Fw(ou)37 b(l'in)m(v)m(erse)h(d)m
(\023)-43 b(ep)s(end)-71 4040 y(uniquemen)m(t)38 b(de)h(l'ordre)g(dans)
f(lequel)g(les)h(\014c)m(hiers)f(on)m(t)g(\023)-43 b(et)m(\023)g(e)42
b(parcourus)c(\022)-45 b(a)40 b(la)f(cr)m(\023)-43 b(eation)40
b(de)g(l'arc)m(hiv)m(e.)f(P)m(our)-71 4153 y(l'instan)m(t)30
b(nous)f(ne)i(suiv)m(ons)e(pas)h(les)g(liens)e(sym)m(b)s(oliques.)70
4267 y(L'essen)m(tiel)33 b(de)h(la)f(r)m(\023)-43 b(esolution)33
b(des)g(liens)e(sym)m(b)s(olique)h(est)i(e\013ectu)m(\023)-43
b(ee)36 b(par)d(les)g(deux)f(fonctions)h(suiv)-5 b(an)m(tes,)-71
4380 y(d)m(\023)-43 b(e\014nies)30 b(r)m(\023)-43 b(ecursiv)m(emen)m
(t.)122 4513 y Fz(108)84 b Fv(let)53 b(rec)48 b Fu(find_regular)c(r)k
(list)f(=)122 4626 y Fz(109)179 b Fv(matc)m(h)47 b Fu(r.header)n(.kind)
g Fv(with)122 4739 y Fz(110)179 b Fu(|)48 b(REG)f(|)g(CONT)g(->)g(r)122
4852 y Fz(111)179 b Fu(|)48 b(LINK)e(name)h(->)g(find_file)f(name)g
(list)122 4964 y Fz(112)179 b Fu(|)48 b(_)f(->)g(error)g
Fo("Not)f(a)i(regular)e(file)o(")122 5077 y Fz(113)84
b Fv(and)48 b Fu(find_file)d(name)i(list)f(=)122 5190
y Fz(114)179 b Fv(matc)m(h)47 b Fu(list)g Fv(with)122
5303 y Fz(115)275 b Fu(r)47 b(::)g(rest)g(->)122 5416
y Fz(116)370 b Fv(if)48 b Fu(r.)o(header)o(.name)e(=)i(name)e
Fv(then)i Fu(find_regular)c(r)k(rest)122 5529 y Fz(117)370
b Fv(else)48 b Fu(find_file)d(name)i(rest)p Black Black
eop
%%Page: 35 35
35 34 bop Black -71 24 a Fs(2.12.)63 b(EXEMPLE)30 b(:)g
Fv(T)p Fs(APE)g Fv(AR)p Fs(CHIVE)2271 b Fw(35)p Black
122 280 a Fz(118)179 b Fu(|)48 b([])f(->)g(corrupted)e
Fo("Link)i(not)g(found)n(")p Fu(;;)-71 416 y Fw(La)21
b(fonction)g Fu(find_regular)c Fw(trouv)m(e)22 b(le)e(\014c)m(hier)g(r)
m(\023)-43 b(egulier)20 b(corresp)s(ondan)m(t)g(\022)-45
b(a)22 b(un)d(enregistremen)m(t)i(\(son)g(premier\))-71
529 y(argumen)m(t.)45 b(Si)e(celui-ci)g(est)i(un)e(\014c)m(hier)g(r)m
(\023)-43 b(egulier,)44 b(c'est)i(gagn)m(\023)-43 b(e.)47
b(Si)c(c'est)i(un)e(\014c)m(hier)h(sp)m(\023)-43 b(ecial)44
b(\(ou)h(un)e(lien)-71 642 y(sym)m(b)s(olique\),)26 b(c'est)j(p)s
(erdu.)d(Il)h(reste)h(le)f(cas)h(d'un)f(lien)f(dur)g(:)i(la)f(fonction)
g(rec)m(herc)m(he)i(ce)f(lien)e(dans)h(la)h(liste)e(des)-71
755 y(enregistremen)m(ts)31 b(de)f(l'arc)m(hiv)m(e)g(\(deuxi)m(\022)-43
b(eme)31 b(argumen)m(t\))g(en)f(app)s(elan)m(t)g(la)g(fonction)g
Fu(find_file)p Fw(.)70 871 y(Un)25 b(fois)f(l'enregistremen)m(t)g
(trouv)m(\023)-43 b(e)26 b(il)d(n'y)i(a)g(plus)e(qu'\022)-45
b(a)24 b(a\016c)m(her)i(son)e(con)m(ten)m(u.)i(Cette)g(op)m(\023)-43
b(eration)26 b(ressem)m(ble)-71 984 y(fortemen)m(t)43
b(\022)-45 b(a)42 b(la)f(fonction)h Fu(file_copy)p Fw(,)d(une)i(fois)g
(le)h(descripteur)e(p)s(ositionn)m(\023)-43 b(e)41 b(du)f(d)m(\023)-43
b(ebut)42 b(du)f(\014c)m(hier)g(dans)-71 1097 y(l'arc)m(hiv)m(e.)122
1229 y Fz(119)84 b Fv(let)53 b Fu(copy_file)45 b(file)i(output)f(=)122
1342 y Fz(120)179 b Fu(ignore)46 b(\(lseek)h(file)n(.descr)g(file)n
(.offset)f(SEEK_SET)n(\);)122 1455 y Fz(121)179 b Fv(let)48
b(rec)g Fu(copy_loop)d(len)i(=)122 1568 y Fz(122)275
b Fv(if)48 b Fu(len)e(>)i(0)f Fv(then)122 1681 y Fz(123)370
b Fv(matc)m(h)47 b Fu(read)g(file)o(.descr)f(buffer)g(0)h(\(min)g
(buffer_size)e(len)o(\))i Fv(with)122 1794 y Fz(124)466
b Fu(0)47 b(->)g(end_of_file_error)l(\(\))122 1906 y
Fz(125)370 b Fu(|)48 b(r)f(->)g(ignore)f(\(write)h(output)f(buffer)g(0)
h(r\);)g(copy_loop)e(\(len)o(-r\))i Fv(in)122 2019 y
Fz(126)179 b Fu(copy_loop)46 b(file)o(.)o(header)o(.)o(size)-71
2155 y Fw(Il)30 b(ne)g(reste)h(plus)d(qu'\022)-45 b(a)31
b(com)m(biner)e(les)h(trois)g(pr)m(\023)-43 b(ec)m(\023)g(eden)m(ts.)
122 2287 y Fz(127)84 b Fv(exception)48 b Fu(Done)122
2400 y Fz(128)84 b Fv(let)53 b Fu(find_and_copy)44 b(tarfile)i
(filename)f(=)122 2513 y Fz(129)179 b Fv(let)48 b Fu(fd)f(=)g(openfile)
f(tarfile)g([)h(O_RDONLY)f(])h(0o0)g Fv(in)122 2626 y
Fz(130)179 b Fv(let)48 b Fu(found_or_collect)43 b(r)48
b(accu)e(=)122 2739 y Fz(131)275 b Fv(if)48 b Fu(r)o(.header)n(.name)f
(=)g(filename)f Fv(then)h(b)s(egin)122 2852 y Fz(132)370
b Fu(copy_file)46 b(\()o(find_regular)f(r)i(accu)o(\))h(stdout)n(;)122
2965 y Fz(133)370 b Fv(raise)48 b Fu(Done)122 3078 y
Fz(134)275 b Fv(end)48 b(else)f Fu(r)h(::)f(accu)g Fv(in)122
3191 y Fz(135)179 b Fv(try)122 3304 y Fz(136)323 b Fu(ignore)46
b(\()o(fold)h(found_or_collect)c([])48 b(fd)o(\);)122
3417 y Fz(137)323 b Fu(error)46 b Fo("File)g(not)h(found)o(")122
3529 y Fz(138)179 b Fv(with)122 3642 y Fz(139)g Fu(|)48
b(Done)e(->)i(close)e(fd)-71 3778 y Fw(On)26 b(lit)g(les)g
(enregistremen)m(ts)h(de)g(l'arc)m(hiv)m(e)g(\(sans)g(lire)e(leur)g
(con)m(ten)m(u\))k(jusqu'\022)-45 b(a)26 b(rencon)m(trer)h(un)f
(enregistremen)m(t)-71 3891 y(du)f(nom)g(rec)m(herc)m(h)m(\023)-43
b(e.)28 b(On)c(app)s(elle)g(la)h(fonction)g Fu(find_regular)e
Fw(p)s(our)h(rec)m(herc)m(he)i(dans)f(la)g(liste)g(des)g(enregistre-)
-71 4004 y(men)m(ts)32 b(lus,)f(celui)g(qui)f(con)m(tien)m(t)k(vraimen)
m(t)d(le)h(\014c)m(hier.)f(Cette)i(seconde)g(rec)m(herc)m(he,)g(en)f
(arri)m(\022)-43 b(ere,)32 b(doit)g(toujours)-71 4117
y(r)m(\023)-43 b(eussir)39 b(si)g(l'arc)m(hiv)m(e)h(est)h(bien)d(form)m
(\023)-43 b(ee.)42 b(P)m(ar)e(con)m(tre)h(la)f(premi)m(\022)-43
b(ere)40 b(rec)m(herc)m(he,)h(en)f(a)m(v)-5 b(an)m(t,)42
b(v)-5 b(a)37 b(\023)-43 b(ec)m(houer)41 b(si)e(le)-71
4230 y(\014c)m(hier)e(n'est)i(pas)e(dans)h(l'arc)m(hiv)m(e.)g(Nous)g(a)
m(v)m(ons)h(pris)d(soin)h(de)h(distinguer)e(les)h(erreurs)g(due)h(\022)
-45 b(a)38 b(une)g(arc)m(hiv)m(e)-71 4343 y(corrompue)30
b(ou)g(\022)-45 b(a)31 b(une)f(rec)m(herc)m(he)h(infructueuse.)70
4459 y(Et)g(v)m(oici)f(la)g(fonction)g(principale)d(qui)i(r)m(\023)-43
b(ealise)31 b(la)f(commande)h Fu(readtar)d Fw(:)122 4591
y Fz(140)84 b Fv(let)53 b Fu(readtar)46 b(\(\))h(=)122
4704 y Fz(141)179 b Fv(let)48 b Fu(nargs)e(=)i(Array)n(.length)e(Sys)o
(.argv)h Fv(in)122 4817 y Fz(142)179 b Fv(if)56 b Fu(nargs)46
b(=)i(2)f Fv(then)h Fu(list)e(Sys)o(.argv)o(.\(1\))122
4930 y Fz(143)179 b Fv(else)48 b(if)g Fu(nargs)e(=)i(3)f
Fv(then)h Fu(find_and_copy)c(Sys)o(.argv)o(.\(1\))i(Sys)o(.argv)o
(.\(2\))122 5043 y Fz(144)179 b Fv(else)122 5156 y Fz(145)275
b Fu(prerr_endline)44 b(\()p Fo(")o(Usage)o(:)k(")f Fu(^Sys)o(.argv)o
(.\(0\)^)f Fo(")h(<tarfile)n(>)h([)f(<source)n(>)h(])o(")p
Fu(\);;)122 5269 y Fz(146)122 5381 y(147)84 b Fu(handle_unix_error)43
b(\(handle_error)h(readtar)n(\))k(\(\);;)p Black Black
eop
%%Page: 36 36
36 35 bop Black -71 24 a Fw(36)2520 b Fs(CHAPITRE)29
b(2.)62 b(LES)29 b(FICHIERS)p Black Black -71 280 a Fv(Exercice)36
b(5)p Black 460 257 a Fn(\023)446 280 y(Etendr)-5 b(e)39
b(la)g(c)-5 b(ommande)40 b Fu(readtar)c Fn(p)-5 b(our)39
b(qu'el)5 b(le)37 b(suive)g(les)h(liens)g(symb)-5 b(oliques,)39
b(c'est-\022)-46 b(a)38 b(dir)-5 b(e-)-71 393 y(p)g(our)37
b(qu'el)5 b(le)34 b(a\016che)h(le)h(c)-5 b(ontenu)35
b(du)g(\014chier)h(si)f(l'ar)-5 b(chive)36 b(avait)d(\023)-44
b(et)n(\023)g(e)36 b(au)f(pr)n(\023)-44 b(ealable)36
b(extr)-5 b(aite)37 b(et)e(si)g(c)-5 b(e)35 b(\014chier)-71
506 y(c)-5 b(orr)g(esp)g(ond)36 b(\022)-46 b(a)33 b(un)g(\014chier)g
(de)f(l'ar)-5 b(chive.)70 619 y(Derri)n(\022)-44 b(er)-5
b(e)33 b(l'app)-5 b(ar)g(enc)g(e)35 b(triviale)d(de)h(c)-5
b(ette)32 b(g)n(\023)-44 b(en)n(\023)g(er)-5 b(alisation)34
b(se)e(c)-5 b(achent)33 b(quelques)e(di\016cult)n(\023)-44
b(es,)33 b(c)-5 b(ar)33 b(les)f(liens)-71 732 y(symb)-5
b(oliques)25 b(sont)f(des)g(chemins)g(quelc)-5 b(onques)23
b(qui)g(p)-5 b(euvent)24 b(ne)f(p)-5 b(as)25 b(c)-5 b(orr)g(esp)g(ondr)
g(e)28 b(exactement)c(\022)-46 b(a)24 b(des)g(chemins)-71
845 y(de)32 b(l'ar)-5 b(chive)33 b(ou)f(c)-5 b(arr)n(\023)-44
b(ement)34 b(p)-5 b(ointer)33 b(en)f(dehors)i(de)e(l'ar)-5
b(chive)33 b(\(ils)f(p)-5 b(euvent)32 b(c)-5 b(ontenir)33
b(des)g Fu(..)p Fn(\).)e(De)g(plus,)i(les)-71 958 y(liens)g(symb)-5
b(oliques)33 b(p)-5 b(euvent)33 b(d)n(\023)-44 b(esigner)33
b(des)g(r)n(\023)-44 b(ep)-5 b(ertoir)g(es)35 b(\(c)-5
b(e)33 b(qui)f(est)g(inter)-5 b(dit)34 b(p)-5 b(our)34
b(les)f(liens)g(durs\).)3104 1071 y Fw(\(V)-8 b(oir)31
b(le)f(corrig)m(\023)-43 b(e\))p 3783 1021 47 4 v 3783
1068 4 47 v 3826 1068 V 3783 1071 47 4 v Black -71 1283
a Fv(Exercice)36 b(6)p Black 460 1260 a Fn(\023)446 1283
y(Ecrir)-5 b(e)46 b(une)e(c)-5 b(ommande)47 b Fu(untar)d
Fn(tel)5 b(le)45 b(que)f Fu(untar)g Ft(a)h Fn(extr)-5
b(ait)46 b(et)f(cr)n(\023)-44 b(ee)45 b(tous)g(les)g(\014chiers)h(de)
-71 1396 y(l'ar)-5 b(chive)40 b Ft(a)f Fn(\(sauf)g(les)g(\014chiers)g
(sp)n(\023)-44 b(eciaux\))39 b(en)g(r)n(\023)-44 b(etablissant)40
b(si)f(p)-5 b(ossible)40 b(les)f(informations)i(sur)e(les)g(\014chiers)
-71 1509 y(\(pr)-5 b(opri)n(\023)-44 b(etair)-5 b(es,)36
b(dr)-5 b(oits)34 b(d'ac)-5 b(c)n(\022)-44 b(es\))34
b(indiqu)n(\023)-44 b(es)32 b(dans)i(l'ar)-5 b(chive.)70
1622 y(L'arb)g(or)g(esc)g(enc)g(e)37 b(de)e(l'ar)-5 b(chive)36
b(ne)f(doit)h(c)-5 b(ontenir)36 b(que)e(des)h(chemins)h(r)-5
b(elatifs,)36 b(sans)g(jamais)g(p)-5 b(ointer)36 b(vers)-71
1735 y(un)31 b(r)n(\023)-44 b(ep)-5 b(ertoir)g(e)34 b(p)-5
b(ar)g(ent)33 b(\(donc)g(sans)f(p)-5 b(ourvoir)33 b(p)-5
b(ointer)33 b(en)e(dehors)i(de)f(l'ar)-5 b(chive\),)32
b(mais)g(on)g(devr)-5 b(a)33 b(le)e(d)n(\023)-44 b(ete)-5
b(cter)-71 1848 y(et)41 b(r)-5 b(efuser)41 b(de)f(cr)n(\023)-44
b(eer)41 b(des)g(\014chiers)g(ail)5 b(leurs)41 b(que)f(dans)i(un)e
(sous-r)n(\023)-44 b(ep)-5 b(ertoir)g(e)43 b(du)e(r)n(\023)-44
b(ep)-5 b(ertoir)g(e)43 b(c)-5 b(our)g(ant.)42 b(L'ar-)-71
1961 y(b)-5 b(or)g(esc)g(enc)g(e)43 b(est)f(r)-5 b(e)g(c)g(onstruite)43
b(\022)-46 b(a)42 b(la)g(p)-5 b(osition)44 b(o)q(\022)-48
b(u)42 b(l'on)g(se)g(tr)-5 b(ouve)42 b(\022)-46 b(a)42
b(l'app)-5 b(el)43 b(de)f(la)g(c)-5 b(ommande)44 b Fu(untar)p
Fn(.)c(L)-5 b(es)-71 2074 y(r)n(\023)-44 b(ep)-5 b(ertoir)g(es)31
b(non)e(mentionn)n(\023)-44 b(es)30 b(explicitement)g(dans)f(l'ar)-5
b(chive)30 b(qui)e(n)-9 b('existent)29 b(p)-5 b(as)30
b(sont)g(cr)n(\023)-44 b(e)n(\023)g(es)28 b(ave)-5 b(c)29
b(les)g(dr)-5 b(oits)-71 2186 y(p)g(ar)34 b(d)n(\023)-44
b(efaut)33 b(de)g(l'utilisateur)h(qui)e(lanc)-5 b(e)33
b(la)g(c)-5 b(ommande.)1207 b Fw(\(V)-8 b(oir)31 b(le)f(corrig)m(\023)
-43 b(e\))p 3783 2137 V 3783 2183 4 47 v 3826 2183 V
3783 2186 47 4 v Black -71 2399 a Fv(Exercice)36 b(7)p
Black 460 2376 a Fn(\023)446 2399 y(Ecrir)-5 b(e)33 b(une)g(c)-5
b(ommande)35 b Fu(tar)d Fn(tel)5 b(le)32 b(que)g Fu(tar)g
Ft(a)h(f)2190 2413 y Fz(1)2262 2399 y Ft(f)2307 2413
y Fz(2)2394 2399 y Ft(:)15 b(:)g(:)33 b Fn(c)-5 b(onstruise)34
b(l'ar)-5 b(chive)34 b Ft(a)f Fn(\022)-46 b(a)33 b(p)-5
b(artir)35 b(de)-71 2512 y(la)e(liste)g(des)g(\014chiers)g
Ft(f)744 2526 y Fz(1)783 2512 y Fn(,)g Ft(f)889 2526
y Fz(2)928 2512 y Fn(,)f Fw(etc.)i Fn(et)e(de)h(leurs)g(sous-r)n(\023)
-44 b(ep)-5 b(ertoir)g(es.)p 3783 2462 V 3783 2509 4
47 v 3826 2509 V 3783 2512 47 4 v Black Black eop
%%Page: 37 37
37 36 bop Black Black -71 903 a Fr(Chapitre)66 b(3)-71
1319 y FB(Les)77 b(pro)6 b(cessus)70 1764 y Fw(Un)29
b(pro)s(cessus)g(est)h(un)e(programme)i(en)f(train)g(de)g(s'ex)m(\023)
-43 b(ecuter.)32 b(Un)d(pro)s(cessus)g(se)g(comp)s(ose)h(d'un)e(texte)j
(de)-71 1877 y(programme)j(\(du)f(co)s(de)h(mac)m(hine\))f(et)i(d'un)30
b(\023)-43 b(etat)35 b(du)e(programme)h(\(p)s(oin)m(t)f(de)g(con)m(tr^)
-45 b(ole)35 b(couran)m(t,)g(v)-5 b(aleur)32 b(des)-71
1990 y(v)-5 b(ariables,)29 b(pile)g(des)h(retours)g(de)g(fonctions)g
(en)h(atten)m(te,)h(descripteurs)d(de)h(\014c)m(hiers)g(ouv)m(erts,)h
(etc.\))70 2103 y(Cette)36 b(partie)e(pr)m(\023)-43 b(esen)m(te)36
b(les)e(app)s(els)f(syst)m(\022)-43 b(emes)35 b(Unix)f(p)s(ermettan)m
(t)h(de)f(cr)m(\023)-43 b(eer)36 b(de)e(nouv)m(eaux)h(pro)s(cessus)e
(et)-71 2216 y(de)d(leur)f(faire)h(ex)m(\023)-43 b(ecuter)33
b(d'autres)d(programmes.)-71 2505 y Fq(3.1)135 b(Cr)m(\023)-64
b(eation)47 b(de)e(pro)t(cessus)70 2708 y Fw(L'app)s(el)29
b(syst)m(\022)-43 b(eme)32 b Fu(fork)d Fw(p)s(ermet)h(de)g(cr)m(\023)
-43 b(eer)32 b(un)e(pro)s(cessus.)311 2841 y Fu(fork)47
b(:)g(unit)g(->)g(int)-71 2974 y Fw(Le)34 b(nouv)m(eau)h(pro)s(cessus)e
(\(app)s(el)m(\023)-43 b(e)34 b(\\le)g(pro)s(cessus)f(\014ls"\))h(est)g
(un)f(clone)h(presque)g(parfait)f(du)g(pro)s(cessus)g(qui)g(a)-71
3086 y(app)s(el)m(\023)-43 b(e)25 b Fu(fork)g Fw(\(dit)f(\\le)i(pro)s
(cessus)e(p)m(\022)-43 b(ere")1370 3053 y Fz(1)1409 3086
y Fw(\))26 b(:)f(les)g(deux)g(pro)s(cessus)f(\(p)m(\022)-43
b(ere)27 b(et)f(\014ls\))e(ex)m(\023)-43 b(ecuten)m(t)28
b(le)d(m)m(^)-43 b(eme)26 b(texte)h(de)-71 3199 y(programme,)h(son)m(t)
g(initialemen)m(t)e(au)i(m)m(^)-43 b(eme)29 b(p)s(oin)m(t)e(de)g(con)m
(tr^)-45 b(ole)29 b(\(le)f(retour)f(de)h Fu(fork)p Fw(\),)f(attribuen)m
(t)h(les)f(m)m(^)-43 b(emes)-71 3312 y(v)-5 b(aleurs)40
b(aux)h(v)-5 b(ariables,)39 b(on)m(t)j(des)f(piles)e(de)h(retours)h(de)
g(fonctions)f(iden)m(tiques,)g(et)h(d)m(\023)-43 b(etiennen)m(t)42
b(les)e(m)m(^)-43 b(emes)-71 3425 y(descripteurs)28 b(de)i(\014c)m
(hiers)f(ouv)m(erts)i(sur)e(les)g(m)m(^)-43 b(emes)31
b(\014c)m(hiers.)e(Ce)h(qui)f(distingue)f(les)i(deux)f(pro)s(cessus,)g
(c'est)i(la)-71 3538 y(v)-5 b(aleur)29 b(ren)m(v)m(o)m(y)m(\023)-43
b(ee)32 b(par)d Fu(fork)g Fw(:)g(z)m(\023)-43 b(ero)32
b(dans)c(le)h(pro)s(cessus)g(\014ls,)f(un)g(en)m(tier)i(non)f(n)m(ul)f
(dans)h(le)g(pro)s(cessus)f(p)m(\022)-43 b(ere.)31 b(En)-71
3651 y(testan)m(t)h(la)e(v)-5 b(aleur)29 b(de)h(retour)g(de)g
Fu(fork)p Fw(,)f(un)g(programme)h(p)s(eut)g(donc)g(d)m(\023)-43
b(eterminer)30 b(s'il)e(est)j(dans)e(le)h(pro)s(cessus)-71
3764 y(p)m(\022)-43 b(ere)31 b(ou)g(dans)e(le)h(pro)s(cessus)f(\014ls,)
h(et)h(se)f(comp)s(orter)h(di\013)m(\023)-43 b(eremmen)m(t)30
b(dans)g(les)g(deux)g(pro)s(cessus)f(:)311 3896 y Fv(matc)m(h)47
b Fu(fork)o(\(\))g Fv(with)406 4009 y Fu(0)h(->)f Fo(\(*)g(code)g
(execute)f(uniquement)f(par)i(le)g(fils)f(*\))311 4122
y Fu(|)h(_)h(->)f Fo(\(*)g(code)g(execute)f(uniquement)f(par)i(le)g
(pere)f(*\))70 4255 y Fw(L'en)m(tier)34 b(non)g(n)m(ul)e(ren)m(v)m(o)m
(y)m(\023)-43 b(e)37 b(par)c Fu(fork)g Fw(dans)g(le)h(pro)s(cessus)f(p)
m(\022)-43 b(ere)35 b(est)f(l'iden)m(ti\014cateur)e(du)h(pro)s(cessus)g
(\014ls.)-71 4368 y(Chaque)e(pro)s(cessus)f(est)i(iden)m(ti\014)m(\023)
-43 b(e)30 b(dans)h(le)g(no)m(y)m(au)h(par)e(un)h(n)m(um)m(\023)-43
b(ero,)32 b(l'iden)m(ti\014cateur)d(du)h(pro)s(cessus)g(\()p
Fn(pr)-5 b(o)g(c)g(ess)-71 4481 y(id)p Fw(\).)31 b(Un)f(pro)s(cessus)g
(p)s(eut)f(obtenir)h(son)g(n)m(um)m(\023)-43 b(ero)31
b(d'iden)m(ti\014cation)e(par)g(l'app)s(el)g Fu(getpid\(\))p
Fw(.)70 4594 y(Le)34 b(pro)s(cessus)f(\014ls)f(est)j(initialemen)m(t)c
(dans)i(le)h(m)m(^)-43 b(eme)32 b(\023)-43 b(etat)36
b(que)e(le)f(pro)s(cessus)g(p)m(\022)-43 b(ere)34 b(\(m)m(^)-43
b(emes)36 b(v)-5 b(aleurs)32 b(des)-71 4707 y(v)-5 b(ariables,)27
b(m)m(^)-43 b(emes)28 b(descripteurs)e(de)i(\014c)m(hiers)e(ouv)m
(erts\).)j(Cet)d(\023)-43 b(etat)29 b(n'est)f(pas)g(partag)m(\023)-43
b(e)30 b(en)m(tre)e(le)f(p)m(\022)-43 b(ere)29 b(et)f(le)f(\014ls,)-71
4820 y(mais)i(seulemen)m(t)g(dupliqu)m(\023)-43 b(e)27
b(au)j(momen)m(t)g(du)e Fu(fork)p Fw(.)h(P)m(ar)h(exemple,)f(si)f(une)h
(v)-5 b(ariable)28 b(est)i(li)m(\023)-43 b(ee)30 b(\022)-45
b(a)30 b(une)f(r)m(\023)-43 b(ef)m(\023)g(erence)-71
4933 y(a)m(v)-5 b(an)m(t)29 b(le)d Fu(fork)p Fw(,)g(une)g(copie)h(de)g
(cette)i(r)m(\023)-43 b(ef)m(\023)g(erence)29 b(et)f(de)f(son)f(con)m
(ten)m(u)i(couran)m(t)g(est)f(faite)h(au)e(momen)m(t)i(du)e
Fu(fork)14 b Fw(;)-71 5046 y(apr)m(\022)-43 b(es)27 b(le)f
Fu(fork)p Fw(,)f(c)m(haque)h(pro)s(cessus)f(mo)s(di\014e)g(ind)m(\023)
-43 b(ep)s(endammen)m(t)24 b(\\sa")k(r)m(\023)-43 b(ef)m(\023)g
(erence,)28 b(sans)e(que)g(cela)g(se)g(r)m(\023)-43 b(ep)s(ercute)-71
5159 y(sur)32 b(l'autre)h(pro)s(cessus.)f(De)i(m)m(^)-43
b(eme,)35 b(les)d(descripteurs)f(de)i(\014c)m(hiers)f(ouv)m(erts)i(son)
m(t)g(dupliqu)m(\023)-43 b(es)30 b(au)j(momen)m(t)h(du)-71
5272 y Fu(fork)25 b Fw(:)i(les)f(descripteurs)f(fon)m(t)i(donc)f(r)m
(\023)-43 b(ef)m(\023)g(erence)29 b(aux)d(m)m(^)-43 b(emes)28
b(\014c)m(hiers)d(dans)h(les)g(deux)g(pro)s(cessus,)g(mais)f(c)m(haque)
p Black -71 5352 1560 4 v 33 5406 a Fl(1)67 5438 y Fk(Les)33
b(d)n(\023)-36 b(enominations)32 b(p)r(olitiquemen)n(t)f(correctes)i
(son)n(t)f(\\pro)r(cessus)i(paren)n(t")e(et)g(\\pro)r(cessus)i(enfan)n
(t".)f(Il)f(est)h(aussi)g(accept)n(\023)-36 b(e)-71 5529
y(d'alterner)26 b(a)n(v)n(ec)g(\\incarnation)h(m)n(\022)-36
b(ere")25 b(et)h(\\incarnation)h(\014lle".)p Black Black
1834 5757 a Fw(37)p Black eop
%%Page: 38 38
38 37 bop Black -71 24 a Fw(38)2414 b Fs(CHAPITRE)29
b(3.)61 b(LES)30 b(PR)m(OCESSUS)p Black -71 280 a Fw(pro)s(cessus)k(a)i
(sa)f(p)s(osition)f(couran)m(te)i(de)f(lecture/)m(\023)-43
b(ecriture)36 b(dans)e(le)h(\014c)m(hier)15 b(;)35 b(un)f(pro)s(cessus)
g(p)s(eut)h(donc)g(faire)-71 393 y Fu(lseek)29 b Fw(sur)g(un)h(de)g
(ces)h(descripteurs)d(sans)i(a\013ecter)i(l'autre)e(pro)s(cessus.)-71
759 y Fq(3.2)135 b(Exemple)46 b(complet)g(:)f(la)h(commande)f
Fp(leave)70 989 y Fw(La)32 b(commande)g Fu(leave)e Ft(hhmm)i
Fw(rend)e(la)i(main)e(imm)m(\023)-43 b(ediatemen)m(t,)33
b(mais)d(cr)m(\023)-43 b(ee)34 b(un)c(pro)s(cessus)h(en)g(t^)-45
b(ac)m(he)33 b(de)-71 1102 y(fond)d(qui,)f(\022)-45 b(a)31
b(l'heure)e Ft(hhmm)p Fw(,)i(rapp)s(elle)d(qu'il)h(est)i(temps)f(de)g
(partir.)193 1234 y Fz(1)83 b Fv(op)s(en)48 b Fu(Sys)o(;;)193
1347 y Fz(2)83 b Fv(op)s(en)48 b Fu(Unix)o(;;)193 1460
y Fz(3)193 1573 y(4)83 b Fv(let)53 b Fu(leave)46 b(\(\))h(=)193
1686 y Fz(5)178 b Fv(let)48 b Fu(hh)f(=)g(int_of_string)e(\()o(String)o
(.)o(sub)i(Sys)o(.argv)o(.\(1\))g(0)g(2\))193 1799 y
Fz(6)178 b Fv(and)48 b Fu(mm)f(=)h(int_of_string)c(\(String)n(.sub)j
(Sys)o(.argv)n(.\(1\))g(2)h(2\))f Fv(in)193 1911 y Fz(7)178
b Fv(let)48 b Fu(now)f(=)g(localtime)n(\()o(time)o(\(\)\))g
Fv(in)193 2024 y Fz(8)178 b Fv(let)48 b Fu(delay)e(=)i(\()o(hh)f(-)h
(now)o(.tm_hour)n(\))f(*)h(3600)e(+)i(\(mm)f(-)g(now)o(.tm_min)o(\))g
(*)g(60)h Fv(in)193 2137 y Fz(9)178 b Fv(if)56 b Fu(delay)46
b(<=)h(0)h Fv(then)f(b)s(egin)157 2250 y Fz(10)275 b
Fu(print_string)44 b Fo("Hey)o(!)k(That)e(time)h(has)g(already)f
(passed)n(!")o Fu(;)157 2363 y Fz(11)275 b Fu(print_newline)l(\(\);)157
2476 y Fz(12)g Fu(exit)46 b(0)157 2589 y Fz(13)179 b
Fv(end)p Fu(;)157 2702 y Fz(14)g Fv(if)56 b Fu(fork)o(\(\))47
b(<>)g(0)h Fv(then)f Fu(exit)g(0;)157 2815 y Fz(15)179
b Fu(sleep)47 b(delay)n(;)157 2928 y Fz(16)179 b Fu(print_string)45
b Fo("\\007\\007\\007)l(Time)i(to)g(leave)o(!)o(")p Fu(;)157
3041 y Fz(17)179 b Fu(print_newline)m(\(\);)157 3153
y Fz(18)g Fu(exit)47 b(0;;)157 3266 y Fz(19)157 3379
y(20)84 b Fu(handle_unix_error)43 b(leave)j(\(\);;)-71
3526 y Fw(On)29 b(commence)h(par)f(un)f(parsing)g(rudimen)m(taire)f(de)
j(la)f(ligne)f(de)h(commande,)h(p)s(our)e(extraire)h(l'heure)f(v)m
(oulue.)-71 3639 y(On)39 b(calcule)g(ensuite)g(la)g(dur)m(\023)-43
b(ee)40 b(d'atten)m(te,)i(en)d(secondes)h(\(ligne)f(8\).)h(\(L'app)s
(el)f Fu(time)f Fw(ren)m(v)m(oie)i(la)f(date)h(cou-)-71
3751 y(ran)m(te,)f(en)e(secondes)h(depuis)e(le)h(premier)f(jan)m(vier)h
(1970,)j(min)m(uit.)c(La)i(fonction)f Fu(localtime)e
Fw(transforme)i(\030)-40 b(ca)-71 3864 y(en)34 b(ann)m(\023)-43
b(ee/mois/jour/heures/min)m(utes/secondes.\))35 b(On)e(cr)m(\023)-43
b(ee)35 b(alors)e(un)g(nouv)m(eau)h(pro)s(cessus)e(par)h
Fu(fork)p Fw(.)g(Le)-71 3977 y(pro)s(cessus)28 b(p)m(\022)-43
b(ere)30 b(\(celui)f(p)s(our)f(lequel)g Fu(fork)g Fw(ren)m(v)m(oie)h
(un)g(en)m(tier)g(non)g(n)m(ul\))f(termine)g(imm)m(\023)-43
b(ediatemen)m(t.)30 b(Le)g(shell)-71 4090 y(qui)37 b(a)i(lanc)m(\023)
-43 b(e)39 b Fu(leave)e Fw(rend)g(donc)h(aussit^)-45
b(ot)38 b(la)g(main)f(\022)-45 b(a)38 b(l'utilisateur.)e(Le)i(pro)s
(cessus)g(\014ls)e(\(celui)i(p)s(our)e(lequel)-71 4203
y Fu(fork)27 b Fw(ren)m(v)m(oie)h(z)m(\023)-43 b(ero\))30
b(con)m(tin)m(ue)f(\022)-45 b(a)28 b(tourner.)f(Il)g(ne)h(fait)g(rien)e
(p)s(endan)m(t)i(la)f(dur)m(\023)-43 b(ee)28 b(indiqu)m(\023)-43
b(ee)27 b(\(app)s(el)g Fu(sleep)p Fw(\),)g(puis)-71 4316
y(a\016c)m(he)k(son)g(message)g(et)g(termine.)-71 4682
y Fq(3.3)135 b(A)l(tten)l(te)47 b(de)e(la)g(terminaison)i(d'un)d(pro)t
(cessus)70 4911 y Fw(L'app)s(el)28 b(syst)m(\022)-43
b(eme)30 b Fu(wait)e Fw(attend)i(qu'un)d(des)i(pro)s(cessus)f(\014ls)f
(cr)m(\023)-43 b(e)m(\023)g(es)32 b(par)c Fu(fork)g Fw(ait)h(termin)m
(\023)-43 b(e,)29 b(et)h(ren)m(v)m(oie)f(des)-71 5024
y(informations)23 b(sur)h(la)g(mani)m(\022)-43 b(ere)25
b(don)m(t)g(ce)h(pro)s(cessus)d(a)i(termin)m(\023)-43
b(e.)26 b(Il)d(p)s(ermet)i(la)f(sync)m(hronisation)f(p)m(\022)-43
b(ere-\014ls,)25 b(ainsi)-71 5137 y(qu'une)30 b(forme)g(tr)m(\022)-43
b(es)31 b(rudimen)m(taire)e(de)h(comm)m(unication)g(du)f(\014ls)g(v)m
(ers)i(le)f(p)m(\022)-43 b(ere.)311 5270 y Fu(wait)47
b(:)g(unit)g(->)g(int)g(*)g(process_status)-71 5416 y
Fw(Le)30 b(premier)e(r)m(\023)-43 b(esultat)31 b(est)f(le)g(n)m(um)m
(\023)-43 b(ero)30 b(du)f(pro)s(cessus)f(\014ls)h(in)m(tercept)m(\023)
-43 b(e)31 b(par)f Fu(wait)p Fw(.)e(Le)i(deuxi)m(\022)-43
b(eme)30 b(r)m(\023)-43 b(esultat)31 b(p)s(eut)-74 5529
y(^)-43 b(etre)32 b(:)p Black Black eop
%%Page: 39 39
39 38 bop Black -71 24 a Fs(3.3.)62 b(A)-8 b(TTENTE)30
b(DE)h(LA)f(TERMINAISON)f(D'UN)j(PR)m(OCESSUS)1303 b
Fw(39)p Black Black Black 338 268 a Fu(WEXITED)n Fw(\()p
Ft(r)s Fw(\))272 b(le)44 b(pro)s(cessus)g(\014ls)f(a)i(termin)m(\023)
-43 b(e)45 b(normalemen)m(t)f(\(par)h Fu(exit)e Fw(ou)i(en)1058
381 y(arriv)-5 b(an)m(t)41 b(au)f(b)s(out)g(du)g(programme\))16
b(;)41 b Ft(r)i Fw(est)e(le)g(co)s(de)g(de)g(retour)1058
494 y(\(l'argumen)m(t)31 b(pass)m(\023)-43 b(e)31 b(\022)-45
b(a)31 b Fu(exit)p Fw(\))338 607 y Fu(WSIGNALED)m Fw(\()p
Ft(sig)s Fw(\))101 b(le)34 b(pro)s(cessus)f(\014ls)f(a)g(\023)-43
b(et)m(\023)g(e)36 b(tu)m(\023)-43 b(e)36 b(par)d(un)g(signal)g
(\(ctrl-C,)h Fu(kill)p Fw(,)f(etc.)16 b(;)1058 720 y(v)m(oir)23
b(plus)d(bas)j(p)s(our)e(les)h(signaux\))15 b(;)22 b
Ft(sig)27 b Fw(iden)m(ti\014e)21 b(le)h(t)m(yp)s(e)h(du)f(signal)338
833 y Fu(WSTOPPED)n Fw(\()p Ft(sig)s Fw(\))148 b(le)29
b(pro)s(cessus)e(\014ls)g(a)g(\023)-43 b(et)m(\023)g(e)31
b(stopp)m(\023)-43 b(e)30 b(par)e(le)g(signal)g Ft(sig)18
b Fw(;)29 b(ne)g(se)g(pro)s(duit)1058 945 y(que)22 b(dans)f(le)h(cas)g
(tr)m(\022)-43 b(es)23 b(particulier)d(o)s(\022)-48 b(u)21
b(un)g(pro)s(cessus)g(\(t)m(ypiquemen)m(t)1058 1058 y(un)i(debugger\))g
(est)h(en)g(train)e(de)i(surv)m(eiller)d(l'ex)m(\023)-43
b(ecution)24 b(d'un)e(autre)1058 1171 y(\(par)30 b(l'app)s(el)f
Fu(ptrace)p Fw(\).)-71 1348 y(Si)i(un)h(des)g(pro)s(cessus)g(\014ls)f
(a)i(d)m(\023)-43 b(ej\022)e(a)33 b(termin)m(\023)-43
b(e)33 b(au)f(momen)m(t)i(o)s(\022)-48 b(u)32 b(le)g(p)m(\022)-43
b(ere)34 b(ex)m(\023)-43 b(ecute)35 b Fu(wait)p Fw(,)c(l'app)s(el)g
Fu(wait)g Fw(retourne)-71 1461 y(imm)m(\023)-43 b(ediatemen)m(t.)38
b(Sinon,)d Fu(wait)h Fw(blo)s(que)g(le)g(p)m(\022)-43
b(ere)38 b(jusqu'\022)-45 b(a)36 b(ce)i(qu'un)d(des)i(\014ls)f(termine)
g(\(comp)s(ortemen)m(t)i(dit)-71 1573 y(\\de)31 b(rendez-v)m(ous"\).)h
(P)m(our)e(attendre)h Ft(N)40 b Fw(\014ls,)29 b(il)g(faut)h(r)m(\023)
-43 b(ep)m(\023)g(eter)33 b Ft(N)40 b Fw(fois)30 b Fu(wait)p
Fw(.)p Black -71 1782 a Fv(Exemple:)p Black 45 w Fw(la)c(fonction)g
Fu(fork_search)d Fw(ci-dessous)i(fait)i(une)e(rec)m(herc)m(he)j(lin)m
(\023)-43 b(eaire)25 b(dans)h(un)f(v)m(ecteur,)j(en)e(deux)-71
1894 y(pro)s(cessus.)k(Elle)f(s'appuie)g(sur)g(la)h(fonction)g
Fu(simple_search)p Fw(,)d(qui)i(fait)h(la)g(rec)m(herc)m(he)i(lin)m
(\023)-43 b(eaire)29 b(simple.)193 2027 y Fz(1)83 b Fv(op)s(en)48
b Fu(Unix)193 2140 y Fz(2)83 b Fv(exception)48 b Fu(Found)o(;;)193
2253 y Fz(3)193 2366 y(4)83 b Fv(let)53 b Fu(simple_search)44
b(cond)j(v)g(=)193 2479 y Fz(5)178 b Fv(try)193 2591
y Fz(6)274 b Fv(for)48 b Fu(i)f(=)h(0)f Fv(to)h Fu(Array)o(.)o(length)e
(v)i(-)f(1)h Fv(do)193 2704 y Fz(7)369 b Fv(if)48 b Fu(cond)f(v)o
(.\(i\))g Fv(then)g(raise)h Fu(Found)193 2817 y Fz(8)274
b Fv(done)p Fu(;)193 2930 y Fz(9)g Fu(false)157 3043
y Fz(10)179 b Fv(with)47 b Fu(Found)g(->)g(true)o(;;)157
3156 y Fz(11)157 3269 y(12)84 b Fv(let)53 b Fu(fork_search)45
b(cond)h(v)i(=)157 3382 y Fz(13)179 b Fv(let)48 b Fu(n)f(=)h(Array)n
(.length)e(v)i Fv(in)157 3495 y Fz(14)179 b Fv(matc)m(h)47
b Fu(fork)o(\(\))g Fv(with)157 3608 y Fz(15)275 b Fu(0)47
b(->)157 3721 y Fz(16)370 b Fv(let)48 b Fu(found)e(=)h(simple_search)e
(cond)h(\(Array)o(.)o(sub)h(v)h(\()o(n/2\))f(\(n-)o(n/2\)\))g
Fv(in)157 3833 y Fz(17)370 b Fu(exit)47 b(\()p Fv(if)g
Fu(found)g Fv(then)g Fu(0)h Fv(else)f Fu(1\))157 3946
y Fz(18)179 b Fu(|)48 b(_)f(->)157 4059 y Fz(19)370 b
Fv(let)48 b Fu(found)e(=)h(simple_search)e(cond)h(\(Array)o(.)o(sub)h
(v)h(0)f(\(n/2\)\))f Fv(in)157 4172 y Fz(20)370 b Fv(matc)m(h)47
b Fu(wait)o(\(\))g Fv(with)157 4285 y Fz(21)466 b Fu(\()o(pid,)47
b(WEXITED)f(retcode)n(\))h(->)h(found)e Fv(or)i Fu(\(retcode)e(=)h(0\))
157 4398 y Fz(22)370 b Fu(|)48 b(\()o(pid,)f(_\))715
b(->)48 b(failwith)d Fo("fork_search)m(")p Fu(;;)-71
4531 y Fw(Apr)m(\022)-43 b(es)32 b(le)f Fu(fork)p Fw(,)f(le)h(pro)s
(cessus)f(\014ls)g(parcourt)i(la)f(moiti)m(\023)-43 b(e)31
b(haute)h(du)e(tableau,)h(et)i(sort)e(a)m(v)m(ec)j(le)c(co)s(de)i(de)f
(retour)-71 4643 y(1)j(s'il)d(a)j(trouv)m(\023)-43 b(e)34
b(un)29 b(\023)-43 b(el)m(\023)g(emen)m(t)36 b(satisfaisan)m(t)c(le)h
(pr)m(\023)-43 b(edicat)34 b Fu(cond)p Fw(,)e(ou)h(0)g(sinon)f
(\(lignes)g(16)i(et)f(17\).)i(Le)e(pro)s(cessus)-71 4756
y(p)m(\022)-43 b(ere)31 b(parcourt)g(la)f(moiti)m(\023)-43
b(e)31 b(basse)f(du)f(tableau,)i(puis)d(app)s(elle)h
Fu(wait)g Fw(p)s(our)g(se)i(sync)m(hroniser)e(a)m(v)m(ec)j(le)e(pro)s
(cessus)-71 4869 y(\014ls)41 b(\(lignes)h(19)h(et)h(20\).)g(Si)d(le)h
(\014ls)f(a)i(termin)m(\023)-43 b(e)43 b(normalemen)m(t,)g(on)f(com)m
(bine)h(son)f(co)s(de)h(de)f(retour)h(a)m(v)m(ec)h(le)-71
4982 y(b)s(o)s(ol)m(\023)-43 b(een)35 b(r)m(\023)-43
b(esultat)36 b(de)f(la)f(rec)m(herc)m(he)j(dans)d(la)h(moiti)m(\023)-43
b(e)35 b(basse)g(du)f(tableau.)h(Sinon,)f(quelque)g(c)m(hose)i
(d'horrible)-71 5095 y(s'est)31 b(pro)s(duit,)d(et)j(la)f(fonction)h
Fu(fork_search)24 b Fw(\023)-43 b(ec)m(houe.)70 5303
y(En)22 b(plus)f(de)h(la)g(sync)m(hronisation)f(en)m(tre)i(pro)s
(cessus,)f(l'app)s(el)f Fu(wait)g Fw(assure)h(aussi)g(la)g(r)m(\023)-43
b(ecup)m(\023)g(eration)24 b(de)e(toutes)-71 5416 y(les)31
b(ressources)g(utilis)m(\023)-43 b(ees)31 b(par)g(le)g(pro)s(cessus)f
(\014ls.)g(Quand)g(un)h(pro)s(cessus)f(termine,)h(il)f(passe)h(dans)g
(un)d(\023)-43 b(etat)33 b(dit)-71 5529 y(\\zom)m(bie",)f(o)s(\022)-48
b(u)30 b(la)g(plupart)e(des)i(ressources)g(qu'il)e(utilise)h(\(espace)i
(m)m(\023)-43 b(emoire,)31 b(etc\))h(on)m(t)c(\023)-43
b(et)m(\023)g(e)33 b(d)m(\023)-43 b(esallou)m(\023)g(ees,)32
b(mais)p Black Black eop
%%Page: 40 40
40 39 bop Black -71 24 a Fw(40)2414 b Fs(CHAPITRE)29
b(3.)61 b(LES)30 b(PR)m(OCESSUS)p Black -71 280 a Fw(pas)39
b(toutes)i(:)e(il)f(con)m(tin)m(ue)i(\022)-45 b(a)40
b(o)s(ccup)s(er)f(un)f(emplacemen)m(t)i(dans)f(la)g(table)g(des)h(pro)s
(cessus,)e(a\014n)h(de)g(p)s(ouv)m(oir)-71 393 y(transmettre)f(son)g
(co)s(de)g(de)f(retour)h(au)f(p)m(\022)-43 b(ere)39 b(via)e(l'app)s(el)
f Fu(wait)p Fw(.)h(Ce)h(n'est)g(que)f(lorsque)g(le)g(p)m(\022)-43
b(ere)39 b(a)f(ex)m(\023)-43 b(ecut)m(\023)g(e)-71 506
y Fu(wait)29 b Fw(que)g(le)g(pro)s(cessus)g(zom)m(bie)h(dispara)-10
b(^)-35 b(\020t)27 b(de)j(la)f(table)h(des)f(pro)s(cessus.)g(Cette)h
(table)d(\023)-43 b(etan)m(t)32 b(de)d(taille)g(\014xe,)h(il)-71
619 y(imp)s(orte,)g(p)s(our)c(\023)-43 b(eviter)31 b(le)f(d)m(\023)-43
b(eb)s(ordemen)m(t,)31 b(de)f(faire)g Fu(wait)f Fw(sur)g(les)h(pro)s
(cessus)f(qu'on)h(lance.)70 738 y(Si)25 b(le)h(pro)s(cessus)f(p)m(\022)
-43 b(ere)27 b(termine)f(a)m(v)-5 b(an)m(t)28 b(le)d(pro)s(cessus)h
(\014ls,)f(le)h(\014ls)e(se)j(v)m(oit)g(attribuer)e(le)h(pro)s(cessus)f
(n)m(um)m(\023)-43 b(ero)27 b(1)-71 851 y(\()p Fu(init)p
Fw(\))k(comme)i(p)m(\022)-43 b(ere.)33 b(Ce)e(pro)s(cessus)g(con)m
(tien)m(t)i(une)e(b)s(oucle)f(in\014nie)g(de)h Fu(wait)p
Fw(,)g(et)h(v)-5 b(a)32 b(donc)g(faire)f(dispara)-10
b(^)-35 b(\020tre)-71 964 y(compl)m(\022)-43 b(etemen)m(t)31
b(le)e(pro)s(cessus)f(\014ls)g(d)m(\022)-43 b(es)30 b(qu'il)e(termine.)
g(Ceci)h(d)m(\023)-43 b(eb)s(ouc)m(he)30 b(sur)e(une)h(tec)m(hnique)g
(utile)f(dans)h(le)f(cas)-71 1077 y(o)s(\022)-48 b(u)29
b(on)g(ne)g(p)s(eut)f(pas)h(facilemen)m(t)g(app)s(eler)f
Fu(wait)g Fw(sur)g(c)m(haque)h(pro)s(cessus)f(qu'on)h(a)h(cr)m(\023)-43
b(e)m(\023)g(e)31 b(\(parce)f(qu'on)f(ne)g(p)s(eut)-71
1190 y(pas)k(se)g(p)s(ermettre)g(de)f(blo)s(quer)f(en)i(attendan)m(t)h
(la)f(terminaison)e(des)i(\014ls,)e(par)i(exemple\))f(:)i(la)e(tec)m
(hnique)h(\\du)-71 1303 y(double)c Fu(fork)p Fw(".)311
1435 y Fv(matc)m(h)47 b Fu(fork)o(\(\))g Fv(with)406
1548 y Fu(0)h(->)f Fv(if)h Fu(fork)o(\(\))f(<>)g(0)g
Fv(then)h Fu(exit)f(0;)645 1661 y Fo(\(*)g(faire)g(ce)g(que)g(le)g
(fils)f(doit)h(faire)f(*\))311 1774 y Fu(|)h(_)h(->)f(wait)o(\(\);)645
1887 y Fo(\(*)g(faire)g(ce)g(que)g(le)g(pere)f(doit)h(faire)f(*\))-71
2025 y Fw(Le)36 b(\014ls)e(termine)h(par)g Fu(exit)g
Fw(juste)g(apr)m(\022)-43 b(es)37 b(le)e(deuxi)m(\022)-43
b(eme)36 b Fu(fork)p Fw(.)f(Le)g(p)s(etit-\014ls)f(se)i(retrouv)m(e)h
(donc)e(orphelin,)e(et)-71 2138 y(est)28 b(adopt)m(\023)-43
b(e)29 b(par)e(le)g(pro)s(cessus)f Fu(init)p Fw(.)g(Il)g(ne)h(laissera)
g(donc)g(pas)g(de)g(pro)s(cessus)f(zom)m(bie.)i(Le)f(p)m(\022)-43
b(ere)29 b(ex)m(\023)-43 b(ecute)29 b Fu(wait)-71 2251
y Fw(aussit^)-45 b(ot)31 b(p)s(our)d(r)m(\023)-43 b(ecup)m(\023)g(erer)
32 b(le)e(\014ls.)f(Ce)i Fu(wait)e Fw(ne)h(blo)s(que)f(pas)h(longtemps)
g(puisque)e(le)i(\014ls)f(termine)h(tr)m(\022)-43 b(es)31
b(vite.)-71 2573 y Fq(3.4)135 b(Lancemen)l(t)46 b(d'un)e(programme)70
2788 y Fw(Les)33 b(app)s(els)f Fu(execve)p Fw(,)f Fu(execv)h
Fw(et)i Fu(execvp)d Fw(lancen)m(t)i(l'ex)m(\023)-43 b(ecution)34
b(d'un)e(programme)h(\022)-45 b(a)33 b(l'in)m(t)m(\023)-43
b(erieur)32 b(du)g(pro-)-71 2901 y(cessus)h(couran)m(t.)h(Sauf)f(en)g
(cas)h(d'erreur,)e(ces)i(app)s(els)d(ne)i(retournen)m(t)h(jamais)e(:)i
(ils)d(arr)m(^)-43 b(eten)m(t)36 b(le)d(d)m(\023)-43
b(eroulemen)m(t)-71 3014 y(du)29 b(programme)i(couran)m(t)g(et)g(se)f
(branc)m(hen)m(t)h(au)f(d)m(\023)-43 b(ebut)31 b(du)e(nouv)m(eau)i
(programme.)311 3146 y Fu(execve)46 b(:)h(string)g(->)g(string)f(array)
g(->)h(string)f(array)h(->)g(unit)311 3259 y(execv)94
b(:)47 b(string)g(->)g(string)f(array)g(->)h(unit)311
3372 y(execvp)f(:)h(string)g(->)g(string)f(array)g(->)h(unit)-71
3511 y Fw(Le)27 b(premier)f(argumen)m(t)h(est)h(le)e(nom)h(du)f(\014c)m
(hier)g(con)m(tenan)m(t)j(le)d(co)s(de)h(du)f(programme)h(\022)-45
b(a)27 b(ex)m(\023)-43 b(ecuter.)30 b(Dans)d(le)f(cas)-71
3624 y(de)33 b Fu(execvp)p Fw(,)e(ce)i(nom)g(est)d(\023)-43
b(egalemen)m(t)35 b(rec)m(herc)m(h)m(\023)-43 b(e)35
b(dans)d(les)g(r)m(\023)-43 b(ep)s(ertoires)32 b(du)g(path)g(d'ex)m
(\023)-43 b(ecution)34 b(\(la)e(v)-5 b(aleur)32 b(de)-71
3736 y(la)e(v)-5 b(ariable)29 b(d'en)m(vironnemen)m(t)h
Fu(PATH)p Fw(\).)70 3855 y(Le)43 b(deuxi)m(\022)-43 b(eme)43
b(argumen)m(t)g(est)h(la)e(ligne)g(de)h(commande)g(\022)-45
b(a)43 b(transmettre)g(au)g(programme)g(ex)m(\023)-43
b(ecut)m(\023)g(e)18 b(;)43 b(ce)-71 3968 y(v)m(ecteur)32
b(de)e(c)m(ha)-10 b(^)-35 b(\020nes)30 b(v)-5 b(a)31
b(se)f(retrouv)m(er)h(dans)f Fu(Sys.argv)e Fw(du)h(programme)h(ex)m
(\023)-43 b(ecut)m(\023)g(e.)70 4087 y(Dans)28 b(le)g(cas)h(de)f
Fu(execve)p Fw(,)e(le)i(troisi)m(\022)-43 b(eme)28 b(argumen)m(t)h(est)
f(l'en)m(vironnemen)m(t)f(\022)-45 b(a)29 b(transmettre)f(au)g
(programme)-71 4200 y(ex)m(\023)-43 b(ecut)m(\023)g(e)19
b(;)30 b Fu(execv)f Fw(et)i Fu(execvp)e Fw(transmetten)m(t)j(inc)m
(hang)m(\023)-43 b(e)31 b(l'en)m(vironnemen)m(t)e(couran)m(t.)70
4319 y(Les)36 b(app)s(els)e Fu(execve)p Fw(,)g Fu(execv)g
Fw(et)i Fu(execvp)d Fw(ne)j(retournen)m(t)f(jamais)g(de)g(r)m(\023)-43
b(esultat)36 b(:)g(ou)f(bien)f(tout)i(se)g(passe)-71
4432 y(sans)29 b(erreurs,)g(et)h(le)f(pro)s(cessus)g(se)h(met)g(\022)
-45 b(a)30 b(ex)m(\023)-43 b(ecuter)31 b(un)e(autre)h(programme)15
b(;)29 b(ou)h(bien)e(une)h(erreur)g(se)g(pro)s(duit)-71
4545 y(\(\014c)m(hier)h(non)g(trouv)m(\023)-43 b(e,)32
b(etc.\),)g(et)f(l'app)s(el)d(d)m(\023)-43 b(eclenc)m(he)32
b(l'exception)e Fu(Unix_error)p Fw(.)p Black -71 4795
a Fv(Exemple:)p Black 45 w Fw(les)f(trois)h(formes)g(ci-dessous)g(son)m
(t)f(\023)-43 b(equiv)-5 b(alen)m(tes)30 b(:)311 4927
y Fu(execve)46 b Fo("/)o(bin/)o(ls")h Fu([|)p Fo(")o(ls")p
Fu(;)g Fo("-l)o(")p Fu(;)g Fo("/tmp)o(")p Fu(|])g(\(environment)m
(\(\)\))311 5040 y(execv)94 b Fo("/)o(bin/)o(ls")47 b
Fu([|)p Fo(")o(ls")p Fu(;)g Fo("-l)o(")p Fu(;)g Fo("/tmp)o(")p
Fu(|])311 5153 y(execvp)f Fo("ls)o(")286 b Fu([|)p Fo(")o(ls")p
Fu(;)47 b Fo("-l)o(")p Fu(;)g Fo("/tmp)o(")p Fu(|])p
Black -71 5416 a Fv(Exemple:)p Black 45 w Fw(v)m(oici)39
b(un)f(\\wrapp)s(er")h(autour)g(de)g(la)g(commande)h
Fu(grep)p Fw(,)e(qui)h(a)5 b(joute)40 b(l'option)e Fu(-i)h
Fw(\(confondre)-71 5529 y(ma)5 b(juscules)29 b(et)i(min)m(uscules\))e
(\022)-45 b(a)31 b(la)f(liste)f(d'argumen)m(ts)h(:)p
Black Black eop
%%Page: 41 41
41 40 bop Black -71 24 a Fs(3.5.)62 b(EXEMPLE)30 b(COMPLET)f(:)i(UN)g
(MINI-SHELL)1860 b Fw(41)p Black 193 280 a Fz(1)83 b
Fv(op)s(en)48 b Fu(Sys)o(;;)193 393 y Fz(2)83 b Fv(op)s(en)48
b Fu(Unix)o(;;)193 506 y Fz(3)83 b Fv(let)53 b Fu(grep)46
b(\(\))i(=)193 619 y Fz(4)178 b Fu(execvp)46 b Fo("grep)o(")193
732 y Fz(5)274 b Fu(\(Array)n(.concat)193 845 y Fz(6)417
b Fu([)47 b([|)p Fo("grep)o(")o Fu(;)h Fo(")o(-i")p Fu(|];)193
958 y Fz(7)512 b Fu(\(Array)o(.sub)46 b(Sys.)o(argv)h(1)g(\(Array)o
(.length)f(Sys)o(.argv)g(-)i(1\)\))f(]\))193 1071 y Fz(8)83
b Fu(;;)193 1184 y Fz(9)g Fu(handle_unix_error)43 b(grep)k(\(\);;)p
Black -71 1400 a Fv(Exemple:)p Black 45 w Fw(v)m(oici)30
b(un)f(\\wrapp)s(er")g(autour)i(de)f(la)g(commande)g
Fu(emacs)p Fw(,)g(qui)f(c)m(hange)i(le)f(t)m(yp)s(e)h(du)e(terminal)g
(:)193 1532 y Fz(1)83 b Fv(op)s(en)48 b Fu(Sys)o(;;)193
1645 y Fz(2)83 b Fv(op)s(en)48 b Fu(Unix)o(;;)193 1758
y Fz(3)83 b Fv(let)53 b Fu(emacs)46 b(\(\))h(=)193 1871
y Fz(4)178 b Fu(execve)46 b Fo("/usr)o(/bin)o(/emacs)n(")i
Fu(Sys)o(.argv)193 1984 y Fz(5)274 b Fu(\(Array)n(.concat)46
b([)h([|)p Fo("TERM)o(=)o(hacked)o(-)o(xterm)o(")p Fu(|];)g(\()o
(environment)m(\(\)\))g(]\);;)193 2097 y Fz(6)83 b Fu
(handle_unix_error)43 b(emacs)j(\(\);;)70 2313 y Fw(C'est)35
b(le)f(m)m(^)-43 b(eme)36 b(pro)s(cessus)e(qui)f(a)i(fait)f
Fu(exec)f Fw(qui)h(ex)m(\023)-43 b(ecute)37 b(le)d(nouv)m(eau)g
(programme.)h(En)f(cons)m(\023)-43 b(equence,)-71 2426
y(le)29 b(nouv)m(eau)g(programme)g(h)m(\023)-43 b(erite)30
b(de)f(certains)f(morceaux)i(de)f(l'en)m(vironnemen)m(t)f(d'ex)m(\023)
-43 b(ecution)30 b(du)e(programme)-71 2539 y(qui)h(a)i(fait)f
Fu(exec)f Fw(:)p Black 70 2651 a({)p Black 46 w(m)m(^)-43
b(eme)24 b(n)m(um)m(\023)-43 b(ero)24 b(de)f(pro)s(cessus,)f(m)m(^)-43
b(eme)24 b(pro)s(cessus)e(p)m(\022)-43 b(ere,)24 b(m)m(^)-43
b(eme)24 b(comp)s(ortemen)m(t)g(vis-\022)-45 b(a-vis)22
b(du)g(pro)s(cessus)161 2764 y(p)m(\022)-43 b(ere)31
b(qui)e(fait)i Fu(wait)p Black 70 2877 a Fw({)p Black
46 w(m)m(^)-43 b(eme)32 b(en)m(tr)m(\023)-43 b(ee)32
b(standard,)e(m)m(^)-43 b(eme)32 b(sortie)e(standard,)g(m)m(^)-43
b(eme)31 b(sortie)g(d'erreur)e(standard)p Black 70 2990
a({)p Black 46 w(m)m(^)-43 b(eme)32 b(signaux)d(ignor)m(\023)-43
b(es)31 b(\(cf.)g(la)f(partie)g(sur)f(les)h(signaux\))-71
3274 y Fq(3.5)135 b(Exemple)46 b(complet)g(:)f(un)g(mini-shell)70
3477 y Fw(Le)34 b(programme)g(qui)e(suit)h(est)h(un)f(in)m(terpr)m
(\022)-43 b(ete)34 b(de)g(commandes)f(simpli\014)m(\023)-43
b(e)32 b(:)i(il)e(lit)g(des)i(lignes)e(sur)g(l'en)m(tr)m(\023)-43
b(ee)-71 3590 y(standard,)27 b(les)g(coup)s(e)g(en)h(mots,)g(lance)f
(la)g(commande)h(corresp)s(ondan)m(te,)g(et)g(recommence)g(jusqu'\022)
-45 b(a)27 b(une)g(\014n)f(de)-71 3703 y(\014c)m(hier)32
b(sur)h(l'en)m(tr)m(\023)-43 b(ee)34 b(standard.)f(On)g(commence)h(par)
f(la)f(fonction)h(qui)f(coup)s(e)h(une)g(c)m(ha)-10 b(^)-35
b(\020ne)33 b(de)g(caract)m(\022)-43 b(eres)36 b(en)-71
3816 y(une)30 b(liste)f(de)h(mots.)h(P)m(as)g(de)g(commen)m(taires)g(p)
s(our)e(cette)j(horreur.)193 3948 y Fz(1)83 b Fv(op)s(en)48
b Fu(Unix)o(;;)193 4061 y Fz(2)193 4174 y(3)83 b Fv(let)53
b Fu(split_words)45 b(s)i(=)193 4287 y Fz(4)178 b Fv(let)48
b(rec)g Fu(skip_blanks)d(i)i(=)193 4400 y Fz(5)274 b
Fv(if)48 b Fu(i)f(<)g(String)o(.length)f(s)h(&)h(s)o(.[i)o(])g(=)f(')h
(')193 4513 y Fz(6)274 b Fv(then)47 b Fu(skip_blanks)e(\(i)o(+1\))193
4626 y Fz(7)274 b Fv(else)48 b Fu(i)f Fv(in)193 4739
y Fz(8)178 b Fv(let)48 b(rec)g Fu(split)e(start)h(i)g(=)193
4852 y Fz(9)274 b Fv(if)48 b Fu(i)f(>=)g(String)o(.)o(length)f(s)i
Fv(then)157 4964 y Fz(10)370 b Fu([String)n(.sub)47 b(s)g(start)g(\(i)o
(-start)o(\)])157 5077 y Fz(11)275 b Fv(else)48 b(if)f
Fu(s.[i)o(])h(=)f(')h(')f Fv(then)157 5190 y Fz(12)370
b Fv(let)48 b Fu(j)f(=)h(skip_blanks)c(i)k Fv(in)157
5303 y Fz(13)370 b Fu(String)o(.)o(sub)47 b(s)h(start)e(\(i-)o(start)o
(\))h(::)h(split)e(j)h(j)157 5416 y Fz(14)275 b Fv(else)157
5529 y Fz(15)370 b Fu(split)47 b(start)f(\(i)o(+1\))h
Fv(in)p Black Black eop
%%Page: 42 42
42 41 bop Black -71 24 a Fw(42)2414 b Fs(CHAPITRE)29
b(3.)61 b(LES)30 b(PR)m(OCESSUS)p Black 157 280 a Fz(16)179
b Fu(Array)o(.of_list)46 b(\()o(split)h(0)g(0\);;)-71
436 y Fw(On)30 b(passe)g(main)m(tenan)m(t)h(\022)-45
b(a)31 b(la)f(b)s(oucle)f(principale)e(de)k(l'in)m(terpr)m(\023)-43
b(eteur.)157 569 y Fz(17)84 b Fv(let)53 b Fu(exec_command)44
b(cmd)j(=)157 681 y Fz(18)179 b Fv(try)48 b Fu(execvp)e(cmd)o(.\(0\))h
(cmd)157 794 y Fz(19)179 b Fv(with)47 b Fu(Unix_error)n(\()o(err,)g(_,)
g(_\))g(->)157 907 y Fz(20)275 b Fu(Printf)n(.printf)46
b Fo("Cannot)g(execute)g(\045)o(s)i(:)f(\045s")157 1020
y Fz(21)370 b Fu(cmd)o(.\(0\))47 b(\(error_message)d(err)o(\);)157
1133 y Fz(22)275 b Fu(print_newline)l(\(\);)157 1246
y Fz(23)g Fu(exit)46 b(255)157 1359 y Fz(24)157 1472
y(25)84 b Fv(let)53 b Fu(print_status)44 b(program)i(status)g(=)157
1585 y Fz(26)179 b Fv(matc)m(h)47 b Fu(status)f Fv(with)157
1698 y Fz(27)275 b Fu(WEXITED)46 b(255)h(->)g(\(\))157
1811 y Fz(28)179 b Fu(|)48 b(WEXITED)e(status)g(->)157
1923 y Fz(29)370 b Fu(Printf)o(.)o(printf)46 b Fo("\045s)h(exited)f
(with)h(code)g(\045)o(d")h Fu(program)d(status)o(;)157
2036 y Fz(30)370 b Fu(print_newline)m(\(\))157 2149 y
Fz(31)179 b Fu(|)48 b(WSIGNALED)d(signal)h(->)157 2262
y Fz(32)370 b Fu(Printf)o(.)o(printf)46 b Fo("\045s)h(killed)f(by)i
(signal)e(\045)o(d")i Fu(program)d(signal)o(;)157 2375
y Fz(33)370 b Fu(print_newline)m(\(\))157 2488 y Fz(34)179
b Fu(|)48 b(WSTOPPED)d(signal)h(->)157 2601 y Fz(35)370
b Fu(Printf)o(.)o(printf)46 b Fo("\045s)h(stopped)f(\(???\))o(")h
Fu(program)n(;)157 2714 y Fz(36)370 b Fu(print_newline)m(\(\);;)-71
2870 y Fw(La)27 b(fonction)f Fu(exec_command)d Fw(ex)m(\023)-43
b(ecute)29 b(une)c(commande)i(a)m(v)m(ec)h(r)m(\023)-43
b(ecup)m(\023)g(eration)28 b(des)e(erreurs.)g(Le)g(co)s(de)h(de)f
(retour)-71 2983 y(255)k(indique)c(que)j(la)g(commande)g(n'a)g(pas)f
(pu)e(^)-43 b(etre)30 b(ex)m(\023)-43 b(ecut)m(\023)g(ee.)33
b(\(Ce)c(n'est)g(pas)g(une)f(con)m(v)m(en)m(tion)i(standard)14
b(;)29 b(on)-71 3095 y(esp)m(\022)-43 b(ere)31 b(que)f(p)s(eu)f(de)g
(commandes)h(ren)m(v)m(oien)m(t)h(le)e(co)s(de)i(de)e(retour)h(255.\))i
(La)e(fonction)f Fu(print_status)e Fw(d)m(\023)-43 b(eco)s(de)-71
3208 y(et)31 b(imprime)d(l'information)g(d')m(\023)-43
b(etat)33 b(retourn)m(\023)-43 b(ee)31 b(par)f(un)g(pro)s(cessus,)f(en)
h(ignoran)m(t)h(le)f(co)s(de)g(de)g(retour)h(255.)157
3341 y Fz(37)84 b Fv(let)53 b Fu(minishell)45 b(\(\))i(=)157
3454 y Fz(38)179 b Fv(try)157 3567 y Fz(39)275 b Fv(while)47
b Fu(true)g Fv(do)157 3680 y Fz(40)370 b Fv(let)48 b
Fu(cmd)f(=)g(input_line)e(Pervasives)m(.stdin)h Fv(in)157
3792 y Fz(41)370 b Fv(let)48 b Fu(words)e(=)h(split_words)e(cmd)i
Fv(in)157 3905 y Fz(42)370 b Fv(matc)m(h)47 b Fu(fork)o(\(\))g
Fv(with)157 4018 y Fz(43)466 b Fu(0)47 b(->)g(exec_command)e(words)157
4131 y Fz(44)370 b Fu(|)48 b(pid_son)e(->)157 4244 y
Fz(45)561 b Fv(let)48 b Fu(pid)o(,)f(status)f(=)i(wait)o(\(\))f
Fv(in)157 4357 y Fz(46)561 b Fu(print_status)45 b Fo(")o(Program)n(")j
Fu(status)157 4470 y Fz(47)275 b Fv(done)157 4583 y Fz(48)179
b Fv(with)47 b Fu(End_of_file)e(->)157 4696 y Fz(49)275
b Fu(\(\);;)157 4809 y Fz(50)157 4922 y(51)84 b Fu(handle_unix_error)43
b(minishell)i(\(\);;)-60 5054 y Fw(\022)-71 5077 y(A)c(c)m(haque)g
(tour)f(de)g(b)s(oucle,)g(on)g(lit)f(une)h(ligne)f(sur)h(l'en)m(tr)m
(\023)-43 b(ee)42 b(standard,)d(via)i(la)f(fonction)g
Fu(input_line)d Fw(de)-71 5190 y(la)h(biblioth)m(\022)-43
b(eque)37 b(standard)g Fu(Pervasives)p Fw(.)f(\(Cette)k(fonction)e(d)m
(\023)-43 b(eclenc)m(he)39 b(l'exception)f Fu(End_of_file)d
Fw(quand)-71 5303 y(la)h(\014n)g(de)g(\014c)m(hier)g(est)h(attein)m
(te,)h(faisan)m(t)e(sortir)g(de)g(la)h(b)s(oucle.\))f(On)f(coup)s(e)h
(la)h(ligne)e(en)h(mots,)h(puis)e(on)h(fait)-71 5416
y Fu(fork)p Fw(.)29 b(Le)h(pro)s(cessus)f(\014ls)f(fait)i
Fu(exec_command)d Fw(p)s(our)h(lancer)h(la)h(commande)g(a)m(v)m(ec)i(r)
m(\023)-43 b(ecup)m(\023)g(eration)31 b(des)f(erreurs.)-71
5529 y(Le)j(pro)s(cessus)e(p)m(\022)-43 b(ere)33 b(app)s(elle)e
Fu(wait)g Fw(p)s(our)g(attendre)h(que)h(la)e(commande)i(termine)e(et)i
(imprime)d(l'information)p Black Black eop
%%Page: 43 43
43 42 bop Black -71 24 a Fs(3.5.)62 b(EXEMPLE)30 b(COMPLET)f(:)i(UN)g
(MINI-SHELL)1860 b Fw(43)p Black -71 280 a(d')m(\023)-43
b(etat)33 b(ren)m(v)m(o)m(y)m(\023)-43 b(ee)33 b(par)d
Fu(wait)p Fw(.)p Black -71 493 a Fv(Exercice)36 b(8)p
Black 45 w Fn(Ajouter)31 b(la)g(p)-5 b(ossibilit)n(\023)-44
b(e)32 b(d'ex)n(\023)-44 b(ecuter)30 b(des)h(c)-5 b(ommandes)33
b(en)d(t^)-46 b(ache)31 b(de)g(fond,)g(si)f(el)5 b(les)30
b(sont)i(suivies)-71 606 y(p)-5 b(ar)34 b Fu(&)p Fn(.)2940
b Fw(\(V)-8 b(oir)31 b(le)f(corrig)m(\023)-43 b(e\))p
3783 556 47 4 v 3783 603 4 47 v 3826 603 V 3783 606 47
4 v Black Black eop
%%Page: 44 44
44 43 bop Black -71 24 a Fw(44)2414 b Fs(CHAPITRE)29
b(3.)61 b(LES)30 b(PR)m(OCESSUS)p Black Black Black eop
%%Page: 45 45
45 44 bop Black Black -71 903 a Fr(Chapitre)66 b(4)-71
1319 y FB(Comm)-6 b(unications)76 b(in)-6 b(ter-pro)6
b(cessus)-71 1568 y(classiques)70 2013 y Fw(On)34 b(a)h(vu)e(jusqu'ici)
g(commen)m(t)i(manipuler)d(des)i(pro)s(cessus)f(et)i(les)f(faire)g
(comm)m(uniquer)f(a)m(v)m(ec)j(l'ext)m(\023)-43 b(erieur)-71
2126 y(par)28 b(l'in)m(term)m(\023)-43 b(ediaire)28 b(de)h(\014c)m
(hiers.)f(Le)h(reste)g(de)g(ce)g(cours)g(est)g(consacr)m(\023)-43
b(e)31 b(au)e(probl)m(\022)-43 b(eme)29 b(de)f(faire)h(comm)m(uniquer)
-71 2239 y(en)m(tre)i(eux)f(des)g(pro)s(cessus)g(s'ex)m(\023)-43
b(ecutan)m(t)33 b(en)d(parall)m(\022)-43 b(ele,)30 b(p)s(our)f(leur)g
(p)s(ermettre)i(de)f(co)s(op)m(\023)-43 b(erer.)-71 2527
y Fq(4.1)135 b(Les)46 b(tuy)l(aux)70 2731 y Fw(Les)24
b(\014c)m(hiers)e(normaux)h(ne)g(fournissen)m(t)f(pas)h(un)g(mo)m(y)m
(en)h(satisfaisan)m(t)g(de)f(comm)m(unication)g(en)m(tre)h(pro)s
(cessus)-71 2844 y(parall)m(\022)-43 b(eles.)21 b(Exemple)f(:)h(dans)f
(une)h(situation)c(\023)-43 b(ecriv)-5 b(ain/lecteur)21
b(\(un)f(pro)s(cessus)e(\023)-43 b(ecrit)21 b(des)g(informations,)e
(l'autre)-71 2957 y(les)36 b(lit\),)g(si)g(on)h(utilise)d(un)i(\014c)m
(hier)g(comme)h(m)m(\023)-43 b(edium,)36 b(le)h(lecteur)f(p)s(eut)g
(constater)i(que)f(le)f(\014c)m(hier)g(ne)g(grossit)-71
3070 y(plus)c(\()p Fu(read)h Fw(ren)m(v)m(oie)i(z)m(\023)-43
b(ero\),)36 b(mais)e(il)e(ne)i(p)s(eut)f(pas)h(sa)m(v)m(oir)h(si)e
(c'est)i(d)s(^)-48 b(u)33 b(au)h(fait)g(que)f(le)h(pro)s(cessus)c(\023)
-43 b(ecriv)-5 b(ain)34 b(a)-71 3183 y(termin)m(\023)-43
b(e,)28 b(ou)f(bien)f(si)h(l')m(\023)-43 b(ecriv)-5 b(ain)27
b(est)g(simplemen)m(t)f(en)i(train)e(de)h(calculer)g(la)g(pro)s(c)m
(haine)g(information.)f(De)i(plus,)-71 3296 y(le)d(\014c)m(hier)f
(garde)h(trace)h(de)f(toutes)h(les)e(informations)f(transmises,)h(ce)i
(qui)e(p)s(ose)g(des)h(probl)m(\022)-43 b(emes,)25 b(en)g(particulier)
-71 3409 y(de)30 b(place)h(disque.)70 3522 y(Les)37 b(tuy)m(aux)h
(\(parfois)c(\023)-43 b(egalemen)m(t)39 b(app)s(el)m(\023)-43
b(es)37 b(tub)s(es\))g(fournissen)m(t)e(un)h(m)m(\023)-43
b(ecanisme)38 b(adapt)m(\023)-43 b(e)39 b(\022)-45 b(a)38
b(ce)g(st)m(yle)f(de)-71 3635 y(comm)m(unication.)32
b(Un)g(tuy)m(au)g(se)g(pr)m(\023)-43 b(esen)m(te)34 b(sous)e(la)g
(forme)g(de)g(deux)f(descripteurs)g(de)h(\014c)m(hiers.)f(L'un,)g(ouv)m
(ert)-71 3748 y(en)e(\023)-43 b(ecriture,)31 b(repr)m(\023)-43
b(esen)m(te)33 b(l'en)m(tr)m(\023)-43 b(ee)33 b(du)d(tuy)m(au.)i
(L'autre,)g(ouv)m(ert)g(en)f(lecture,)g(repr)m(\023)-43
b(esen)m(te)33 b(la)e(sortie)g(du)g(tuy)m(au.)-71 3861
y(On)f(cr)m(\023)-43 b(ee)32 b(un)d(tuy)m(au)i(par)f(l'app)s(el)e(syst)
m(\022)-43 b(eme)32 b Fu(pipe)d Fw(:)311 3993 y Fu(pipe)47
b(:)g(unit)g(->)g(file_descr)e(*)i(file_descr)-71 4126
y Fw(Le)26 b(premier)e(r)m(\023)-43 b(esultat)27 b(est)f(un)f
(descripteur)f(ouv)m(ert)i(en)g(lecture)f(sur)g(la)g(sortie)h(du)f(tuy)
m(au)15 b(;)26 b(le)f(deuxi)m(\022)-43 b(eme)26 b(r)m(\023)-43
b(esultat)-71 4239 y(est)33 b(un)f(descripteur)f(ouv)m(ert)j(en)c(\023)
-43 b(ecriture)33 b(sur)e(l'en)m(tr)m(\023)-43 b(ee)35
b(du)c(tuy)m(au.)j(Le)e(tuy)m(au)h(propremen)m(t)g(dit)f(est)h(un)f(ob)
5 b(jet)-71 4352 y(in)m(terne)27 b(au)g(no)m(y)m(au,)h(accessible)f
(uniquemen)m(t)f(via)g(ces)i(deux)f(descripteurs.)e(En)i(particulier,)e
(le)i(tuy)m(au)g(cr)m(\023)-43 b(e)m(\023)g(e)30 b(n'a)-71
4465 y(pas)g(de)g(nom)g(dans)g(le)g(syst)m(\022)-43 b(eme)32
b(de)e(\014c)m(hiers.)p 4 setlinewidth np 769 4837 a
1219 4837 li 1219 4537 li 769 4537 li closepath st 863
4650 a(second)842 4763 y(r)m(\023)-43 b(esultat)p np
1219 4687 a 1519 4687 li st 0.000 setgray np 1459 4672
a 1519 4687 li 1459 4702 li closepath fil 0 setgray np
1459 4672 a 1519 4687 li 1459 4702 li closepath st np
2239 4687 90 0.00 360.00 arc st np 2239 4597 a 1639 4597
li st np 2239 4777 a 1639 4777 li st np 1639 4687 90
90.00 270.00 arc st np 2239 4687 a 2539 4687 li st 0.000 setgray
np 2479 4672 a 2539 4687 li 2479 4702 li closepath fil
0 setgray np 2479 4672 a 2539 4687 li 2479 4702 li closepath
st np 2539 4837 a 2989 4837 li 2989 4537 li 2539 4537
li closepath st 2612 4650 a(premier)2612 4763 y(r)m(\023)g(esultat)70
4964 y(Un)29 b(tuy)m(au)g(se)g(comp)s(orte)g(comme)h(un)d(tamp)s(on)i
(g)m(\023)-43 b(er)m(\023)g(e)31 b(en)e(\014le)f(d'atten)m(te)j(\()p
Fn(\014rst-in,)g(\014rst-out)p Fw(\))f(:)f(ce)h(qu'on)e(lit)-71
5077 y(sur)h(la)h(sortie)f(du)g(tuy)m(au,)i(c'est)g(ce)g(qu'on)e(a)f
(\023)-43 b(ecrit)30 b(sur)f(l'en)m(tr)m(\023)-43 b(ee,)32
b(dans)d(le)h(m)m(^)-43 b(eme)31 b(ordre.)f(Les)d(\023)-43
b(ecritures)30 b(\()p Fu(write)-71 5190 y Fw(sur)d(le)g(descripteur)f
(d'en)m(tr)m(\023)-43 b(ee\))30 b(remplissen)m(t)25 b(le)i(tuy)m(au,)i
(et)f(lorsqu'il)d(est)j(plein,)e(blo)s(quen)m(t)g(en)h(attendan)m(t)i
(qu'un)-71 5303 y(autre)34 b(pro)s(cessus)f(vide)f(le)i(tuy)m(au)g(en)f
(lisan)m(t)g(depuis)f(l'autre)h(extr)m(\023)-43 b(emit)m(\023)g(e)18
b(;)34 b(ce)g(pro)s(cessus)f(est)h(r)m(\023)-43 b(ep)m(\023)g(et)m
(\023)g(e)37 b(plusieurs)-71 5416 y(fois,)k(si)g(n)m(\023)-43
b(ecessaire,)43 b(jusqu'\022)-45 b(a)41 b(ce)h(que)f(toutes)i(les)e
(donn)m(\023)-43 b(ees)42 b(fournies)e(\022)-45 b(a)42
b Fu(write)e Fw(aien)m(t)f(\023)-43 b(et)m(\023)g(e)44
b(transmises.)d(Les)-71 5529 y(lectures)e(\()p Fu(read)g
Fw(sur)f(le)h(descripteur)e(de)i(sortie\))h(viden)m(t)e(le)h(tuy)m(au.)
h(Si)e(le)h(tuy)m(au)g(est)h(en)m(ti)m(\022)-43 b(eremen)m(t)41
b(vide,)d(la)p Black 1834 5757 a(45)p Black eop
%%Page: 46 46
46 45 bop Black -71 24 a Fw(46)765 b Fs(CHAPITRE)29 b(4.)61
b(COMMUNICA)-8 b(TIONS)30 b(INTER-PR)m(OCESSUS)e(CLASSIQUES)p
Black -71 280 a Fw(lecture)f(blo)s(que)f(jusqu'\022)-45
b(a)26 b(ce)i(qu'un)e(o)s(ctet)i(au)f(moins)f(soit)e(\023)-43
b(ecrit)28 b(dedans.)e(Les)h(lectures)g(retournen)m(t)g(d)m(\022)-43
b(es)28 b(qu'il)d(y)-71 393 y(a)30 b(quelque)e(c)m(hose)j(dans)e(le)g
(tuy)m(au,)h(sans)f(attendre)h(que)f(le)g(nom)m(bre)g(d'o)s(ctets)i
(demand)m(\023)-43 b(es)29 b(\022)-45 b(a)30 b Fu(read)e
Fw(soit)i(attein)m(t.)70 506 y(Les)42 b(tuy)m(aux)g(ne)g(pr)m(\023)-43
b(esen)m(ten)m(t)44 b(donc)e(aucun)f(in)m(t)m(\023)-43
b(er)m(^)g(et)44 b(si)d(c'est)i(le)f(m)m(^)-43 b(eme)43
b(pro)s(cessus)e(qui)d(\023)-43 b(ecrit)42 b(et)h(qui)d(lit)-71
619 y(dedans.)32 b(\(Ce)i(pro)s(cessus)e(risque)f(fort)i(de)g(se)g(blo)
s(quer)e(\022)-45 b(a)33 b(tout)h(jamais)e(sur)g(une)e(\023)-43
b(ecriture)33 b(trop)g(grosse,)g(ou)g(sur)-71 732 y(une)28
b(lecture)h(depuis)e(un)h(tuy)m(au)i(vide.\))e(Ce)h(son)m(t)h(donc)f(g)
m(\023)-43 b(en)m(\023)g(eralemen)m(t)32 b(des)c(pro)s(cessus)g(di\013)
m(\023)-43 b(eren)m(ts)30 b(qui)25 b(\023)-43 b(ecriv)m(en)m(t)-71
845 y(et)33 b(qui)e(lisen)m(t)g(dans)g(un)g(tuy)m(au.)i(Comme)f(le)g
(tuy)m(au)g(n'est)h(pas)f(nomm)m(\023)-43 b(e,)33 b(il)d(faut)j(que)f
(ces)g(pro)s(cessus)f(aien)m(t)f(\023)-43 b(et)m(\023)g(e)-71
958 y(cr)m(\023)g(e)m(\023)g(es)37 b(par)d Fu(fork)g
Fw(\022)-45 b(a)35 b(partir)e(du)g(pro)s(cessus)h(qui)f(a)i(allou)m
(\023)-43 b(e)35 b(le)f(tuy)m(au.)h(En)f(e\013et,)i(les)e(descripteurs)
e(sur)i(les)g(deux)-71 1071 y(extr)m(\023)-43 b(emit)m(\023)g(es)29
b(du)c(tuy)m(au,)h(comme)h(tous)g(les)e(descripteurs,)g(son)m(t)i
(dupliqu)m(\023)-43 b(es)23 b(au)k(momen)m(t)f(du)f Fu(fork)p
Fw(,)h(et)h(fon)m(t)f(donc)-71 1184 y(r)m(\023)-43 b(ef)m(\023)g
(erence)33 b(au)d(m)m(^)-43 b(eme)32 b(tuy)m(au)e(dans)g(le)g(pro)s
(cessus)f(p)m(\022)-43 b(ere)32 b(et)f(dans)e(le)h(pro)s(cessus)f
(\014ls.)p Black -71 1374 a Fv(Exemple:)p Black 45 w
Fw(le)h(fragmen)m(t)h(de)f(co)s(de)g(ci-dessous)g(est)h(t)m(ypique.)193
1506 y Fz(1)83 b Fv(let)53 b Fu(\(fd_out)n(,)47 b(fd_in)o(\))g(=)h
(pipe)o(\(\))f Fv(in)193 1619 y Fz(2)83 b Fv(matc)m(h)47
b Fu(fork)o(\(\))g Fv(with)193 1732 y Fz(3)178 b Fu(0)48
b(->)193 1845 y Fz(4)274 b Fu(close)46 b(fd_out)o(;)193
1958 y Fz(5)274 b Fu(...)47 b(write)f(fd_in)g(buffer1)g(offset1)g
(count1)g(...)193 2071 y Fz(6)83 b Fu(|)47 b(k)h(->)193
2184 y Fz(7)274 b Fu(close)46 b(fd_in)o(;)193 2297 y
Fz(8)274 b Fu(...)47 b(read)f(fd_out)g(buffer2)g(offset2)g(count2)g
(...)-71 2429 y Fw(Apr)m(\022)-43 b(es)33 b(le)g Fu(fork)p
Fw(,)f(il)f(y)i(a)g(deux)f(descripteurs)f(ouv)m(erts)j(sur)e(l'en)m(tr)
m(\023)-43 b(ee)34 b(du)e(tuy)m(au)h(\(un)f(dans)g(le)h(p)m(\022)-43
b(ere,)34 b(un)d(dans)h(le)-71 2542 y(\014ls\),)e(et)h(de)f(m)m(^)-43
b(eme)32 b(p)s(our)c(la)i(sortie.)p 4 setlinewidth np
2239 3125 90 0.00 360.00 arc st np 2239 3035 a 1639 3035
li st np 2239 3215 a 1639 3215 li st np 1639 3125 90
90.00 270.00 arc st np 1519 3095 a -90 0 rl -60 0 -90
-30 -90 -90 rc 1339 2915 li st 0.000 setgray np 1459
3080 a 1519 3095 li 1459 3110 li closepath fil 0 setgray
np 1459 3080 a 1519 3095 li 1459 3110 li closepath st
np 1114 2915 a 1564 2915 li 1564 2615 li 1114 2615 li
closepath st 1220 2728 a Fu(fd_)o(in)1256 2841 y Fw(p)m(\022)-43
b(ere)p np 1519 3155 a -90 0 rl -60 0 -90 30 -90 90 rc
1339 3335 li st 0.000 setgray np 1459 3140 a 1519 3155
li 1459 3170 li closepath fil 0 setgray np 1459 3140
a 1519 3155 li 1459 3170 li closepath st np 1114 3635
a 1564 3635 li 1564 3335 li 1114 3335 li closepath st
1220 3448 a Fu(fd_)o(in)1283 3561 y Fw(\014ls)p np 2239
3095 a 90 0 rl 60 0 90 -30 90 -90 rc 2419 2915 li st
0.000 setgray np 2404 2975 a 2419 2915 li 2434 2975 li
closepath fil 0 setgray np 2404 2975 a 2419 2915 li 2434
2975 li closepath st np 2194 2915 a 2644 2915 li 2644
2615 li 2194 2615 li closepath st 2276 2728 a Fu(fd_)o(out)2336
2841 y Fw(p)m(\022)g(ere)p np 2239 3155 a 90 0 rl 60
0 90 30 90 90 rc 2419 3335 li st 0.000 setgray np 2434
3275 a 2419 3335 li 2404 3275 li closepath fil 0 setgray
np 2434 3275 a 2419 3335 li 2404 3275 li closepath st
np 2194 3635 a 2644 3635 li 2644 3335 li 2194 3335 li
closepath st 2276 3448 a Fu(fd_)o(out)2363 3561 y Fw(\014ls)70
3749 y(On)34 b(a)h(c)m(hoisi)f(de)g(faire)g(du)g(\014ls)f(l')m(\023)-43
b(ecriv)-5 b(ain,)34 b(et)h(du)f(p)m(\022)-43 b(ere)36
b(le)e(lecteur.)g(Le)h(\014ls)e(ferme)i(donc)f(son)h(descripteur)-71
3862 y(sur)g(la)h(sortie)g(du)f(tuy)m(au)i(\(p)s(our)32
b(\023)-43 b(economiser)37 b(les)e(descripteurs,)g(et)i(p)s(our)32
b(\023)-43 b(eviter)37 b(certaines)f(erreurs)f(de)h(pro-)-71
3975 y(grammation\).)c(Le)f(p)m(\022)-43 b(ere)32 b(ferme)f(de)f(m)m(^)
-43 b(eme)33 b(son)d(descripteur)g(sur)g(l'en)m(tr)m(\023)-43
b(ee)32 b(du)e(tuy)m(au.)i(La)f(situation)f(est)h(donc)-71
4088 y(la)f(suiv)-5 b(an)m(te)30 b(:)p 4 setlinewidth
np 2239 4632 90 0.00 360.00 arc st np 2239 4542 a 1639
4542 li st np 2239 4722 a 1639 4722 li st np 1639 4632
90 90.00 270.00 arc st np 1519 4632 a -90 0 rl -60 0
-90 30 -90 90 rc 1339 4812 li st 0.000 setgray np 1459
4617 a 1519 4632 li 1459 4647 li closepath fil 0 setgray
np 1459 4617 a 1519 4632 li 1459 4647 li closepath st
np 1114 5112 a 1564 5112 li 1564 4812 li 1114 4812 li
closepath st 1220 4925 a Fu(fd_)o(in)1283 5038 y Fw(\014ls)p
np 2239 4632 a 90 0 rl 60 0 90 -30 90 -90 rc 2419 4452
li st 0.000 setgray np 2404 4512 a 2419 4452 li 2434
4512 li closepath fil 0 setgray np 2404 4512 a 2419 4452
li 2434 4512 li closepath st np 2194 4452 a 2644 4452
li 2644 4152 li 2194 4152 li closepath st 2276 4265 a
Fu(fd_)o(out)2336 4378 y Fw(p)m(\022)-43 b(ere)70 5226
y(Les)30 b(donn)m(\023)-43 b(ees)30 b(que)f(le)g(\014ls)c(\023)-43
b(ecrit)30 b(sur)e Fu(fd_in)g Fw(arriv)m(en)m(t)i(donc)f(bien)f
(jusqu'au)g(descripteur)g Fu(fd_out)g Fw(du)g(p)m(\022)-43
b(ere.)70 5416 y(Lorsqu'on)39 b(a)g(ferm)m(\023)-43 b(e)40
b(tous)f(les)f(descripteurs)f(sur)h(l'en)m(tr)m(\023)-43
b(ee)41 b(d'un)c(tuy)m(au,)j Fu(read)e Fw(sur)g(la)g(sortie)h(du)f(tuy)
m(au)-71 5529 y(ren)m(v)m(oie)30 b(z)m(\023)-43 b(ero)31
b(:)e(\014n)f(de)h(\014c)m(hier.)f(Lorsqu'on)g(a)i(ferm)m(\023)-43
b(e)30 b(tous)f(les)f(descripteurs)g(sur)g(la)g(sortie)h(d'un)f(tuy)m
(au,)i Fu(write)p Black Black eop
%%Page: 47 47
47 46 bop Black -71 24 a Fs(4.2.)62 b(EXEMPLE)30 b(COMPLET)f(:)i(LE)f
(CRIBLE)g(D')1803 1 y(\023)1791 24 y(ERA)-8 b(TOSTH)2314
1 y(\022)2302 24 y(ENE)30 b(P)-8 b(ARALL)2907 1 y(\022)2895
24 y(ELE)662 b Fw(47)p Black -71 280 a(sur)33 b(l'en)m(tr)m(\023)-43
b(ee)35 b(du)d(tuy)m(au)i(pro)m(v)m(o)s(que)g(la)f(mort)h(du)f(pro)s
(cessus)f(qui)h(fait)g Fu(write)p Fw(.)f(\(Plus)h(pr)m(\023)-43
b(ecis)m(\023)g(emen)m(t)35 b(:)f(le)f(no)m(y)m(au)-71
393 y(en)m(v)m(oie)g(un)e(signal)f Fu(SIGPIPE)g Fw(au)i(pro)s(cessus)f
(qui)f(fait)i Fu(write)p Fw(,)e(et)j(le)e(comp)s(ortemen)m(t)i(par)e(d)
m(\023)-43 b(efaut)33 b(de)f(ce)g(signal)-71 506 y(est)f(de)f(tuer)g
(le)g(pro)s(cessus.)g(V)-8 b(oir)30 b(la)g(partie)g(\\signaux")g
(ci-dessous.\))-71 790 y Fq(4.2)135 b(Exemple)46 b(complet)g(:)f(le)h
(crible)f(d')2015 761 y(\023)2004 790 y(Eratosth)m(\022)-64
b(ene)47 b(parall)m(\022)-64 b(ele)70 993 y Fw(L'exemple)36
b(qui)e(suit)h(est)h(un)f(grand)g(classique)g(de)h(la)f(programmation)h
(par)f(pro)s(cessus)g(comm)m(unican)m(ts.)-71 1106 y(Le)h(but)e(du)h
(programme)g(est)h(d')m(\023)-43 b(en)m(um)m(\023)g(erer)37
b(les)d(nom)m(bres)h(premiers)f(et)i(de)f(les)g(a\016c)m(her)h(au)f
(fur)g(et)h(\022)-45 b(a)35 b(mesure.)-71 1219 y(L'id)m(\023)-43
b(ee)34 b(est)h(la)e(suiv)-5 b(an)m(te)33 b(:)h(initialemen)m(t,)e(on)i
(connecte)h(un)e(pro)s(cessus)f(qui)e(\023)-43 b(en)m(um)m(\022)g(ere)
35 b(les)e(en)m(tiers)h(\022)-45 b(a)34 b(partir)e(de)-71
1332 y(2)e(sur)f(sa)h(sortie)g(a)m(v)m(ec)i(un)d(pro)s(cessus)g
(\\\014ltre".)h(Le)g(pro)s(cessus)f(\014ltre)g(commence)i(par)e(lire)f
(un)h(en)m(tier)h Ft(p)g Fw(sur)e(son)-71 1445 y(en)m(tr)m(\023)-43
b(ee,)33 b(et)e(l'a\016c)m(he)g(\022)-45 b(a)30 b(l')m(\023)-43
b(ecran.)p 4 setlinewidth np 1219 1811 a 1669 1811 li
1669 1511 li 1219 1511 li closepath st 1234 1624 a(g)m(\023)g(en)m
(\023)g(erateur)1276 1737 y(d'en)m(tiers)p np 1669 1661
a 2089 1661 li st 0.000 setgray np 2029 1646 a 2089 1661
li 2029 1676 li closepath fil 0 setgray np 2029 1646
a 2089 1661 li 2029 1676 li closepath st 1705 1624 a(2,3,4,)32
b(.)16 b(.)f(.)p np 2089 1811 a 2539 1811 li 2539 1511
li 2089 1511 li closepath st 2213 1681 a(lire)29 b Ft(p)70
1927 y Fw(Le)g(premier)e(pro)s(cessus)g(\014ltre)h(lit)f(donc)h
Ft(p)d Fw(=)g(2.)k(Ensuite,)e(il)g(cr)m(\023)-43 b(ee)31
b(un)c(nouv)m(eau)i(pro)s(cessus)e(\014ltre,)h(connect)m(\023)-43
b(e)-71 2040 y(\022)e(a)35 b(sa)f(sortie,)g(et)h(il)e(se)h(met)h(\022)
-45 b(a)34 b(\014ltrer)f(les)h(m)m(ultiples)e(de)i Ft(p)f
Fw(depuis)g(son)g(en)m(tr)m(\023)-43 b(ee)18 b(;)34 b(tous)g(les)g(nom)
m(bres)g(lus)e(qui)h(ne)-71 2153 y(son)m(t)e(pas)f(m)m(ultiples)e(de)i
Ft(p)g Fw(son)m(t)h(r)m(\023)-43 b(e)m(\023)g(emis)32
b(sur)d(sa)i(sortie.)p 4 setlinewidth np 784 2520 a 1234
2520 li 1234 2220 li 784 2220 li closepath st 799 2333
a(g)m(\023)-43 b(en)m(\023)g(erateur)841 2446 y(d'en)m(tiers)p
np 1234 2370 a 1654 2370 li st 0.000 setgray np 1594
2355 a 1654 2370 li 1594 2385 li closepath fil 0 setgray
np 1594 2355 a 1654 2370 li 1594 2385 li closepath st
1270 2333 a(2,3,4,)32 b(.)16 b(.)f(.)p np 1654 2520 a
2104 2520 li 2104 2220 li 1654 2220 li closepath st 168
w(\014ltre)1763 2446 y(les)30 b(2)p Ft(n)p np 2104 2370
a 2524 2370 li st 0.000 setgray np 2464 2355 a 2524 2370
li 2464 2385 li closepath fil 0 setgray np 2464 2355
a 2524 2370 li 2464 2385 li closepath st 2140 2333 a
Fw(3,5,7,)i(.)16 b(.)f(.)p np 2524 2520 a 2974 2520 li
2974 2220 li 2524 2220 li closepath st 2648 2389 a(lire)29
b Ft(p)70 2636 y Fw(Le)k(pro)s(cessus)f(suiv)-5 b(an)m(t)33
b(lit)f(donc)g Ft(p)e Fw(=)f(3,)34 b(l'a\016c)m(he,)g(et)f(se)h(met)f
(\022)-45 b(a)33 b(\014ltrer)f(les)h(m)m(ultiples)d(de)j(3.)h(Et)f
(ainsi)e(de)-71 2749 y(suite.)p 4 setlinewidth np 34
3116 a 484 3116 li 484 2816 li 34 2816 li closepath st
49 2929 a(g)m(\023)-43 b(en)m(\023)g(erateur)91 3042
y(d'en)m(tiers)p np 484 2966 a 904 2966 li st 0.000 setgray
np 844 2951 a 904 2966 li 844 2981 li closepath fil 0 setgray
np 844 2951 a 904 2966 li 844 2981 li closepath st 520
2929 a(2,3,4,)32 b(.)16 b(.)f(.)p np 904 3116 a 1354
3116 li 1354 2816 li 904 2816 li closepath st 168 w(\014ltre)1013
3042 y(les)30 b(2)p Ft(n)p np 1354 2966 a 1774 2966 li
st 0.000 setgray np 1714 2951 a 1774 2966 li 1714 2981
li closepath fil 0 setgray np 1714 2951 a 1774 2966 li
1714 2981 li closepath st 1390 2929 a Fw(3,5,7,)i(.)16
b(.)f(.)p np 1774 3116 a 2224 3116 li 2224 2816 li 1774
2816 li closepath st 168 w(\014ltre)1883 3042 y(les)30
b(3)p Ft(n)p np 2224 2966 a 2644 2966 li st 0.000 setgray
np 2584 2951 a 2644 2966 li 2584 2981 li closepath fil
0 setgray np 2584 2951 a 2644 2966 li 2584 2981 li closepath
st 2237 2929 a Fw(5,7,11,)j(.)15 b(.)h(.)2816 2985 y(.)g(.)f(.)p
np 3094 2966 a 3274 2966 li st 0.000 setgray np 3214
2951 a 3274 2966 li 3214 2981 li closepath fil 0 setgray
np 3214 2951 a 3274 2966 li 3214 2981 li closepath st
np 3274 3116 a 3724 3116 li 3724 2816 li 3274 2816 li
closepath st 476 w(lire)29 b Ft(p)70 3232 y Fw(Cet)34
b(algorithme)g(n'est)g(pas)f(directemen)m(t)h(impl)m(\023)-43
b(emen)m(table)33 b(en)h(Unix,)e(parce)j(qu'il)c(cr)m(\023)-43
b(ee)36 b(trop)d(de)h(pro)s(ces-)-71 3345 y(sus)c(\(le)h(nom)m(bre)g
(d'en)m(tiers)f(premiers)f(d)m(\023)-43 b(ej\022)e(a)32
b(trouv)m(\023)-43 b(es,)33 b(plus)c(un\).)h(La)h(plupart)e(des)i(syst)
m(\022)-43 b(emes)32 b(Unix)e(limiten)m(t)f(le)-71 3457
y(nom)m(bre)36 b(de)f(pro)s(cessus)g(\022)-45 b(a)36
b(quelques)f(dizaines.)f(De)j(plus,)d(dix)h(pro)s(cessus)f(actifs)i
(sim)m(ultan)m(\023)-43 b(emen)m(t)36 b(su\016sen)m(t)g(\022)-45
b(a)-71 3570 y(e\013ondrer)31 b(la)g(plupart)e(des)i(mac)m(hines)g
(monopro)s(cesseurs,)g(en)g(raison)g(des)g(co)s(^)-48
b(uts)29 b(\023)-43 b(elev)m(\023)g(es)33 b(de)e(comm)m(utation)h(de)
-71 3683 y(con)m(textes)e(p)s(our)d(passer)g(d'un)g(pro)s(cessus)f
(\022)-45 b(a)29 b(un)e(autre.)h(Dans)g(l'impl)m(\023)-43
b(emen)m(tation)27 b(qui)g(suit,)g(c)m(haque)h(pro)s(cessus)-71
3796 y(attend)d(d'a)m(v)m(oir)f(lu)e(un)h(certain)h(nom)m(bre)g(d'en)m
(tiers)f(premiers)f Ft(p)2115 3810 y Fz(1)2154 3796 y
Ft(;)15 b(:)g(:)g(:)i(;)e(p)2402 3811 y Fe(k)2469 3796
y Fw(sur)22 b(son)i(en)m(tr)m(\023)-43 b(ee)26 b(a)m(v)-5
b(an)m(t)25 b(de)f(se)g(transfor-)-71 3909 y(mer)30 b(en)g(\014ltre)f
(\022)-45 b(a)28 b(\023)-43 b(eliminer)27 b(les)j(m)m(ultiples)d(de)j
Ft(p)1562 3923 y Fz(1)1601 3909 y Ft(;)15 b(:)g(:)g(:)i(;)e(p)1849
3924 y Fe(k)1892 3909 y Fw(.)30 b(En)f(pratique,)h Ft(k)e
Fw(=)d(1000)32 b(ralen)m(tit)d(raisonnablemen)m(t)-71
4022 y(la)h(cr)m(\023)-43 b(eation)32 b(de)e(nouv)m(eaux)h(pro)s
(cessus.)70 4135 y(On)f(commence)h(par)f(le)g(pro)s(cessus)f(qui)g(pro)
s(duit)f(les)i(nom)m(bres)g(en)m(tiers)g(de)g(2)h(\022)-45
b(a)31 b Ft(k)s Fw(.)193 4267 y Fz(1)83 b Fv(op)s(en)48
b Fu(Unix)o(;;)193 4380 y Fz(2)193 4493 y(3)83 b Fv(let)53
b Fu(input_int)45 b(=)j(input_binary_int)193 4606 y Fz(4)83
b Fv(let)53 b Fu(output_int)45 b(=)i(output_binary_int)193
4719 y Fz(5)193 4832 y(6)83 b Fv(let)53 b Fu(generate)45
b(k)j(output)e(=)193 4945 y Fz(7)178 b Fv(let)48 b(rec)g
Fu(gen)f(m)g(=)193 5058 y Fz(8)274 b Fu(output_int)45
b(output)h(m;)193 5171 y Fz(9)274 b Fv(if)48 b Fu(m)f(<)g(k)h
Fv(then)f Fu(gen)g(\(m+1\))157 5284 y Fz(10)179 b Fv(in)48
b Fu(gen)f(2;;)-71 5416 y Fw(P)m(our)42 b(comm)m(uniquer)e(les)h(en)m
(tiers)g(en)g(la)g(sortie)h(d'un)e(g)m(\023)-43 b(en)m(\023)g(erateur)
44 b(et)e(l'en)m(tr)m(\023)-43 b(ee)44 b(du)c(\014ltre)h(suiv)-5
b(an)m(t)40 b(on)i(p)s(eut)-71 5529 y(utiliser)28 b(les)i(fonctions)g
(suiv)-5 b(an)m(tes)30 b(:)p Black Black eop
%%Page: 48 48
48 47 bop Black -71 24 a Fw(48)765 b Fs(CHAPITRE)29 b(4.)61
b(COMMUNICA)-8 b(TIONS)30 b(INTER-PR)m(OCESSUS)e(CLASSIQUES)p
Black -71 280 a Fw(La)g(fonction)g Fu(output_binary_int)23
b Fw(est)29 b(une)e(fonction)h(de)f(la)h(biblioth)m(\022)-43
b(eque)26 b(standard)h(qui)d(\023)-43 b(ecrit)29 b(la)f(repr)m(\023)-43
b(esen-)-71 393 y(tation)25 b(d'un)f(en)m(tier)h(\(sous)g(forme)g(de)g
(quatre)g(o)s(ctets\))i(sur)d(un)g Fu(out_channel)p Fw(.)e(L'en)m(tier)
j(p)s(eut)f(ensuite)e(^)-43 b(etre)26 b(relu)-71 506
y(par)34 b(la)h(fonction)f Fu(input_binary_int)p Fw(.)d(L'in)m(t)m
(\023)-43 b(er)m(^)g(et)37 b(d'emplo)m(y)m(er)d(ici)g(la)g(biblioth)m
(\022)-43 b(eque)33 b(standard)h(est)i(double)d(:)-71
619 y(premi)m(\022)-43 b(eremen)m(t,)36 b(il)d(n'y)i(a)h(pas)f(\022)-45
b(a)35 b(faire)g(soi-m)m(^)-43 b(eme)36 b(les)f(fonctions)f(de)h(con)m
(v)m(ersion)h(en)m(tiers/c)m(ha)-10 b(^)-35 b(\020nes)35
b(de)g(quatre)-71 732 y(caract)m(\022)-43 b(eres)28 b(\(la)d(repr)m
(\023)-43 b(esen)m(tation)26 b(n'est)f(pas)g(sp)m(\023)-43
b(eci\014)m(\023)g(ee,)27 b(mais)d(il)g(est)h(garan)m(ti)h(que)f(p)s
(our)e(une)h(v)m(ersion)h(du)f(langage,)-71 845 y(elle)i(est)h(ind)m
(\023)-43 b(ep)s(endan)m(te)26 b(de)g(la)g(mac)m(hine\))16
b(;)26 b(deuxi)m(\022)-43 b(ememen)m(t,)28 b(on)e(fait)h(b)s(eaucoup)e
(moins)h(d'app)s(els)e(syst)m(\022)-43 b(eme,)29 b(car)-71
958 y(les)d(en)m(tr)m(\023)-43 b(ees/sorties)29 b(son)m(t)e(temp)s
(oris)m(\023)-43 b(ees,)27 b(d'o)s(\022)-48 b(u)26 b(de)h(meilleures)d
(p)s(erformances.)i(Les)h(deux)f(fonctions)g(ci-dessous)-71
1071 y(construisen)m(t)34 b(un)f Fu(in_channel)f Fw(ou)i(un)g
Fu(out_channel)d Fw(qui)i(temp)s(orise)g(les)h(lectures)g(ou)h(les)c
(\023)-43 b(ecritures)34 b(sur)f(le)-71 1184 y(descripteur)c(Unix)g
(donn)m(\023)-43 b(e)31 b(en)f(argumen)m(t)h(:)311 1316
y Fu(in_channel_of_descr)90 b(:)48 b(file_descr)d(->)i(in_channel)311
1429 y(out_channel_of_descr)42 b(:)48 b(file_descr)d(->)i(out_channel)
-71 1585 y Fw(Ces)f(fonctions)f(p)s(ermetten)m(t)h(de)f(faire)g(des)g
(en)m(tr)m(\023)-43 b(ees/sorties)48 b(temp)s(oris)m(\023)-43
b(ees)46 b(sur)e(des)h(descripteurs)f(obten)m(us)-71
1698 y(indirectemen)m(t)30 b(ou)g(autremen)m(t)i(que)e(par)g(une)g(ouv)
m(erture)h(de)g(\014c)m(hier.)f(Leur)g(utilisation)e(n'a)j(pas)f(p)s
(our)f(but)h(de)-71 1811 y(m)m(\023)-43 b(elanger)28
b(les)f(en)m(tr)m(\023)-43 b(ees/sorties)29 b(temp)s(oris)m(\023)-43
b(es)27 b(a)m(v)m(ec)j(des)c(en)m(tr)m(\023)-43 b(ees)30
b(sorties)d(non)f(temp)s(oris)m(\023)-43 b(ees,)28 b(ce)g(qui)e(est)i
(p)s(ossible)-71 1923 y(mais)h(tr)m(\022)-43 b(es)30
b(d)m(\023)-43 b(elicat)30 b(et)g(fortemen)m(t)g(d)m(\023)-43
b(econseill)m(\023)g(e,)31 b(en)e(particulier)e(p)s(our)h(les)g
(lectures.)i(Il)e(est)f(\023)-43 b(egalemen)m(t)32 b(p)s(ossible)-71
2036 y(mais)42 b(tr)m(\022)-43 b(es)43 b(risqu)m(\023)-43
b(e)42 b(de)g(construire)f(plusieurs)e Fu(in_channel)g
Fw(\(par)j(exemple\))g(sur)f(le)h(m)m(^)-43 b(eme)44
b(descripteur)c(de)-71 2149 y(\014c)m(hier.)70 2285 y(On)d(passe)g
(main)m(tenan)m(t)g(au)h(pro)s(cessus)e(\014ltre.)g(Il)g(utilise)f(la)i
(fonction)g(auxiliaire)e Fu(read_first_primes)p Fw(.)-71
2398 y(L'app)s(el)30 b Fu(read_first_primes)43 b(input)k(n)31
b Fw(lit)f Fu(n)i Fw(nom)m(bres)f(sur)f Fu(input)g Fw(\(un)h
Fu(in_channel)p Fw(\),)e(en)g(\023)-43 b(eliminan)m(t)31
b(les)-71 2511 y(m)m(ultiples)f(des)h(nom)m(bres)h(d)m(\023)-43
b(ej\022)e(a)33 b(lus.)e(On)g(a\016c)m(he)i(ces)g Fu(n)f
Fw(nom)m(bres)f(au)h(fur)f(et)i(\022)-45 b(a)32 b(mesure)g(de)f(leur)g
(construction,)-71 2624 y(et)g(on)f(en)h(ren)m(v)m(oie)g(la)f(liste.)
157 2757 y Fz(11)84 b Fv(let)53 b Fu(print_prime)45 b(n)i(=)g
(print_int)f(n)o(;)i(print_newline)l(\(\))157 2870 y
Fz(12)157 2983 y(13)84 b Fv(let)53 b Fu(read_first_primes)43
b(input)j(count)h(=)157 3095 y Fz(14)179 b Fv(let)48
b(rec)g Fu(read_primes)d(first_primes)f(count)i(=)157
3208 y Fz(15)275 b Fv(if)48 b Fu(count)e(<=)h(0)h Fv(then)157
3321 y Fz(16)370 b Fu(first_primes)157 3434 y Fz(17)275
b Fv(else)157 3547 y Fz(18)370 b Fv(let)48 b Fu(n)f(=)h(input_int)d
(input)h Fv(in)157 3660 y Fz(19)370 b Fv(if)48 b Fu(List)o(.exists)e
(\()o Fv(fun)i Fu(m)g(->)f(n)g Fv(mo)s(d)g Fu(m)h(=)f(0\))h
(first_primes)c Fv(then)157 3773 y Fz(20)466 b Fu(read_primes)44
b(first_primes)h(count)157 3886 y Fz(21)370 b Fv(else)48
b(b)s(egin)157 3999 y Fz(22)466 b Fu(print_prime)44 b(n;)157
4112 y Fz(23)466 b Fu(read_primes)44 b(\(n)k(::)f(first_primes)m(\))g
(\(count)f(-)i(1\))157 4225 y Fz(24)370 b Fv(end)48 b(in)157
4337 y Fz(25)179 b Fu(read_primes)45 b([])i(count)o(;;)-71
4493 y Fw(V)-8 b(oici)30 b(la)g(fonction)g(\014ltre)g(propremen)m(t)g
(dite.)157 4626 y Fz(26)84 b Fv(let)53 b(rec)48 b Fu(filter)e(input)g
(=)157 4739 y Fz(27)179 b Fv(try)157 4852 y Fz(28)275
b Fv(let)47 b Fu(first_primes)e(=)i(read_first_primes)c(input)k(1000)f
Fv(in)157 4964 y Fz(29)275 b Fv(let)47 b Fu(\(fd_out)n(,)h(fd_in)n(\))g
(=)f(pipe)o(\(\))g Fv(in)157 5077 y Fz(30)275 b Fv(matc)m(h)47
b Fu(fork)o(\(\))g Fv(with)157 5190 y Fz(31)370 b Fu(0)48
b(->)157 5303 y Fz(32)466 b Fu(close)46 b(fd_in)o(;)157
5416 y Fz(33)466 b Fu(filter)46 b(\(in_channel_of_descr)c(fd_out)n(\))
157 5529 y Fz(34)275 b Fu(|)47 b(p)h(->)p Black Black
eop
%%Page: 49 49
49 48 bop Black -71 24 a Fs(4.2.)62 b(EXEMPLE)30 b(COMPLET)f(:)i(LE)f
(CRIBLE)g(D')1803 1 y(\023)1791 24 y(ERA)-8 b(TOSTH)2314
1 y(\022)2302 24 y(ENE)30 b(P)-8 b(ARALL)2907 1 y(\022)2895
24 y(ELE)662 b Fw(49)p Black 157 280 a Fz(35)466 b Fu(close)46
b(fd_out)n(;)157 393 y Fz(36)466 b Fv(let)47 b Fu(output)f(=)i
(out_channel_of_descr)42 b(fd_in)k Fv(in)157 506 y Fz(37)466
b Fv(while)47 b Fu(true)g Fv(do)157 619 y Fz(38)561 b
Fv(let)48 b Fu(n)f(=)g(input_int)f(input)g Fv(in)157
732 y Fz(39)561 b Fv(if)48 b Fu(List)o(.exists)e(\()o
Fv(fun)i Fu(m)g(->)f(n)g Fv(mo)s(d)g Fu(m)h(=)f(0\))g(first_primes)e
Fv(then)i Fu(\(\))157 845 y Fz(40)561 b Fv(else)48 b
Fu(output_int)d(output)h(n)157 958 y Fz(41)466 b Fv(done)157
1071 y Fz(42)179 b Fv(with)47 b Fu(End_of_file)e(->)i(\(\);;)-71
1203 y Fw(Le)31 b(\014ltre)f(commence)i(par)e(app)s(eler)f
Fu(read_first_primes)d Fw(p)s(our)k(lire)f(les)h(1000)i(premiers)d(nom)
m(bres)i(premiers)-71 1316 y(sur)d(son)g(en)m(tr)m(\023)-43
b(ee)31 b(\(le)e(param)m(\022)-43 b(etre)30 b Fu(input)p
Fw(,)e(de)g(t)m(yp)s(e)h Fu(in_channel)p Fw(\).)e(Ensuite,)h(on)g(cr)m
(\023)-43 b(ee)31 b(un)d(tuy)m(au)h(et)g(on)g(clone)f(le)-71
1429 y(pro)s(cessus)k(par)h Fu(fork)p Fw(.)f(Le)i(pro)s(cessus)e
(\014ls)g(se)h(met)h(\022)-45 b(a)34 b(\014ltrer)e(de)h(m)m(^)-43
b(eme)34 b(ce)g(qui)e(sort)i(du)e(tuy)m(au.)i(Le)f(pro)s(cessus)-71
1542 y(p)m(\022)-43 b(ere)31 b(lit)e(des)h(nom)m(bres)g(sur)f(son)h(en)
m(tr)m(\023)-43 b(ee,)32 b(et)f(les)f(en)m(v)m(oie)h(dans)e(le)h(tuy)m
(au)g(s'ils)f(ne)h(son)m(t)h(pas)f(m)m(ultiples)d(d'un)i(des)-71
1655 y(1000)j(nom)m(bres)e(premiers)f(lus)g(initialemen)m(t.)70
1768 y(Le)41 b(programme)g(principal)d(se)j(r)m(\023)-43
b(eduit)41 b(\022)-45 b(a)41 b(connecter)h(par)e(un)g(tuy)m(au)h(le)g
(g)m(\023)-43 b(en)m(\023)g(erateur)44 b(d'en)m(tiers)c(a)m(v)m(ec)j
(un)-71 1881 y(premier)32 b(pro)s(cessus)h(\014ltre)g(\()p
Fu(crible)f Ft(k)j Fw(\023)-43 b(en)m(um)m(\022)g(ere)35
b(les)e(nom)m(bres)g(premiers)g(plus)e(p)s(etits)i(que)h
Ft(k)s Fw(.)g(Si)f Ft(k)j Fw(est)f(omis)-71 1994 y(\(ou)c(n'est)f(pas)h
(un)e(en)m(tier\))i(il)d(prend)h(la)h(v)-5 b(aleur)30
b(par)f(d)m(\023)-43 b(efaut)32 b Fu(max_int)p Fw(\).)157
2126 y Fz(43)84 b Fv(let)53 b Fu(crible)46 b(\(\))h(=)157
2239 y Fz(44)179 b Fv(let)48 b Fu(len)f(=)g Fv(try)h
Fu(int_of_string)c(Sys)o(.argv)o(.\(1\))i Fv(with)h Fu(_)h(->)f
(max_int)f Fv(in)157 2352 y Fz(45)179 b Fv(let)48 b Fu(\()o(fd_out)o(,)
f(fd_in)o(\))g(=)h(pipe)e(\(\))i Fv(in)157 2465 y Fz(46)179
b Fv(matc)m(h)47 b Fu(fork)o(\(\))g Fv(with)157 2578
y Fz(47)275 b Fu(0)47 b(->)157 2691 y Fz(48)370 b Fu(close)47
b(fd_in)n(;)157 2803 y Fz(49)370 b Fu(filter)46 b
(\(in_channel_of_descr)d(fd_out)n(\))157 2916 y Fz(50)179
b Fu(|)48 b(p)f(->)157 3029 y Fz(51)370 b Fu(close)47
b(fd_out)n(;)157 3142 y Fz(52)370 b Fu(generate)46 b(len)h(\()o
(out_channel_of_descr)c(fd_in)n(\);;)157 3255 y Fz(53)157
3368 y(54)84 b Fu(handle_unix_error)43 b(crible)j(\(\);;)-71
3500 y Fw(Ici,)39 b(nous)g(n'a)m(v)m(ons)h(pas)f(attendu)g(que)g(les)g
(\014ls)f(terminen)m(t)h(p)s(our)e(terminer)i(le)f(programme.)i(Les)f
(pro)s(cessus)-71 3613 y(p)m(\022)-43 b(eres)34 b(son)m(t)f(des)g(g)m
(\023)-43 b(en)m(\023)g(erateurs)35 b(p)s(our)d(leurs)f(\014ls.)h
(Lorsque)g Ft(k)k Fw(est)e(donn)m(\023)-43 b(e,)33 b(le)g(p)m(\022)-43
b(ere)33 b(v)-5 b(a)34 b(s'arr)m(^)-43 b(eter)34 b(en)f(premier,)e(et)
-71 3726 y(fermer)g(le)g(descripteur)e(sur)i(le)f(tuy)m(au)i(lui)d(p)s
(ermettan)m(t)j(de)f(comm)m(uniquer)f(a)m(v)m(ec)j(son)e(\014ls.)f
(Lorsqu'il)g(termine,)-71 3839 y(OCaml)e(vide)f(les)h(tamp)s(ons)g(sur)
g(les)g(descripteurs)f(ouv)m(erts)i(en)d(\023)-43 b(ecriture,)29
b(donc)g(le)f(pro)s(cessus)f(\014ls)h(p)s(eut)g(lire)f(les)-71
3952 y(derni)m(\022)-43 b(eres)28 b(donn)m(\023)-43 b(ees)28
b(fournies)f(par)g(le)h(p)m(\022)-43 b(ere.)29 b(Il)e(s'arr)m(^)-43
b(ete)30 b(\022)-45 b(a)28 b(son)g(tour,)g Fn(etc.)g
Fw(Les)g(\014ls)f(deviennen)m(t)g(donc)h(orphelins)-71
4065 y(et)j(son)m(t)g(temp)s(orairemen)m(t)f(rattac)m(h)m(\023)-43
b(es)33 b(au)e(pro)s(cessus)e(1)i(a)m(v)-5 b(an)m(t)32
b(de)e(terminer)f(\022)-45 b(a)31 b(leur)e(tour.)70 4178
y(Lorsque)34 b Ft(k)k Fw(n'est)c(pas)g(fourni,)f(tous)h(les)g(pro)s
(cessus)g(con)m(tin)m(uen)m(t)g(ind)m(\023)-43 b(e\014nimen)m(t)33
b(\(jusqu'\022)-45 b(a)34 b(ce)h(que)f(l'un)f(ou)-71
4291 y(plusieurs)27 b(soien)m(t)i(tu)m(\023)-43 b(es\).)32
b(La)e(mort)g(d'un)e(pro)s(cessus)h(en)m(tra)-10 b(^)-35
b(\020ne)29 b(la)g(terminaison)f(d'un)h(de)g(ses)h(\014ls)e(comme)j
(dans)-71 4404 y(le)39 b(cas)g(pr)m(\023)-43 b(ec)m(\023)g(eden)m(t)42
b(et)d(la)g(fermeture)g(en)f(lecture)h(du)f(tuy)m(au)h(qui)f(le)h
(relie)e(\022)-45 b(a)40 b(son)e(p)m(\022)-43 b(ere.)40
b(Cela)f(pro)m(v)m(o)s(quera)g(la)-71 4517 y(terminaison)c(de)h(son)h
(p)m(\022)-43 b(ere)37 b(\022)-45 b(a)37 b(la)f(pro)s(c)m(haine)e(\023)
-43 b(ecriture)36 b(sur)g(le)g(tuy)m(au)h(\(le)f(p)m(\022)-43
b(ere)38 b(recevra)f(un)e(signal)h Fu(SIGPIPE)p Fw(,)-71
4630 y(don)m(t)31 b(l'action)f(par)g(d)m(\023)-43 b(efaut)31
b(est)g(la)f(terminaison)f(du)g(pro)s(cessus\).)p Black
-71 4797 a Fv(Exercice)36 b(9)p Black 45 w Fn(Comment)30
b(faut-il)f(mo)-5 b(di\014er)30 b(le)e(pr)-5 b(o)g(gr)g(amme)32
b(p)-5 b(our)30 b(que)e(le)g(p)n(\022)-44 b(er)-5 b(e)29
b(attende)h(la)f(terminaison)h(de)f(ses)-71 4910 y(\014ls)16
b(?)3002 b Fw(\(V)-8 b(oir)31 b(le)f(corrig)m(\023)-43
b(e\))p 3783 4860 47 4 v 3783 4907 4 47 v 3826 4907 V
3783 4910 47 4 v Black -71 5077 a Fv(Exercice)36 b(10)p
Black 515 5054 a Fn(\022)499 5077 y(A)25 b(chaque)g(nombr)-5
b(e)27 b(pr)-5 b(emier)27 b(tr)-5 b(ouv)n(\023)-44 b(e,)26
b(la)g(fonction)g Fu(print_prime)c Fn(app)-5 b(el)5 b(le)27
b Fu(print_newline\(\))-71 5190 y Fn(qui)45 b(e\013e)-5
b(ctue)46 b(un)f(app)-5 b(el)48 b(syst)n(\022)-44 b(eme)46
b(p)-5 b(our)47 b(vider)f(de)g(tamp)-5 b(on)49 b(de)d(la)g(sortie)h
(standar)-5 b(d,)48 b(c)-5 b(e)46 b(qui)g(limite)g(arti\014-)-71
5303 y(ciel)5 b(lement)46 b(la)h(vitesse)e(d'ex)n(\023)-44
b(ecution.)47 b(En)e(fait)h Fu(print_newline\(\))c Fn(ex)n(\023)-44
b(ecute)46 b Fu(print_char)f('\\n')f Fn(suivi)i(de)-71
5416 y Fu(flush)g(Pervasives.stdout)p Fn(.)37 b(Que)j(p)-5
b(eut-il)41 b(se)g(p)-5 b(asser)43 b(si)e(on)h(ex)n(\023)-44
b(ecute)40 b(simplement)i Fu(print_char)j('\\n')15 b
Fn(?)-71 5529 y(Que)32 b(fair)-5 b(e)33 b(alors)17 b(?)2519
b Fw(\(V)-8 b(oir)31 b(le)f(corrig)m(\023)-43 b(e\))p
3783 5479 V 3783 5526 4 47 v 3826 5526 V 3783 5529 47
4 v Black Black eop
%%Page: 50 50
50 49 bop Black -71 24 a Fw(50)765 b Fs(CHAPITRE)29 b(4.)61
b(COMMUNICA)-8 b(TIONS)30 b(INTER-PR)m(OCESSUS)e(CLASSIQUES)p
Black -71 280 a Fq(4.3)135 b(Les)46 b(tuy)l(aux)f(nomm)m(\023)-64
b(es)70 483 y Fw(Certaines)28 b(v)-5 b(arian)m(tes)29
b(d'Unix)e(\(System)i(V,)f(SunOS,)f(Ultrix,)g(Lin)m(ux\))g(fournissen)m
(t)g(la)i(p)s(ossibilit)m(\023)-43 b(e)25 b(de)k(cr)m(\023)-43
b(eer)-71 596 y(des)31 b(tuy)m(aux)g(asso)s(ci)m(\023)-43
b(es)32 b(\022)-45 b(a)31 b(un)f(nom)h(dans)f(le)h(syst)m(\022)-43
b(eme)32 b(de)f(\014c)m(hiers.)f(Ces)h(tuy)m(aux)g(nomm)m(\023)-43
b(es)32 b(\(aussi)e(app)s(el)m(\023)-43 b(es)31 b Fn(\014fo)6
b Fw(\))-71 709 y(p)s(ermetten)m(t)26 b(la)f(comm)m(unication)g(en)m
(tre)h(des)g(pro)s(cessus)e(sans)h(liens)f(de)h(famille)f(particuliers)
f(\(au)i(con)m(traire)h(des)-71 822 y(tuy)m(aux)31 b(normaux,)f(qui)f
(limiten)m(t)f(la)i(comm)m(unication)g(au)h(cr)m(\023)-43
b(eateur)32 b(du)d(tuy)m(au)i(et)g(\022)-45 b(a)30 b(ses)h(descendan)m
(ts\).)70 935 y(L'app)s(el)e(p)s(ermettan)m(t)i(de)g(cr)m(\023)-43
b(eer)31 b(un)f(tuy)m(au)g(nomm)m(\023)-43 b(e)31 b(est)g(:)311
1067 y Fu(mkfifo)46 b(:)h(string)g(->)g(int)g(->)g(unit)-71
1200 y Fw(Le)31 b(premier)d(argumen)m(t)j(est)g(le)f(nom)g(du)g(tuy)m
(au)15 b(;)31 b(le)e(deuxi)m(\022)-43 b(eme,)31 b(les)f(droits)f(d'acc)
m(\022)-43 b(es)33 b(v)m(oulus.)70 1313 y(On)28 b(ouvre)h(un)f(tuy)m
(au)i(nomm)m(\023)-43 b(e)29 b(par)g Fu(openfile)p Fw(,)e(comme)j(p)s
(our)d(un)h(\014c)m(hier)g(normal.)h(Lectures)g(et)e(\023)-43
b(ecritures)-71 1426 y(sur)25 b(un)f(tuy)m(au)i(nomm)m(\023)-43
b(e)26 b(on)m(t)g(la)f(m)m(^)-43 b(eme)27 b(s)m(\023)-43
b(eman)m(tique)27 b(que)e(sur)f(un)h(tuy)m(au)h(simple.)d(Cep)s(endan)m
(t)i(l'ouv)m(erture)g(d'un)-71 1539 y(tuy)m(au)h(nomm)m(\023)-43
b(e)27 b(en)f(lecture)g(seule)g(ou)f(en)f(\023)-43 b(ecriture)26
b(seule)f(est)i(blo)s(quan)m(te)e(jusqu'\022)-45 b(a)26
b(ce)g(que)g(ce)h(tuy)m(au)f(soit)g(ouv)m(ert)-71 1651
y(par)36 b(un)g(autre)h(pro)s(cessus)f(en)e(\023)-43
b(ecriture)36 b(ou)h(en)f(lecture,)h(resp)s(ectiv)m(emen)m(t)g(\(ce)h
(qui)e(p)s(eut)g(d)m(\023)-43 b(ej\022)e(a)35 b(^)-43
b(etre)38 b(le)e(cas)h(et)-71 1764 y(il)d(n'y)i(a)g(pas)f(\022)-45
b(a)36 b(attendre\),)h(\022)-45 b(a)36 b(moins)e(que)i(l'ouv)m(erture)f
(soit)h(faite)g(a)m(v)m(ec)i(le)d(drap)s(eau)f Fu(O_NONBLOCK)p
Fw(.)f(Dans)j(ce)-71 1877 y(denier)g(cas)i(les)f(lectures)g(ou)e(\023)
-43 b(ecritures)37 b(e\013ectu)m(\023)-43 b(es)40 b(sur)d(le)g(tuy)m
(au)g(ne)g(seron)m(t)h(pas)g(non)f(plus)e(blo)s(quan)m(tes.)i(On)-71
1990 y(p)s(eut)e(c)m(hanger)h(ce)h(drap)s(eau)d(une)h(fois)g(le)g(tuy)m
(au)h(ouv)m(ert)g(a)m(v)m(ec)i(la)d(fonction)g Fu(clear_nonblock)d
Fw(et)k(rendre)f(les)-71 2103 y(lectures)27 b(ou)g(les)d(\023)-43
b(ecritures)26 b(suiv)-5 b(an)m(tes)27 b(sur)f(le)g(tuy)m(au)i(blo)s
(quan)m(tes)e(\(ou)h(non)f(blo)s(quan)m(tes)h(a)m(v)m(ec)i
Fu(set_nonblock)p Fw(\).)311 2236 y Fu(set_nonblock)44
b(:)k(file_descr)d(->)i(unit)311 2349 y(clear_nonblock)d(:)j
(file_descr)e(->)i(unit)-71 2651 y Fq(4.4)135 b(Redirections)47
b(de)e(descripteurs)70 2854 y Fw(Av)m(ec)32 b(ce)g(qu'on)e(a)h(vu)g
(jusqu'ici,)d(on)j(ne)f(sait)h(toujours)f(pas)h(connecter)g(par)g(un)e
(tuy)m(au)i(des)g(pro)s(cessus)e(via)-71 2967 y(leurs)i(en)m(tr)m(\023)
-43 b(ees)35 b(et)f(sorties)e(standard,)g(comme)i(le)e(fait)h(le)f
(shell)f(p)s(our)g(ex)m(\023)-43 b(ecuter)35 b(des)d(commandes)h(de)g
(la)f(forme)-71 3080 y Fu(cmd1)47 b(|)g(cmd2)p Fw(.)30
b(En)h(e\013et,)h(les)f(descripteurs)e(sur)h(les)g(extr)m(\023)-43
b(emit)m(\023)g(es)34 b(d'un)c(tuy)m(au)h(qu'on)f(obtien)m(t)i(a)m(v)m
(ec)h Fu(pipe)d Fw(\(ou)-71 3193 y(a)m(v)m(ec)37 b Fu(openfile)32
b Fw(sur)i(un)f(tuy)m(au)i(nomm)m(\023)-43 b(e\))36 b(son)m(t)f(de)f
(\\nouv)m(eaux")i(descripteurs,)d(distincts)g(des)h(descripteurs)-71
3306 y Fu(stdin)p Fw(,)29 b Fu(stdout)g Fw(et)i Fu(stderr)p
Fw(.)70 3419 y(P)m(our)25 b(ce)g(genre)g(de)g(probl)m(\022)-43
b(emes,)24 b(Unix)g(fournit)f(un)g(app)s(el)g(syst)m(\022)-43
b(eme,)27 b Fu(dup2)c Fw(\(lire)h(:)h(\\DUPlicate)g(a)g(descriptor)-71
3532 y(TO)41 b(another)i(descriptor"\),)f(qui)e(p)s(ermet)i(de)g
(rediriger)e(un)g(descripteur)h(v)m(ers)h(un)f(autre.)h(Ceci)g(est)h
(rendu)-71 3644 y(p)s(ossible)35 b(par)h(le)h(fait)f(qu'il)f(y)i(a)h
(un)d(niv)m(eau)i(d'indirection)d(en)m(tre)k(un)e(descripteur)f(de)i
(\014c)m(hier)f(\(un)g(ob)5 b(jet)37 b(de)-71 3757 y(t)m(yp)s(e)28
b Fu(file_descr)p Fw(\))d(et)j(l'ob)5 b(jet)27 b(du)f(no)m(y)m(au,)j
(qu'on)e(app)s(elle)e(une)i Fn(\014le)j(table)g(entry)p
Fw(,)e(qui)e(con)m(tien)m(t)j(e\013ectiv)m(emen)m(t)-71
3870 y(le)h(p)s(oin)m(teur)f(v)m(ers)i(le)f(\014c)m(hier)f(ou)h(le)g
(tuy)m(au)h(asso)s(ci)m(\023)-43 b(e,)32 b(et)f(la)f(p)s(osition)e
(couran)m(te)k(de)e(lecture/)m(\023)-43 b(ecriture.)311
4003 y Fu(dup2)47 b(:)g(file_descr)e(->)i(file_descr)e(->)i(unit)-71
4135 y Fw(L'app)s(el)28 b Fu(dup2)46 b(fd1)h(fd2)28 b
Fw(a)i(p)s(our)d(e\013et)k(de)d(faire)h(p)s(oin)m(ter)f(le)h
(descripteur)e Fu(fd2)h Fw(v)m(ers)h(la)g(m)m(^)-43 b(eme)30
b Fn(\014le)i(table)g(entry)-71 4248 y Fw(que)26 b(celle)f(p)s(oin)m(t)
m(\023)-43 b(ee)26 b(par)g Fu(fd1)p Fw(.)f(Apr)m(\022)-43
b(es)26 b(ex)m(\023)-43 b(ecution)27 b(de)e(cet)i(app)s(el,)d
Fu(fd2)h Fw(est)h(donc)g(un)e(duplicata)h(de)g Fu(fd1)g
Fw(:)h(les)f(deux)-71 4361 y(descripteurs)k(fon)m(t)i(r)m(\023)-43
b(ef)m(\023)g(erence)32 b(au)f(m)m(^)-43 b(eme)31 b(\014c)m(hier)f(ou)g
(tuy)m(au,)h(\022)-45 b(a)31 b(la)f(m)m(^)-43 b(eme)31
b(p)s(osition)e(de)h(lecture/)m(\023)-43 b(ecriture.)374
4604 y(Av)-5 b(an)m(t)31 b Fu(dup2)1192 b Fw(Apr)m(\022)-43
b(es)31 b Fu(dup2)p 4 setlinewidth np 604 4945 225 150
0.00 360.00 ellipse st 465 4964 a Fw(descr)f(1)p np 829
4945 a 1129 4945 li st 0.000 setgray np 1069 4930 a 1129
4945 li 1069 4960 li closepath fil 0 setgray np 1069
4930 a 1129 4945 li 1069 4960 li closepath st np 1129
5095 a 1579 5095 li 1579 4795 li 1129 4795 li closepath
st 1182 4908 a(\014le)g(table)1213 5021 y(en)m(try)g(1)p
np 2404 4945 225 150 0.00 360.00 ellipse st 2265 4964
a(descr)g(1)p np 2629 4945 a 2929 4945 li st 0.000 setgray
np 2869 4930 a 2929 4945 li 2869 4960 li closepath fil
0 setgray np 2869 4930 a 2929 4945 li 2869 4960 li closepath
st np 2929 5095 a 3379 5095 li 3379 4795 li 2929 4795
li closepath st 2982 4908 a(\014le)g(table)3013 5021
y(en)m(try)g(1)p np 604 5425 225 150 0.00 360.00 ellipse
st 465 5444 a(descr)g(2)p np 829 5425 a 1129 5425 li
st 0.000 setgray np 1069 5410 a 1129 5425 li 1069 5440
li closepath fil 0 setgray np 1069 5410 a 1129 5425 li
1069 5440 li closepath st np 1129 5575 a 1579 5575 li
1579 5275 li 1129 5275 li closepath st 1182 5388 a(\014le)g(table)1213
5501 y(en)m(try)g(2)p np 2404 5425 225 150 0.00 360.00
ellipse st 2265 5444 a(descr)g(2)p np 2929 5575 a 3379
5575 li 3379 5275 li 2929 5275 li closepath st 2982 5388
a(\014le)g(table)3013 5501 y(en)m(try)g(2)p np 2629 5425
a 150 -165 rl 2929 5095 li st 0.000 setgray np 2877 5129
a 2929 5095 li 2899 5149 li closepath fil 0 setgray np
2877 5129 a 2929 5095 li 2899 5149 li closepath st Black
Black eop
%%Page: 51 51
51 50 bop Black -71 24 a Fs(4.4.)62 b(REDIRECTIONS)29
b(DE)h(DESCRIPTEURS)1978 b Fw(51)p Black Black -71 280
a Fv(Exemple:)p Black 45 w Fw(redirection)29 b(de)h(l'en)m(tr)m(\023)
-43 b(ee)32 b(standard.)311 413 y Fv(let)53 b Fu(fd)47
b(=)g(openfile)f Fo("foo)o(")h Fu([O_RDONLY)n(])g(0)h
Fv(in)311 526 y Fu(dup2)f(fd)g(stdin)n(;)311 639 y(close)f(fd;)311
752 y(execvp)g Fo("bar)o(")h Fu([|)p Fo("bar)o(")o Fu(|])-71
884 y Fw(Apr)m(\022)-43 b(es)33 b(le)f Fu(dup2)p Fw(,)g(le)g
(descripteur)f Fu(stdin)g Fw(fait)h(r)m(\023)-43 b(ef)m(\023)g(erence)
35 b(au)e(\014c)m(hier)e Fu(foo)p Fw(.)h(T)-8 b(oute)33
b(lecture)g(sur)e Fu(stdin)g Fw(v)-5 b(a)33 b(donc)-71
997 y(lire)h(depuis)f(le)h(\014c)m(hier)h Fu(foo)p Fw(.)f(\(Et)i(aussi)
e(toute)i(lecture)f(depuis)e Fu(fd)15 b Fw(;)35 b(mais)f(on)h(ne)g(v)-5
b(a)36 b(plus)d(utiliser)f Fu(fd)j Fw(par)f(la)-71 1110
y(suite,)g(et)h(c'est)h(p)s(ourquoi)c(on)i(le)g(ferme)g(imm)m(\023)-43
b(ediatemen)m(t.\))35 b(De)g(plus,)e(cet)g(\023)-43 b(etat)36
b(de)e(c)m(hoses)i(est)f(pr)m(\023)-43 b(eserv)m(\023)g(e)36
b(par)-71 1223 y Fu(execvp)p Fw(.)f(Et)h(donc,)g(le)f(programme)h
Fu(bar)f Fw(v)-5 b(a)36 b(s'ex)m(\023)-43 b(ecuter)38
b(a)m(v)m(ec)g(son)e(en)m(tr)m(\023)-43 b(ee)38 b(standard)d(reli)m
(\023)-43 b(ee)36 b(au)g(\014c)m(hier)f Fu(foo)p Fw(.)-71
1336 y(C'est)c(ainsi)e(que)h(le)g(shell)e(ex)m(\023)-43
b(ecute)33 b(des)d(commandes)h(de)f(la)g(forme)g Fu(bar)47
b(<)g(foo)p Fw(.)p Black -71 1547 a Fv(Exemple:)p Black
45 w Fw(redirection)29 b(de)h(la)g(sortie)g(standard.)311
1680 y Fv(let)53 b Fu(fd)47 b(=)g(openfile)f Fo("foo)o(")h
Fu([O_WRONLY)n(;)g(O_TRUNC)n(;)h(O_CREAT)n(])f(0o666)g
Fv(in)311 1793 y Fu(dup2)g(fd)g(stdout)n(;)311 1906 y(close)f(fd;)311
2019 y(execvp)g Fo("bar)o(")h Fu([|)p Fo("bar)o(")o Fu(|])-71
2151 y Fw(Apr)m(\022)-43 b(es)39 b(le)f Fu(dup2)p Fw(,)g(le)g
(descripteur)e Fu(stdout)h Fw(fait)h(r)m(\023)-43 b(ef)m(\023)g(erence)
41 b(au)d(\014c)m(hier)g Fu(foo)p Fw(.)g(T)-8 b(oute)36
b(\023)-43 b(ecriture)39 b(sur)e Fu(stdout)g Fw(v)-5
b(a)-71 2264 y(donc)30 b(\023)-43 b(ecrire)32 b(sur)f(le)h(\014c)m
(hier)g Fu(foo)p Fw(.)g(Le)g(programme)g Fu(bar)g Fw(v)-5
b(a)32 b(donc)h(s'ex)m(\023)-43 b(ecuter)34 b(a)m(v)m(ec)g(sa)f(sortie)
f(standard)g(reli)m(\023)-43 b(ee)-71 2377 y(au)30 b(\014c)m(hier)g
Fu(foo)p Fw(.)g(C'est)g(ainsi)f(que)h(le)g(shell)f(ex)m(\023)-43
b(ecute)33 b(des)d(commandes)g(de)g(la)g(forme)h Fu(bar)46
b(>)i(foo)p Fw(.)p Black -71 2589 a Fv(Exemple:)p Black
45 w Fw(relier)28 b(l'en)m(tr)m(\023)-43 b(ee)32 b(d'un)d(programme)i
(\022)-45 b(a)30 b(la)g(sortie)h(d'un)e(autre.)311 2721
y Fv(let)53 b Fu(\(fd_out)n(,)47 b(fd_in)o(\))g(=)h(pipe)o(\(\))f
Fv(in)311 2834 y(matc)m(h)g Fu(fork)o(\(\))g Fv(with)406
2947 y Fu(0)h(->)f(dup2)g(fd_out)f(stdin)n(;)645 3060
y(close)g(fd_in)o(;)645 3173 y(close)g(fd_out)o(;)645
3286 y(execvp)g Fo("cmd2)o(")h Fu([|)p Fo(")o(cmd2)o(")p
Fu(|])311 3399 y(|)g(_)h(->)f(dup2)g(fd_in)f(stdout)n(;)645
3512 y(close)g(fd_in)o(;)645 3625 y(close)g(fd_out)o(;)645
3737 y(execvp)g Fo("cmd1)o(")h Fu([|)p Fo(")o(cmd1)o(")p
Fu(|])-71 3870 y Fw(Le)31 b(programme)h Fu(cmd2)e Fw(est)h(ex)m(\023)
-43 b(ecut)m(\023)g(e)35 b(a)m(v)m(ec)e(son)e(en)m(tr)m(\023)-43
b(ee)34 b(standard)c(reli)m(\023)-43 b(ee)31 b(\022)-45
b(a)32 b(la)f(sortie)g(du)f(tuy)m(au.)i(En)e(parall)m(\022)-43
b(ele,)-71 3983 y(le)30 b(programme)g Fu(cmd1)g Fw(est)g(ex)m(\023)-43
b(ecut)m(\023)g(e)34 b(a)m(v)m(ec)f(sa)d(sortie)h(standard)e(reli)m
(\023)-43 b(ee)31 b(\022)-45 b(a)30 b(l'en)m(tr)m(\023)-43
b(ee)32 b(du)e(tuy)m(au.)g(Et)h(donc,)f(tout)h(ce)-71
4096 y(que)f Fu(cmd1)d Fw(\023)-43 b(ecrit)31 b(sur)e(sa)i(sortie)f
(standard)g(est)g(lu)g(par)f Fu(cmd2)h Fw(sur)f(son)h(en)m(tr)m(\023)
-43 b(ee)32 b(standard.)70 4209 y(Que)e(se)f(passe-t'il)h(si)e
Fu(cmd1)h Fw(termine)g(a)m(v)-5 b(an)m(t)31 b Fu(cmd2)14
b Fw(?)30 b(Au)f(momen)m(t)i(du)d Fu(exit)h Fw(dans)g
Fu(cmd1)p Fw(,)g(les)g(descripteurs)-71 4322 y(ouv)m(erts)c(par)e
Fu(cmd1)g Fw(son)m(t)h(ferm)m(\023)-43 b(es.)25 b(Il)e(n'y)g(a)h(donc)g
(plus)e(de)i(descripteur)e(ouv)m(ert)i(sur)f(l'en)m(tr)m(\023)-43
b(ee)25 b(du)e(tuy)m(au.)i(Lorsque)-71 4435 y Fu(cmd2)f
Fw(aura)g(vid)m(\023)-43 b(e)25 b(les)f(donn)m(\023)-43
b(ees)25 b(en)g(atten)m(te)i(dans)d(le)g(tuy)m(au,)h(la)f(pro)s(c)m
(haine)g(lecture)g(ren)m(v)m(erra)h(une)f(\014n)g(de)h(\014c)m(hier)14
b(;)-71 4547 y Fu(cmd2)27 b Fw(fait)g(alors)h(ce)g(qu'il)e(est)i(cens)m
(\023)-43 b(e)30 b(faire)d(quand)f(il)h(attein)m(t)h(la)g(\014n)e(de)i
(son)g(en)m(tr)m(\023)-43 b(ee)29 b(standard)e(|)h(par)f(exemple,)-71
4660 y(terminer.)j(Exemple)f(de)h(cette)i(situation)e(:)311
4793 y Fu(cat)47 b(foo)g(bar)g(gee)g(|)g(grep)g(buz)-71
4925 y Fw(D'un)c(autre)g(c^)-45 b(ot)m(\023)i(e,)46 b(si)c
Fu(cmd2)g Fw(termine)h(a)m(v)-5 b(an)m(t)44 b Fu(cmd1)p
Fw(,)f(le)f(dernier)g(descripteur)f(sur)h(la)h(sortie)g(du)f(tuy)m(au)i
(est)-71 5038 y(pr)m(\023)-43 b(ematur)m(\023)g(emen)m(t)31
b(ferm)m(\023)-43 b(e,)29 b(et)h(donc)e Fu(cdm1)f Fw(v)-5
b(a)29 b(recev)m(oir)g(un)f(signal)f(\(qui,)h(par)g(d)m(\023)-43
b(efaut,)30 b(termine)d(le)i(pro)s(cessus\))e(la)-71
5151 y(pro)s(c)m(haine)j(fois)f(qu'il)g(essa)m(y)m(e)j(d')m(\023)-43
b(ecrire)31 b(sur)e(sa)i(sortie)f(standard.)g(Exemple)f(de)h(cette)j
(situation)c(:)311 5284 y Fu(grep)47 b(buz)f(gee)h(|)h(more)-71
5416 y Fw(et)30 b(on)f(quitte)g Fu(more)f Fw(a)m(v)-5
b(an)m(t)30 b(la)f(\014n)f(en)h(appuy)m(an)m(t)g(sur)f
Fu(q)p Fw(.)1901 5393 y(\022)1889 5416 y(A)i(ce)f(momen)m(t-l\022)-45
b(a,)30 b Fu(grep)e Fw(est)i(pr)m(\023)-43 b(ematur)m(\023)g(emen)m(t)
31 b(arr)m(^)-43 b(et)m(\023)g(e,)-71 5529 y(sans)30
b(qu'il)f(aille)g(jusqu'\022)-45 b(a)29 b(la)h(\014n)g(du)f(\014c)m
(hier)g Fu(gee)p Fw(.)p Black Black eop
%%Page: 52 52
52 51 bop Black -71 24 a Fw(52)765 b Fs(CHAPITRE)29 b(4.)61
b(COMMUNICA)-8 b(TIONS)30 b(INTER-PR)m(OCESSUS)e(CLASSIQUES)p
Black Black -71 280 a Fv(Exercice)36 b(11)p Black 46
w Fn(Comment)e(impl)n(\023)-44 b(ementer)33 b(quelques-unes)f(des)h
(autr)-5 b(es)33 b(r)-5 b(e)g(dir)g(e)g(ctions)35 b(du)e(shel)5
b(l)33 b Fu(sh)p Fn(,)f(\022)-46 b(a)33 b(savoir)h(:)311
413 y Fo(>>)286 b(2>)g(2>>)237 b(2>1)h(<<)3104 545 y
Fw(\(V)-8 b(oir)31 b(le)f(corrig)m(\023)-43 b(e\))p 3783
496 47 4 v 3783 542 4 47 v 3826 542 V 3783 545 47 4 v
-71 828 a Fq(4.5)135 b(Exemple)46 b(complet)g(:)f(comp)t(oser)g
Fd(N)57 b Fq(commandes)70 1031 y Fw(On)30 b(v)-5 b(a)30
b(construire)g(une)f(commande)i Fu(compose)p Fw(,)e(telle)h(que)1271
1214 y Fu(compose)e Ft(cmd)1801 1228 y Fz(1)1871 1214
y Ft(cmd)2037 1228 y Fz(2)2123 1214 y Ft(:)15 b(:)g(:)46
b(cmd)2440 1228 y Fe(n)-71 1398 y Fw(se)31 b(comp)s(orte)f(comme)i(la)e
(commande)g(shell)1387 1581 y Ft(cmd)1553 1595 y Fz(1)1618
1581 y Fc(j)c Ft(cmd)1835 1595 y Fz(2)1900 1581 y Fc(j)g(\001)15
b(\001)g(\001)26 b(j)f Ft(cmd)2298 1595 y Fe(n)2346 1581
y Ft(:)193 1783 y Fz(1)83 b Fv(op)s(en)48 b Fu(Sys)o(;;)193
1896 y Fz(2)83 b Fv(op)s(en)48 b Fu(Unix)o(;;)193 2009
y Fz(3)193 2122 y(4)83 b Fv(let)53 b Fu(compose)46 b(\(\))h(=)193
2235 y Fz(5)178 b Fv(let)48 b Fu(n)f(=)h(Array)n(.length)e(Sys)o(.argv)
h(-)g(1)h Fv(in)193 2348 y Fz(6)178 b Fv(for)48 b Fu(i)g(=)f(1)h
Fv(to)f Fu(n)h(-)f(1)h Fv(do)193 2461 y Fz(7)274 b Fv(let)47
b Fu(\(fd_out)n(,)h(fd_in)n(\))g(=)f(pipe)o(\(\))g Fv(in)193
2574 y Fz(8)274 b Fv(matc)m(h)47 b Fu(fork)o(\(\))g Fv(with)193
2687 y Fz(9)369 b Fu(0)48 b(->)157 2800 y Fz(10)466 b
Fu(dup2)46 b(fd_in)h(stdout)n(;)157 2912 y Fz(11)466
b Fu(close)46 b(fd_in)o(;)157 3025 y Fz(12)466 b Fu(close)46
b(fd_out)n(;)157 3138 y Fz(13)466 b Fu(execv)46 b Fo("/bin)o(/)o(sh")h
Fu([|)h Fo(")o(/bin)o(/sh)o(")p Fu(;)g Fo(")o(-c")o Fu(;)g(Sys)o(.argv)
o(.\()o(i\))f(|])157 3251 y Fz(14)275 b Fu(|)47 b(_)h(->)157
3364 y Fz(15)466 b Fu(dup2)46 b(fd_out)g(stdin)o(;)157
3477 y Fz(16)466 b Fu(close)46 b(fd_in)o(;)157 3590 y
Fz(17)466 b Fu(close)46 b(fd_out)157 3703 y Fz(18)179
b Fv(done)q Fu(;)157 3816 y Fz(19)g Fv(matc)m(h)47 b
Fu(fork)o(\(\))g Fv(with)157 3929 y Fz(20)275 b Fu(0)47
b(->)157 4042 y Fz(21)370 b Fu(execv)47 b Fo(")o(/bin)o(/sh)o(")h
Fu([|)o Fo("/bin)o(/sh)o(")p Fu(;)f Fo("-c")o Fu(;)h(Sys)o(.argv)o(.\()
o(n\))f(|])157 4154 y Fz(22)179 b Fu(|)48 b(_)f(->)157
4267 y Fz(23)370 b Fv(let)48 b(rec)g Fu(wait_for_children)43
b(retcode)j(=)157 4380 y Fz(24)466 b Fv(try)157 4493
y Fz(25)561 b Fv(matc)m(h)47 b Fu(wait)o(\(\))g Fv(with)157
4606 y Fz(26)657 b Fu(\()o(pid,)47 b(WEXITED)f(n\))h(->)g
(wait_for_children)c(\(retcode)j(lor)h(n)o(\))157 4719
y Fz(27)561 b Fu(|)48 b(\()o(pid,)f(_\))429 b(->)47 b
(wait_for_children)c(127)157 4832 y Fz(28)466 b Fv(with)157
4945 y Fz(29)657 b Fu(Unix_error)m(\(ECHILD)n(,)47 b(_,)h(_)o(\))g(->)f
(retcode)f Fv(in)157 5058 y Fz(30)370 b Fu(exit)47 b
(\(wait_for_children)c(0\))157 5171 y Fz(31)84 b Fu(;;)157
5284 y Fz(32)g Fu(handle_unix_error)43 b(compose)j(\(\);;)-71
5416 y Fw(L'essen)m(tiel)39 b(du)e(tra)m(v)-5 b(ail)38
b(est)i(fait)e(par)g(la)g(b)s(oucle)g Fu(for)g Fw(des)g(lignes)f(6{18.)
k(P)m(our)d(c)m(haque)i(commande)e(sauf)g(la)-71 5529
y(derni)m(\022)-43 b(ere,)42 b(on)g(cr)m(\023)-43 b(ee)43
b(un)e(nouv)m(eau)h(tuy)m(au,)h(puis)c(un)i(nouv)m(eau)h(pro)s(cessus.)
f(Le)h(nouv)m(eau)h(pro)s(cessus)d(\(le)i(\014ls\))p
Black Black eop
%%Page: 53 53
53 52 bop Black -71 24 a Fs(4.6.)62 b(MUL)-8 b(TIPLEXA)m(GE)31
b(D'ENTR)1277 1 y(\023)1265 24 y(EES-SOR)-8 b(TIES)1875
b Fw(53)p Black -71 280 a(relie)29 b(l'en)m(tr)m(\023)-43
b(ee)31 b(du)e(tuy)m(au)h(\022)-45 b(a)31 b(sa)f(sortie)f(standard,)h
(et)g(ex)m(\023)-43 b(ecute)33 b(la)c(commande.)h(Il)f(h)m(\023)-43
b(erite)31 b(l'en)m(tr)m(\023)-43 b(ee)31 b(standard)e(du)-71
393 y(pro)s(cessus)i(p)m(\022)-43 b(ere)33 b(au)f(momen)m(t)g(du)f
Fu(fork)p Fw(.)g(Le)i(pro)s(cessus)e(principal)d(\(le)k(p)m(\022)-43
b(ere\))33 b(relie)e(la)h(sortie)g(du)f(tuy)m(au)h(\022)-45
b(a)32 b(son)-71 506 y(en)m(tr)m(\023)-43 b(ee)30 b(standard,)e(et)h
(con)m(tin)m(ue)f(la)g(b)s(oucle.)g(Supp)s(osons)d(\(h)m(yp)s(oth)m
(\022)-43 b(ese)30 b(de)e(r)m(\023)-43 b(ecurrence\))29
b(que,)g(au)f(d)m(\023)-43 b(ebut)28 b(du)f Ft(i)3701
473 y Fz(\022)-33 b(eme)-71 619 y Fw(tour)30 b(de)h(b)s(oucle,)e(la)h
(situation)f(soit)i(la)f(suiv)-5 b(an)m(te)30 b(:)p 4
setlinewidth np 454 832 225 150 0.00 360.00 ellipse st
335 851 a Fu(stdin)p np 679 832 a 859 832 li st 0.000 setgray
np 799 817 a 859 832 li 799 847 li closepath fil 0 setgray
np 799 817 a 859 832 li 799 847 li closepath st np 859
982 a 1309 982 li 1309 682 li 859 682 li closepath st
406 w Ft(cmd)1147 865 y Fz(1)p np 1309 832 a 1489 832
li st 0.000 setgray np 1429 817 a 1489 832 li 1429 847
li closepath fil 0 setgray np 1429 817 a 1489 832 li
1429 847 li closepath st np 1759 832 60 0.00 360.00 arc
st np 1759 772 a 1579 772 li st np 1759 892 a 1579 892
li st np 1579 832 60 90.00 270.00 arc st np 1759 832
a 1939 832 li st 0.000 setgray np 1879 817 a 1939 832
li 1879 847 li closepath fil 0 setgray np 1879 817 a
1939 832 li 1879 847 li closepath st np 1939 982 a 2389
982 li 2389 682 li 1939 682 li closepath st 2061 851
a Ft(cmd)2227 865 y Fz(2)p np 2389 832 a 2569 832 li
st 0.000 setgray np 2509 817 a 2569 832 li 2509 847 li
closepath fil 0 setgray np 2509 817 a 2569 832 li 2509
847 li closepath st 2741 851 a Ft(:)15 b(:)g(:)911 1151
y(:)g(:)g(:)p np 1189 1132 a 1369 1132 li st 0.000 setgray
np 1309 1117 a 1369 1132 li 1309 1147 li closepath fil
0 setgray np 1309 1117 a 1369 1132 li 1309 1147 li closepath
st np 1369 1282 a 1819 1282 li 1819 982 li 1369 982 li
closepath st 436 w(cmd)1618 1165 y Fe(i)p Fb(\000)p Fz(1)p
np 1819 1132 a 1999 1132 li st 0.000 setgray np 1939
1117 a 1999 1132 li 1939 1147 li closepath fil 0 setgray
np 1939 1117 a 1999 1132 li 1939 1147 li closepath st
np 2269 1132 60 0.00 360.00 arc st np 2269 1072 a 2089
1072 li st np 2269 1192 a 2089 1192 li st np 2089 1132
60 90.00 270.00 arc st np 2269 1132 a 2449 1132 li st
0.000 setgray np 2389 1117 a 2449 1132 li 2389 1147 li
closepath fil 0 setgray np 2389 1117 a 2449 1132 li 2389
1147 li closepath st np 2449 1282 a 2899 1282 li 2899
982 li 2449 982 li closepath st 2507 1151 a Fu(compose)p
np 2899 1132 a 3079 1132 li st 0.000 setgray np 3019
1117 a 3079 1132 li 3019 1147 li closepath fil 0 setgray
np 3019 1117 a 3079 1132 li 3019 1147 li closepath st
np 3304 1132 225 150 0.00 360.00 ellipse st 318 w(stdout)70
1399 y Fw(\(Les)24 b(carr)m(\023)-43 b(es)25 b(repr)m(\023)-43
b(esen)m(ten)m(t)25 b(des)e(pro)s(cessus,)f(a)m(v)m(ec)k(leur)c(en)m
(tr)m(\023)-43 b(ee)25 b(standard)e(\022)-45 b(a)23 b(gauc)m(he)i(et)f
(leur)e(sortie)h(standard)-71 1511 y(\022)-45 b(a)27
b(droite.)g(Les)g(deux)f(ellipses)e(repr)m(\023)-43 b(esen)m(ten)m(t)29
b(l'en)m(tr)m(\023)-43 b(ee)28 b(standard)e(et)h(la)g(sortie)f
(standard)g(initiales)e(du)i(pro)s(cessus)-71 1624 y
Fu(compose)p Fw(.\))j(Apr)m(\022)-43 b(es)31 b Fu(pipe)e
Fw(et)i Fu(fork)p Fw(,)f(la)g(situation)f(est)i(la)f(suiv)-5
b(an)m(te)30 b(:)206 1866 y Ft(:)15 b(:)g(:)p 4 setlinewidth
np 484 1996 a 934 1996 li 934 1696 li 484 1696 li closepath
st 256 w(cmd)733 1880 y Fe(i)p Fb(\000)p Fz(1)p np 934
1846 a 1114 1846 li st 0.000 setgray np 1054 1831 a 1114
1846 li 1054 1861 li closepath fil 0 setgray np 1054
1831 a 1114 1846 li 1054 1861 li closepath st np 1384
1846 60 0.00 360.00 arc st np 1384 1786 a 1204 1786 li
st np 1384 1906 a 1204 1906 li st np 1204 1846 60 90.00
270.00 arc st np 1384 1846 a 1564 1846 li st 0.000 setgray
np 1504 1831 a 1564 1846 li 1504 1861 li closepath fil
0 setgray np 1504 1831 a 1564 1846 li 1504 1861 li closepath
st np 1564 1996 a 2014 1996 li 2014 1696 li 1564 1696
li closepath st 1622 1809 a Fu(compose)1698 1922 y Fw(\(\014ls\))p
np 2464 1846 60 0.00 360.00 arc st np 2464 1786 a 2284
1786 li st np 2464 1906 a 2284 1906 li st np 2284 1846
60 90.00 270.00 arc st np 2644 1996 a 3094 1996 li 3094
1696 li 2644 1696 li closepath st 2702 1809 a Fu(compose)2750
1922 y Fw(\(p)m(\022)-43 b(ere\))p np 3094 1846 a 3274
1846 li st 0.000 setgray np 3214 1831 a 3274 1846 li
3214 1861 li closepath fil 0 setgray np 3214 1831 a 3274
1846 li 3214 1861 li closepath st np 3499 1846 225 150
0.00 360.00 ellipse st 3356 1866 a Fu(stdout)p np 2014
1387 780 36.13 143.87 arc st 0.000 setgray np 2596 1885
a 2644 1846 li 2620 1903 li closepath fil 0 setgray np
2596 1885 a 2644 1846 li 2620 1903 li closepath st np
2644 1387 780 36.13 143.87 arc st 0.000 setgray np 3226
1885 a 3274 1846 li 3250 1903 li closepath fil 0 setgray
np 3226 1885 a 3274 1846 li 3250 1903 li closepath st
70 2278 a Fw(Le)31 b(p)m(\022)-43 b(ere)31 b(app)s(elle)e
Fu(dup2)14 b Fw(;)30 b(on)h(obtien)m(t)f(:)114 2519 y
Ft(:)15 b(:)g(:)p 4 setlinewidth np 404 2657 a 880 2657
li 880 2341 li 404 2341 li closepath st 281 w(cmd)666
2533 y Fe(i)p Fb(\000)p Fz(1)p np 880 2499 a 1070 2499
li st 0.000 setgray np 1007 2483 a 1070 2499 li 1007
2515 li closepath fil 0 setgray np 1007 2483 a 1070 2499
li 1007 2515 li closepath st np 1355 2499 63 0.00 360.00
arc st np 1355 2436 a 1165 2436 li st np 1355 2563 a
1165 2563 li st np 1165 2499 63 90.00 270.00 arc st np
1355 2499 a 1546 2499 li st 0.000 setgray np 1482 2483
a 1546 2499 li 1482 2515 li closepath fil 0 setgray np
1482 2483 a 1546 2499 li 1482 2515 li closepath st np
1546 2657 a 2021 2657 li 2021 2341 li 1546 2341 li closepath
st 1617 2462 a Fu(compose)1693 2575 y Fw(\(\014ls\))p
np 2497 2499 63 0.00 360.00 arc st np 2497 2436 a 2306
2436 li st np 2497 2563 a 2306 2563 li st np 2306 2499
63 90.00 270.00 arc st np 2497 2499 a 2687 2499 li st
0.000 setgray np 2624 2483 a 2687 2499 li 2624 2515 li
closepath fil 0 setgray np 2624 2483 a 2687 2499 li 2624
2515 li closepath st np 2687 2657 a 3163 2657 li 3163
2341 li 2687 2341 li closepath st 2758 2462 a Fu(compose)2807
2575 y Fw(\(p)m(\022)-43 b(ere\))p np 3163 2499 a 3353
2499 li st 0.000 setgray np 3290 2483 a 3353 2499 li
3290 2515 li closepath fil 0 setgray np 3290 2483 a 3353
2499 li 3290 2515 li closepath st np 3591 2499 237 158
0.00 360.00 ellipse st 3448 2519 a Fu(stdout)p np 2687
2014 824 36.13 143.87 arc st 0.000 setgray np 3303 2541
a 3353 2499 li 3328 2560 li closepath fil 0 setgray np
3303 2541 a 3353 2499 li 3328 2560 li closepath st 70
2950 a Fw(Le)31 b(\014ls)e(app)s(elle)f Fu(dup2)i Fw(puis)e
Fu(exec)14 b Fw(;)31 b(on)f(obtien)m(t)g(:)206 3182 y
Ft(:)15 b(:)g(:)p 4 setlinewidth np 484 3312 a 934 3312
li 934 3012 li 484 3012 li closepath st 256 w(cmd)733
3196 y Fe(i)p Fb(\000)p Fz(1)p np 934 3162 a 1114 3162
li st 0.000 setgray np 1054 3147 a 1114 3162 li 1054
3177 li closepath fil 0 setgray np 1054 3147 a 1114 3162
li 1054 3177 li closepath st np 1384 3162 60 0.00 360.00
arc st np 1384 3102 a 1204 3102 li st np 1384 3222 a
1204 3222 li st np 1204 3162 60 90.00 270.00 arc st np
1384 3162 a 1564 3162 li st 0.000 setgray np 1504 3147
a 1564 3162 li 1504 3177 li closepath fil 0 setgray np
1504 3147 a 1564 3162 li 1504 3177 li closepath st np
1564 3312 a 2014 3312 li 2014 3012 li 1564 3012 li closepath
st 1692 3182 a Ft(cmd)1858 3196 y Fe(i)p np 2014 3162
a 2194 3162 li st 0.000 setgray np 2134 3147 a 2194 3162
li 2134 3177 li closepath fil 0 setgray np 2134 3147
a 2194 3162 li 2134 3177 li closepath st np 2464 3162
60 0.00 360.00 arc st np 2464 3102 a 2284 3102 li st
np 2464 3222 a 2284 3222 li st np 2284 3162 60 90.00
270.00 arc st np 2464 3162 a 2644 3162 li st 0.000 setgray
np 2584 3147 a 2644 3162 li 2584 3177 li closepath fil
0 setgray np 2584 3147 a 2644 3162 li 2584 3177 li closepath
st np 2644 3312 a 3094 3312 li 3094 3012 li 2644 3012
li closepath st 2702 3125 a Fu(compose)2750 3238 y Fw(\(p)m(\022)-43
b(ere\))p np 3094 3162 a 3274 3162 li st 0.000 setgray
np 3214 3147 a 3274 3162 li 3214 3177 li closepath fil
0 setgray np 3214 3147 a 3274 3162 li 3214 3177 li closepath
st np 3499 3162 225 150 0.00 360.00 ellipse st 3356 3182
a Fu(stdout)70 3424 y Fw(T)-8 b(out)31 b(est)g(pr)m(^)-43
b(et)31 b(p)s(our)e(le)h(pro)s(c)m(hain)f(tour)h(de)g(b)s(oucle.)70
3537 y(L'ex)m(\023)-43 b(ecution)41 b(de)e(la)h(derni)m(\022)-43
b(ere)39 b(commande)g(est)i(faite)e(en)h(dehors)e(de)i(la)f(b)s(oucle,)
g(parce)h(qu'il)d(n'y)i(a)h(pas)-71 3650 y(b)s(esoin)i(de)i(cr)m(\023)
-43 b(eer)44 b(un)f(nouv)m(eau)h(tuy)m(au)g(:)f(le)g(pro)s(cessus)g
Fu(compose)e Fw(a)j(d)m(\023)-43 b(ej\022)e(a)45 b(la)e(b)s(onne)g(en)m
(tr)m(\023)-43 b(ee)45 b(standard)e(\(la)-71 3763 y(sortie)38
b(de)g(l'a)m(v)-5 b(an)m(t-derni)m(\022)-43 b(ere)39
b(commande\))f(et)h(la)f(b)s(onne)e(sortie)i(standard)g(\(celle)f
(fournie)g(initialemen)m(t)f(\022)-45 b(a)38 b(la)-71
3876 y(commande)e Fu(compose)p Fw(\))13 b(;)36 b(il)e(su\016t)g(donc)h
(de)h(faire)e Fu(fork)h Fw(et)h Fu(exec)e Fw(du)g(c^)-45
b(ot)m(\023)i(e)38 b(du)c(pro)s(cessus)h(\014ls.)f(Le)h(pro)s(cessus)
-71 3989 y(p)m(\022)-43 b(ere)31 b(se)f(met)g(alors)f(\022)-45
b(a)30 b(attendre)g(que)g(les)f(\014ls)g(terminen)m(t)g(:)h(on)f(fait)h
Fu(wait)e Fw(de)i(mani)m(\022)-43 b(ere)30 b(r)m(\023)-43
b(ep)m(\023)g(et)m(\023)g(ee)34 b(jusqu'\022)-45 b(a)29
b(ce)h(que)-71 4102 y(l'erreur)c Fu(ECHILD)g Fw(\(plus)h(de)g(\014ls)f
(\022)-45 b(a)28 b(attendre\))h(se)f(d)m(\023)-43 b(eclenc)m(he.)29
b(On)e(com)m(bine)g(en)m(tre)i(eux)e(les)g(co)s(des)h(de)g(retour)f
(des)-71 4214 y(pro)s(cessus)32 b(\014ls)g(par)h(un)g(\\ou")h(bit-\022)
-45 b(a-bit)32 b(\(op)m(\023)-43 b(erateur)35 b Fu(lor)p
Fw(\))e(p)s(our)f(fabriquer)f(un)i(co)s(de)g(de)h(retour)f(raisonnable)
-71 4327 y(p)s(our)c Fu(compose)f Fw(:)j(z)m(\023)-43
b(ero)32 b(si)e(tous)g(les)g(\014ls)f(on)m(t)i(ren)m(v)m(o)m(y)m(\023)
-43 b(e)33 b(z)m(\023)-43 b(ero,)32 b(non-n)m(ul)d(sinon.)70
4440 y(Remarque)e(:)g(si)f(les)h(ex)m(\023)-43 b(ecutions)28
b(des)f(commandes)g Ft(cmd)2015 4454 y Fe(i)2070 4440
y Fw(passen)m(t)h(par)e(l'in)m(term)m(\023)-43 b(ediaire)26
b(de)h Fu(/bin/sh)p Fw(,)e(c'est)-71 4553 y(p)s(our)k(le)h(cas)h(o)s
(\022)-48 b(u)30 b(l'on)g(fait)g(par)g(exemple)311 4686
y Fu(compose)46 b Fo(")o(grep)h(foo)o(")h(")o(wc)g(-)o(l")-71
4818 y Fw(L'app)s(el)31 b(\022)-45 b(a)33 b Fu(/bin/sh)d
Fw(assure)i(le)f(d)m(\023)-43 b(ecoupage)35 b(de)d(c)m(haque)g
(commande)h(complexe)f(en)g(mots.)h(\(On)f(aurait)f(pu)g(le)-71
4931 y(faire)f(soi-m)m(^)-43 b(eme)31 b(comme)h(dans)d(l'exemple)h(du)f
(mini-shell,)e(mais)i(c'est)j(p)m(\023)-43 b(enible.\))-71
5213 y Fq(4.6)135 b(Multiplexage)47 b(d'en)l(tr)m(\023)-64
b(ees-sorties)70 5416 y Fw(Dans)37 b(les)f(exemples)f(qu'on)h(a)h(vus)e
(jusqu'ici,)g(les)h(pro)s(cessus)f(comm)m(uniquen)m(t)g(de)h(fa\030)-40
b(con)37 b(\\lin)m(\023)-43 b(eaire".)37 b(En)-71 5529
y(particulier,)25 b(un)g(pro)s(cessus)h(lit)g(des)g(donn)m(\023)-43
b(ees)27 b(en)g(pro)m(v)m(enance)h(d'au)e(plus)f(un)h(autre)h(pro)s
(cessus.)f(Les)g(situations)p Black Black eop
%%Page: 54 54
54 53 bop Black -71 24 a Fw(54)765 b Fs(CHAPITRE)29 b(4.)61
b(COMMUNICA)-8 b(TIONS)30 b(INTER-PR)m(OCESSUS)e(CLASSIQUES)p
Black -71 280 a Fw(o)s(\022)-48 b(u)34 b(un)f(pro)s(cessus)g(doit)g
(lire)g(des)h(donn)m(\023)-43 b(ees)34 b(en)g(pro)m(v)m(enance)h(de)f
(plusieurs)d(pro)s(cessus)i(p)s(osen)m(t)h(des)f(probl)m(\022)-43
b(emes)-71 393 y(suppl)m(\023)g(emen)m(taires,)30 b(comme)h(on)f(v)-5
b(a)31 b(le)f(v)m(oir)g(main)m(tenan)m(t.)70 509 y(On)44
b(consid)m(\022)-43 b(ere)44 b(l'exemple)g(d'un)c(\023)-43
b(em)m(ulateur)45 b(de)f(terminal)f(m)m(ulti-fen)m(^)-43
b(etres)44 b(sur)f(un)g(micro-ordinateur.)-71 622 y(C'est-\022)-45
b(a-dire,)28 b(on)g(a)g(un)e(micro-ordinateur)g(reli)m(\023)-43
b(e)27 b(\022)-45 b(a)28 b(une)f(mac)m(hine)g(Unix)g(par)g(une)g
(liaison)e(s)m(\023)-43 b(erie,)28 b(et)h(on)e(c)m(herc)m(he)-71
735 y(\022)-45 b(a)47 b(faire)d(\023)-43 b(em)m(uler)47
b(par)f(le)g(micro-ordinateur)f(plusieurs)f(terminaux,)i(a\016c)m(han)m
(t)i(c)m(hacun)f(dans)f(une)g(fen)m(^)-43 b(etre)-71
848 y(di\013)m(\023)g(eren)m(te)25 b(sur)e(l')m(\023)-43
b(ecran)26 b(du)d(micro,)h(et)h(reli)m(\023)-43 b(es)24
b(\022)-45 b(a)24 b(des)g(pro)s(cessus)g(di\013)m(\023)-43
b(eren)m(ts)24 b(sur)f(la)h(mac)m(hine)g(Unix.)g(P)m(ar)g(exemple,)-71
961 y(une)k(fen)m(^)-43 b(etre)30 b(p)s(eut)25 b(^)-43
b(etre)30 b(reli)m(\023)-43 b(ee)29 b(\022)-45 b(a)29
b(un)f(shell,)f(et)i(une)f(autre)h(\022)-45 b(a)29 b(un)c(\023)-43
b(editeur)28 b(de)g(textes.)i(Les)f(sorties)f(du)g(shell)e(s'af-)-71
1074 y(\014c)m(hen)m(t)f(sur)e(la)g(premi)m(\022)-43
b(ere)24 b(fen)m(^)-43 b(etre,)26 b(les)d(sorties)h(de)g(l')m(\023)-43
b(editeur,)23 b(sur)g(la)h(seconde)15 b(;)25 b(les)e(caract)m(\022)-43
b(eres)27 b(en)m(tr)m(\023)-43 b(es)25 b(au)f(cla)m(vier)-71
1186 y(du)h(micro)h(son)m(t)h(en)m(v)m(o)m(y)m(\023)-43
b(es)29 b(sur)d(l'en)m(tr)m(\023)-43 b(ee)28 b(standard)d(du)g(shell)g
(si)g(la)h(premi)m(\022)-43 b(ere)27 b(fen)m(^)-43 b(etre)27
b(est)g(activ)m(e,)h(ou)e(sur)f(l'en)m(tr)m(\023)-43
b(ee)-71 1299 y(standard)30 b(de)g(l')m(\023)-43 b(editeur)30
b(si)f(la)h(seconde)h(est)g(activ)m(e.)70 1415 y(Comme)22
b(il)f(n'y)h(a)g(qu'une)g(liaison)e(ph)m(ysique)g(en)m(tre)j(le)f
(micro)f(et)i(la)f(mac)m(hine)g(Unix,)f(il)g(v)-5 b(a)22
b(falloir)e(m)m(ultiplexer)-71 1528 y(les)35 b(liaisons)e(virtuelles)g
(fen)m(^)-43 b(etre/pro)s(cessus,)36 b(c'est-\022)-45
b(a-dire)36 b(en)m(trelacer)g(les)f(transmissions)d(de)j(donn)m(\023)
-43 b(ees.)36 b(V)-8 b(oici)-71 1641 y(le)30 b(proto)s(cole)h(qu'on)f
(v)-5 b(a)30 b(utiliser.)f(T)-8 b(ransiten)m(t)30 b(sur)f(la)h(liaison)
e(s)m(\023)-43 b(erie)31 b(des)f(paquets)h(de)f(la)g(forme)g(suiv)-5
b(an)m(te)30 b(:)p Black 70 1754 a({)p Black 46 w(un)f(o)s(ctet)j
(indiquan)m(t)c(le)i(n)m(um)m(\023)-43 b(ero)31 b(du)f(pro)s(cessus)f
(ou)h(de)g(la)g(fen)m(^)-43 b(etre)32 b(destinataire)p
Black 70 1867 a({)p Black 46 w(un)d(o)s(ctet)j(indiquan)m(t)c(le)i(nom)
m(bre)g Ft(N)41 b Fw(d'o)s(ctets)31 b(de)f(donn)m(\023)-43
b(ees)31 b(qui)e(suiv)m(en)m(t)p Black 70 1980 a({)p
Black 46 w Ft(N)40 b Fw(o)s(ctets)32 b(repr)m(\023)-43
b(esen)m(tan)m(t)32 b(les)e(donn)m(\023)-43 b(ees)31
b(\022)-45 b(a)31 b(transmettre)g(au)f(destinataire.)70
2093 y(V)-8 b(oici)25 b(commen)m(t)h(les)e(c)m(hoses)h(se)g(passen)m(t)
g(du)f(c^)-45 b(ot)m(\023)i(e)27 b(de)e(la)f(mac)m(hine)h(Unix.)e(Les)i
(pro)s(cessus)f(utilisateur)e(\(shell,)-73 2206 y(\023)-43
b(editeur,)34 b(etc.\))j(v)m(on)m(t)c(^)-43 b(etre)36
b(reli)m(\023)-43 b(es)35 b(par)f(des)g(tuy)m(aux)h(\022)-45
b(a)35 b(un)f(ou)h(plusieurs)c(pro)s(cessus)j(auxiliaires,)e(qui)i
(lisen)m(t)f(et)-73 2318 y(\023)-43 b(ecriv)m(en)m(t)37
b(sur)e(la)g(liaison)f(s)m(\023)-43 b(erie,)37 b(et)g(e\013ectuen)m(t)g
(le)f(m)m(ultiplexage)f(et)i(le)e(d)m(\023)-43 b(em)m(ultiplexage.)36
b(La)g(liaison)e(s)m(\023)-43 b(erie)37 b(se)-71 2431
y(pr)m(\023)-43 b(esen)m(te)40 b(sous)e(la)h(forme)f(d'un)g(\014c)m
(hier)f(sp)m(\023)-43 b(ecial)39 b(\()p Fu(/dev/ttya)p
Fw(,)e(par)h(exemple\),)h(sur)f(lequel)f(on)h(fait)h
Fu(read)e Fw(et)-71 2544 y Fu(write)29 b Fw(p)s(our)g(recev)m(oir)i(ou)
f(en)m(v)m(o)m(y)m(er)j(des)d(o)s(ctets)h(au)g(micro-ordinateur.)70
2660 y(Le)j(d)m(\023)-43 b(em)m(ultiplexage)34 b(\(transmission)f(dans)
g(le)g(sens)h(micro)g(v)m(ers)g(pro)s(cessus\))f(ne)h(p)s(ose)g(pas)g
(de)g(di\016cult)m(\023)-43 b(es.)-71 2773 y(Il)33 b(su\016t)g(d'a)m(v)
m(oir)h(un)f(pro)s(cessus)f(qui)h(lit)f(des)i(paquets)f(depuis)f(la)h
(liaison)f(s)m(\023)-43 b(erie,)34 b(puis)c(\023)-43
b(ecrit)34 b(les)f(donn)m(\023)-43 b(ees)34 b(lues)-71
2886 y(sur)29 b(le)h(tuy)m(au)h(reli)m(\023)-43 b(e)30
b(\022)-45 b(a)31 b(l'en)m(tr)m(\023)-43 b(ee)32 b(standard)d(du)h(pro)
s(cessus)f(utilisateur)f(destinataire.)p 4 setlinewidth
np 1189 3293 225 150 0.00 360.00 ellipse st 974 3313
a Fu(/dev/ttya)p np 1414 3293 a 1594 3293 li st 0.000 setgray
np 1534 3278 a 1594 3293 li 1534 3308 li closepath fil
0 setgray np 1534 3278 a 1594 3293 li 1534 3308 li closepath
st np 1594 3443 a 2044 3443 li 2044 3143 li 1594 3143
li closepath st 1654 3257 a Fw(d)m(\023)-43 b(em)m(ulti-)1659
3369 y(-plexeur)p np 2344 3263 a 2794 3263 li 2794 2963
li 2344 2963 li closepath st 2480 3133 a(shell)p np 2344
3623 a 2794 3623 li 2794 3323 li 2344 3323 li closepath
st 2450 3493 a(emacs)p np 2044 3243 a 2344 3113 li st
0.000 setgray np 2282 3123 a 2344 3113 li 2294 3150 li
closepath fil 0 setgray np 2282 3123 a 2344 3113 li 2294
3150 li closepath st np 2044 3342 a 2344 3473 li st 0.000 setgray
np 2294 3435 a 2344 3473 li 2282 3462 li closepath fil
0 setgray np 2294 3435 a 2344 3473 li 2282 3462 li closepath
st 70 3758 a(Le)43 b(m)m(ultiplexage)f(\(transmission)e(dans)i(le)g
(sens)g(pro)s(cessus)g(v)m(ers)h(micro\))f(est)h(plus)e(d)m(\023)-43
b(elicat.)43 b(Essa)m(y)m(ons)-71 3871 y(l'appro)s(c)m(he)d(sym)m(\023)
-43 b(etrique)40 b(du)f(d)m(\023)-43 b(em)m(ultiplexage)40
b(:)h(un)e(pro)s(cessus)g(lit)g(successiv)m(emen)m(t)i(sur)e(les)h(tuy)
m(aux)g(reli)m(\023)-43 b(es)-71 3984 y(aux)29 b(sorties)f(standard)f
(des)i(pro)s(cessus)e(utilisateur,)g(puis)f(met)j(les)f(donn)m(\023)-43
b(ees)29 b(lues)e(sous)i(forme)f(de)g(paquets)h(\(en)-71
4097 y(a)5 b(joutan)m(t)35 b(le)e(n)m(um)m(\023)-43 b(ero)34
b(de)f(la)g(fen)m(^)-43 b(etre)34 b(destinataire)f(et)h(la)f(taille)f
(du)g(blo)s(c)h(de)g(donn)m(\023)-43 b(ees)34 b(lu\))e(et)i(les)c(\023)
-43 b(ecrit)34 b(sur)e(la)-71 4210 y(liaison)c(s)m(\023)-43
b(erie.)p 4 setlinewidth np 499 4617 225 150 0.00 360.00
ellipse st 284 4637 a Fu(/dev/ttya)p np 724 4617 a 904
4617 li st 0.000 setgray np 844 4602 a 904 4617 li 844
4632 li closepath fil 0 setgray np 844 4602 a 904 4617
li 844 4632 li closepath st np 904 4767 a 1354 4767 li
1354 4467 li 904 4467 li closepath st 964 4581 a Fw(d)m(\023)g(em)m
(ulti-)969 4694 y(-plexeur)p np 1654 4587 a 2104 4587
li 2104 4287 li 1654 4287 li closepath st 1790 4457 a(shell)p
np 1654 4947 a 2104 4947 li 2104 4647 li 1654 4647 li
closepath st 1760 4817 a(emacs)p np 1354 4567 a 1654
4437 li st 0.000 setgray np 1592 4447 a 1654 4437 li
1604 4474 li closepath fil 0 setgray np 1592 4447 a 1654
4437 li 1604 4474 li closepath st np 1354 4666 a 1654
4797 li st 0.000 setgray np 1604 4759 a 1654 4797 li
1592 4786 li closepath fil 0 setgray np 1604 4759 a 1654
4797 li 1592 4786 li closepath st np 2404 4767 a 2854
4767 li 2854 4467 li 2404 4467 li closepath st 2509 4581
a(m)m(ulti-)2469 4694 y(-plexeur)p np 2854 4617 a 3034
4617 li st 0.000 setgray np 2974 4602 a 3034 4617 li
2974 4632 li closepath fil 0 setgray np 2974 4602 a 3034
4617 li 2974 4632 li closepath st np 3259 4617 225 150
0.00 360.00 ellipse st 3044 4637 a Fu(/dev/ttya)p np
2104 4437 a 2404 4567 li st 0.000 setgray np 2354 4529
a 2404 4567 li 2342 4557 li closepath fil 0 setgray np
2354 4529 a 2404 4567 li 2342 4557 li closepath st np
2104 4797 a 2404 4666 li st 0.000 setgray np 2342 4677
a 2404 4666 li 2354 4704 li closepath fil 0 setgray np
2342 4677 a 2404 4666 li 2354 4704 li closepath st 70
5077 a Fw(Cette)32 b(appro)s(c)m(he)f(ne)g(marc)m(he)h(pas,)f(car)g
(les)g(lectures)f(sur)g(tuy)m(aux)i(son)m(t)f(blo)s(quan)m(tes.)g(P)m
(ar)g(exemple,)g(si)f(on)-71 5190 y(d)m(\023)-43 b(ecide)32
b(de)g(lire)f(sur)f(la)i(sortie)g(du)f(shell,)f(mais)h(que)h(le)g
(shell)e(n'a\016c)m(he)i(rien)f(p)s(endan)m(t)g(ce)i(temps,)f(le)f(pro)
s(cessus)-71 5303 y(m)m(ultiplexeur)k(reste)k(blo)s(qu)m(\023)-43
b(e)15 b(;)38 b(et)h(si)e(p)s(endan)m(t)g(ce)i(temps)e(l')m(\023)-43
b(editeur)38 b(a\016c)m(he)h(des)e(caract)m(\022)-43
b(eres,)42 b(ces)c(caract)m(\022)-43 b(eres)-71 5416
y(ne)34 b(seron)m(t)h(pas)f(transmis)e(au)i(micro-ordinateur.)f(Il)g
(n'y)h(a)g(aucun)f(mo)m(y)m(en)i(de)f(sa)m(v)m(oir)h(\022)-45
b(a)34 b(l'a)m(v)-5 b(ance)35 b(quels)e(son)m(t)-71 5529
y(les)h(tuy)m(aux)h(sur)f(lesquels)f(il)h(y)g(a)h(e\013ectiv)m(emen)m
(t)i(des)e(donn)m(\023)-43 b(ees)35 b(en)g(atten)m(te)i(d'a\016c)m
(hage.)f(\(En)f(algorithmique)p Black Black eop
%%Page: 55 55
55 54 bop Black -71 24 a Fs(4.6.)62 b(MUL)-8 b(TIPLEXA)m(GE)31
b(D'ENTR)1277 1 y(\023)1265 24 y(EES-SOR)-8 b(TIES)1875
b Fw(55)p Black -71 280 a(parall)m(\022)-43 b(ele,)22
b(cette)i(situation)c(o)s(\022)-48 b(u)22 b(un)f(pro)s(cessus)g(se)h(v)
m(oit)g(refuser)f(ind)m(\023)-43 b(e\014nimen)m(t)20
b(l'acc)m(\022)-43 b(es)24 b(\022)-45 b(a)22 b(une)g(ressource)f
(partag)m(\023)-43 b(ee)-71 393 y(est)31 b(conn)m(ue)g(sous)f(le)g(nom)
g(de)g(\\situation)g(de)g(famine".\))70 506 y(Essa)m(y)m(ons)47
b(une)f(deuxi)m(\022)-43 b(eme)47 b(appro)s(c)m(he)f(:)g(\022)-45
b(a)47 b(c)m(haque)g(pro)s(cessus)e(utilisateur)f(est)j(asso)s(ci)m
(\023)-43 b(e)48 b(un)d(pro)s(cessus)-71 619 y(\\r)m(\023)-43
b(ep)m(\023)g(eteur",)43 b(qui)c(lit)g(la)h(sortie)h(standard)e(du)g
(pro)s(cessus)h(utilisateur)e(par)i(l'in)m(term)m(\023)-43
b(ediaire)39 b(d'un)g(tuy)m(au,)h(la)-71 732 y(met)e(sous)e(forme)i(de)
f(paquet,)g(et)e(\023)-43 b(ecrit)38 b(directemen)m(t)f(le)g(paquet)g
(sur)f(la)h(liaison)e(s)m(\023)-43 b(erie.)38 b(\(Chaque)f(pro)s
(cessus)-71 845 y(r)m(\023)-43 b(ep)m(\023)g(eteur)32
b(a)f(ouv)m(ert)g Fu(/dev/ttya)d Fw(en)g(\023)-43 b(ecriture.\))p
4 setlinewidth np 499 1247 225 150 0.00 360.00 ellipse
st 284 1267 a Fu(/dev/ttya)p np 724 1247 a 904 1247 li
st 0.000 setgray np 844 1232 a 904 1247 li 844 1262 li
closepath fil 0 setgray np 844 1232 a 904 1247 li 844
1262 li closepath st np 904 1397 a 1354 1397 li 1354
1097 li 904 1097 li closepath st 964 1210 a Fw(d)m(\023)g(em)m(ulti-)
969 1323 y(-plexeur)p np 1654 1217 a 2104 1217 li 2104
917 li 1654 917 li closepath st 1790 1087 a(shell)p np
1654 1577 a 2104 1577 li 2104 1277 li 1654 1277 li closepath
st 1760 1447 a(emacs)p np 1354 1197 a 1654 1067 li st
0.000 setgray np 1592 1077 a 1654 1067 li 1604 1104 li
closepath fil 0 setgray np 1592 1077 a 1654 1067 li 1604
1104 li closepath st np 1354 1296 a 1654 1427 li st 0.000 setgray
np 1604 1389 a 1654 1427 li 1592 1416 li closepath fil
0 setgray np 1604 1389 a 1654 1427 li 1592 1416 li closepath
st np 2404 1217 a 2854 1217 li 2854 917 li 2404 917 li
closepath st 2465 1087 a(r)m(\023)g(ep)m(\023)g(eteur)p
np 2404 1577 a 2854 1577 li 2854 1277 li 2404 1277 li
closepath st 2465 1447 a(r)m(\023)g(ep)m(\023)g(eteur)p
np 3259 1247 225 150 0.00 360.00 ellipse st 3044 1267
a Fu(/dev/ttya)p np 2854 1067 a 3034 1247 li st 0.000 setgray
np 3002 1194 a 3034 1247 li 2981 1215 li closepath fil
0 setgray np 3002 1194 a 3034 1247 li 2981 1215 li closepath
st np 2854 1427 a 3034 1247 li st 0.000 setgray np 2981
1278 a 3034 1247 li 3002 1299 li closepath fil 0 setgray
np 2981 1278 a 3034 1247 li 3002 1299 li closepath st
np 2104 1067 a 2404 1067 li st 0.000 setgray np 2344
1052 a 2404 1067 li 2344 1082 li closepath fil 0 setgray
np 2344 1052 a 2404 1067 li 2344 1082 li closepath st
np 2104 1427 a 2404 1427 li st 0.000 setgray np 2344
1412 a 2404 1427 li 2344 1442 li closepath fil 0 setgray
np 2344 1412 a 2404 1427 li 2344 1442 li closepath st
70 1690 a Fw(Les)23 b(situations)f(de)h(blo)s(cage)h(ne)f(son)m(t)h
(plus)d(\022)-45 b(a)23 b(craindre,)f(puisque)g(c)m(haque)h(pro)s
(cessus)f(utilisateur)f(a)j(sa)f(sortie)-71 1803 y(retransmise)32
b(ind)m(\023)-43 b(ep)s(endammen)m(t)31 b(des)h(autres)h(pro)s(cessus)e
(utilisateur.)f(En)i(rev)-5 b(anc)m(he,)34 b(le)e(proto)s(cole)h(n'est)
f(pas)-71 1916 y(forc)m(\023)-43 b(emen)m(t)46 b(resp)s(ect)m(\023)-43
b(e.)46 b(Deux)e(r)m(\023)-43 b(ep)m(\023)g(eteurs)45
b(p)s(euv)m(en)m(t)f(en)g(e\013et)e(\023)-43 b(ecrire)44
b(deux)g(paquets)f(au)h(m)m(^)-43 b(eme)45 b(instan)m(t)f(\(ou)-71
2029 y(presque\).)28 b(Or,)g(le)f(no)m(y)m(au)i(Unix)e(ne)h(garan)m
(tit)h(pas)f(que)f(les)e(\023)-43 b(ecritures)28 b(son)m(t)h
(atomiques,)f(c'est-\022)-45 b(a-dire)29 b(e\013ectu)m(\023)-43
b(ees)-71 2142 y(en)26 b(une)f(seule)h(op)m(\023)-43
b(eration)26 b(inin)m(terruptible.)c(Le)k(no)m(y)m(au)h(p)s(eut)e(tr)m
(\022)-43 b(es)27 b(bien)e(transmettre)h(\022)-45 b(a)27
b Fu(/dev/ttya)c Fw(une)j(partie)-71 2255 y(du)34 b(paquet)e(\023)-43
b(ecrit)36 b(par)e(le)h(premier)e(r)m(\023)-43 b(ep)m(\023)g(eteur,)37
b(puis)c(le)h(paquet)f(\023)-43 b(ecrit)35 b(par)g(le)f(second)h(r)m
(\023)-43 b(ep)m(\023)g(eteur,)37 b(puis)c(le)i(reste)-71
2367 y(du)f(premier)g(paquet.)i(Ceci)f(v)-5 b(a)35 b(plonger)g(le)g(d)m
(\023)-43 b(em)m(ultiplexeur)33 b(qui)h(est)i(\022)-45
b(a)36 b(l'autre)f(b)s(out)f(de)i(la)f(liaison)e(dans)h(la)-71
2480 y(plus)28 b(extr)m(^)-43 b(eme)31 b(confusion)d(:)i(il)e(v)-5
b(a)30 b(prendre)e(le)h(deuxi)m(\022)-43 b(eme)30 b(paquet)g(p)s(our)e
(une)h(partie)g(des)g(donn)m(\023)-43 b(ees)30 b(du)f(premier)-71
2593 y(paquet,)35 b(puis)d(il)g(v)-5 b(a)34 b(essa)m(y)m(er)i(d'in)m
(terpr)m(\023)-43 b(eter)34 b(le)f(reste)i(des)f(donn)m(\023)-43
b(ees)34 b(du)f(premier)g(paquet)h(comme)g(un)f(en-t)m(^)-43
b(ete)-71 2706 y(de)30 b(paquet.)70 2819 y(P)m(our)37
b(\023)-43 b(eviter)40 b(cette)h(situation,)d(il)g(faut)h(que)g(les)g
(pro)s(cessus)f(r)m(\023)-43 b(ep)m(\023)g(eteurs)41
b(se)f(sync)m(hronisen)m(t)e(p)s(our)g(assurer)-71 2932
y(que,)30 b(\022)-45 b(a)30 b(tout)g(instan)m(t,)g(au)f(plus)f(un)g(r)m
(\023)-43 b(ep)m(\023)g(eteur)32 b(est)e(en)f(train)g(d')m(\023)-43
b(ecrire)30 b(sur)e(la)i(liaison)d(s)m(\023)-43 b(erie.)31
b(\(En)e(algorithmique)-71 3045 y(parall)m(\022)-43 b(ele,)24
b(on)f(dit)g(qu'il)e(faut)j(assurer)f(l'exclusion)f(m)m(utuelle)g(en)m
(tre)i(les)f(pro)s(cessus)g(qui)f(acc)m(\022)-43 b(eden)m(t)27
b(\022)-45 b(a)24 b(la)f(ressource)-71 3158 y(partag)m(\023)-43
b(ee.\))41 b(On)36 b(p)s(eut)h(le)g(faire)f(a)m(v)m(ec)k(les)d(mo)m(y)m
(ens)h(qu'on)f(a)g(vu)g(jusqu'ici)e(:)j(les)e(r)m(\023)-43
b(ep)m(\023)g(eteurs)39 b(cr)m(\023)-43 b(een)m(t)40
b(un)c(\014c)m(hier)-71 3271 y(donn)m(\023)-43 b(e)37
b(\(le)f(\\v)m(errou"\))i(a)m(v)m(ec)g(l'option)d Fu(O_EXCL)g
Fw(de)h Fu(openfile)e Fw(a)m(v)-5 b(an)m(t)38 b(d')m(\023)-43
b(ecrire)37 b(un)e(paquet,)i(et)g(le)f(d)m(\023)-43 b(etruisen)m(t)-71
3384 y(apr)m(\022)g(es)33 b(a)m(v)m(oir)d(\023)-43 b(ecrit)32
b(le)f(paquet.)i(Cette)g(m)m(\023)-43 b(etho)s(de)32
b(n'est)g(pas)g(tr)m(\022)-43 b(es)33 b(e\016cace,)h(en)d(raison)g(du)g
(co)s(^)-48 b(ut)33 b(de)e(cr)m(\023)-43 b(eation)33
b(et)-71 3497 y(de)d(destruction)g(du)f(\014c)m(hier)h(v)m(errou.)70
3610 y(Une)40 b(troisi)m(\022)-43 b(eme)39 b(appro)s(c)m(he)h(consiste)
f(\022)-45 b(a)40 b(reprendre)e(la)h(premi)m(\022)-43
b(ere)39 b(appro)s(c)m(he)h(\(un)e(seul)h(pro)s(cessus)f(m)m(ulti-)-71
3722 y(plexeur\),)g(en)g(mettan)m(t)i(en)e(mo)s(de)g(\\non)g(blo)s
(quan)m(t")g(les)g(descripteurs)e(ouv)m(erts)j(sur)f(les)g(tuy)m(aux)g
(reli)m(\023)-43 b(es)38 b(aux)-71 3835 y(sorties)29
b(standard)f(des)g(pro)s(cessus)g(utilisateur.)f(\(Le)i(passage)h(en)f
(mo)s(de)f(\\non)h(blo)s(quan)m(t")f(se)h(fait)g(par)f(une)g(des)-71
3948 y(options)k(de)h(l'app)s(el)e(syst)m(\022)-43 b(eme)34
b Fu(fcntl)p Fw(,)e(qu'on)h(ne)f(d)m(\023)-43 b(ecrira)33
b(pas)g(dans)f(ce)i(cours.\))f(En)f(mo)s(de)h(\\non)f(blo)s(quan)m(t",)
-71 4061 y(les)f(op)m(\023)-43 b(erations)32 b(de)g(lecture)f(sur)f(un)
h(tuy)m(au)g(vide)g(ne)g(blo)s(quen)m(t)f(pas,)i(mais)e(retournen)m(t)i
(imm)m(\023)-43 b(ediatemen)m(t)32 b(a)m(v)m(ec)-71 4174
y(une)c(erreur.)g(Il)f(su\016t)h(d'ignorer)g(cette)i(erreur)e(et)h(de)f
(passer)g(\022)-45 b(a)29 b(la)f(lecture)h(sur)e(le)h(pro)s(c)m(hain)f
(pro)s(cessus)h(utilisa-)-71 4287 y(teur.)i(Cette)g(appro)s(c)m(he)f
(emp)m(^)-43 b(ec)m(he)31 b(la)e(famine)g(et)h(ne)f(p)s(ose)g(pas)g(de)
g(probl)m(\022)-43 b(emes)29 b(d'exclusion)f(m)m(utuelle,)g(mais)h(se)
-71 4400 y(r)m(\023)-43 b(ev)m(\022)g(ele)35 b(tr)m(\022)-43
b(es)35 b(ine\016cace.)f(En)f(e\013et,)h(le)f(pro)s(cessus)g(m)m
(ultiplexeur)d(fait)j(ce)h(qu'on)f(app)s(elle)f(de)h(l'atten)m(te)i
(activ)m(e)g(:)-71 4513 y(il)30 b(consomme)j(du)d(temps)i(de)f(calcul)g
(m)m(^)-43 b(eme)33 b(s'il)e(n'y)g(a)h(rien)f(\022)-45
b(a)32 b(faire)f(|)h(par)f(exemple,)h(si)e(les)i(pro)s(cessus)e(utili-)
-71 4626 y(sateur)f(n'en)m(v)m(oien)m(t)h(rien)d(sur)h(leur)f(sortie)i
(p)s(endan)m(t)f(un)g(certain)g(temps.)h(Bien)f(en)m(tendu,)h(on)f(p)s
(eut)g(dimin)m(uer)e(la)-71 4739 y(fr)m(\023)-43 b(equence)29
b(des)e(ten)m(tativ)m(es)i(de)f(lecture)f(en)g(in)m(tro)s(duisan)m(t)f
(par)h(exemple)g(des)h(app)s(els)e Fu(sleep)g Fw(dans)g(la)i(b)s(oucle)
e(de)-71 4852 y(lecture)15 b(;)33 b(mais)e(il)g(est)i(tr)m(\022)-43
b(es)33 b(di\016cile)d(de)i(trouv)m(er)h(la)e(b)s(onne)h(fr)m(\023)-43
b(equence)33 b(:)f(celle)g(qui)f(c)m(harge)i(su\016sammen)m(t)f(p)s(eu)
-71 4964 y(la)g(mac)m(hine)h(lorsqu'il)d(n'y)i(a)h(rien)f(\022)-45
b(a)33 b(retransmettre,)g(mais)f(qui)g(n'in)m(tro)s(duit)e(pas)i(de)h
(d)m(\023)-43 b(elai)32 b(p)s(erceptible)f(dans)-71 5077
y(la)f(transmission)e(lorsqu'il)g(y)i(a)h(b)s(eaucoup)e(\022)-45
b(a)31 b(retransmettre.)70 5190 y(On)k(le)g(v)m(oit,)h(il)e(y)h(a)h
(l\022)-45 b(a)35 b(un)f(probl)m(\022)-43 b(eme)35 b(s)m(\023)-43
b(erieux.)36 b(P)m(our)f(le)g(r)m(\023)-43 b(esoudre,)36
b(les)f(concepteurs)g(de)g(BSD)h(Unix)e(on)m(t)-71 5303
y(in)m(tro)s(duit)c(un)i(nouv)m(el)g(app)s(el)f(syst)m(\022)-43
b(eme,)35 b Fu(select)p Fw(,)c(qui)g(se)i(trouv)m(e)g(main)m(tenan)m(t)
g(sur)f(la)g(plupart)f(des)h(v)-5 b(arian)m(tes)-71 5416
y(d'Unix.)29 b(L'app)s(el)g Fu(select)f Fw(p)s(ermet)i(\022)-45
b(a)30 b(un)f(pro)s(cessus)g(de)h(se)h(mettre)g(en)f(atten)m(te)i
(\(passiv)m(e\))f(d'un)d(ou)i(plusieurs)-73 5529 y(\023)-43
b(ev)m(\023)g(enemen)m(ts)32 b(d'en)m(tr)m(\023)-43 b(ee-sortie.)33
b(Les)28 b(\023)-43 b(ev)m(\023)g(enemen)m(ts)33 b(p)s(ossibles)28
b(son)m(t)j(:)p Black Black eop
%%Page: 56 56
56 55 bop Black -71 24 a Fw(56)765 b Fs(CHAPITRE)29 b(4.)61
b(COMMUNICA)-8 b(TIONS)30 b(INTER-PR)m(OCESSUS)e(CLASSIQUES)p
Black Black 70 280 a Fw({)p Black 44 w(\023)-43 b(ev)m(\023)g(enemen)m
(ts)33 b(en)d(lecture)g(:)h(\\il)e(y)h(a)h(des)f(donn)m(\023)-43
b(ees)31 b(\022)-45 b(a)31 b(lire)d(sur)i(tel)g(descripteur")p
Black 70 393 a({)p Black 44 w(\023)-43 b(ev)m(\023)g(enemen)m(ts)33
b(en)27 b(\023)-43 b(ecriture)31 b(:)f(\\on)h(p)s(eut)c(\023)-43
b(ecrire)30 b(sur)g(tel)g(descripteur)f(sans)e(^)-43
b(etre)32 b(blo)s(qu)m(\023)-43 b(e")p Black 70 506 a({)p
Black 44 w(\023)g(ev)m(\023)g(enemen)m(ts)35 b(exceptionnels)e(:)g
(\\une)g(condition)f(exceptionnelle)g(est)i(vraie)f(sur)f(tel)h
(descripteur".)g(P)m(ar)161 619 y(exemple,)j(sur)f(certaines)h
(connexions)f(r)m(\023)-43 b(eseau,)38 b(on)e(p)s(eut)f(en)m(v)m(o)m(y)
m(er)j(des)e(donn)m(\023)-43 b(ees)36 b(prioritaires)e(\()p
Fn(out-of-)161 732 y(b)-5 b(and)29 b(data)p Fw(\),)e(qui)c
(court-circuiten)m(t)i(les)f(donn)m(\023)-43 b(ees)25
b(normales)f(en)h(atten)m(te)i(de)e(transmission.)d(La)j(r)m(\023)-43
b(eception)161 845 y(de)30 b(telles)g(donn)m(\023)-43
b(ees)31 b(prioritaires)d(constitue)i(une)g(condition)f
(exceptionnelle.)-71 958 y(L'app)s(el)g(syst)m(\022)-43
b(eme)32 b Fu(select)d Fw(a)h(l'in)m(terface)h(suiv)-5
b(an)m(te)30 b(:)311 1090 y Fu(select)46 b(:)h(file_descr)e(list)i(->)g
(file_descr)e(list)i(->)g(file_descr)e(list)i(->)740
1203 y(float)g(->)g(file_descr)e(list)i(*)g(file_descr)e(list)i(*)g
(file_descr)e(list)-71 1336 y Fw(Les)38 b(trois)f(premiers)g(argumen)m
(ts)h(son)m(t)h(des)e(ensem)m(bles)g(de)h(descripteurs)e(\(repr)m(\023)
-43 b(esen)m(t)m(\023)g(es)41 b(par)c(des)h(listes\))f(:)h(le)-71
1449 y(premier)h(argumen)m(t)h(est)h(l'ensem)m(ble)e(des)h
(descripteurs)e(\022)-45 b(a)41 b(surv)m(eiller)c(en)j(lecture)15
b(;)41 b(le)e(deuxi)m(\022)-43 b(eme)41 b(argumen)m(t)-71
1561 y(est)e(l'ensem)m(ble)d(des)i(descripteurs)e(\022)-45
b(a)38 b(surv)m(eiller)e(en)f(\023)-43 b(ecriture)15
b(;)38 b(le)g(troisi)m(\022)-43 b(eme)38 b(argumen)m(t)g(est)g(l'ensem)
m(ble)f(des)-71 1674 y(descripteurs)43 b(\022)-45 b(a)45
b(surv)m(eiller)d(en)i(exception.)h(Le)g(quatri)m(\022)-43
b(eme)45 b(argumen)m(t)g(est)h(un)d(d)m(\023)-43 b(elai)44
b(maximal)g(d'atten)m(te,)-71 1787 y(exprim)m(\023)-43
b(e)29 b(en)g(secondes.)h(S'il)d(est)i(p)s(ositif)e(ou)i(n)m(ul,)f
(l'app)s(el)g Fu(select)f Fw(v)-5 b(a)29 b(rendre)f(la)h(main)f(au)h(b)
s(out)f(de)h(ce)h(temps,)-71 1900 y(m)m(^)-43 b(eme)46
b(si)d(aucun)e(\023)-43 b(ev)m(\023)g(enemen)m(t)47 b(ne)d(s'est)h(pro)
s(duit.)d(S'il)h(est)i(strictemen)m(t)g(n)m(\023)-43
b(egatif,)46 b(l'app)s(el)c Fu(select)h Fw(attend)-71
2013 y(ind)m(\023)-43 b(e\014nimen)m(t)29 b(qu'un)g(des)e(\023)-43
b(ev)m(\023)g(enemen)m(ts)33 b(demand)m(\023)-43 b(es)31
b(se)g(pro)s(duise.)70 2126 y(L'app)s(el)c Fu(select)g
Fw(ren)m(v)m(oie)i(un)f(triplet)f(de)h(listes)f(de)i(descripteurs)d(:)j
(les)f(descripteurs)f(e\013ectiv)m(emen)m(t)j(pr)m(^)-43
b(ets)-71 2239 y(en)23 b(lecture)h(\(premi)m(\022)-43
b(ere)23 b(comp)s(osan)m(te\),)i(en)c(\023)-43 b(ecriture)23
b(\(deuxi)m(\022)-43 b(eme)24 b(comp)s(osan)m(te\),)h(ou)f(sur)e
(lesquels)g(une)g(condition)-71 2352 y(exceptionnelle)34
b(s'est)i(pro)s(duite)e(\(troisi)m(\022)-43 b(eme)36
b(comp)s(osan)m(te\).)h(Si)d(le)h(d)m(\023)-43 b(elai)35
b(maximal)f(s'est)g(\023)-43 b(ecoul)m(\023)g(e)37 b(sans)e(aucun)-74
2465 y(\023)-43 b(ev)m(\023)g(enemen)m(t,)34 b(les)c(trois)g(listes)f
(son)m(t)i(vides.)p Black -71 2669 a Fv(Exemple:)p Black
45 w Fw(le)g(fragmen)m(t)h(de)f(co)s(de)g(ci-dessous)g(surv)m(eille)e
(en)j(lecture)f(les)g(deux)f(descripteurs)g Fu(fd1)h
Fw(et)h Fu(fd2)p Fw(,)e(et)-71 2782 y(reprendre)f(la)h(main)f(au)i(b)s
(out)e(de)h(0,5)i(secondes.)311 2914 y Fv(matc)m(h)47
b Fu(select)f([fd1)o(;fd2)o(])h([])g([])h(0.5)f Fv(with)406
3027 y Fu([],[],[])f(->)h Fo(\(*)g(le)g(delai)g(de)g(0,5)o(s)h(est)f
(ecoule)f(*\))311 3140 y Fu(|)h(fdl,[],[])f(->)502 3253
y Fv(if)i Fu(List)n(.mem)f(fd1)g(fdl)g Fv(then)740 3366
y Fo(\(*)h(lire)e(depuis)g(fd1)h(*\))p Fu(;)502 3479
y Fv(if)h Fu(List)n(.mem)f(fd2)g(fdl)g Fv(then)740 3592
y Fo(\(*)h(lire)e(depuis)g(fd2)h(*\))p Black -71 3816
a Fv(Exemple:)p Black 45 w Fw(la)d(fonction)h Fu(multiplex)e
Fw(ci-dessous)h(est)i(le)f(co)s(eur)g(du)f(m)m(ultiplexeur/d)m(\023)-43
b(em)m(ultiplexeur)41 b(p)s(our)-71 3929 y(l')m(\023)-43
b(em)m(ulateur)32 b(de)f(terminaux)g(virtuels)f(d)m(\023)-43
b(ecrit)32 b(plus)d(haut.)j(Elle)e(prend)g(un)h(descripteur)f(ouv)m
(ert)i(sur)f(la)g(liaison)-71 4042 y(s)m(\023)-43 b(erie,)35
b(et)h(deux)e(tableaux)g(de)g(descripteurs,)f(l'un)g(con)m(tenan)m(t)k
(les)d(tuy)m(aux)g(reli)m(\023)-43 b(es)35 b(aux)f(en)m(tr)m(\023)-43
b(ees)37 b(standard)c(des)-71 4154 y(pro)s(cessus)c(utilisateur,)g
(l'autre)h(les)g(tuy)m(aux)g(reli)m(\023)-43 b(es)30
b(aux)h(sorties.)193 4287 y Fz(1)83 b Fv(op)s(en)48 b
Fu(Unix)o(;;)193 4400 y Fz(2)193 4513 y(3)83 b Fv(let)53
b(rec)48 b Fu(really_read)d(fd)i(buff)g(start)f(length)g(=)193
4626 y Fz(4)178 b Fv(if)56 b Fu(length)46 b(<=)h(0)h
Fv(then)f Fu(\(\))g Fv(else)193 4739 y Fz(5)274 b Fv(matc)m(h)47
b Fu(read)f(fd)i(buff)e(start)h(length)f Fv(with)193
4852 y Fz(6)369 b Fu(0)48 b(->)f Fv(raise)h Fu(End_of_file)193
4964 y Fz(7)274 b Fu(|)47 b(n)h(->)f(really_read)e(fd)i(buff)f(\(start)
o(+n)o(\))i(\()o(length)o(-n)o(\);;)193 5077 y Fz(8)193
5190 y(9)83 b Fv(let)53 b Fu(buffer)46 b(=)h(String)o(.)o(create)g
(258;;)157 5303 y Fz(10)157 5416 y(11)84 b Fv(let)53
b Fu(multiplex)45 b(channel)h(inputs)g(outputs)g(=)157
5529 y Fz(12)179 b Fv(let)48 b Fu(input_fds)d(=)i(channel)f(::)h(Array)
o(.to_list)f(inputs)g Fv(in)p Black Black eop
%%Page: 57 57
57 56 bop Black -71 24 a Fs(4.6.)62 b(MUL)-8 b(TIPLEXA)m(GE)31
b(D'ENTR)1277 1 y(\023)1265 24 y(EES-SOR)-8 b(TIES)1875
b Fw(57)p Black 157 280 a Fz(13)179 b Fv(try)157 393
y Fz(14)275 b Fv(while)47 b Fu(true)g Fv(do)157 506 y
Fz(15)370 b Fv(let)48 b Fu(\()o(ready_fds)n(,)f(_,)h(_)o(\))g(=)f
(select)f(input_fds)g([])h([])g(\(-1.0\))f Fv(in)157
619 y Fz(16)370 b Fv(for)48 b Fu(i)g(=)f(0)h Fv(to)f
Fu(Array)o(.length)f(inputs)g(-)h(1)h Fv(do)157 732 y
Fz(17)466 b Fv(if)47 b Fu(List)o(.mem)g(inputs)n(.\(i\))g(ready_fds)e
Fv(then)j(b)s(egin)157 845 y Fz(18)561 b Fv(let)48 b
Fu(n)f(=)g(read)g(inputs)n(.\(i\))g(buffer)f(2)i(255)f
Fv(in)157 958 y Fz(19)561 b Fu(buffer)o(.[0])46 b(<-)h(char_of_int)e
(i;)157 1071 y Fz(20)561 b Fu(buffer)o(.[1])46 b(<-)h(char_of_int)e(n;)
157 1184 y Fz(21)561 b Fu(ignore)46 b(\(write)g(channel)g(buffer)g(0)i
(\()o(n+2\)\);)157 1296 y Fz(22)561 b Fu(\(\))157 1409
y Fz(23)466 b Fv(end)157 1522 y Fz(24)370 b Fv(done)q
Fu(;)157 1635 y Fz(25)g Fv(if)48 b Fu(List)o(.mem)f(channel)e
(ready_fds)h Fv(then)h(b)s(egin)157 1748 y Fz(26)466
b Fu(really_read)44 b(channel)i(buffer)g(0)i(2;)157 1861
y Fz(27)466 b Fv(let)47 b Fu(i)h(=)f(int_of_char)m(\(buffer)n(.[0]\))
157 1974 y Fz(28)466 b Fv(and)47 b Fu(n)h(=)f(int_of_char)m(\(buffer)n
(.[1]\))g Fv(in)157 2087 y Fz(29)466 b Fv(if)47 b Fu(n)h(=)f(0)h
Fv(then)157 2200 y Fz(30)561 b Fu(close)47 b(outputs)n(.\()o(i\))157
2313 y Fz(31)466 b Fv(else)48 b(b)s(egin)157 2426 y Fz(32)561
b Fu(really_read)45 b(channel)h(buffer)g(0)h(n;)157 2538
y Fz(33)561 b Fu(ignore)46 b(\(write)g(outputs)n(.\(i\))h(buffer)f(0)i
(n)o(\);)157 2651 y Fz(34)561 b Fu(\(\))157 2764 y Fz(35)466
b Fv(end)157 2877 y Fz(36)370 b Fv(end)157 2990 y Fz(37)275
b Fv(done)157 3103 y Fz(38)179 b Fv(with)47 b Fu(End_of_file)e(->)157
3216 y Fz(39)275 b Fu(\(\))157 3329 y Fz(40)84 b Fu(;;)70
3494 y Fw(La)45 b(fonction)f Fu(multiplex)f Fw(commence)i(par)f
(construire)g(un)f(ensem)m(ble)i(de)f(descripteurs)f(\()p
Fu(input_fds)p Fw(\))-71 3607 y(con)m(tenan)m(t)g(les)d(descripteurs)f
(d'en)m(tr)m(\023)-43 b(ee)43 b(\(ceux)e(qui)e(son)m(t)j(connect)m
(\023)-43 b(es)43 b(aux)d(sorties)h(standard)f(des)g(pro)s(cessus)-71
3720 y(utilisateur\),)e(plus)g(le)h(descripteur)f(sur)h(la)g(liaison)f
(s)m(\023)-43 b(erie.)2040 3697 y(\022)2029 3720 y(A)39
b(c)m(haque)i(tour)e(de)h(la)f(b)s(oucle)g Fu(while)46
b(true)p Fw(,)39 b(on)-71 3833 y(app)s(elle)22 b Fu(select)g
Fw(p)s(our)g(surv)m(eiller)e(en)k(lecture)f(une)g(copie)g(de)h
Fu(alive_fds)p Fw(.)d(On)h(ne)i(surv)m(eille)d(aucun)i(descripteur)-71
3946 y(en)e(\023)-43 b(ecriture)23 b(ni)e(en)i(exception,)h(et)g(on)f
(ne)g(b)s(orne)f(pas)h(le)f(temps)h(d'atten)m(te.)j(Lorsque)c
Fu(select)g Fw(retourne,)h(on)g(teste)-71 4059 y(s'il)29
b(y)g(a)h(des)g(donn)m(\023)-43 b(ees)30 b(en)g(atten)m(te)i(sur)d(un)g
(des)g(descripteurs)f(d'en)m(tr)m(\023)-43 b(ee,)32 b(ou)e(sur)e(le)i
(canal)g(de)f(comm)m(unication.)70 4204 y(S'il)e(y)i(a)g(des)f(donn)m
(\023)-43 b(ees)29 b(sur)f(une)g(des)g(en)m(tr)m(\023)-43
b(ees,)31 b(on)e(fait)f Fu(read)g Fw(sur)f(cette)k(en)m(tr)m(\023)-43
b(ee,)31 b(on)e(a)5 b(joute)29 b(un)f(en-t)m(^)-43 b(ete)31
b(aux)-71 4317 y(donn)m(\023)-43 b(ees)37 b(lues,)f(et)i(on)c(\023)-43
b(ecrit)37 b(le)f(paquet)h(obten)m(u)g(sur)e(le)h(canal.)h(Si)f
Fu(read)f Fw(ren)m(v)m(oie)i(z)m(\023)-43 b(ero,)39 b(ceci)e(indique)d
(que)i(le)-71 4430 y(tuy)m(au)h(corresp)s(ondan)m(t)e(a)g(\023)-43
b(et)m(\023)g(e)38 b(ferm)m(\023)-43 b(e.)38 b(Le)e(programme)h(\022)
-45 b(a)36 b(l'autre)g(b)s(out)g(de)g(la)g(liaison)e(s)m(\023)-43
b(erie)37 b(v)-5 b(a)36 b(recev)m(oir)h(un)-71 4543 y(paquet)g(con)m
(tenan)m(t)i(z)m(\023)-43 b(ero)39 b(o)s(ctets)g(de)d(donn)m(\023)-43
b(ees,)38 b(ce)g(qu'il)d(v)-5 b(a)38 b(in)m(terpr)m(\023)-43
b(eter)37 b(comme)h(\\le)f(pro)s(cessus)f(utilisateur)-71
4656 y(n)m(um)m(\023)-43 b(ero)31 b(tan)m(t)h(est)f(mort")15
b(;)31 b(il)e(p)s(eut)g(alors)h(fermer)g(la)g(fen)m(^)-43
b(etre)32 b(corresp)s(ondan)m(te.)70 4801 y(S'il)d(y)i(a)g(des)f(donn)m
(\023)-43 b(ees)31 b(sur)f(le)g(canal,)h(on)g(lit)e(d'ab)s(ord)h
(l'en-t)m(^)-43 b(ete,)33 b(ce)e(qui)e(donne)h(le)h(n)m(um)m(\023)-43
b(ero)31 b Fu(i)f Fw(de)h(la)f(sortie)-71 4914 y(destinataire)j(et)h
(le)g(nom)m(bre)f Fu(n)g Fw(d'o)s(ctets)i(\022)-45 b(a)34
b(lire)14 b(;)34 b(puis)d(on)j(lit)e(les)i Fu(n)f Fw(o)s(ctets)i(sur)d
(le)i(canal,)g(et)g(on)f(les)e(\023)-43 b(ecrit)34 b(sur)-71
5027 y(la)e(sortie)h(n)m(um)m(\023)-43 b(ero)33 b Fu(i)p
Fw(.)g(Cas)f(particulier)e(:)j(si)f Fu(n)g Fw(v)-5 b(aut)33
b(0,)g(on)g(ferme)f(la)h(sortie)f(corresp)s(ondan)m(te.)h(L'id)m(\023)
-43 b(ee)33 b(est)g(que)-71 5140 y(l')m(\023)-43 b(em)m(ulateur)31
b(de)g(terminal)e(\022)-45 b(a)31 b(l'autre)f(b)s(out)g(de)h(la)f
(liaison)f(v)-5 b(a)31 b(en)m(v)m(o)m(y)m(er)i(un)c(paquet)i(a)m(v)m
(ec)i Fu(n)25 b Fw(=)h(0)31 b(p)s(our)e(signi\014er)-71
5253 y(une)h(\014n)f(de)h(\014c)m(hier)g(sur)f(l'en)m(tr)m(\023)-43
b(ee)32 b(standard)e(du)f(pro)s(cessus)g(corresp)s(ondan)m(t.)70
5398 y(On)38 b(sort)g(de)g(la)g(b)s(oucle)f(quand)g Fu(really_read)e
Fw(d)m(\023)-43 b(eclenc)m(he)40 b(une)d(exception)i
Fu(End_of_file)p Fw(,)c(c'est-\022)-45 b(a-dire)-71 5511
y(quand)29 b(la)h(\014n)g(de)g(\014c)m(hier)f(est)i(attein)m(te)h(sur)d
(la)h(liaison)f(s)m(\023)-43 b(erie.)p Black Black eop
%%Page: 58 58
58 57 bop Black -71 24 a Fw(58)765 b Fs(CHAPITRE)29 b(4.)61
b(COMMUNICA)-8 b(TIONS)30 b(INTER-PR)m(OCESSUS)e(CLASSIQUES)p
Black -71 280 a Fq(4.7)135 b(Les)46 b(signaux)70 491
y Fw(Les)21 b(signaux,)e(ou)h(in)m(terruptions)e(logicielles,)h(son)m
(t)i(des)c(\023)-43 b(ev)m(\023)g(enemen)m(ts)23 b(externes)e(qui)d(c)m
(hangen)m(t)k(le)e(d)m(\023)-43 b(eroulemen)m(t)-71 603
y(d'un)35 b(programme)i(de)f(mani)m(\022)-43 b(ere)37
b(async)m(hrone,)g(c'est-\022)-45 b(a-dire)37 b(\022)-45
b(a)37 b(n'imp)s(orte)e(quel)g(instan)m(t)i(lors)e(de)h(l'ex)m(\023)-43
b(ecution)-71 716 y(du)25 b(programme.)i(En)e(ceci)i(les)f(signaux)f
(s'opp)s(osen)m(t)h(aux)g(autres)h(formes)f(de)g(comm)m(unications)f
(vues)h(jusqu'ici,)-71 829 y(o)s(\022)-48 b(u)26 b(les)g(programmes)g
(doiv)m(en)m(t)h(explicitemen)m(t)f(demander)f(\022)-45
b(a)27 b(recev)m(oir)g(les)e(messages)j(externes)f(en)f(atten)m(te,)j
(par)-71 942 y(exemple)h(en)g(faisan)m(t)h Fu(read)e
Fw(sur)g(un)h(tuy)m(au.)70 1059 y(Lorsqu'un)f(pro)s(cessus)g(re\030)-40
b(coit)31 b(un)e(signal,)h(plusieurs)d(comp)s(ortemen)m(ts)k(son)m(t)g
(p)s(ossibles.)p Black 70 1172 a({)p Black 46 w(Le)j(signal)f(termine)g
(l'ex)m(\023)-43 b(ecution)35 b(du)d(pro)s(cessus.)h(Dans)h(certain)g
(cas,)h(le)f(syst)m(\022)-43 b(eme)32 b(\023)-43 b(ecrit)35
b(une)e(image)h(de)161 1285 y(l')m(\023)-43 b(etat)41
b(du)c(pro)s(cessus)h(dans)g(le)g(\014c)m(hier)g Fu(core)p
Fw(,)f(qu'on)i(p)s(eut)f(examiner)g(plus)e(tard)j(a)m(v)m(ec)h(un)e
Fn(debugger)15 b Fw(;)161 1398 y(c'est)32 b(ce)f(qu'on)f(app)s(elle)e
(un)i Fn(c)-5 b(or)g(e)33 b(dump)p Fw(.)p Black 70 1511
a({)p Black 46 w(Le)42 b(signal)f(susp)s(end)e(l'ex)m(\023)-43
b(ecution)43 b(du)d(pro)s(cessus,)h(mais)h(le)f(garde)h(en)g(m)m(\023)
-43 b(emoire.)42 b(Le)g(pro)s(cessus)f(p)m(\022)-43 b(ere)161
1623 y(\(t)m(ypiquemen)m(t,)29 b(un)f(shell\))f(est)i(pr)m(\023)-43
b(ev)m(en)m(u)29 b(de)f(ce)h(fait,)g(et)g(p)s(eut)e(c)m(hoisir)h(de)g
(terminer)f(le)h(pro)s(cessus,)g(ou)g(de)161 1736 y(le)i(red)m(\023)-43
b(emarrer)31 b(en)f(t^)-45 b(ac)m(he)32 b(de)e(fond,)g(en)g(lui)e(en)m
(v)m(o)m(y)m(an)m(t)34 b(d'autres)c(signaux.)p Black
70 1849 a({)p Black 46 w(Rien)g(ne)g(se)g(passe.)h(Le)g(signal)e(est)i
(compl)m(\022)-43 b(etemen)m(t)32 b(ignor)m(\023)-43
b(e.)p Black 70 1962 a({)p Black 46 w(Le)46 b(signal)f(pro)m(v)m(o)s
(que)h(l'ex)m(\023)-43 b(ecution)47 b(d'une)e(fonction)g(qui)g(lui)f(a)
f(\023)-43 b(et)m(\023)g(e)49 b(asso)s(ci)m(\023)-43
b(ee)47 b(dans)e(le)h(programme.)161 2075 y(L'ex)m(\023)-43
b(ecution)32 b(normale)e(du)f(programme)h(reprend)f(lorsque)g(la)h
(fonction)g(retourne.)70 2188 y(Il)d(y)h(a)g(plusieurs)d(t)m(yp)s(es)i
(de)h(signaux,)f(indiquan)m(t)f(c)m(hacun)i(une)f(condition)f
(particuli)m(\022)-43 b(ere.)27 b(Le)h(t)m(yp)s(e)e(\023)-43
b(en)m(um)m(\023)g(er)m(\023)g(e)-71 2301 y Fu(signal)29
b Fw(en)h(donne)g(la)g(liste.)f(En)h(v)m(oici)g(quelques-uns,)f(a)m(v)m
(ec)j(le)e(comp)s(ortemen)m(t)i(par)d(d)m(\023)-43 b(efaut)32
b(asso)s(ci)m(\023)-43 b(e)31 b(:)p Black Black 138 2455
3483 4 v 138 2568 4 113 v 191 2534 a(Nom)p 575 2568 V
248 w(Signi\014cation)p 2475 2568 V 1408 w(Comp)s(ortemen)m(t)p
3617 2568 V 138 2571 3483 4 v 138 2684 4 113 v 191 2650
a Fu(sighup)p 575 2684 V 149 w Fw(Hang-up)f(\(\014n)g(de)g(connexion\))
p 2475 2684 V 809 w(T)-8 b(erminaison)p 3617 2684 V 138
2797 V 191 2763 a Fu(sigint)p 575 2797 V 149 w Fw(In)m(terruption)29
b(\()p Fu(ctrl-C)p Fw(\))p 2475 2797 V 1026 w(T)-8 b(erminaison)p
3617 2797 V 138 2910 V 191 2876 a Fu(sigquit)p 575 2910
V 101 w Fw(In)m(terruption)29 b(forte)i(\()p Fu(ctrl-\\)p
Fw(\))p 2475 2910 V 811 w(T)-8 b(erminaison)29 b(+)h(core)h(dump)p
3617 2910 V 138 3023 V 191 2989 a Fu(sigfpe)p 575 3023
V 149 w Fw(Erreur)e(arithm)m(\023)-43 b(etique)30 b(\(division)e(par)i
(z)m(\023)-43 b(ero\))p 2475 3023 V 343 w(T)-8 b(erminaison)29
b(+)h(core)h(dump)p 3617 3023 V 138 3136 V 191 3102 a
Fu(sigkill)p 575 3136 V 101 w Fw(In)m(terruption)e(tr)m(\022)-43
b(es)31 b(forte)g(\(ne)g(p)s(eut)c(^)-43 b(etre)32 b(ignor)m(\023)-43
b(ee\))p 2475 3136 V 126 w(T)-8 b(erminaison)p 3617 3136
V 138 3249 V 191 3215 a Fu(sigsegv)p 575 3249 V 101 w
Fw(Violation)30 b(des)g(protections)g(m)m(\023)-43 b(emoire)p
2475 3249 V 538 w(T)-8 b(erminaison)29 b(+)h(core)h(dump)p
3617 3249 V 138 3369 4 120 v 191 3335 a Fu(sigpipe)p
575 3369 V 636 3312 a Fw(\023)628 3335 y(Ecriture)f(sur)f(un)g(tuy)m
(au)i(sans)f(lecteurs)p 2475 3369 V 501 w(T)-8 b(erminaison)p
3617 3369 V 138 3481 4 113 v 191 3448 a Fu(sigalrm)p
575 3481 V 101 w Fw(In)m(terruption)29 b(d'horloge)p
2475 3481 V 1020 w(Ignor)m(\023)-43 b(e)p 3617 3481 V
138 3594 V 191 3561 a Fu(sigtstp)p 575 3594 V 101 w Fw(Arr)m(^)g(et)32
b(temp)s(oraire)d(d'un)g(pro)s(cessus)h(\()p Fu(ctrl-Z)p
Fw(\))p 2475 3594 V 223 w(Susp)s(ension)p 3617 3594 V
138 3707 V 191 3673 a Fu(sigcont)p 575 3707 V 101 w Fw(Red)m(\023)-43
b(emarrage)33 b(d'un)c(pro)s(cessus)g(arr)m(^)-43 b(et)m(\023)g(e)p
2475 3707 V 507 w(Ignor)m(\023)g(e)p 3617 3707 V 138
3820 V 191 3786 a Fu(sigchld)p 575 3820 V 101 w Fw(Un)30
b(des)g(pro)s(cessus)g(\014ls)f(est)h(mort)h(ou)f(a)e(\023)-43
b(et)m(\023)g(e)33 b(arr)m(^)-43 b(et)m(\023)g(e)p 2475
3820 V 106 w(Ignor)m(\023)g(e)p 3617 3820 V 138 3824
3483 4 v 70 4013 a(Les)31 b(signaux)e(re\030)-40 b(cus)30
b(par)g(un)f(programme)i(pro)m(viennen)m(t)e(de)h(plusieurs)e(sources)i
(p)s(ossibles)e(:)p Black 70 4126 a({)p Black 46 w(L'utilisateur,)f(au)
h(cla)m(vier.)h(P)m(ar)g(exemple,)f(le)g Fn(driver)h
Fw(de)g(terminal)e(en)m(v)m(oie)i(le)f(signal)f Fu(sigint)g
Fw(\022)-45 b(a)29 b(tous)g(les)161 4239 y(pro)s(cessus)g(lanc)m(\023)
-43 b(es)31 b(depuis)d(ce)i(terminal)f(\(qui)f(n'on)i(pas)d(\023)-43
b(et)m(\023)g(e)33 b(mis)28 b(en)i(arri)m(\022)-43 b(ere)30
b(plan\))f(quand)g(l'utilisateur)161 4352 y(tap)s(e)f(le)f(caract)m
(\022)-43 b(ere)31 b(d'in)m(terruption)25 b Fu(ctrl-C)p
Fw(.)i(De)h(m)m(^)-43 b(eme,)30 b(il)c(en)m(v)m(oie)i
Fu(sigquit)e Fw(quand)h(l'utilisateur)e(tap)s(e)161 4465
y Fu(ctrl-\\)449 4432 y Fz(1)487 4465 y Fw(.)30 b(Et)g(il)f(en)m(v)m
(oie)i Fu(sighup)d Fw(lorsque)h(la)h(connexion)f(a)m(v)m(ec)j(le)e
(terminal)e(est)j(ferm)m(\023)-43 b(ee,)31 b(ou)f(bien)f(parce)161
4578 y(que)i(l'utilisateur)e(s'est)j(d)m(\023)-43 b(econnect)m(\023)g
(e,)35 b(ou)c(bien,)f(dans)g(le)h(cas)h(d'une)f(connexion)f(\022)-45
b(a)32 b(tra)m(v)m(ers)g(un)e(mo)s(dem,)161 4691 y(parce)h(que)f(la)g
(liaison)e(t)m(\023)-43 b(el)m(\023)g(ephonique)31 b(a)d(\023)-43
b(et)m(\023)g(e)33 b(coup)m(\023)-43 b(ee.)p Black 70
4804 a({)p Black 46 w(L'utilisateur,)21 b(par)h(la)g(commande)h
Fu(kill)p Fw(.)f(Cette)i(commande)f(p)s(ermet)f(d'en)m(v)m(o)m(y)m(er)j
(un)c(signal)h(quelconque)161 4917 y(\022)-45 b(a)34
b(un)e(pro)s(cessus)g(quelconque.)h(P)m(ar)h(exemple,)f
Fu(kill)47 b(-KILL)f(194)33 b Fw(en)m(v)m(oie)h(le)f(signal)f
Fu(sigkill)f Fw(au)i(pro-)161 5030 y(cessus)d(194,)i(ce)f(qui)e(a)i(p)s
(our)e(e\013et)j(de)e(terminer)f(\022)-45 b(a)31 b(coup)f(s)s(^)-48
b(ur)29 b(ce)i(pro)s(cessus.)p Black 70 5143 a({)p Black
46 w(Le)25 b(syst)m(\022)-43 b(eme,)26 b(p)s(our)c(des)i(pro)s(cessus)f
(qui)g(se)i(comp)s(orten)m(t)g(mal.)f(P)m(ar)g(exemple,)g(un)g(pro)s
(cessus)f(qui)g(e\013ectue)161 5255 y(une)30 b(division)d(par)j(z)m
(\023)-43 b(ero)32 b(re\030)-40 b(coit)31 b(un)e(signal)g
Fu(sigfpe)p Fw(.)p Black -71 5352 1560 4 v 33 5406 a
Fl(1)67 5438 y Fk(Ces)c(caract)n(\022)-36 b(eres)25 b(son)n(t)e(c)n
(hoisis)i(par)e(d)n(\023)-36 b(efaut,)24 b(mais)g(il)g(est)g(p)r
(ossible)g(de)f(les)i(c)n(hanger)e(en)h(mo)r(di\014an)n(t)e(les)i
(param)n(\022)-36 b(etre)23 b(du)g(terminal,)-71 5529
y(v)n(oir)j(section)g(2.10.4.)p Black Black Black eop
%%Page: 59 59
59 58 bop Black -71 24 a Fs(4.8.)62 b(PR)m(ODUIRE)31
b(DES)f(SIGNA)m(UX)2444 b Fw(59)p Black Black 70 280
a({)p Black 46 w(Le)31 b(syst)m(\022)-43 b(eme,)32 b(p)s(our)e(pr)m
(\023)-43 b(ev)m(enir)30 b(un)f(pro)s(cessus)h(que)h(son)f(en)m
(vironnemen)m(t)g(a)h(c)m(hang)m(\023)-43 b(e.)33 b(P)m(ar)e(exemple,)g
(lors-)161 393 y(qu'un)e(pro)s(cessus)h(meurt,)g(son)g(p)m(\022)-43
b(ere)31 b(re\030)-40 b(coit)31 b(le)f(signal)f Fu(sigchld)p
Fw(.)-71 709 y Fq(4.8)135 b(Pro)t(duire)45 b(des)g(signaux)70
924 y Fw(L'app)s(el)29 b(syst)m(\022)-43 b(eme)32 b Fu(kill)d
Fw(p)s(ermet)h(d'en)m(v)m(o)m(y)m(er)j(un)c(signal)g(\022)-45
b(a)31 b(un)e(pro)s(cessus.)311 1056 y Fu(kill)47 b(:)g(int)g(->)g(int)
g(->)g(unit)-71 1195 y Fw(Le)25 b(param)m(\022)-43 b(etre)27
b(en)m(tier)e(est)h(le)f(n)m(um)m(\023)-43 b(ero)26 b(du)e(pro)s
(cessus)g(auquel)g(le)h(signal)f(est)i(destin)m(\023)-43
b(e.)25 b(Une)h(erreur)e(se)h(pro)s(duit)e(si)-71 1308
y(on)g(en)m(v)m(oie)g(un)e(signal)g(\022)-45 b(a)23 b(un)f(pro)s
(cessus)f(n'appartenan)m(t)i(pas)f(au)g(m)m(^)-43 b(eme)24
b(utilisateur)c(que)j(le)f(pro)s(cessus)f(en)m(v)m(o)m(y)m(eur.)-71
1421 y(Un)30 b(pro)s(cessus)f(p)s(eut)h(s'en)m(v)m(o)m(y)m(er)j(des)d
(signaux)f(\022)-45 b(a)31 b(lui-m)m(^)-43 b(eme.)70
1540 y(L'app)s(el)29 b(syst)m(\022)-43 b(eme)32 b Fu(alarm)d
Fw(p)s(ermet)h(de)g(pro)s(duire)e(des)i(in)m(terruptions)e(d'horloge.)
311 1672 y Fu(alarm)46 b(:)i(int)f(->)g(int)-71 1811
y Fw(L'app)s(el)41 b Fu(alarm)n Fw(\()p Ft(n)p Fw(\))h(retourne)g(imm)m
(\023)-43 b(ediatemen)m(t,)43 b(mais)e(fait)g(en)m(v)m(o)m(y)m(er)j(au)
e(pro)s(cessus)f(le)g(signal)g Fu(sigalrm)f Ft(n)-71
1924 y Fw(secondes)31 b(plus)d(tard.)-71 2246 y Fq(4.9)135
b(Changer)46 b(l'e\013et)h(d'un)d(signal)70 2461 y Fw(La)31
b(fonction)f Fu(signal)f Fw(p)s(ermet)g(de)i(c)m(hanger)g(le)f(comp)s
(ortemen)m(t)h(du)e(pro)s(cessus)h(lorsqu'il)d(re\030)-40
b(coit)31 b(un)e(signal)-71 2574 y(d'un)g(certain)h(t)m(yp)s(e.)311
2706 y Fu(signal)46 b(:)h(signal)g(->)g(signal_behavior)c(->)48
b(signal_behavior)-71 2845 y Fw(Le)21 b(deuxi)m(\022)-43
b(eme)20 b(argumen)m(t)h(indique)c(le)j(comp)s(ortemen)m(t)h(d)m(\023)
-43 b(esir)m(\023)g(e.)22 b(Si)d(le)h(deuxi)m(\022)-43
b(eme)20 b(argumen)m(t)h(est)g Fu(Signal_ignore)p Fw(,)-71
2958 y(le)29 b(signal)e(est)j(ignor)m(\023)-43 b(e.)29
b(Si)f(le)g(deuxi)m(\022)-43 b(eme)29 b(argumen)m(t)h(est)f
Fu(Signal_default)p Fw(,)c(le)k(comp)s(ortemen)m(t)g(par)g(d)m(\023)-43
b(efaut)30 b(est)-71 3071 y(restaur)m(\023)-43 b(e.)22
b(Si)d(le)h(deuxi)m(\022)-43 b(eme)20 b(argumen)m(t)h(est)g
Fu(Signal_handle)g Ft(f)10 b Fw(,)20 b(o)s(\022)-48 b(u)20
b Ft(f)30 b Fw(est)20 b(une)g(fonction)g(de)g(t)m(yp)s(e)h
Fu(unit)46 b(->)h(unit)p Fw(,)-71 3184 y(la)30 b(fonction)g
Ft(f)40 b Fw(sera)30 b(app)s(el)m(\023)-43 b(ee)31 b(\022)-45
b(a)31 b(c)m(haque)g(fois)f(qu'on)g(re\030)-40 b(coit)30
b(le)g(signal.)70 3303 y(L'app)s(el)42 b Fu(fork)h Fw(pr)m(\023)-43
b(eserv)m(e)45 b(les)d(comp)s(ortemen)m(ts)j(des)e(signaux)f(:)i(les)f
(comp)s(ortemen)m(ts)h(initiaux)d(p)s(our)h(le)-71 3416
y(\014ls)35 b(son)m(t)i(ceux)f(p)s(our)f(le)h(p)m(\022)-43
b(ere)37 b(au)f(momen)m(t)h(du)e Fu(fork)p Fw(.)g(Les)i(app)s(els)d
Fu(exec)h Fw(remetten)m(t)j(les)e(comp)s(ortemen)m(ts)h(\022)-45
b(a)-71 3529 y Fu(Signal_default)p Fw(,)27 b(\022)-45
b(a)31 b(une)e(exception)i(pr)m(\022)-43 b(es)31 b(:)f(les)g(signaux)f
(ignor)m(\023)-43 b(es)31 b(a)m(v)-5 b(an)m(t)32 b(le)e
Fu(exec)f Fw(resten)m(t)i(ignor)m(\023)-43 b(es)31 b(apr)m(\022)-43
b(es.)p Black -71 3778 a Fv(Exemple:)p Black 45 w Fw(On)39
b(v)m(eut)i(parfois)e(se)h(d)m(\023)-43 b(econnecter)42
b(en)f(laissan)m(t)e(tourner)h(des)g(t^)-45 b(ac)m(hes)41
b(de)f(fond)g(\(gros)h(calculs,)-71 3891 y(programmes)26
b(\\espions",)g(etc\).)i(P)m(our)e(ce)g(faire,)g(il)e(faut)g(\023)-43
b(eviter)26 b(que)g(les)g(pro)s(cessus)f(qu'on)g(v)m(eut)i(laisser)e
(tourner)-71 4004 y(ne)f(terminen)m(t)g(lorsqu'ils)e(re\030)-40
b(coiv)m(en)m(t)26 b(le)e(signal)f Fu(SIGHUP)g Fw(en)m(v)m(o)m(y)m
(\023)-43 b(e)27 b(au)d(momem)m(t)i(o)s(\022)-48 b(u)24
b(l'on)g(se)g(d)m(\023)-43 b(econnecte.)27 b(Il)d(existe)-71
4117 y(une)30 b(commande)g Fu(nohup)f Fw(qui)g(fait)i(pr)m(\023)-43
b(ecis)m(\023)g(emen)m(t)32 b(cela)f(:)1370 4340 y Fu(nohup)e
Ft(cmd)h(ar)s(g)1970 4354 y Fz(1)2055 4340 y Ft(:)15
b(:)g(:)47 b(ar)s(g)2342 4354 y Fe(n)-71 4563 y Fw(ex)m(\023)-43
b(ecute)45 b(la)e(commande)g Ft(cmd)g(ar)s(g)1192 4577
y Fz(1)1289 4563 y Ft(:)15 b(:)g(:)59 b(ar)s(g)1588 4577
y Fe(n)1678 4563 y Fw(en)43 b(la)f(rendan)m(t)h(insensible)c(au)k
(signal)e Fu(SIGHUP)p Fw(.)h(\(Certains)-71 4676 y(shells)27
b(fon)m(t)j(automatiquemen)m(t)g Fu(nohup)e Fw(sur)g(tous)i(les)f(pro)s
(cessus)f(lanc)m(\023)-43 b(es)30 b(en)f(t^)-45 b(ac)m(he)31
b(de)e(fond.\))g(V)-8 b(oici)29 b(commen)m(t)-71 4788
y(l'impl)m(\023)-43 b(emen)m(ter)30 b(en)g(trois)g(lignes)f(:)193
4921 y Fz(1)83 b Fv(op)s(en)48 b Fu(Sys)o(;;)193 5034
y Fz(2)83 b Fu(signal)46 b(sighup)g(Signal_ignore)m(;;)193
5147 y Fz(3)83 b Fu(Unix)o(.execvp)46 b(argv)o(.\(1\))g(\(Array)o(.)o
(sub)h(argv)g(1)g(\(Array)o(.)o(length)f(argv)h(-)h(1\)\);;)-71
5285 y Fw(L'app)s(el)29 b Fu(execvp)g Fw(pr)m(\023)-43
b(eserv)m(e)31 b(le)f(fait)g(que)h Fu(sighup)d Fw(est)j(ignor)m(\023)
-43 b(e.)70 5529 y(V)-8 b(oici)31 b(main)m(tenan)m(t)f(quelques)g
(exemples)f(d'in)m(terception)h(de)g(signaux.)p Black
Black eop
%%Page: 60 60
60 59 bop Black -71 24 a Fw(60)765 b Fs(CHAPITRE)29 b(4.)61
b(COMMUNICA)-8 b(TIONS)30 b(INTER-PR)m(OCESSUS)e(CLASSIQUES)p
Black Black -71 280 a Fv(Exemple:)p Black 45 w Fw(P)m(our)i(sortir)g
(en)g(douceur)g(quand)g(le)g(programme)h(s'est)g(mal)f(comp)s(ort)m
(\023)-43 b(e.)32 b(P)m(ar)f(exemple,)g(un)e(pro-)-71
393 y(gramme)i(comme)f Fu(tar)f Fw(p)s(eut)h(essa)m(y)m(er)h(de)f(sauv)
m(er)g(une)g(information)e(imp)s(ortan)m(te)i(dans)f(le)g(\014c)m(hier)
h(ou)f(d)m(\023)-43 b(etruire)-71 506 y(le)30 b(\014c)m(hier)g
(corrompu)f(a)m(v)-5 b(an)m(t)32 b(de)e(s'arr)m(^)-43
b(eter.)32 b(Il)e(su\016t)g(d'ex)m(\023)-43 b(ecuter,)32
b(au)e(d)m(\023)-43 b(ebut)31 b(du)e(programme)h(:)311
639 y Fu(signal)46 b(sigquit)g(\(Signal_handle)e(quit)o(\);)311
752 y(signal)i(sigsegv)g(\(Signal_handle)e(quit)o(\);)311
864 y(signal)i(sigfpe)94 b(\(Signal_handle)44 b(quit)o(\);)-71
997 y Fw(o)s(\022)-48 b(u)30 b(la)g(fonction)g Fu(quit)g
Fw(est)h(de)f(la)g(forme)g(:)311 1129 y Fv(let)53 b Fu(quit)o(\(\))47
b(=)406 1242 y Fo(\(*)h(Essayer)d(de)j(sauver)e(l'information)e
(importante)h(dans)h(le)i(fichier)d(*\))p Fu(;)406 1355
y(exit)i(100;;)p Black -71 1556 a Fv(Exemple:)p Black
45 w Fw(P)m(our)20 b(r)m(\023)-43 b(ecup)m(\023)g(erer)21
b(les)f(in)m(terruptions)e(de)i(l'utilisateur.)e(Certains)h(programmes)
h(in)m(teractifs)g(p)s(euv)m(en)m(t)-71 1669 y(par)j(exemple)f(v)m
(ouloir)g(rev)m(enir)h(dans)f(la)h(b)s(oucle)f(de)h(commande)g(lorsque)
f(l'utilisateur)e(frapp)s(e)i Fu(ctrl-C)p Fw(.)g(Il)g(su\016t)-71
1782 y(de)30 b(d)m(\023)-43 b(eclenc)m(her)32 b(une)d(exception)i
(lorsqu'on)e(re\030)-40 b(coit)31 b(le)f(signal)f Fu(SIGINT)p
Fw(.)311 1914 y Fv(exception)48 b Fu(Break)o(;;)311 2027
y Fv(let)53 b Fu(break)46 b(\(\))h(=)h Fv(raise)g Fu(Break)n(;;)311
2140 y(...)311 2253 y Fv(let)53 b Fu(main_loop)m(\(\))48
b(=)406 2366 y(signal)e(sigint)h(\()o(Signal_handle)d(break)o(\);)406
2479 y Fv(while)k Fu(true)e Fv(do)502 2592 y(try)597
2704 y Fo(\(*)h(lire)g(et)g(ex\023)-48 b(ecuter)46 b(une)h(commande)e
(*\))502 2817 y Fv(with)i Fu(Break)f(->)597 2930 y Fo(\(*)h(afficher)f
("Interrompu)m(")h(*\))406 3043 y Fv(done)q Fu(;;)p Black
-71 3244 a Fv(Exemple:)p Black 45 w Fw(P)m(our)31 b(ex)m(\023)-43
b(ecuter)34 b(des)d(t^)-45 b(ac)m(hes)33 b(p)m(\023)-43
b(erio)s(diques)30 b(\(animations,)h(etc\))i(en)m(trelac)m(\023)-43
b(ees)34 b(a)m(v)m(ec)g(l'ex)m(\023)-43 b(ecution)32
b(du)-71 3357 y(programme)d(principal.)e(P)m(ar)i(exemple,)h(v)m(oici)f
(commen)m(t)h(faire)f(\\bip")f(toutes)j(les)d(30)j(secondes,)f(quel)e
(que)h(soit)-71 3470 y(l'activit)m(\023)-43 b(e)31 b(du)f(programme)g
(\(calculs,)g(en)m(tr)m(\023)-43 b(ees-sorties\).)311
3602 y Fv(let)53 b Fu(beep)46 b(\(\))i(=)f(output_char)e(stdout)h
(`\\007`;)g(flush)g(stdout)n(;)i(alarm)e(30;)h(\(\);;)311
3715 y(...)311 3828 y(signal)f(sigalrm)g(\(Signal_handle)e(beep)o(\);)j
(alarm)f(30;;)-71 4129 y Fq(4.10)136 b(Masquer)45 b(des)g(signaux)70
4332 y Fw(Les)37 b(signaux)f(p)s(euv)m(en)m(t)e(^)-43
b(etre)38 b(blo)s(qu)m(\023)-43 b(es.)37 b(Les)f(signaux)g(blo)s(qu)m
(\023)-43 b(es)36 b(ne)h(son)m(t)g(pas)g(ignor)m(\023)-43
b(es,)38 b(mais)e(simplemen)m(t)-71 4445 y(mis)26 b(en)i(atten)m(te,)i
(en)d(g)m(\023)-43 b(en)m(\023)g(eral)29 b(p)s(our)24
b(^)-43 b(etre)28 b(d)m(\023)-43 b(elivr)m(\023)g(es)28
b(ult)m(\023)-43 b(erieuremen)m(t.)27 b(La)h(fonction)f
Fu(sigprocmask)e Fw(p)s(ermette)i(de)-71 4558 y(c)m(hanger)k(le)f
(masque)g(des)h(signaux)e(blo)s(qu)m(\023)-43 b(es)30
b(:)311 4690 y Fu(sigprocmask)45 b(:)i(sigprocmask_command)c(->)k(int)g
(list)f(->)i(int)e(list)-71 4823 y(sigprocmask)29 b Ft(cmd)k(sig)s(s)f
Fw(c)m(hange)h(l'ensem)m(ble)e(des)h(signaux)f(blo)s(qu)m(\023)-43
b(es)31 b(et)i(retourne)f(la)g(liste)f(des)g(signaux)g(qui)-74
4936 y(\023)-43 b(etaien)m(t)27 b(blo)s(qu)m(\023)-43
b(es)24 b(juste)h(a)m(v)-5 b(an)m(t)26 b(l'ex)m(\023)-43
b(ecution)25 b(de)g(la)f(commande,)h(ce)h(qui)d(p)s(ermettra)i(de)f
(remettre)i(le)e(masque)g(des)-71 5049 y(signaux)33 b(blo)s(qu)m(\023)
-43 b(es)33 b(dans)h(son)d(\023)-43 b(etat)36 b(initial)31
b(ult)m(\023)-43 b(erieuremen)m(t.)34 b(L'argum)m(umen)m(t)g
Ft(sig)s(s)g Fw(est)h(une)e(liste)g(de)h(signaux)-71
5161 y(don)m(t)d(le)f(sens)g(d)m(\023)-43 b(ep)s(end)29
b(de)h(la)g(commande)h Ft(cmd)g Fw(:)p Black Black 508
5315 a Fu(SIG_BLOCK)192 b Fw(les)30 b(signaux)f Ft(sig)s(s)i
Fw(son)m(t)g(a)5 b(jout)m(\023)-43 b(es)32 b(aux)e(signaux)g(blo)s(qu)m
(\023)-43 b(es.)508 5428 y Fu(SIG_UNBLOCK)96 b Fw(les)30
b(signaux)f Ft(sig)s(s)i Fw(son)m(t)g(retir)m(\023)-43
b(es)31 b(des)f(signaux)f(d)m(\023)-43 b(eblo)s(qu)m(\023)g(es.)508
5541 y Fu(SIG_SETMASK)96 b Fw(les)30 b(signaux)f Ft(sig)s(s)i
Fw(son)m(t)g(exactemen)m(t)i(les)d(signaux)f(blo)s(qu)m(\023)-43
b(es.)p Black Black eop
%%Page: 61 61
61 60 bop Black -71 24 a Fs(4.10.)63 b(MASQUER)30 b(DES)g(SIGNA)m(UX)
2425 b Fw(61)p Black -71 280 a(Un)30 b(usage)h(t)m(ypique)f(de)g
Fu(sigprocmask)d Fw(est)k(de)g(masquer)e(temp)s(orairemen)m(t)h
(certains)h(signaux.)311 413 y Fv(let)53 b Fu(old_mask)45
b(=)j(sigprocmask)d(cmd)h(sigs)h Fv(in)311 526 y Fo(\(*)g(do)g
(something)f(*\))311 639 y Fv(let)53 b Fu(_)47 b(=)h(sigprocmask)c
(SIG_SETMASK)h(old_mark)-71 897 y Fg(Signaux)38 b(et)f(app)s(els-syst)n
(\022)-54 b(eme)70 1069 y Fw(A)m(tten)m(tion)17 b(!)33
b(un)f(signal)f(non)i(ignor)m(\023)-43 b(e)33 b(p)s(eut)f(in)m
(terrompre)g(certains)h(app)s(els)e(syst)m(\022)-43 b(eme.)35
b(En)d(g)m(\023)-43 b(en)m(\023)g(eral,)35 b(les)e(ap-)-71
1182 y(p)s(els)39 b(syst)m(\022)-43 b(emes)42 b(in)m(terruptibles)37
b(son)m(t)k(seulemen)m(t)g(des)f(app)s(els)f(syst)m(\022)-43
b(emes)42 b(dits)d(len)m(ts,)i(qui)e(p)s(euv)m(en)m(t)i(a)f(priori)-71
1295 y(prendre)f(un)g(temps)i(arbitrairemen)m(t)e(long)h(:)g(par)g
(exemple,)h(lectures/)m(\023)-43 b(ecritures)41 b(au)f(terminal)f
(\(par)h(con)m(tre)-71 1408 y(l')m(\023)-43 b(ecriture/lecture)34
b(dans)e(un)g(\014c)m(hier)h(ne)g(son)m(t)h(pas)f(in)m(terruptibles\),)
d Fu(select)i Fw(\(v)m(oir)h(plus)e(loin\),)i Fu(system)p
Fw(,)e Fn(etc.)-71 1520 y Fw(En)24 b(cas)h(d'in)m(terruption,)e(l'app)s
(el)f(syst)m(\022)-43 b(eme)26 b(n'est)f(pas)g(ex)m(\023)-43
b(ecut)m(\023)g(e)28 b(et)d(d)m(\023)-43 b(eclenc)m(he)26
b(l'exception)e Fu(EINTR)p Fw(.)g(Les)g(signaux)-71 1633
y(ignor)m(\023)-43 b(es)34 b(ne)g(son)m(t)g(jamais)f(d)m(\023)-43
b(elivr)m(\023)g(es.)34 b(Un)f(signal)f(n'est)i(pas)f(d)m(\023)-43
b(elivr)m(\023)g(e)34 b(tan)m(t)h(qu'il)c(est)k(masqu)m(\023)-43
b(e.)34 b(Dans)g(les)f(autres)-71 1746 y(cas,)e(il)e(faut)i(se)f(pr)m
(\023)-43 b(em)m(unir)29 b(con)m(tre)j(une)d(in)m(terruption)f(p)s
(ossible.)70 1859 y(P)m(ar)j(exemple)f(en)h(pr)m(\023)-43
b(esence)31 b(de)f(signaux)g(non)g(fatals,)g(p)s(our)g(attendre)h
(vraiemen)m(t)f(la)g(\014n)g(d'un)f(\014ls,)g(il)g(faut)-71
1972 y(r)m(\023)-43 b(ep)m(\023)g(eter)33 b(l'app)s(el)28
b Fu(waitpid)h Fw(de)h(la)g(fa\030)-40 b(con)31 b(suiv)-5
b(an)m(te)30 b(:)193 2105 y Fz(1)83 b Fv(op)s(en)48 b
Fu(Sys)o(;;)193 2218 y Fz(2)83 b Fv(op)s(en)48 b Fu(Unix)o(;;)193
2330 y Fz(3)83 b Fv(let)53 b(rec)48 b Fu(really_waitpid)c(flags)i(pid)h
(=)193 2443 y Fz(4)178 b Fv(try)48 b Fu(waitpid)e(flags)g(pid)193
2556 y Fz(5)178 b Fv(with)47 b Fu(Unix_error)e(\(EINTR)o(,)i(_,)g(_\))h
(->)f(really_waitpid)d(flags)i(pid)p Black -71 2760 a
Fv(Exemple:)p Black 45 w Fw(La)30 b(commande)h Fu(system)d
Fw(du)i(mo)s(dule)e Fu(Unix)i Fw(est)h(simplemen)m(t)d(d)m(\023)-43
b(e\014nie)30 b(par)311 2893 y Fv(let)53 b Fu(system)46
b(cmd)h(=)406 3006 y Fv(matc)m(h)g Fu(fork)o(\(\))g Fv(with)502
3119 y Fu(0)g(->)597 3232 y Fv(b)s(egin)693 3345 y(try)g
Fu(execv)g Fo(")o(/bin)o(/sh")g Fu([|)g Fo("/bin)o(/sh)o(")p
Fu(;)g Fo("-c)o(")p Fu(;)h(cmd)e(|];)h(assert)f(false)693
3457 y Fv(with)h Fu(_)g(->)g(exit)g(127)597 3570 y Fv(end)406
3683 y Fu(|)h(id)f(->)g(snd)o(\(waitpid)f([])h(id\);;)-71
3816 y Fw(La)33 b(v)m(ersion)f(usuelle)f(demande)h(que)g(le)g(p)m(\022)
-43 b(ere)33 b(ignore)g(les)f(signaux)f Fu(sigint)g Fw(et)i
Fu(sigquit)e Fw(et)i(masque)f(le)g(signal)-71 3929 y
Fu(sigchld)d Fw(p)s(endan)m(t)g(l'ex)m(\023)-43 b(ecution)31
b(de)f(la)g(commande.)h(Cela)f(p)s(eut)d(^)-43 b(etre)32
b(impl)m(\023)-43 b(emen)m(t)m(\023)g(e)31 b(par)f(le)g(programme)g(:)
193 4061 y Fz(6)83 b Fv(let)53 b Fu(system)46 b(arg)h(=)193
4174 y Fz(7)178 b Fv(let)48 b Fu(old_mask)d(=)j(sigprocmask)c
(SIG_BLOCK)i([)h(sigchld)f(])h Fv(in)193 4287 y Fz(8)178
b Fv(let)48 b Fu(old_int)e(=)h(signal)f(sigint)g(Signal_ignore)e
Fv(in)193 4400 y Fz(9)178 b Fv(let)48 b Fu(old_quit)d(=)j(signal)e
(sigquit)g(Signal_ignore)e Fv(in)157 4513 y Fz(10)179
b Fv(let)48 b Fu(reset)n(\(\))g(=)157 4626 y Fz(11)275
b Fu(ignore)46 b(\(signal)g(sigint)g(old_int)n(\);)157
4739 y Fz(12)275 b Fu(ignore)46 b(\(signal)g(sigquit)g(old_quit)m(\);)
157 4852 y Fz(13)275 b Fu(ignore)46 b(\(sigprocmask)e(SIG_SETMASK)h
(old_mask)n(\))i Fv(in)157 4964 y Fz(14)179 b Fv(let)48
b Fu(system_call)c(\(\))k(=)157 5077 y Fz(15)275 b Fv(matc)m(h)47
b Fu(fork)o(\(\))g Fv(with)157 5190 y Fz(16)275 b Fu(|)47
b(0)h(->)157 5303 y Fz(17)466 b Fu(reset)n(\(\);)157
5416 y Fz(18)g Fv(b)s(egin)48 b(try)157 5529 y Fz(19)561
b Fu(Unix)o(.execv)46 b Fo("/bin)o(/sh)o(")h Fu([|)h
Fo(")o(/bin)o(/sh)o(")p Fu(;)g Fo(")o(-c")p Fu(;)f(arg)g(|];)p
Black Black eop
%%Page: 62 62
62 61 bop Black -71 24 a Fw(62)765 b Fs(CHAPITRE)29 b(4.)61
b(COMMUNICA)-8 b(TIONS)30 b(INTER-PR)m(OCESSUS)e(CLASSIQUES)p
Black 157 280 a Fz(20)561 b Fu(assert)46 b(false)o(;)157
393 y Fz(21)466 b Fv(with)47 b Fu(_)g(->)g(exit)g(127)157
506 y Fz(22)466 b Fv(end)157 619 y Fz(23)275 b Fu(|)47
b(k)h(->)157 732 y Fz(24)466 b Fu(snd)47 b(\()o(really_waitpid)d([])j
(k\))h Fv(in)157 845 y Fz(25)179 b Fu(try_finalize)45
b(system_call)m(\(\))i(reset)o(\(\);;)-71 977 y Fw(Noter)21
b(que)f(le)g(c)m(hangemen)m(t)i(des)e(signaux)f(doit)f(^)-43
b(etre)21 b(e\013ectu)m(\023)-43 b(e)23 b(a)m(v)-5 b(an)m(t)22
b(l'app)s(el)c(\022)-45 b(a)21 b Fu(fork)p Fw(.)e(En)h(e\013et,)h(imm)m
(\023)-43 b(ediatemen)m(t)-71 1090 y(apr)m(\022)g(es)25
b(cet)h(app)s(el,)d(seulemen)m(t)i(l'un)d(des)j(deux)e(pro)s(cessus)h
(\014ls)f(ou)h(p)m(\022)-43 b(ere)25 b(a)g(la)f(main)g(\(en)g(g)m(\023)
-43 b(en)m(\023)g(eral)27 b(le)d(\014ls\).)g(P)m(endan)m(t)-71
1203 y(le)i(laps)g(de)h(temps)f(o)s(\022)-48 b(u)27 b(le)f(\014ls)g
(prend)f(la)h(main,)g(le)g(p)m(\022)-43 b(ere)28 b(p)s(ourrait)d(recev)
m(oir)i(des)f(signaux,)g(notemmen)m(t)i Fu(sigchld)-71
1316 y Fw(si)e(le)h(\014ls)e(termine)h(imm)m(\023)-43
b(ediatemen)m(t.)28 b(En)e(cons)m(\023)-43 b(equence,)29
b(ils)c(faut)i(remettre)h(les)e(signaux)g(\022)-45 b(a)27
b(leur)e(v)-5 b(aleur)26 b(initiale)-71 1429 y(dans)35
b(le)g(\014ls)g(a)m(v)-5 b(an)m(t)37 b(d')m(\023)-43
b(ex)m(\023)g(ecuter)39 b(la)c(commande)h(\(ligne)f(16\).)i(En)e
(e\013et,)i(les)e(signaux)g(ignor)m(\023)-43 b(es)36
b(son)m(t)h(pr)m(\023)-43 b(eserv)m(\023)g(es)-71 1542
y(par)26 b Fu(fork)e Fw(et)j Fu(exec)e Fw(et)i(le)e(comp)s(ortemem)m(t)
i(des)f(signaux)f(est)h(pr)m(\023)-43 b(eserv)m(\023)g(e)28
b(par)d Fu(fork)p Fw(.)g(La)i(commande)f Fu(exec)f Fw(remet)-71
1655 y(normalemen)m(t)30 b(les)g(signaux)f(\022)-45 b(a)31
b(leur)e(v)-5 b(aleur)29 b(par)h(d)m(\023)-43 b(efaut,)31
b(sauf)f(justemen)m(t)h(si)e(le)h(comp)s(ortemen)m(t)h(est)g(d'ignorer)
-71 1768 y(le)f(signal.)70 1881 y(En\014n,)i(le)i(p)m(\022)-43
b(ere)34 b(doit)f(remettre)f(\023)-43 b(egalemen)m(t)36
b(les)d(signaux)f(\022)-45 b(a)34 b(leur)f(v)-5 b(aleur)33
b(initiale,)e(imm)m(\023)-43 b(ediatemen)m(t)34 b(apr)m(\022)-43
b(es)-71 1994 y(l'app)s(el,)27 b(y)h(compris)f(en)h(cas)g(d'erreurs)d
(\023)-43 b(ev)m(en)m(tuelles,)29 b(d'o)s(\022)-48 b(u)28
b(l'utilisation)d(de)j(la)f(commande)i Fu(unwind_protect)p
Fw(.)-71 2280 y Fq(4.11)136 b(Probl)m(\022)-64 b(emes)46
b(a)l(v)l(ec)f(les)h(signaux)70 2483 y Fw(L'utilisation)25
b(des)h(signaux,)g(en)g(particulier)f(comme)i(m)m(\023)-43
b(ecanisme)28 b(de)e(comm)m(unication)g(async)m(hrone)h(in)m(ter-)-71
2596 y(pro)s(cessus,)j(se)g(heurte)g(\022)-45 b(a)31
b(un)e(certain)i(nom)m(bre)f(de)g(limitations)e(:)p Black
70 2709 a({)p Black 46 w(Les)j(signaux)e(transp)s(orten)m(t)h(p)s(eu)f
(d'information)g(:)h(un)g(t)m(yp)s(e)g(de)g(signal,)g(et)h(rien)e
(d'autre.)p Black 70 2822 a({)p Black 46 w(Les)36 b(signaux)f(son)m(t)i
(compl)m(\022)-43 b(etemen)m(t)38 b(async)m(hrones,)e(et)g(p)s(euv)m
(en)m(t)g(donc)g(se)g(pro)s(duire)e(n'imp)s(orte)g(quand)161
2935 y(au)g(cours)g(de)g(l'ex)m(\023)-43 b(ecution)34
b(du)f(programme.)i(En)e(cons)m(\023)-43 b(equence,)36
b(une)d(fonction)h(app)s(el)m(\023)-43 b(ee)34 b(sur)f(un)g(signal)161
3047 y(ne)c(doit)g(pas)h(en)f(g)m(\023)-43 b(en)m(\023)g(eral)31
b(mo)s(di\014er)d(les)g(structures)h(de)g(donn)m(\023)-43
b(ees)30 b(du)f(programme)g(principal,)e(parce)i(que)161
3160 y(le)36 b(programme)g(principal)d(p)s(eut)j(a)m(v)m(oir)e(\023)-43
b(et)m(\023)g(e)39 b(in)m(terrompu)c(juste)h(au)g(milieu)e(d'une)i(mo)s
(di\014cation)e(de)i(la)161 3273 y(structure.)p Black
Black eop
%%Page: 63 63
63 62 bop Black Black -71 907 a Fr(Chapitre)66 b(5)-71
1326 y FB(Comm)-6 b(unications)76 b(mo)6 b(dernes)78
b(:)f(les)g(prises)-71 1811 y Fq(5.1)135 b(Les)46 b(prises)70
2021 y Fw(Les)26 b(prises)f(\(traduction)h(libre)e(de)i
Fn(so)-5 b(ckets)p Fw(\))28 b(son)m(t)e(une)g(g)m(\023)-43
b(en)m(\023)g(eralisation)27 b(des)f(tuy)m(aux)h(p)s(ermettan)m(t,)g
(en)f(parti-)-71 2134 y(culier,)j(la)h(comm)m(unication)g(\022)-45
b(a)30 b(tra)m(v)m(ers)i(le)e(r)m(\023)-43 b(eseau)31
b(en)m(tre)g(pro)s(cessus)f(tournan)m(t)g(sur)f(des)h(mac)m(hines)g
(di\013)m(\023)-43 b(eren)m(tes.)-71 2247 y(Le)31 b(m)m(\023)-43
b(ecanisme)32 b(des)f(prises)e(a)g(\023)-43 b(et)m(\023)g(e)33
b(in)m(tro)s(duit)c(en)i(BSD)g(4.2,)h(et)g(se)f(retrouv)m(e)h(main)m
(tenan)m(t)f(sur)f(presque)g(toutes)-71 2360 y(les)g(mac)m(hines)g
(Unix)f(connect)m(\023)-43 b(ees)33 b(\022)-45 b(a)31
b(un)e(r)m(\023)-43 b(eseau)32 b(\(Ethernet)e(ou)h(autre\).)70
2477 y(La)c(comm)m(unication)f(par)g(tuy)m(aux)h(pr)m(\023)-43
b(esen)m(te)27 b(certaines)g(insu\016sances.)e(T)-8 b(out)27
b(d'ab)s(ord,)e(la)i(comm)m(unication)-71 2590 y(est)35
b(lo)s(cale)e(\022)-45 b(a)35 b(une)e(mac)m(hine)h(:)g(les)g(pro)s
(cessus)f(qui)f(comm)m(uniquen)m(t)i(doiv)m(en)m(t)g(tourner)f(sur)g
(la)h(m)m(^)-43 b(eme)35 b(mac)m(hine)-71 2702 y(\(cas)30
b(des)e(tuy)m(aux)g(nomm)m(\023)-43 b(es\),)30 b(v)m(oire)f(tourner)f
(sur)f(la)h(m)m(^)-43 b(eme)30 b(mac)m(hine)e(et)h(a)m(v)m(oir)g(le)f
(cr)m(\023)-43 b(eateur)30 b(du)e(tuy)m(au)g(comme)-71
2815 y(anc)m(^)-43 b(etre)43 b(comm)m(un)e(\(cas)i(des)e(tuy)m(aux)g
(normaux\).)g(D'autre)h(part,)g(les)e(tuy)m(aux)i(ne)f(son)m(t)h(pas)f
(bien)f(adapt)m(\023)-43 b(es)-71 2928 y(\022)e(a)39
b(un)f(mo)s(d)m(\022)-43 b(ele)39 b(particuli)m(\022)-43
b(eremen)m(t)39 b(utile)e(de)i(comm)m(unication,)g(le)f(mo)s(d)m(\022)
-43 b(ele)39 b(dit)f(par)h(connexions,)f(ou)h(mo)s(d)m(\022)-43
b(ele)-71 3041 y(clien)m(t-serv)m(eur.)45 b(Dans)g(ce)g(mo)s(d)m(\022)
-43 b(ele,)46 b(un)d(seul)h(programme)h(\(le)f(serv)m(eur\))h(acc)m
(\022)-43 b(ede)48 b(directemen)m(t)d(\022)-45 b(a)45
b(une)f(res-)-71 3154 y(source)e(partag)m(\023)-43 b(ee)18
b(;)41 b(les)g(autres)h(programmes)f(\(les)g(clien)m(ts\))h(acc)m(\022)
-43 b(eden)m(t)44 b(\022)-45 b(a)42 b(la)f(ressource)g(par)g(l'in)m
(term)m(\023)-43 b(ediaire)-71 3267 y(d'une)27 b(connexion)h(a)m(v)m
(ec)i(le)e(serv)m(eur)15 b(;)28 b(le)g(serv)m(eur)g(s)m(\023)-43
b(erialise)27 b(et)i(r)m(\023)-43 b(eglemen)m(te)30 b(les)e(acc)m(\022)
-43 b(es)31 b(\022)-45 b(a)28 b(la)g(ressource)g(partag)m(\023)-43
b(ee.)-71 3380 y(\(Exemple)22 b(:)h(le)f(syst)m(\022)-43
b(eme)24 b(de)f(fen)m(^)-43 b(etrage)25 b(X-windo)m(ws)c(|)h(les)g
(ressources)h(partag)m(\023)-43 b(ees)22 b(\023)-43 b(etan)m(t)25
b(ici)c(l')m(\023)-43 b(ecran,)24 b(le)e(cla)m(vier,)-71
3493 y(la)33 b(souris)f(et)i(le)f(haut-parleur.\))g(Le)h(mo)s(d)m(\022)
-43 b(ele)33 b(clien)m(t-serv)m(eur)h(est)g(di\016cile)d(\022)-45
b(a)34 b(impl)m(\023)-43 b(emen)m(ter)33 b(a)m(v)m(ec)i(des)f(tuy)m
(aux.)-71 3606 y(La)e(grande)f(di\016cult)m(\023)-43
b(e,)31 b(ici,)g(est)h(l')m(\023)-43 b(etablissemen)m(t)32
b(de)f(la)h(connexion)f(en)m(tre)h(un)e(clien)m(t)h(et)i(le)e(serv)m
(eur.)g(Av)m(ec)i(des)-71 3719 y(tuy)m(aux)27 b(non)g(nomm)m(\023)-43
b(es,)27 b(c'est)h(imp)s(ossible)c(:)j(il)e(faudrait)h(que)h(les)f
(clien)m(ts)g(et)i(le)e(serv)m(eur)h(aien)m(t)g(un)f(anc)m(^)-43
b(etre)29 b(com-)-71 3832 y(m)m(un)e(a)m(y)m(an)m(t)i(allou)m(\023)-43
b(e)28 b(\022)-45 b(a)28 b(l'a)m(v)-5 b(ance)28 b(un)e(nom)m(bre)h
(arbitrairemen)m(t)g(grand)g(de)g(tuy)m(aux.)h(Av)m(ec)g(des)g(tuy)m
(aux)f(nomm)m(\023)-43 b(es,)-71 3944 y(on)30 b(p)s(eut)g(imaginer)f
(que)h(le)g(serv)m(eur)g(lise)f(des)h(demandes)g(de)g(connexions)f(sur)
g(un)h(tuy)m(au)g(nomm)m(\023)-43 b(e)31 b(particulier,)-71
4057 y(ces)d(demandes)e(de)g(connexions)g(p)s(ouv)-5
b(an)m(t)27 b(con)m(tenir)g(le)f(nom)g(d'un)g(autre)h(tuy)m(au)g(nomm)m
(\023)-43 b(e,)28 b(cr)m(\023)-43 b(e)m(\023)g(e)29 b(par)e(le)f(clien)
m(t,)h(\022)-45 b(a)-71 4170 y(utiliser)21 b(p)s(our)h(comm)m(uniquer)h
(directemen)m(t)h(a)m(v)m(ec)h(le)f(clien)m(t.)f(Le)h(probl)m(\022)-43
b(eme)24 b(est)g(d'assurer)e(l'exclusion)g(m)m(utuelle)-71
4283 y(en)m(tre)31 b(les)f(demandes)g(de)g(connexion)g(pro)m(v)m(enan)m
(t)h(de)f(plusieurs)d(clien)m(ts)j(en)g(m)m(^)-43 b(eme)32
b(temps.)70 4400 y(Les)24 b(prises)e(son)m(t)i(une)f(abstraction)g(un)g
(p)s(eu)f(plus)g(g)m(\023)-43 b(en)m(\023)g(erale)26
b(que)d(les)g(tuy)m(aux)h(qui)e(pallie)f(ces)j(faiblesses.)f(T)-8
b(out)-71 4513 y(d'ab)s(ord,)33 b(des)h(app)s(els)e(syst)m(\022)-43
b(emes)36 b(sp)m(\023)-43 b(eciaux)34 b(son)m(t)h(fournis)d(p)s(our)e
(\023)-43 b(etablir)33 b(des)h(connexions)f(suiv)-5 b(an)m(t)33
b(le)h(mo)s(d)m(\022)-43 b(ele)-71 4626 y(clien)m(t-serv)m(eur.)42
b(Ensuite,)f(plusieurs)e(domaines)i(de)h(comm)m(unication)f(son)m(t)i
(pris)d(en)i(compte.)h(Le)f(domaine)-71 4739 y(de)c(comm)m(unication)g
(asso)s(ci)m(\023)-43 b(e)40 b(\022)-45 b(a)39 b(une)f(prise)f(indique)
f(a)m(v)m(ec)k(qui)e(on)g(p)s(eut)g(comm)m(uniquer)f(via)h(cette)i
(prise)14 b(;)39 b(il)-71 4852 y(conditionne)d(le)h(format)g(des)g
(adresses)g(emplo)m(y)m(\023)-43 b(ees)39 b(p)s(our)d(d)m(\023)-43
b(esigner)37 b(le)g(corresp)s(ondan)m(t.)g(Deux)g(exemples)g(de)-71
4964 y(domaines)30 b(:)p Black 70 5077 a({)p Black 46
w(le)e(domaine)g(Unix)f(:)i(les)f(adresses)g(son)m(t)h(des)f(noms)g
(dans)g(la)g(hi)m(\023)-43 b(erarc)m(hie)28 b(de)h(\014c)m(hiers)e
(d'une)g(mac)m(hine.)i(La)161 5190 y(comm)m(unication)f(est)i(limit)m
(\023)-43 b(ee)28 b(aux)h(pro)s(cessus)e(tournan)m(t)i(sur)f(cette)i
(mac)m(hine)f(\(comme)h(dans)e(le)g(cas)h(des)161 5303
y(tuy)m(aux)i(nomm)m(\023)-43 b(es\).)p Black 70 5416
a({)p Black 46 w(le)31 b(domaine)g(In)m(ternet)h(:)f(les)g(adresses)h
(son)m(t)g(constitu)m(\023)-43 b(ees)32 b(de)g(l'adresse)f(d'une)f(mac)
m(hine)h(dans)g(le)g(r)m(\023)-43 b(eseau)161 5529 y(In)m(ternet)41
b(\(adresse)g(de)f(la)g(forme)g Fu(129.199.129.1)p Fw(,)d(par)j
(exemple\),)h(plus)d(un)h(n)m(um)m(\023)-43 b(ero)41
b(de)f(service)h(\022)-45 b(a)p Black 1834 5757 a(63)p
Black eop
%%Page: 64 64
64 63 bop Black -71 24 a Fw(64)1098 b Fs(CHAPITRE)29
b(5.)62 b(COMMUNICA)-8 b(TIONS)29 b(MODERNES)i(:)f(LES)g(PRISES)p
Black 161 280 a Fw(l'in)m(t)m(\023)-43 b(erieur)33 b(de)h(la)g(mac)m
(hine.)g(La)g(comm)m(unication)g(est)h(p)s(ossible)c(en)m(tre)k(pro)s
(cessus)e(tournan)m(t)i(sur)e(deux)161 393 y(mac)m(hines)d(quelconques)
g(reli)m(\023)-43 b(ees)30 b(au)g(r)m(\023)-43 b(eseau)32
b(In)m(ternet.)2080 360 y Fz(1)-71 506 y Fw(En\014n,)h(plusieurs)f(s)m
(\023)-43 b(eman)m(tiques)35 b(de)g(comm)m(unication)f(son)m(t)h
(prises)e(en)i(compte.)h(La)f(s)m(\023)-43 b(eman)m(tique)35
b(indique)d(en)-71 619 y(particulier)39 b(si)h(la)g(comm)m(unication)h
(est)g(\014able)f(\(pas)h(de)g(p)s(ertes)f(ni)g(de)h(duplication)d(de)j
(donn)m(\023)-43 b(ees\),)42 b(et)f(sous)-71 732 y(quelle)26
b(forme)h(les)g(donn)m(\023)-43 b(ees)28 b(se)f(pr)m(\023)-43
b(esen)m(ten)m(t)29 b(au)f(r)m(\023)-43 b(ecepteur)28
b(\(\015ot)g(d'o)s(ctets,)g(ou)g(\015ot)f(de)g(paquets)h(|)f(p)s(etits)
f(blo)s(cs)-71 845 y(d'o)s(ctets)f(d)m(\023)-43 b(elimit)m(\023)g
(es\).)24 b(La)f(s)m(\023)-43 b(eman)m(tique)24 b(conditionne)e(le)h
(proto)s(cole)h(utilis)m(\023)-43 b(e)22 b(p)s(our)g(la)h(transmission)
e(des)i(donn)m(\023)-43 b(ees.)-71 958 y(V)-8 b(oici)30
b(trois)g(exemples)g(de)g(s)m(\023)-43 b(eman)m(tiques)31
b(p)s(ossibles)d(:)p Black Black 453 1068 2853 4 v 453
1181 4 113 v 1306 1181 V 1359 1147 a(Flots)371 b(Datagramme)102
b(P)m(aquet)32 b(segmen)m(t)m(\023)-43 b(es)p 3302 1181
V 453 1184 2853 4 v 453 1297 4 113 v 506 1263 a(Fiable)p
1306 1297 V 606 w(oui)450 b(non)467 b(oui)p 3302 1297
V 453 1410 V 506 1376 a(F)-8 b(orme)31 b(des)g(donn)m(\023)-43
b(ees)p 1306 1410 V 103 w(\015ot)31 b(d'o)s(ctets)100
b(paquets)308 b(paquets)p 3302 1410 V 453 1414 2853 4
v -71 1565 a(La)37 b(s)m(\023)-43 b(eman)m(tique)37 b(par)f(\\\015ot")i
(est)f(tr)m(\022)-43 b(es)37 b(pro)s(c)m(he)g(de)f(celle)g(de)g(la)g
(comm)m(unication)g(par)g(tuy)m(aux.)h(C'est)g(la)f(plus)-71
1678 y(emplo)m(y)m(\023)-43 b(ee,)39 b(en)d(particulier)e(lorsqu'il)g
(s'agit)j(de)g(retransmettre)g(des)f(suites)g(d'o)s(ctets)h(sans)g
(structure)f(parti-)-71 1791 y(culi)m(\022)-43 b(ere)33
b(\(exemple)g(:)g Fu(rsh)p Fw(\).)f(La)h(s)m(\023)-43
b(eman)m(tique)34 b(par)e(\\paquets)h(segmen)m(t)m(\023)-43
b(es")36 b(structure)d(les)f(donn)m(\023)-43 b(ees)33
b(transmises)-71 1904 y(en)27 b(paquets)g(:)g(c)m(haque)e(\023)-43
b(ecriture)26 b(d)m(\023)-43 b(elimite)26 b(un)g(paquet,)h(c)m(haque)h
(lecture)e(lit)g(au)h(plus)d(un)i(paquet.)h(Elle)f(est)h(donc)-71
2017 y(bien)i(adapt)m(\023)-43 b(ee)33 b(\022)-45 b(a)30
b(la)g(comm)m(unication)g(par)g(messages.)i(La)e(s)m(\023)-43
b(eman)m(tique)32 b(par)e(\\datagrammes")i(corresp)s(ond)d(au)-71
2129 y(plus)36 b(pr)m(\022)-43 b(es)38 b(aux)g(p)s(ossibilit)m(\023)-43
b(es)35 b(hardw)m(are)j(d'un)e(r)m(\023)-43 b(eseau)39
b(de)f(t)m(yp)s(e)g(Ethernet)g(:)g(les)g(transmissions)d(se)j(fon)m(t)h
(par)-71 2242 y(paquets,)32 b(et)g(il)e(n'est)h(pas)g(garan)m(ti)h
(qu'un)e(paquet)i(arriv)m(e)f(\022)-45 b(a)32 b(son)f(destinataire.)g
(C'est)h(la)f(s)m(\023)-43 b(eman)m(tique)32 b(la)f(plus)-73
2355 y(\023)-43 b(economique)36 b(en)g(termes)g(d'o)s(ccupation)g(du)f
(r)m(\023)-43 b(eseau.)37 b(Certains)e(programmes)h(l'utilisen)m(t)e(p)
s(our)g(transmettre)-71 2468 y(des)e(donn)m(\023)-43
b(ees)32 b(sans)g(imp)s(ortance)f(cruciale)g(\(exemple)g(:)h
Fu(biff)p Fw(\))15 b(;)32 b(d'autres,)g(p)s(our)e(tirer)h(plus)f(de)i
(p)s(erformances)-71 2581 y(du)d(r)m(\023)-43 b(eseau,)30
b(\023)-43 b(etan)m(t)32 b(en)m(tendu)e(qu'ils)e(doiv)m(en)m(t)j(g)m
(\023)-43 b(erer)32 b(eux-m)m(^)-43 b(emes)32 b(les)d(p)s(ertes.)-71
2875 y Fq(5.2)135 b(Cr)m(\023)-64 b(eation)47 b(d'une)d(prise)70
3080 y Fw(L'app)s(el)29 b(syst)m(\022)-43 b(eme)32 b
Fu(socket)d Fw(p)s(ermet)h(de)g(cr)m(\023)-43 b(eer)32
b(une)d(nouv)m(elle)h(prise.)311 3213 y Fu(socket)46
b(:)h(socket_domain)e(->)i(socket_type)e(->)i(int)g(->)g(file_descr)-71
3347 y Fw(Le)33 b(r)m(\023)-43 b(esultat)33 b(est)g(un)e(descripteur)g
(de)i(\014c)m(hier)e(qui)g(repr)m(\023)-43 b(esen)m(te)34
b(la)e(nouv)m(elle)g(prise.)f(Ce)i(descripteur)e(est)i(initia-)-71
3460 y(lemen)m(t)h(dans)f(l')m(\023)-43 b(etat)35 b(dit)e(\\non)g
(connect)m(\023)-43 b(e")18 b(;)34 b(en)g(particulier,)d(on)j(ne)f(p)s
(eut)g(pas)g(encore)i(faire)e Fu(read)f Fw(ou)i Fu(write)-71
3572 y Fw(dessus.)70 3687 y(Le)d(premier)e(argumen)m(t)h(indique)e(le)i
(domaine)g(de)g(comm)m(unication)g(auquel)f(la)h(prise)f(appartien)m(t)
h(:)p Black Black 1273 3873 a Fu(PF_UNIX)98 b Fw(le)30
b(domaine)g(Unix)1273 3986 y Fu(PF_INET)98 b Fw(le)30
b(domaine)g(In)m(ternet)-71 4171 y(Le)h(deuxi)m(\022)-43
b(eme)30 b(argumen)m(t)h(indique)d(la)i(s)m(\023)-43
b(eman)m(tique)31 b(de)f(comm)m(unication)g(d)m(\023)-43
b(esir)m(\023)g(ee)32 b(:)p Black Black 670 4357 a Fu(SOCK_STREAM)240
b Fw(\015ot)31 b(d'o)s(ctets,)g(\014able)670 4470 y Fu(SOCK_DGRAM)288
b Fw(paquets,)31 b(non)e(\014able)670 4583 y Fu(SOCK_RAW)384
b Fw(acc)m(\022)-43 b(es)33 b(direct)d(aux)g(couc)m(hes)h(basses)f(du)g
(r)m(\023)-43 b(eseau)670 4696 y Fu(SOCK_SEQPACKET)96
b Fw(paquets,)31 b(\014able)-71 4881 y(Le)24 b(troisi)m(\022)-43
b(eme)24 b(argumen)m(t)g(est)h(le)e(n)m(um)m(\023)-43
b(ero)25 b(du)d(proto)s(cole)j(de)e(comm)m(unication)h(\022)-45
b(a)24 b(utiliser.)d(Il)i(v)-5 b(aut)24 b(g)m(\023)-43
b(en)m(\023)g(eralemen)m(t)-71 4994 y(0,)23 b(ce)h(qui)d(d)m(\023)-43
b(esigne)23 b(le)f(proto)s(cole)h(par)f(d)m(\023)-43
b(efaut,)24 b(g)m(\023)-43 b(en)m(\023)g(eralemen)m(t)25
b(d)m(\023)-43 b(etermin)m(\023)g(e)24 b(\022)-45 b(a)23
b(partir)e(du)g(t)m(yp)s(e)i(de)g(comm)m(unication)p
Black -71 5078 1560 4 v 33 5132 a Fl(1)109 5164 y Fk(Le)41
b(r)n(\023)-36 b(eseau)42 b(In)n(ternet)f(se)g(comp)r(ose)h(de)f(r)n
(\023)-36 b(eseaux)42 b(lo)r(caux,)g(g)n(\023)-36 b(en)n(\023)g
(eralemen)n(t)41 b(du)g(t)n(yp)r(e)f(Ethernet,)i(reli)n(\023)-36
b(es)42 b(par)g(des)f(liaisons)-71 5255 y(sp)n(\023)-36
b(ecialis)n(\023)g(ees.)34 b(Il)d(relie)g(des)g(millions)h(de)e(mac)n
(hines)h(dans)f(le)i(monde)d(en)n(tier.)2254 5236 y(\022)2244
5255 y(A)i(l'in)n(t)n(\023)-36 b(erieur)31 b(du)f(domaine)h(In)n
(ternet,)f(il)h(n'y)g(a)g(pas)-71 5346 y(de)h(di\013)n(\023)-36
b(erence)33 b(au)g(niv)n(eau)f(des)g(programmes)g(en)n(tre)g(comm)n
(uniquer)e(a)n(v)n(ec)j(la)g(mac)n(hine)f(v)n(oisine,)h(branc)n(h)n
(\023)-36 b(ee)32 b(sur)h(le)g(m)n(^)-36 b(eme)30 b(c^)-38
b(able)-71 5438 y(Ethernet,)22 b(et)g(comm)n(uniquer)d(a)n(v)n(ec)j
(une)f(mac)n(hine)g(\022)-38 b(a)22 b(l'autre)h(b)r(out)f(du)f(monde,)g
(\022)-38 b(a)22 b(tra)n(v)n(ers)g(une)f(dizaine)i(de)e(routeurs)h(et)g
(une)f(liaison)-71 5529 y(satellite.)p Black Black Black
eop
%%Page: 65 65
65 64 bop Black -71 24 a Fs(5.3.)62 b(ADRESSES)3126 b
Fw(65)p Black -71 280 a(\(t)m(ypiquemen)m(t,)45 b Fu(SOCK_DGRAM)d
Fw(et)j Fu(SOCK_STREAM)c Fw(son)m(t)k(asso)s(ci)m(\023)-43
b(es)46 b(aux)e(proto)s(coles)g Fu(udp)g Fw(et)h Fu(tcp)p
Fw(\).)f(D'autres)-71 393 y(v)-5 b(aleurs)35 b(donnen)m(t)i(acc)m(\022)
-43 b(es)38 b(\022)-45 b(a)37 b(des)f(proto)s(coles)h(sp)m(\023)-43
b(eciaux.)37 b(Exemple)e(t)m(ypique)h(:)h(le)f(proto)s(cole)g(ICMP)g
(\(In)m(ternet)-71 506 y(Con)m(trol)j(Message)h(Proto)s(col\),)g(qui)d
(est)j(le)e(proto)s(cole)h(utilis)m(\023)-43 b(e)38 b(par)g(la)g
(commande)h Fu(ping)f Fw(p)s(our)f(en)m(v)m(o)m(y)m(er)k(des)-71
619 y(paquets)f(a)m(v)m(ec)h(retour)e(automatique)h(\022)-45
b(a)40 b(l'en)m(v)m(o)m(y)m(eur.)h(Les)e(n)m(um)m(\023)-43
b(eros)40 b(des)f(proto)s(coles)h(sp)m(\023)-43 b(eciaux)39
b(se)h(trouv)m(en)m(t)-71 732 y(dans)c(le)g(\014c)m(hier)g
Fu(/etc/protocols)c Fw(ou)37 b(dans)e(la)h(table)h Fu(protocols)d
Fw(du)h(syst)m(\022)-43 b(eme)38 b(d'informations)d(r)m(\023)-43
b(eparties)-71 845 y(NIS)34 b(\()p Fn(Network)k(Information)g(Servic)-5
b(e)7 b Fw(\),)35 b(le)f(cas)f(\023)-43 b(ec)m(h)m(\023)g(ean)m(t.)39
b(La)34 b(fonction)h(de)f(biblioth)m(\022)-43 b(eque)33
b Fu(getprotobyname)-71 958 y Fw(p)s(ermet)d(de)g(consulter)g(cette)i
(table)e(de)h(mani)m(\022)-43 b(ere)30 b(p)s(ortable)g(:)311
1090 y Fu(getprotobyname)44 b(:)j(string)f(->)i(protocol_entry)-71
1226 y Fw(L'argumen)m(t)27 b(est)f(le)g(nom)f(du)g(proto)s(cole)h(d)m
(\023)-43 b(esir)m(\023)g(e.)28 b(Le)e(r)m(\023)-43 b(esultat)26
b(est)h(un)e(t)m(yp)s(e)h Fn(r)-5 b(e)g(c)g(or)g(d)28
b Fw(comprenan)m(t,)f(en)m(tre)g(autres,)-71 1339 y(un)i(c)m(hamp)i
Fu(p_proto)d Fw(qui)h(est)i(le)f(n)m(um)m(\023)-43 b(ero)31
b(du)e(proto)s(cole.)-71 1642 y Fq(5.3)135 b(Adresses)70
1851 y Fw(Un)24 b(certain)g(nom)m(bre)f(d'op)m(\023)-43
b(erations)25 b(sur)e(les)g(prises)f(utilisen)m(t)g(des)i(adresses)g
(de)f(prises.)g(Ce)h(son)m(t)g(des)g(v)-5 b(aleurs)-71
1964 y(du)29 b(t)m(yp)s(e)i(concret)g Fu(sockaddr)e Fw(:)311
2096 y Fv(t)m(yp)s(e)48 b Fu(sockaddr)d(=)502 2209 y(ADDR_UNIX)g
Fv(of)j Fu(string)406 2322 y(|)g(ADDR_INET)d Fv(of)j
Fu(inet_addr)d(*)j(int)-71 2458 y Fw(L'adresse)34 b Fu(ADDR_UNIX)n
Fw(\()p Ft(f)10 b Fw(\))34 b(est)h(une)f(adresse)g(dans)f(le)h(domaine)
g(Unix.)f(La)i(c)m(ha)-10 b(^)-35 b(\020ne)34 b Ft(f)43
b Fw(est)35 b(le)f(nom)g(du)f(\014c)m(hier)-71 2571 y(corresp)s(ondan)m
(t)d(dans)g(la)g(hi)m(\023)-43 b(erarc)m(hie)30 b(de)g(\014c)m(hiers)f
(de)i(la)f(mac)m(hine.)70 2687 y(L'adresse)24 b Fu(ADDR_INET)n
Fw(\()p Ft(a;)15 b(p)p Fw(\))24 b(est)h(une)e(adresse)h(dans)f(le)g
(domaine)g(In)m(ternet.)i(Le)f(premier)e(argumen)m(t,)i
Ft(a)p Fw(,)h(est)-71 2800 y(l'adresse)h(In)m(ternet)h(d'une)e(mac)m
(hine)15 b(;)26 b(le)g(deuxi)m(\022)-43 b(eme)27 b(argumen)m(t,)g
Ft(p)p Fw(,)f(est)h(un)e(n)m(um)m(\023)-43 b(ero)27 b(de)f(service)g
(\()p Fn(p)-5 b(ort)31 b(numb)-5 b(er)p Fw(\))-71 2912
y(\022)-45 b(a)31 b(l'in)m(t)m(\023)-43 b(erieur)29 b(de)h(cette)i(mac)
m(hine.)70 3028 y(Les)41 b(adresses)f(In)m(ternet)h(son)m(t)g(repr)m
(\023)-43 b(esen)m(t)m(\023)g(ees)43 b(par)d(le)g(t)m(yp)s(e)h
(abstrait)f Fu(inet_addr)p Fw(.)e(Deux)j(fonctions)f(p)s(er-)-71
3141 y(metten)m(t)22 b(de)e(con)m(v)m(ertir)h(des)f(c)m(ha)-10
b(^)-35 b(\020nes)20 b(de)g(caract)m(\022)-43 b(eres)23
b(de)d(la)g(forme)g Fu(128.93.8.2)e Fw(en)i(v)-5 b(aleurs)19
b(du)g(t)m(yp)s(e)i Fu(inet_addr)p Fw(,)-71 3254 y(et)31
b(r)m(\023)-43 b(ecipro)s(quemen)m(t)31 b(:)311 3387
y Fu(inet_addr_of_string)42 b(:)48 b(string)e(->)h(inet_addr)311
3500 y(string_of_inet_addr)42 b(:)48 b(inet_addr)d(->)i(string)-71
3635 y Fw(Une)28 b(autre)f(mani)m(\022)-43 b(ere)28 b(d'obtenir)e(des)h
(adresses)h(In)m(ternet)f(est)h(par)f(consultation)g(de)g(la)g(table)h
Fu(/etc/hosts)p Fw(,)c(qui)-71 3748 y(asso)s(cie)35 b(des)f(adresses)g
(In)m(ternet)h(aux)f(noms)g(de)h(mac)m(hines.)f(La)h(fonction)f(de)g
(biblioth)m(\022)-43 b(eque)33 b Fu(gethostbyname)-71
3861 y Fw(p)s(ermet)39 b(de)h(consulter)f(cette)i(table)f(ainsi)d(que)j
(la)f(base)h(de)f(donn)m(\023)-43 b(ee)41 b(NIS)e(et)h(sur)f(les)g(mac)
m(hines)g(mo)s(dernes,)-71 3974 y(in)m(terroge)44 b(les)g(\\name)g
(serv)m(ers",)h(soit)e(en)h(cas)h(en)e(cas)i(d')m(\023)-43
b(ec)m(hec,)46 b(soit)e(au)g(con)m(traire)g(de)g(fa\030)-40
b(con)44 b(prioritaire,)-71 4087 y(utilisan)m(t)29 b(le)h(\014c)m(hier)
f Fu(/etc/hosts)f Fw(en)i(dernier)e(recours.)311 4219
y Fu(gethostbyname)44 b(:)k(string)e(->)h(host_entry)-71
4355 y Fw(L'argumen)m(t)40 b(est)h(le)e(nom)h(de)f(la)h(mac)m(hine)f(d)
m(\023)-43 b(esir)m(\023)g(ee.)42 b(Le)e(r)m(\023)-43
b(esultat)40 b(est)h(un)e(t)m(yp)s(e)h Fn(r)-5 b(e)g(c)g(or)g(d)42
b Fw(comprenan)m(t,)e(en)m(tre)-71 4468 y(autres,)29
b(un)e(c)m(hamp)h Fu(h_addr_list)p Fw(,)e(qui)g(est)j(un)e(v)m(ecteur)j
(d'adresses)d(In)m(ternet)i(:)f(les)g(adresses)g(de)g(la)g(mac)m(hine.)
-71 4581 y(\(Une)j(m)m(^)-43 b(eme)32 b(mac)m(hine)e(p)s(eut)d(^)-43
b(etre)31 b(reli)m(\023)-43 b(ee)31 b(\022)-45 b(a)31
b(plusieurs)c(r)m(\023)-43 b(eseaux,)31 b(sous)f(des)g(adresses)h
(di\013)m(\023)-43 b(eren)m(tes.\))70 4696 y(P)m(our)44
b(ce)g(qui)e(est)i(des)f(n)m(um)m(\023)-43 b(eros)44
b(de)f(services)g(\()p Fn(p)-5 b(ort)47 b(numb)-5 b(ers)p
Fw(\),)44 b(les)f(services)g(les)g(plus)f(couran)m(ts)h(son)m(t)-71
4809 y(r)m(\023)-43 b(ep)s(ertori)m(\023)g(es)31 b(dans)f(la)g(table)g
Fu(/etc/services)p Fw(.)d(On)j(p)s(eut)f(la)h(consulter)g(par)g(la)g
(fonction)311 4942 y Fu(getservbyname)44 b(:)k(string)e(->)h(string)f
(->)h(service_entry)-71 5077 y Fw(Le)34 b(premier)e(argumen)m(t)i(est)g
(le)g(nom)f(du)g(service)g(\(par)h(exemple,)f Fu(ftp)g
Fw(p)s(our)f(le)h(serv)m(eur)h(FTP)-8 b(,)34 b Fu(smtp)e
Fw(p)s(our)g(le)-71 5190 y(courrier,)25 b Fu(nntp)f Fw(p)s(our)g(le)h
(serv)m(eur)h(de)f(News,)h Fu(talk)e Fw(et)j Fu(ntalk)d
Fw(p)s(our)g(les)h(commandes)h(du)e(m)m(^)-43 b(eme)27
b(nom,)e(etc.\).)j(Le)-71 5303 y(deuxi)m(\022)-43 b(eme)29
b(argumen)m(t)g(est)g(le)g(nom)f(du)g(proto)s(cole)h(:)g(g)m(\023)-43
b(en)m(\023)g(eralemen)m(t,)31 b Fu(tcp)d Fw(si)g(le)g(service)h
(utilise)d(des)j(connexions)-71 5416 y(a)m(v)m(ec)k(la)e(s)m(\023)-43
b(eman)m(tique)32 b(\\stream",)g(ou)f Fu(udp)f Fw(si)h(le)f(service)h
(utilise)e(des)i(connexions)f(a)m(v)m(ec)j(la)e(s)m(\023)-43
b(eman)m(tique)32 b(\\data-)-71 5529 y(grams".)27 b(Le)f(r)m(\023)-43
b(esultat)26 b(de)g Fu(getservbyname)c Fw(est)k(un)f(t)m(yp)s(e)h
Fn(r)-5 b(e)g(c)g(or)g(d)29 b Fw(don)m(t)d(le)f(c)m(hamp)h
Fu(s_port)e Fw(con)m(tien)m(t)j(le)e(n)m(um)m(\023)-43
b(ero)p Black Black eop
%%Page: 66 66
66 65 bop Black -71 24 a Fw(66)1098 b Fs(CHAPITRE)29
b(5.)62 b(COMMUNICA)-8 b(TIONS)29 b(MODERNES)i(:)f(LES)g(PRISES)p
Black -71 280 a Fw(d)m(\023)-43 b(esir)m(\023)g(e.)p
Black -71 497 a Fv(Exemple:)p Black 45 w Fw(p)s(our)28
b(obtenir)i(l'adresse)g(du)f(serv)m(eur)h(FTP)g(de)h
Fu(pauillac.inria.fr)25 b Fw(:)311 630 y Fu(ADDR_INET)m
(\(\(gethostbyname)44 b Fo("pauillac)n(.)o(inria)o(.fr)o(")p
Fu(\).)o(h_addr_list)m(.\(0\),)788 743 y(\(getservbyname)g
Fo("ftp)o(")j("tcp)o(")p Fu(\).s_port)n(\))-71 1053 y
Fq(5.4)135 b(Connexion)45 b(\022)-66 b(a)45 b(un)f(serv)l(eur)70
1257 y Fw(L'app)s(el)25 b(syst)m(\022)-43 b(eme)27 b
Fu(connect)d Fw(p)s(ermet)i(d')m(\023)-43 b(etablir)25
b(une)h(connexion)f(a)m(v)m(ec)j(un)d(serv)m(eur)h(\022)-45
b(a)26 b(une)f(adresse)h(donn)m(\023)-43 b(ee.)311 1390
y Fu(connect)46 b(:)h(file_descr)e(->)i(sockaddr)f(->)h(unit)-71
1523 y Fw(Le)35 b(premier)f(argumen)m(t)h(est)h(un)e(descripteur)f(de)i
(prise.)f(Le)h(deuxi)m(\022)-43 b(eme)36 b(argumen)m(t)f(est)h
(l'adresse)e(du)g(serv)m(eur)-71 1636 y(auquel)c(on)g(v)m(eut)h(se)f
(connecter.)70 1750 y(Une)42 b(fois)g Fu(connect)e Fw(e\013ectu)m(\023)
-43 b(e,)45 b(on)d(p)s(eut)f(en)m(v)m(o)m(y)m(er)k(des)d(donn)m(\023)
-43 b(ees)42 b(au)g(serv)m(eur)g(en)g(faisan)m(t)h Fu(write)d
Fw(sur)h(le)-71 1863 y(descripteur)21 b(de)h(la)g(prise,)f(et)i(lire)d
(les)i(donn)m(\023)-43 b(ees)23 b(en)f(pro)m(v)m(enance)h(du)e(serv)m
(eur)h(en)g(faisan)m(t)h Fu(read)e Fw(sur)g(le)h(descripteur)-71
1976 y(de)35 b(la)f(prise.)f(Lectures)i(et)e(\023)-43
b(ecritures)34 b(sur)f(une)h(prise)f(se)i(comp)s(orten)m(t)g(comme)h
(sur)d(un)h(tuy)m(au)g(:)h Fu(read)f Fw(blo)s(que)-71
2088 y(tan)m(t)29 b(qu'aucun)d(o)s(ctet)j(n'est)e(disp)s(onible,)d(et)k
(p)s(eut)e(ren)m(v)m(o)m(y)m(er)j(moins)d(d'o)s(ctets)j(que)e(demand)m
(\023)-43 b(e)16 b(;)27 b(et)h(si)e(le)h(serv)m(eur)-71
2201 y(a)k(ferm)m(\023)-43 b(e)31 b(la)f(connexion,)g
Fu(read)f Fw(ren)m(v)m(oie)i(z)m(\023)-43 b(ero)32 b(et)f
Fu(write)e Fw(d)m(\023)-43 b(eclenc)m(he)32 b(un)d(signal)g
Fu(SIGPIPE)p Fw(.)70 2315 y(Un)f(e\013et)i(de)f Fu(connect)d
Fw(est)j(de)g(branc)m(her)f(la)g(prise)f(\022)-45 b(a)29
b(une)f(adresse)g(lo)s(cale)h(qui)e(est)i(c)m(hoisie)f(par)g(le)g(syst)
m(\022)-43 b(eme.)-71 2428 y(P)m(arfois,)39 b(il)f(est)i(souhairable)d
(de)i(c)m(hoisir)f(soi-m)m(^)-43 b(eme)41 b(cette)g(adresse,)e(auquel)g
(cas)g(il)f(est)i(p)s(ossible)d(d'app)s(eler)-71 2541
y(l'op)m(\023)-43 b(eration)31 b Fu(bind)e Fw(\(v)m(oir)i(ci-dessous\))
f(a)m(v)-5 b(an)m(t)32 b Fu(connect)p Fw(.)70 2654 y(P)m(our)38
b(suivre)f(les)g(connections)i(en)e(cours)h(cours)g(on)g(p)s(eut)f
(utiliser)f(la)i(commande)g Fu(netstat)e Fw(depuis)g(un)-71
2767 y(shell.)-71 3058 y Fq(5.5)246 3029 y(\023)235 3058
y(Etablissemen)l(t)48 b(d'un)c(service)70 3263 y Fw(On)35
b(vien)m(t)h(de)g(v)m(oir)f(commen)m(t)i(un)e(clien)m(t)g(se)i
(connecte)g(\022)-45 b(a)36 b(un)f(serv)m(eur)15 b(;)36
b(v)m(oici)f(main)m(tenan)m(t)i(commen)m(t)g(les)-71
3375 y(c)m(hoses)d(se)g(passen)m(t)f(du)f(c^)-45 b(ot)m(\023)i(e)36
b(du)c(serv)m(eur.)h(La)h(premi)m(\022)-43 b(ere)30 b(\023)-43
b(etap)s(e)34 b(est)g(d'asso)s(cier)f(une)f(adresse)h(\022)-45
b(a)34 b(une)e(prise,)g(la)-71 3488 y(rendan)m(t)e(ainsi)f(accessible)h
(depuis)e(l'ext)m(\023)-43 b(erieur.)31 b(C'est)g(le)f(r^)-45
b(ole)30 b(de)g(l'app)s(el)e Fu(bind)i Fw(:)311 3621
y Fu(bind)47 b(:)g(file_descr)e(->)i(sockaddr)f(->)h(unit)-71
3754 y Fw(Le)24 b(premier)e(argumen)m(t)i(est)g(le)f(descripteur)f(de)h
(la)g(prise)14 b(;)23 b(le)g(second,)h(l'adresse)f(\022)-45
b(a)24 b(lui)e(attribuer.)g(La)i(commande)-71 3867 y
Fu(bind)k Fw(p)s(eut)g(aussi)f(utiliser)f(une)i(adresse)h(sp)m(\023)-43
b(eciale)29 b Fu(inet_addr_any)c Fw(repr)m(\023)-43 b(esen)m(tan)m(t)31
b(toutes)e(les)g(adresses)f(in)m(ter-)-71 3980 y(nets)j(p)s(ossible)c
(sur)j(la)g(mac)m(hine)g(\(qui)f(p)s(eut)h(comp)s(orter)g(plusieurs)d
(sous-r)m(\023)-43 b(eseaux\).)70 4094 y(Dans)42 b(un)e(deuxi)m(\022)
-43 b(eme)41 b(temps,)g(on)g(d)m(\023)-43 b(eclare)42
b(que)f(la)g(prise)f(p)s(eut)g(accepter)j(les)d(connexions)h(a)m(v)m
(ec)i(l'app)s(el)-71 4206 y Fu(listen)29 b Fw(:)311 4339
y Fu(listen)46 b(:)h(file_descr)e(->)j(int)f(->)g(unit)-71
4472 y Fw(Le)39 b(premier)f(argumen)m(t)h(est)g(le)g(descripteur)e(de)i
(la)g(prise.)e(Le)i(second)g(indique)e(com)m(bien)h(de)h(demandes)f(de)
-71 4585 y(connexion)45 b(incompl)m(\022)-43 b(etes)45
b(p)s(euv)m(en)m(t)d(^)-43 b(etre)46 b(mises)e(en)h(atten)m(te.)j(Sa)c
(v)-5 b(aleur)45 b(souv)m(en)m(t)g(de)g(l'ordre)f(de)h(quelque)-71
4698 y(dizaine)34 b(p)s(eut)h(aller)f(jusqu'\022)-45
b(a)35 b(quelques)f(cen)m(taines)i(p)s(our)e(des)i(serv)m(eurs)f(tr)m
(\022)-43 b(es)36 b(sollicit)m(\023)-43 b(es.)35 b(Lorsque)g(ce)h(nom)m
(bre)-71 4811 y(est)31 b(d)m(\023)-43 b(epass)m(\023)g(e,)33
b(les)c(demandes)h(de)g(connexion)g(exc)m(\023)-43 b(eden)m(taires)30
b(\023)-43 b(ec)m(houen)m(t.)70 4925 y(En\014n,)29 b(on)h(re\030)-40
b(coit)31 b(les)f(demandes)g(de)g(connexion)g(par)g(l'app)s(el)e
Fu(accept)h Fw(:)311 5057 y Fu(accept)46 b(:)h(file_descr)e(->)j
(file_descr)d(*)i(sockaddr)-71 5190 y Fw(L'argumen)m(t)c(est)h(le)e
(descripteur)f(de)i(la)f(prise.)g(Le)h(premier)e(r)m(\023)-43
b(esultat)44 b(est)f(un)f(descripteur)f(sur)g(une)i(prise)-71
5303 y(nouv)m(ellemen)m(t)31 b(cr)m(\023)-43 b(e)m(\023)g(ee,)35
b(qui)29 b(est)j(reli)m(\023)-43 b(ee)32 b(au)f(clien)m(t)f(:)i(tout)g
(ce)g(qu'on)c(\023)-43 b(ecrit)31 b(sur)g(ce)g(descripteur)f(p)s(eut)e
(^)-43 b(etre)32 b(lu)e(sur)-71 5416 y(la)35 b(prise)e(que)h(le)h
(clien)m(t)f(a)h(donn)m(\023)-43 b(e)35 b(en)g(argumen)m(t)g(\022)-45
b(a)35 b Fu(connect)p Fw(,)e(et)j(r)m(\023)-43 b(ecipro)s(quemen)m(t.)
35 b(Du)g(c^)-45 b(ot)m(\023)i(e)37 b(du)d(serv)m(eur,)g(la)-71
5529 y(prise)e(donn)m(\023)-43 b(ee)34 b(en)f(argumen)m(t)h(\022)-45
b(a)34 b Fu(accept)e Fw(reste)h(libre)f(et)i(p)s(eut)e(accepter)j
(d'autres)f(demandes)e(de)h(connexion.)p Black Black
eop
%%Page: 67 67
67 66 bop Black -71 24 a Fs(5.5.)143 1 y(\023)131 24
y(ET)-8 b(ABLISSEMENT)30 b(D'UN)h(SER)-10 b(VICE)2132
b Fw(67)p Black -71 280 a(Le)33 b(second)h(r)m(\023)-43
b(esultat)33 b(est)h(l'adresse)f(du)f(clien)m(t)h(qui)e(se)j(connecte.)
g(Il)f(p)s(eut)f(servir)g(\022)-45 b(a)33 b(v)m(\023)-43
b(eri\014er)33 b(que)g(le)g(clien)m(t)g(est)-71 393 y(bien)24
b(autoris)m(\023)-43 b(e)25 b(\022)-45 b(a)26 b(se)f(connecter)16
b(;)25 b(c'est)h(ce)g(que)f(fait)f(le)h(serv)m(eur)f(X)h(par)g(exemple)
f(\()p Fu(xhost)g Fw(p)s(ermettan)m(t)i(d'a)5 b(jouter)-71
506 y(de)29 b(nouv)m(elles)f(autorisations\))h(ou)f(\022)-45
b(a)27 b(\023)-43 b(etablir)29 b(une)f(seconde)h(connection)g(du)f
(serv)m(eur)h(v)m(ers)g(le)g(clien)m(t)f(\(comme)i(le)-71
619 y(fait)g Fu(ftp)g Fw(p)s(our)f(c)m(haque)i(demande)f(de)g
(transfert)g(de)g(\014c)m(hier\).)70 749 y(Le)h(sh)m(\023)-43
b(ema)31 b(g)m(\023)-43 b(en)m(\023)g(eral)32 b(d'un)e(serv)m(eur)g
Fu(tcp)f Fw(est)i(donc)f(de)g(la)g(forme)193 882 y Fz(1)83
b Fv(let)53 b Fu(tcp_server_socket)43 b(addr)k(=)193
995 y Fz(2)178 b Fv(let)48 b Fu(s)f(=)h(socket)e(PF_INET)g(SOCK_STREAM)
e(0)k Fv(in)193 1108 y Fz(3)178 b Fv(try)193 1221 y Fz(4)274
b Fu(bind)46 b(s)i(addr)o(;)193 1333 y Fz(5)274 b Fu(listen)46
b(s)h(10;)193 1446 y Fz(6)274 b Fu(s)193 1559 y Fz(7)178
b Fv(with)47 b Fu(z)h(->)f(close)f(s;)i Fv(raise)f Fu(z;;)193
1711 y Fz(8)83 b Fv(let)53 b Fu(tcp_server)45 b(treat_connection)e
(addr)k(=)193 1824 y Fz(9)178 b Fv(let)48 b Fu(server)e(=)h
(tcp_server_socket)c(addr)k Fv(in)157 1937 y Fz(10)179
b Fv(while)48 b Fu(true)e Fv(do)157 2050 y Fz(11)275
b Fv(let)47 b Fu(client)f(=)i(accept)e(server)g Fv(in)157
2163 y Fz(12)275 b Fu(treat_connection)43 b(server)j(client)157
2276 y Fz(13)179 b Fv(done)q Fu(;;)-71 2426 y Fw(Le)34
b(fonction)g Fu(tcp_server_socket)c Fw(commence)35 b(par)f(cr)m(\023)
-43 b(eer)35 b(une)f(prise)f(dans)g(le)h(domaine)f(In)m(ternet,)i(a)m
(v)m(ec)h(la)-71 2539 y(s)m(\023)-43 b(eman)m(tique)26
b Fm(<)p Fw(stream)p Fm(>)f Fw(et)h(le)f(proto)s(cole)h(par)f(d)m(\023)
-43 b(efaut)27 b(\(ligne)d(2\),)j(puis)c(il)h(la)h(pr)m(\023)-43
b(epare)26 b(\022)-45 b(a)26 b(recev)m(oir)g(des)f(demandes)-71
2652 y(de)f(connexion)f(sur)g(le)g Fn(p)-5 b(ort)26 b
Fw(indiqu)m(\023)-43 b(e)22 b(sur)h(la)g(ligne)g(de)g(commande)h(par)g
(les)f(app)s(els)f Fu(bind)h Fw(et)i Fu(listen)d Fw(des)h(lignes)g(4)
-71 2765 y(et)k(5.)f(Comme)g(il)e(s'agit)j(d'une)e(fonction)g(de)h
(librairie,)c(nous)k(refermons)f(propremen)m(t)g(la)h(prise)e(en)i(cas)
g(d'erreur)-71 2877 y(lors)h(de)g(l'op)m(\023)-43 b(eration)28
b Fu(bind)f Fw(ou)g Fu(listen)p Fw(.)f(Le)i(serv)m(er)g
Fu(tcp_server)d Fw(cr)m(\023)-43 b(ee)29 b(la)f(prise)e(a)m(v)m(ec)j
(la)f(fonction)f(pr)m(\023)-43 b(ec)m(\023)g(eden)m(te,)-71
2990 y(puis)29 b(il)g(en)m(tre)i(dans)f(une)g(b)s(oucle)f(in\014nie,)g
(o)s(\022)-48 b(u)30 b(il)f(attend)i(une)f(demande)g(de)h(connexion)f
(\()p Fu(accept)p Fw(,)f(ligne)h(10\))h(et)-71 3103 y(traite)g
(celle-ci)f(\(ligne)f(11\).)70 3234 y(Le)g(traitemen)m(t)h(d'une)e
(connection)h(p)s(eut)f(se)i(faire)e(s)m(\023)-43 b(equen)m(tiellemen)m
(t)29 b(auquel)f(cas,)i Fn(i.e.)e Fw(par)h(le)f(serv)m(eur)h(lui)-71
3346 y(m)m(^)-43 b(eme.)37 b(Dans)e(ce)h(cas,)h Fu(treat_connection)30
b Fw(se)36 b(con)m(ten)m(te)h(d'app)s(eler)d(une)h(fonction)g
Fu(service)p Fw(,)e(en)m(ti)m(\022)-43 b(eremen)m(t)-71
3459 y(d)m(\023)g(ep)s(endan)m(te)43 b(de)g(l'application,)e(qui)h(est)
h(le)f(corps)h(du)f(serv)m(eur)g(et)i(qui)e(ex)m(\023)-43
b(ecute)45 b(e\013ectiv)m(emen)m(t)g(le)d(service)-71
3572 y(demand)m(\023)-43 b(e)31 b(et)g(se)g(termine)e(par)h(la)g
(fermeture)g(de)g(la)g(connection.)311 3705 y Fv(let)53
b Fu(service)46 b(\()o(client_sock)m(,)i(client_addr)m(\))f(=)406
3818 y Fo(\(*)h(Communiquer)c(avec)j(le)g(client)f(sur)h(le)g
(descripteur)e(descr)h(*\))406 3931 y(\(*)i(Puis)e(quand)h(c'est)f
(fini)o(:)h(*\))406 4044 y Fu(close)g(client_descr)l(;;)-71
4193 y Fw(D'o)s(\022)-48 b(u)31 b(la)f(fonction)g(auxiliaire)e(:)311
4326 y Fv(let)53 b Fu(sequential_treatment)42 b(server)k(service)g
(client)g(=)i(service)d(client)o(;;)-71 4476 y Fw(Comme)34
b(p)s(endan)m(t)e(le)h(traitemen)m(t)h(de)g(la)f(connection)g(le)g
(serv)m(eur)h(ne)f(p)s(eut)g(pas)g(traiter)g(d'autres)g(demandes,)-71
4589 y(ce)g(sc)m(h)m(\023)-43 b(ema)34 b(est)f(en)f(g)m(\023)-43
b(en)m(\023)g(eral)35 b(reserv)m(\023)-43 b(e)33 b(\022)-45
b(a)33 b(des)f(services)g(rapides,)f(o)s(\022)-48 b(u)32
b(la)g(fonction)g Fu(service)f Fw(s'ex)m(\023)-43 b(ecute)35
b(toujours)-71 4702 y(en)30 b(un)g(temps)g(cours)g(et)h(b)s(orn)m(\023)
-43 b(e)30 b(\(par)h(exemple,)f(un)f(serv)m(eur)h(de)g
Fu(date)p Fw(\).)70 4832 y(La)21 b(plupart)d(des)i(serv)m(eurs)g
(sous-traiten)m(t)h(le)f(service)g(\022)-45 b(a)21 b(un)e(pro)s(cessus)
g(\014ls)g(:)h(On)g(app)s(elle)e Fu(fork)h Fw(imm)m(\023)-43
b(ediatemen)m(t)-71 4945 y(apr)m(\022)g(es)26 b(le)e
Fu(accept)p Fw(.)g(Le)h(pro)s(cessus)e(\014ls)h(traite)h(la)g
(connexion.)f(Le)h(pro)s(cessus)f(p)m(\022)-43 b(ere)26
b(recommence)f(aussit^)-45 b(ot)25 b(\022)-45 b(a)26
b(faire)-71 5058 y Fu(accept)p Fw(.)311 5190 y Fv(let)53
b Fu(fork_treatment)44 b(server)i(service)g(\()o(client_descr)m(,)i(_)f
Fv(as)h Fu(client)n(\))g(=)406 5303 y Fv(let)g Fu(treat)e(\(\))h(=)502
5416 y Fv(matc)m(h)g Fu(fork)o(\(\))g Fv(with)502 5529
y Fu(|)g(0)h(->)f(close)f(server)o(;)h(service)f(client)n(;)i(exit)e(0)
p Black Black eop
%%Page: 68 68
68 67 bop Black -71 24 a Fw(68)1098 b Fs(CHAPITRE)29
b(5.)62 b(COMMUNICA)-8 b(TIONS)29 b(MODERNES)i(:)f(LES)g(PRISES)p
Black 502 280 a Fu(|)47 b(_)h(->)f(\(\))g Fv(in)406 393
y Fu(try_finalize)e(treat)h(\(\))h(close)g(client_descr)l(;;)-71
526 y Fw(Notez)40 b(qu'il)d(est)i(essen)m(tiel)f(de)g(fermer)g(le)g
(descripteur)f Fu(client_descr)e Fw(du)i(p)m(\022)-43
b(ere,)40 b(sinon)d(sa)h(fermeture)h(par)-71 639 y(le)e(\014ls)e(ne)i
(su\016ra)f(pas)h(\022)-45 b(a)37 b(terminer)f(la)h(connection)g(et)g
(de)g(plus)e(le)i(p)m(\022)-43 b(ere)38 b(v)-5 b(a)37
b(tr)m(\022)-43 b(es)38 b(vite)f(se)g(retourv)m(er)g(\022)-45
b(a)38 b(court)-71 752 y(de)32 b(descripteurs.)f(De)i(fa\030)-40
b(con)32 b(symm)m(\023)-43 b(etrique,)32 b(le)g(\014ls)f(ferme)h(le)f
(descripteur)g Fu(sock)g Fw(sur)g(lequel)g(le)g(service)h(\022)-45
b(a)30 b(\023)-43 b(et)m(\023)g(e)-73 864 y(\023)g(etablit.)34
b(D'une)g(part,)g(il)f(n'en)h(a)g(plus)e(b)s(esoin.)h(D'autre)i(part,)f
(le)g(p)m(\022)-43 b(ere)35 b(p)s(eut)e(terminer)g(d')m(^)-43
b(etre)36 b(serv)m(eur)e(alors)-71 977 y(que)29 b(le)g(\014ls)e(n'a)i
(pas)g(\014ni)f(de)g(traiter)h(la)g(connection)g(en)g(cours.)g(La)h
(commande)f Fu(exit)47 b(0)28 b Fw(est)i(imp)s(ortan)m(te)f(p)s(our)-71
1090 y(que)h(le)g(\014ls)f(meurt)h(apr)m(\022)-43 b(es)31
b(l'ex)m(\023)-43 b(ecution)31 b(du)f(service)g(et)h(ne)f(se)h(mette)g
(pas)f(\022)-45 b(a)31 b(ex)m(\023)-43 b(ecuter)33 b(le)c(co)s(de)i(du)
e(serv)m(eur.)70 1203 y(Nous)e(a)m(v)m(ons)h(ici)e(ignor)m(\023)-43
b(e)27 b(p)s(our)f(l'instan)m(t)g(la)g(r)m(\023)-43 b(ecup)m(\023)g
(eration)29 b(des)d(\014ls)g(qui)f(v)m(on)m(t)j(dev)m(enir)e(zom)m(bi,)
h(ce)h(qu'il)d(faut)-71 1316 y(bien)30 b(en)m(tendu)i(faire.)f(Il)g(y)h
(a)g(deux)f(appro)s(c)m(hes.)g(L'appro)s(c)m(he)h(simple)e(est)i(de)f
(faire)h(traiter)f(la)h(connection)g(par)-71 1429 y(un)d(p)s
(etit-\014ls)g(en)h(utilisan)m(t)f(la)h(tec)m(hnique)g(du)f(double)g
(fork.)311 1561 y Fv(let)53 b Fu(double_fork_treatment)42
b(server)k(service)g(\()o(client_descr)m(,)i(_)f Fv(as)h
Fu(client)n(\))g(=)406 1674 y Fv(let)g Fu(treat)e(\(\))h(=)502
1787 y Fv(matc)m(h)g Fu(fork)o(\(\))g Fv(with)502 1900
y Fu(|)g(0)h(->)693 2013 y Fv(if)f Fu(fork)o(\(\))h(<>)f(0)g
Fv(then)h Fu(exit)e(0;)693 2126 y(close)g(server)n(;)i(service)e
(client)n(;)i(exit)e(0)502 2239 y(|)h(k)h(->)693 2352
y(ignore)e(\(waitpid)f([])j(k)o(\))g Fv(in)406 2465 y
Fu(try_finalize)d(treat)h(\(\))h(close)g(client_descr)l(;;)-71
2597 y Fw(T)-8 b(outefois,)35 b(cette)h(appro)s(c)m(he)e(fait)g(p)s
(erdre)f(au)i(serv)m(eur)f(tout)h(con)m(tr^)-45 b(ole)35
b(sur)e(son)h(p)s(etit-\014ls.)f(En)h(g)m(\023)-43 b(en)m(\023)g(eral,)
37 b(il)c(est)-71 2710 y(pr)m(\023)-43 b(ef)m(\023)g(erable)40
b(que)g(pro)s(cessus)e(qui)g(traite)i(un)e(service)i(appartienne)e(au)h
(m)m(^)-43 b(eme)41 b(group)s(e)e(de)g(pro)s(cessus)f(que)h(le)-71
2823 y(serv)m(eur,)i(ce)h(qui)d(p)s(ermet)i(de)f(tuer)h(tous)g(les)f
(services)h(en)g(tuan)m(t)g(les)g(pro)s(cessus)e(du)h(m)m(^)-43
b(eme)42 b(group)s(e)f(que)f(le)-71 2936 y(serv)m(eur.)34
b(P)m(our)f(cela,)h(les)f(serv)m(eurs)h(garden)m(t)g(en)f(g)m(\023)-43
b(en)m(\023)g(eral)36 b(le)d(mo)s(d)m(\022)-43 b(ele)34
b(pr)m(\023)-43 b(ec)m(\023)g(eden)m(t,)36 b(et)e(a)5
b(joute)35 b(une)e(gestion)g(des)-71 3049 y(\014ls,)c(par)h(exemple)g
(en)g(installan)m(t)f(une)h(pro)s(c)m(\023)-43 b(edure)30
b Fu(free_children)d Fw(sur)i(le)h(signal)f Fu(sigchld)p
Fw(.)311 3181 y Fv(let)53 b(rec)48 b Fu(free_children)c(signal)i(=)406
3294 y Fv(try)i(while)f Fu(fst)g(\(waitpid)94 b([)47
b(WNOHANG)f(])h(\(-1\)\))g(>)g(0)g Fv(do)i Fu(\(\))e
Fv(done)h(with)502 3407 y Fu(Unix_error)d(\(EINTR)n(,)j(_)o(,)g(_\))f
(->)g(free_children)d(signal)406 3520 y(|)k(Unix_error)d(\(ECHILD)n(,)i
(_,)h(_)o(\))g(->)f(\(\))g Fv(in)311 3633 y Fu(Sys)o(.set_signal)e(Sys)
o(.sigchld)h(\()o(Sys)o(.Signal_handle)e(free_children)m(\);;)-71
3765 y Fw(Mais)30 b(il)f(faut)i(main)m(tenan)m(t)f(se)h(prot)m(\023)-43
b(eger)32 b(con)m(tre)f(une)f(in)m(terruption)e(p)s(ossible)g(de)i(la)g
(commande)h Fu(accept)e Fw(:)311 3898 y Fv(let)53 b(rec)48
b Fu(non_interruptible_accept)41 b(s)48 b(=)406 4011
y Fv(try)g Fu(accept)e(s)i Fv(with)f Fu(Unix_error)m(\(EINTR)n(,_,)o
(_\))h(->)f(non_interuptible_accept)41 b(s;;)311 4124
y Fv(let)53 b Fu(server)46 b(treat_connection)d(addr)k(=)406
4237 y Fv(let)h Fu(server_sock)c(=)k(tcp_server_socket)43
b(addr)k Fv(in)406 4350 y(while)h Fu(true)e Fv(do)502
4462 y(let)h Fu(client)f(=)i(non_interruptible_accep)o(t)42
b(server_sock)j Fv(in)502 4575 y Fu(treat_connection)e(service)j
(client)406 4688 y Fv(done)q Fu(;;)-71 4987 y Fq(5.6)135
b(D)m(\023)-64 b(econnexion)70 5190 y Fw(Il)30 b(y)h(a)g(deux)g(mani)m
(\022)-43 b(eres)31 b(d'in)m(terrompre)f(une)g(connexion.)g(La)i(premi)
m(\022)-43 b(ere)30 b(est)i(de)f(faire)f Fu(close)g Fw(sur)g(la)g
(prise.)-71 5303 y(Ceci)45 b(ferme)g(la)g(connexion)g(en)e(\023)-43
b(ecriture)45 b(et)h(en)g(lecture,)f(et)h(d)m(\023)-43
b(esalloue)46 b(la)f(prise.)f(Ce)h(comp)s(ortemen)m(t)i(est)-71
5416 y(parfois)27 b(trop)g(brutal.)f(P)m(ar)i(exemple,)g(un)e(clien)m
(t)h(p)s(eut)g(v)m(ouloir)f(fermer)i(la)f(connexion)g(dans)f(le)i(sens)
f(clien)m(t)g(v)m(ers)-71 5529 y(serv)m(eur,)35 b(p)s(our)f
(transmettre)i(une)f(\014n)f(de)h(\014c)m(hier)f(au)h(serv)m(eur,)h
(mais)e(laisser)g(la)h(connexion)g(ouv)m(erte)h(dans)e(le)p
Black Black eop
%%Page: 69 69
69 68 bop Black -71 24 a Fs(5.7.)62 b(A)m(UTRES)30 b(OP)685
1 y(\023)673 24 y(ERA)-8 b(TIONS)2587 b Fw(69)p Black
-71 280 a(sens)33 b(serv)m(eur)g(v)m(ers)h(clien)m(t,)f(p)s(our)f(que)i
(le)f(serv)m(eur)g(puisse)f(\014nir)f(d'en)m(v)m(o)m(y)m(er)k(les)e
(donn)m(\023)-43 b(ees)34 b(en)f(atten)m(te.)j(L'app)s(el)-71
393 y(syst)m(\022)-43 b(eme)32 b Fu(shutdown)c Fw(p)s(ermet)i(ce)h
(genre)g(de)f(coupure)g(progressiv)m(e)g(de)g(connexions.)311
526 y Fu(shutdown)45 b(:)j(file_descr)d(->)i(shutdown_command)c(->)48
b(unit)-71 659 y Fw(Le)31 b(premier)d(argumen)m(t)j(est)g(le)f
(descripteur)f(de)h(la)g(prise)f(\022)-45 b(a)31 b(fermer.)f(Le)g
(deuxi)m(\022)-43 b(eme)31 b(argumen)m(t)g(p)s(eut)c(^)-43
b(etre)31 b(:)p Black Black 30 846 a Fu(SHUTDOWN_RECEIVE)95
b Fw(ferme)43 b(la)f(prise)f(en)h(lecture)15 b(;)43 b
Fu(write)e Fw(sur)g(l'autre)h(b)s(out)g(de)g(la)g(connexion)g(v)-5
b(a)893 958 y(d)m(\023)-43 b(eclenc)m(her)32 b(un)d(signal)g
Fu(SIGPIPE)30 1071 y(SHUTDOWN_SEND)239 b Fw(ferme)44
b(la)f(prise)f(en)e(\023)-43 b(ecriture)16 b(;)43 b Fu(read)f
Fw(sur)h(l'autre)g(b)s(out)g(de)g(la)g(connexion)g(v)-5
b(a)893 1184 y(ren)m(v)m(o)m(y)m(er)33 b(une)c(marque)h(de)h(\014n)e
(de)h(\014c)m(hier)30 1297 y Fu(SHUTDOWN_ALL)287 b Fw(ferme)28
b(la)f(prise)e(en)j(lecture)f(et)h(en)c(\023)-43 b(ecriture)15
b(;)28 b(\022)-45 b(a)28 b(la)f(di\013)m(\023)-43 b(erence)27
b(de)g Fu(close)p Fw(,)g(la)f(prise)893 1410 y(elle-m)m(^)-43
b(eme)32 b(n'est)e(pas)g(d)m(\023)-43 b(esallou)m(\023)g(ee)-71
1595 y(En)22 b(fait,)g(la)f(d)m(\023)-43 b(eallo)s(cation)23
b(d'une)e(prise)f(p)s(eut)i(prendre)e(un)h(certain)h(temps)g(que)g
(celle-ci)g(soit)g(faite)g(a)m(v)m(ec)i(p)s(olitesse)-71
1708 y(ou)30 b(brutalit)m(\023)-43 b(e.)-71 2002 y Fq(5.7)135
b(Autres)45 b(op)m(\023)-64 b(erations)-71 2211 y Fg(5.7.1)113
b(R)n(\023)-54 b(eglage)37 b(des)h(prises)70 2385 y Fw(Les)31
b(prises)f(p)s(oss)m(\022)-43 b(eden)m(t)31 b(de)g(nom)m(breux)f(param)
m(\022)-43 b(etres)33 b(in)m(ternes)d(qui)g(p)s(euv)m(en)m(t)e(^)-43
b(etre)33 b(r)m(\023)-43 b(egl)m(\023)g(es)32 b(:)g(taille)e(des)g
(tam-)-71 2498 y(p)s(ons)24 b(de)h(transferts,)f(taille)g(minimale)f
(des)h(transferts,)h(comp)s(ortemen)m(t)h(\022)-45 b(a)25
b(la)g(fermeture,)g Fn(etc.)p Fw(.)g(Ces)f(param)m(\022)-43
b(etes)-71 2611 y(son)m(t)30 b(de)g(t)m(yp)s(e)g(b)s(o)s(ol)m(\023)-43
b(eens,)30 b(en)m(tiers,)f(en)m(tier)h(optionnels)e(ou)i(\015ottan)m
(t.)h(P)m(our)e(des)h(raisons)e(de)i(t)m(ypage,)h(il)e(existen)m(t)-71
2723 y(donc)47 b(autres)f(primitiv)m(es)e Fu(getsockopt)p
Fw(,)g Fu(getsockopt_int)p Fw(,)f Fu(getsockopt_optint)p
Fw(,)g Fu(getsockopt_float)-71 2836 y Fw(p)s(our)28 b(consulter)g(ces)i
(param)m(\022)-43 b(etres)31 b(et)f(autan)m(t)g(de)f(v)-5
b(arian)m(tes)29 b(de)g(la)g(forme)g Fu(setsockopt)e
Fw(On)h(p)s(ourra)g(consulter)-71 2949 y(l'app)s(endice)g(B.2)k(p)s
(our)d(a)m(v)m(oir)i(la)f(liste)f(d)m(\023)-43 b(etaill)m(\023)g(ees)32
b(des)e(options)f(et)i(le)f(man)m(uel)g(unix)f(p)s(our)f(leur)i(sens)f
(exact.)70 3063 y(A)22 b(titre)f(d'exemples,)f(v)m(oici)h(deux)g(t)m
(yp)s(es)g(de)g(r)m(\023)-43 b(eglages,)23 b(qui)d(ne)h(s'applique)e
(qu'\022)-45 b(a)21 b(des)g(prises)f(dans)g(le)h(domaine)-71
3176 y Fu(INET)33 b Fw(de)g(t)m(yp)s(e)h Fu(SOCK_STREAM)p
Fw(.)d(La)j(d)m(\023)-43 b(econnection)35 b(de)e(prises)f(au)i(proto)s
(cole)g Fu(TCP)f Fw(est)h(n)m(\023)-43 b(ego)s(ci)m(\023)g(ee,)37
b(ce)d(qui)f(p)s(eut)-71 3289 y(prend)25 b(un)h(certain)h(temps.)f
(Normalemen)m(t)h(l'app)s(el)e Fu(close)h Fw(retourne)g(imm)m(\023)-43
b(ediatemen)m(t,)27 b(alors)g(que)f(le)h(syst)m(\022)-43
b(eme)-71 3402 y(n)m(\023)g(ego)s(cie)32 b(la)e(fermeture.)311
3535 y Fu(setsockopt_optint)43 b(sock)k(SO_LINGER)e(\(Some)h(5\);;)-71
3668 y Fw(Cette)34 b(option)e(rend)g(l'op)m(\023)-43
b(eration)33 b Fu(close)e Fw(blo)s(quan)m(te)h(sur)g(la)g(so)s(c)m(k)m
(et)j Fu(sock)d Fw(jusqu'\022)-45 b(a)32 b(ce)h(que)g(les)f(donn)m
(\023)-43 b(ees)33 b(d)m(\023)-43 b(ej\022)e(a)-74 3781
y(\023)i(emises)31 b(soien)m(t)g(e\013ectiv)m(emen)m(t)h(transmisse)d
(ou)i(qu'un)e(d)m(\023)-43 b(elai)30 b(de)g(5s)h(se)f(soit)e(\023)-43
b(ecoul)m(\023)g(e.)311 3914 y Fu(setsockopt)45 b(sock)i(SO_REUSEADDR)l
(;;)-71 4048 y Fw(L'option)34 b Fu(SO_REUSEADDR)e Fw(dit)i(\022)-45
b(a)35 b(la)f(commmande)h(bind)d(qu'une)i(prise)f(p)s(eut)f(^)-43
b(etre)35 b(r)m(\023)-43 b(eallou)m(\023)g(ee)37 b(\022)-45
b(a)35 b(une)f(adresse)-71 4160 y(lo)s(cale)d(sur)e(laquelle)g(toutes)j
(les)e(comm)m(unications)g(son)m(t)h(en)g(cours)g(de)f(d)m(\023)-43
b(econnection.)32 b(\(Le)f(risque)f(est)h(qu'une)-71
4273 y(nouv)m(elle)f(connection)g(capture)h(les)f(paquets)g(destin)m
(\023)-43 b(es)30 b(\022)-45 b(a)31 b(l'ancienne)e(connection\).)-71
4524 y Fg(5.7.2)113 b(Les)38 b(lectutres/)n(\023)-54
b(ecritures)35 b(a)m(v)m(ec)i(options)70 4698 y Fw(Les)d(primitiv)m(es)
e Fu(recv)h Fw(et)i Fu(send)e Fw(g)m(\023)-43 b(en)m(\023)g(eralisen)m
(t)36 b(les)d(fonctions)h Fu(read)f Fw(et)h Fu(write)f
Fw(resp)s(ectiv)m(emen)m(t)i(\(mais)e(ne)-71 4811 y(s'appliquen)m(t)c
(qu'aux)h(descripteurs)e(de)i(t)m(yp)s(e)h(prise\).)311
4944 y Fu(recv)47 b(:)g(file_descr)e(->)i(string)f(->)h(int)g(->)h(int)
e(->)i(msg_flag)d(list)i(->)g(int)311 5056 y(send)g(:)g(file_descr)e
(->)i(string)f(->)h(int)g(->)h(int)e(->)i(msg_flag)d(list)i(->)g(int)
-71 5190 y Fw(Leur)d(in)m(terface)i(est)f(similaire)d(\022)-45
b(a)46 b Fu(read)d Fw(et)j Fu(write)d Fw(mais)i(elles)f(prennen)m(t)g
(c)m(hacune)h(en)g(plus)e(une)h(liste)g(de)-71 5303 y(drap)s(eaux)25
b(donc)h(la)g(signi\014cation)e(est)j(la)f(suiv)-5 b(an)m(te.)26
b Fu(MSG_OOB)e Fw(p)s(ermet)i(d'en)m(v)m(o)m(y)m(er)i(une)e(v)-5
b(aleur)25 b(exceptionnelle.)-71 5416 y Fu(MSG_DONTROUTE)38
b Fw(indique)h(de)i(courcicuiter)f(les)h(tables)g(de)g(routage)i(par)e
(d)m(\023)-43 b(efaut.)42 b Fu(MSG_PEEK)e Fw(consulte)h(les)-71
5529 y(donn)m(\023)-43 b(ees)31 b(sans)f(les)g(lire.)p
Black Black eop
%%Page: 70 70
70 69 bop Black -71 24 a Fw(70)1098 b Fs(CHAPITRE)29
b(5.)62 b(COMMUNICA)-8 b(TIONS)29 b(MODERNES)i(:)f(LES)g(PRISES)p
Black -71 280 a Fg(5.7.3)113 b(Les)38 b(lectures/)n(\023)-54
b(ecritures)35 b(en)j(mo)s(de)f(d)n(\023)-54 b(econnect)n(\023)g(e)70
453 y Fw(Le)42 b(proto)s(cole)g Fu(tcp)f Fw(utilis)m(\023)-43
b(e)40 b(par)h(la)g(plupart)f(des)h(connections)h(de)f(t)m(yp)s(e)h
Fu(SOCK_STREAM)c Fw(ne)k(fonctionne)-71 566 y(qu'en)33
b(mo)s(de)g(connect)m(\023)-43 b(e.)35 b(In)m(v)m(ersemen)m(t)g(le)d
(proto)s(cole)i Fu(udp)e Fw(utilis)m(\023)-43 b(e)32
b(par)h(la)g(plupart)e(des)i(connections)g(de)g(t)m(yp)s(e)-71
679 y Fu(SOCK_DGRAM)c Fw(fonctionne)i(toujours)g(de)g(fa\030)-40
b(con)32 b(in)m(terne)f(en)g(mo)s(de)g(d)m(\023)-43 b(econnect)m(\023)g
(e.)35 b(C'est-\022)-45 b(a-dire)32 b(qu'il)d(n'y)i(a)h(pas)-71
792 y(de)e(connection)e(\023)-43 b(etablie)31 b(en)m(tre)g(les)f(deux)f
(mac)m(hines.)70 905 y(Ce)34 b(t)m(yp)s(e)f(de)h(prise)e(p)s(eut)e(^)
-43 b(etre)34 b(utilis)m(\023)-43 b(e)33 b(sans)d(\023)-43
b(etablir)33 b(de)g(connection)h(au)f(pr)m(\023)-43 b(ealable.)34
b(P)m(our)f(cela)h(on)f(utilise)-71 1018 y(les)25 b(fonctions)h
Fu(recvfrom)d Fw(et)k Fu(sendto)d Fw(qui)h(g)m(\023)-43
b(en)m(\023)g(eralisen)m(t)27 b Fu(recv)e Fw(et)h Fu(send)f
Fw(en)h(fournissan)m(t)e(en)i(plus,)e(p)s(our)g(c)m(haque)-71
1131 y(app)s(el,)29 b(l'adresse)h(du)g(corresp)s(ondan)m(t.)311
1263 y Fu(recvfrom)45 b(:)406 1376 y(file_descr)g(->)j(string)e(->)h
(int)g(->)g(int)g(->)g(msg_flag)f(list)g(->)h(int)g(*)h(sockaddr)311
1489 y(sendto)e(:)406 1602 y(file_descr)f(->)j(string)e(->)h(int)g(->)g
(int)g(->)g(msg_flag)f(list)g(->)h(sockaddr)f(->)h(int)-71
1735 y Fw(Une)26 b(prise)e(de)i(t)m(yp)s(e)f Fu(SOCK_DGRAM)e
Fw(p)s(eut)g(\023)-43 b(egalemen)m(t)25 b(^)-43 b(etre)27
b(branc)m(h)m(\023)-43 b(ee)27 b(a)m(v)m(ec)g Fu(connect)p
Fw(,)d(mais)h(il)g(s'agit)h(d'une)f(illu-)-71 1848 y(sion)i(\(on)h
(parle)e(de)i(pseudo-connection\).)g(L'e\013et)h(de)e(la)g
(pseudo-connection)h(est)g(puremen)m(t)f(lo)s(cal.)g(L'adresse)-71
1961 y(pass)m(\023)-43 b(ee)48 b(en)e(argumen)m(t)h(est)g(simplemen)m
(t)e(m)m(\023)-43 b(emoris)m(\023)g(ee)49 b(dans)c(la)h(prise)f(et)j
(devien)m(t)e(l'adresse)g(utilis)m(\023)-43 b(ee)46 b(p)s(our)-71
2074 y(l')m(\023)-43 b(emission)29 b(et)i(la)f(r)m(\023)-43
b(eception)32 b(\(les)e(messages)h(v)m(enan)m(t)h(d'une)d(autre)i
(adresse)f(son)m(t)h(ignor)m(\023)-43 b(es\).)70 2187
y(Les)38 b(prises)e(de)i(ce)g(t)m(yp)s(e)g(p)s(euv)m(en)m(t)e(^)-43
b(etre)39 b(connect)m(\023)-43 b(ees)40 b(plusieurs)34
b(fois)j(p)s(our)g(c)m(hanger)h(leur)f(a\013ectation,)i(et)-71
2300 y(d)m(\023)-43 b(econnect)m(\023)g(ee)38 b(en)c(les)f(connectan)m
(t)j(sur)d(une)g(adresse)h(in)m(v)-5 b(alide,)33 b(par)g(exemple)h(0.)h
(\(P)m(ar)f(opp)s(osition,)f(la)g(recon-)-71 2413 y(nection)d(d'une)g
(prise)f(de)h(t)m(yp)s(e)g Fu(SOCK_STREAM)e Fw(pro)s(duit)g(en)i(g)m
(\023)-43 b(en)m(\023)g(eral)32 b(un)e(erreur.\))-71
2702 y Fq(5.8)135 b(Exemple)46 b(complet)g(:)f(le)h(clien)l(t-serv)l
(eur)g(univ)l(ersel)70 2906 y Fw(On)30 b(v)-5 b(a)30
b(d)m(\023)-43 b(e\014nir)30 b(deux)f(commandes,)i Fu(client)e
Fw(et)i Fu(server)p Fw(,)e(qui)g(on)m(t)i(le)f(comp)s(ortemen)m(t)h
(suiv)-5 b(an)m(t)30 b(:)p Black 70 3019 a({)p Black
46 w Fu(client)24 b Ft(host)i(por)s(t)d Fw(\023)-43 b(etablit)26
b(une)f(connexion)g(a)m(v)m(ec)j(le)e(service)f(de)h(n)m(um)m(\023)-43
b(ero)27 b Ft(por)s(t)e Fw(sur)g(la)g(mac)m(hine)h(de)f(nom)161
3131 y Ft(host)p Fw(,)38 b(puis)e(en)m(v)m(oie)j(sur)e(la)g(connexion)g
(tout)i(ce)f(qu'il)e(lit)h(sur)g(son)g(en)m(tr)m(\023)-43
b(ee)40 b(standard,)e(et)e(\023)-43 b(ecrit)38 b(sur)f(sa)161
3244 y(sortie)30 b(standard)g(tout)h(ce)g(qu'il)e(re\030)-40
b(coit)30 b(sur)g(la)g(connexion)p Black 70 3357 a({)p
Black 46 w Fu(server)22 b Ft(por)s(t)h(cmd)h(ar)s(g)986
3371 y Fz(1)1064 3357 y Ft(:)15 b(:)g(:)40 b(ar)s(g)1344
3371 y Fe(n)1415 3357 y Fw(re\030)-40 b(coit)24 b(les)f(demandes)g(de)h
(connexion)f(au)g(n)m(um)m(\023)-43 b(ero)25 b Ft(por)s(t)p
Fw(,)e(et)h(\022)-45 b(a)24 b(c)m(haque)161 3470 y(connexion)37
b(lance)h(la)f(commande)h Ft(cmd)g Fw(a)m(v)m(ec)h Ft(ar)s(g)1950
3484 y Fz(1)2043 3470 y Ft(:)15 b(:)g(:)53 b(ar)s(g)2336
3484 y Fe(n)2421 3470 y Fw(comme)38 b(argumen)m(ts,)g(et)g(la)g
(connexion)161 3583 y(comme)31 b(en)m(tr)m(\023)-43 b(ee)33
b(et)e(sortie)f(standard.)-71 3696 y(P)m(ar)h(exemple,)f(si)g(on)g
(lance)311 3829 y Fu(server)46 b(8500)h(grep)f(foo)-71
3961 y Fw(sur)29 b(la)h(mac)m(hine)g Fu(pomerol)p Fw(,)f(on)h(p)s(eut)g
(ensuite)g(faire)f(depuis)g(n'imp)s(orte)g(quelle)g(mac)m(hine)311
4094 y Fu(client)46 b(pomerol)g(8500)g(<)i(/etc)o(/passwd)-71
4227 y Fw(et)31 b(il)e(s'a\016c)m(he)i(la)f(m)m(^)-43
b(eme)32 b(c)m(hose)f(que)g(si)e(on)h(a)m(v)-5 b(ait)32
b(fait)311 4359 y Fu(grep)47 b(foo)f(<)i(/etc)o(/passwd)-71
4492 y Fw(sauf)30 b(que)g Fu(grep)f Fw(est)i(ex)m(\023)-43
b(ecut)m(\023)g(e)34 b(sur)29 b Fu(pomerol)p Fw(,)g(et)i(non)f(pas)g
(sur)f(la)h(mac)m(hine)g(lo)s(cale.)70 4606 y(Ces)g(deux)g(commandes)g
Fu(client)f Fw(et)i Fu(server)d Fw(constituen)m(t)j(une)e(application)g
(clien)m(t-serv)m(eur)h(\\univ)m(ersel",)-71 4719 y(dans)23
b(la)g(mesure)g(o)s(\022)-48 b(u)23 b(ils)f(regroup)s(en)m(t)h(le)g(co)
s(de)h(d')m(\023)-43 b(etablissemen)m(t)24 b(de)f(service)h(et)g(de)f
(connexions)g(qui)f(est)i(comm)m(un)-71 4831 y(\022)-45
b(a)33 b(b)s(eaucoup)e(de)h(serv)m(eurs,)g(tout)h(en)f(d)m(\023)-43
b(el)m(\023)g(eguan)m(t)34 b(la)e(partie)f(impl)m(\023)-43
b(emen)m(tation)32 b(du)f(service)h(et)h(du)e(proto)s(cole)h(de)-71
4944 y(comm)m(unication,)42 b(propre)f(\022)-45 b(a)43
b(c)m(haque)g(application,)d(\022)-45 b(a)43 b(d'autres)f(programmes)g
(:)h(le)e(programme)h(lanc)m(\023)-43 b(e)44 b(par)-71
5057 y Fu(server)p Fw(,)29 b(p)s(our)g(la)h(partie)g(serv)m(eur)15
b(;)30 b(le)g(programme)h(qui)e(app)s(elle)f Fu(client)p
Fw(,)h(p)s(our)g(la)h(partie)g(clien)m(t.)70 5171 y(On)41
b(commence)h(par)f(la)g(commande)g Fu(client)p Fw(.)f(La)i(premi)m
(\022)-43 b(ere)41 b(fonction,)g Fu(retransmit)p Fw(,)e(se)j(con)m(ten)
m(te)h(de)-71 5284 y(recopier)31 b(les)g(donn)m(\023)-43
b(ees)31 b(arriv)-5 b(an)m(t)31 b(d'un)f(descripteur)f(sur)i(un)f
(autre)h(descripteur.)f(Elle)g(termine)g(lorsque)g(la)h(\014n)-71
5396 y(de)f(\014c)m(hier)g(est)h(attein)m(te)h(sur)d(le)h(descripteur)f
(d'en)m(tr)m(\023)-43 b(ee.)193 5529 y Fz(1)83 b Fv(op)s(en)48
b Fu(Sys)o(;;)p Black Black eop
%%Page: 71 71
71 70 bop Black -71 24 a Fs(5.8.)62 b(EXEMPLE)30 b(COMPLET)f(:)i(LE)f
(CLIENT-SER)-10 b(VEUR)29 b(UNIVERSEL)1038 b Fw(71)p
Black 193 280 a Fz(2)83 b Fv(op)s(en)48 b Fu(Unix)o(;;)193
393 y Fz(3)193 506 y(4)83 b Fv(let)53 b Fu(retransmit)45
b(input)h(output)g(=)193 619 y Fz(5)178 b Fv(let)48 b
Fu(buffer)e(=)h(String)o(.)o(create)f(4096)h Fv(in)193
732 y Fz(6)178 b Fv(let)48 b(rec)g Fu(copy)o(\(\))f(=)193
845 y Fz(7)274 b Fv(matc)m(h)47 b Fu(read)f(input)h(buffer)f(0)h(4096)g
Fv(with)193 958 y Fz(8)369 b Fu(0)48 b(->)f(\(\))193
1071 y Fz(9)274 b Fu(|)47 b(n)h(->)f(ignore)f(\(write)g(output)g
(buffer)g(0)i(n)o(\);)g(copy)o(\(\))f Fv(in)157 1184
y Fz(10)179 b Fu(copy)47 b(\(\);;)-71 1343 y Fw(Les)31
b(c)m(hoses)g(s)m(\023)-43 b(erieuses)30 b(commencen)m(t)i(ici.)157
1476 y Fz(11)84 b Fv(let)53 b Fu(client)46 b(\(\))h(=)157
1589 y Fz(12)179 b Fv(if)56 b Fu(Array)n(.length)46 b(Sys)o(.argv)h(<)g
(3)h Fv(then)f(b)s(egin)157 1702 y Fz(13)275 b Fu(prerr_endline)44
b Fo("Usage)n(:)k(client)e(<host)o(>)h(<port)o(>)o(")p
Fu(;)157 1815 y Fz(14)275 b Fu(exit)46 b(2;)157 1927
y Fz(15)179 b Fv(end)p Fu(;)157 2040 y Fz(16)g Fv(let)48
b Fu(server_name)c(=)k(Sys)o(.argv)o(.\(1\))157 2153
y Fz(17)179 b Fv(and)48 b Fu(port_number)d(=)i(int_of_string)d(Sys.)o
(argv)o(.\(2\))j Fv(in)157 2266 y Fz(18)179 b Fv(let)48
b Fu(server_addr)c(=)157 2379 y Fz(19)275 b Fv(try)47
b Fu(\(gethostbyname)d(server_name)m(\).h_addr_list)m(.\(0\))157
2492 y Fz(20)275 b Fv(with)47 b Fu(Not_found)e(->)157
2605 y Fz(21)370 b Fu(prerr_endline)44 b(\()p Fo("Unknown)i(host)g(")i
Fu(^)f(server_name)m(\);)157 2718 y Fz(22)370 b Fu(exit)47
b(2)g Fv(in)157 2831 y Fz(23)179 b Fv(let)48 b Fu(sock)e(=)i(socket)e
(PF_INET)g(SOCK_STREAM)e(0)k Fv(in)157 2944 y Fz(24)179
b Fu(connect)46 b(sock)h(\(ADDR_INET)m(\(server_addr)m(,)g(port_number)
m(\)\);)157 3057 y Fz(25)179 b Fv(matc)m(h)47 b Fu(fork)o(\(\))g
Fv(with)157 3169 y Fz(26)275 b Fu(0)47 b(->)g(retransmit)e(stdin)i
(sock)o(;)157 3282 y Fz(27)370 b Fu(shutdown)46 b(sock)g(SHUTDOWN_SEND)
m(;)157 3395 y Fz(28)370 b Fu(exit)47 b(0)157 3508 y
Fz(29)179 b Fu(|)48 b(_)f(->)g(retransmit)e(sock)i(stdout)n(;)157
3621 y Fz(30)370 b Fu(close)47 b(stdout)n(;)157 3734
y Fz(31)370 b Fu(wait)o(\(\))157 3847 y Fz(32)84 b Fu(;;)157
3960 y Fz(33)g Fu(handle_unix_error)43 b(client)j(\(\);;)-71
4120 y Fw(On)41 b(commence)i(par)f(d)m(\023)-43 b(eterminer)42
b(l'adresse)f(In)m(ternet)i(du)e(serv)m(eur)h(auquel)f(se)h(connecter.)
h(Elle)e(p)s(eut)e(^)-43 b(etre)-71 4232 y(donn)m(\023)g(ee)35
b(\(dans)f(le)g(premier)e(argumen)m(t)j(de)f(la)g(commande\))h(ou)f
(bien)f(sous)h(forme)g(n)m(um)m(\023)-43 b(erique,)34
b(ou)g(bien)e(sous)-71 4345 y(forme)39 b(d'un)e(nom)i(de)f(mac)m(hine.)
h(La)g(commande)g Fu(gethostbyname)c Fw(traite)40 b(correctemen)m(t)g
(les)f(deux)f(cas)h(de)-71 4458 y(\014gure.)h(Dans)g(le)f(cas)i(d'une)e
(adresse)h(sym)m(b)s(olique,)e(la)i(base)g Fu(/etc/hosts)d
Fw(est)k(in)m(terrog)m(\023)-43 b(ee)41 b(et)g(on)f(prend)e(la)-71
4571 y(premi)m(\022)-43 b(ere)44 b(des)g(adresses)f(obten)m(ues.)i
(Dans)f(le)f(cas)i(d'une)e(adresse)h(n)m(um)m(\023)-43
b(erique)43 b(aucune)h(v)m(\023)-43 b(eri\014cation)44
b(n'est)-71 4684 y(e\013ectu)m(\023)-43 b(ee)33 b(:)e(une)f(structure)g
(est)g(simplemen)m(t)f(in)m(v)m(en)m(t)m(\023)-43 b(ee)33
b(p)s(our)c(l'adresse)h(demand)m(\023)-43 b(ee.)70 4824
y(Ensuite,)24 b(on)h(cr)m(\023)-43 b(ee)27 b(une)d(prise)g(dans)g(le)h
(domaine)f(In)m(ternet,)i(a)m(v)m(ec)h(la)e(s)m(\023)-43
b(eman)m(tique)26 b(\\stream")g(et)g(le)f(proto)s(cole)-71
4937 y(par)30 b(d)m(\023)-43 b(efaut,)32 b(et)f(on)f(la)g(connecte)i
(\022)-45 b(a)30 b(l'adresse)g(indiqu)m(\023)-43 b(ee.)70
5077 y(On)30 b(clone)g(alors)g(le)g(pro)s(cessus)g(par)g
Fu(fork)p Fw(.)f(Le)i(pro)s(cessus)e(\014ls)g(recopie)i(les)f(donn)m
(\023)-43 b(ees)31 b(de)f(l'en)m(tr)m(\023)-43 b(ee)32
b(standard)-71 5190 y(v)m(ers)37 b(la)g(prise)14 b(;)37
b(lorsque)f(la)g(\014n)g(de)h(\014c)m(hier)f(est)i(attein)m(te)g(sur)e
(l'en)m(tr)m(\023)-43 b(ee)39 b(standard,)d(il)f(ferme)i(la)g
(connexion)f(en)-74 5303 y(\023)-43 b(ecriture,)31 b(transmettan)m(t)g
(ainsi)e(une)g(\014n)g(de)h(\014c)m(hier)f(au)h(serv)m(eur,)h(et)f
(termine.)g(Le)g(pro)s(cessus)f(p)m(\022)-43 b(ere)31
b(recopie)f(sur)-71 5416 y(la)f(sortie)g(standard)g(les)g(donn)m(\023)
-43 b(ees)30 b(lues)e(sur)g(la)h(prise.)g(Lorsqu'une)f(\014n)g(de)h
(\014c)m(hier)g(est)h(d)m(\023)-43 b(etect)m(\023)g(ee)33
b(sur)28 b(la)h(prise,)g(il)-71 5529 y(se)i(sync)m(hronise)e(a)m(v)m
(ec)j(le)e(pro)s(cessus)g(\014ls)e(par)i Fu(wait)p Fw(,)g(et)h
(termine.)p Black Black eop
%%Page: 72 72
72 71 bop Black -71 24 a Fw(72)1098 b Fs(CHAPITRE)29
b(5.)62 b(COMMUNICA)-8 b(TIONS)29 b(MODERNES)i(:)f(LES)g(PRISES)p
Black 70 280 a Fw(On)g(passe)g(main)m(tenan)m(t)h(\022)-45
b(a)31 b(la)f(commande)g Fu(server)p Fw(.)193 413 y Fz(1)83
b Fv(op)s(en)48 b Fu(Sys)o(;;)193 526 y Fz(2)83 b Fv(op)s(en)48
b Fu(Unix)o(;;)193 639 y Fz(3)193 752 y(4)83 b Fv(let)53
b Fu(server)46 b(\(\))h(=)193 864 y Fz(5)178 b Fv(if)56
b Fu(Array)n(.length)46 b(Sys)o(.argv)h(<)g(2)h Fv(then)f(b)s(egin)193
977 y Fz(6)274 b Fu(prerr_endline)44 b Fo("Usage)n(:)k(client)e(<port)o
(>)h(<command)n(>)g([arg1)g(...)g(argn)n(]")p Fu(;)193
1090 y Fz(7)274 b Fu(exit)46 b(2;)193 1203 y Fz(8)178
b Fv(end)p Fu(;)193 1316 y Fz(9)g Fv(let)48 b Fu(port)e(=)i
(int_of_string)c(Sys)o(.argv)o(.\(1\))i Fv(in)157 1429
y Fz(10)179 b Fv(let)48 b Fu(args)e(=)i(Array)n(.sub)f(Sys)o(.argv)g(2)
g(\(Array)n(.length)f(Sys)o(.argv)h(-)g(2\))g Fv(in)157
1542 y Fz(11)179 b Fv(let)48 b Fu(host)e(=)i(\(gethostbyname)l
(\(gethostname)m(\(\)\)\).)n(h_addr_list)m(.\(0\))f Fv(in)157
1655 y Fz(12)179 b Fv(let)48 b Fu(addr)e(=)i(ADDR_INET)d(\(host)o(,)i
(port)o(\))h Fv(in)157 1768 y Fz(13)179 b Fv(let)48 b
Fu(treat)e(sock)h(\()o(client_sock)m(,)h(client_addr)d
Fv(as)i Fu(client)o(\))g(=)157 1881 y Fz(14)275 b Fo(\(*)47
b(log)g(information)e(*\))157 1994 y Fz(15)275 b Fv(b)s(egin)48
b(matc)m(h)f Fu(client_addr)e Fv(with)157 2106 y Fz(16)370
b Fu(ADDR_INET)n(\(caller)n(,)47 b(_\))h(->)157 2219
y Fz(17)466 b Fu(prerr_endline)44 b(\()p Fo(")o(Connection)h(from)i(")g
Fu(^)h(string_of_inet_addr)42 b(caller)o(\);)157 2332
y Fz(18)275 b Fu(|)47 b(ADDR_UNIX)f(_)h(->)157 2445 y
Fz(19)466 b Fu(prerr_endline)44 b Fo("Connection)h(from)h(the)h(Unix)g
(domain)f(\(???\))o(")o Fu(;)157 2558 y Fz(20)275 b Fv(end)p
Fu(;)157 2671 y Fz(21)g Fo(\(*)47 b(connection)e(treatment)g(*\))157
2784 y Fz(22)275 b Fv(let)47 b Fu(service)f(\(s)o(,)i(_\))f(=)157
2897 y Fz(23)370 b Fu(dup2)47 b(s)g(stdin)o(;)g(dup2)g(s)h(stdout)n(;)f
(dup2)g(s)g(stderr)o(;)g(close)g(s)o(;)157 3010 y Fz(24)370
b Fu(execvp)46 b(args)o(.\(0\))h(args)g Fv(in)157 3123
y Fz(25)275 b Fu(More)o(.)o(double_fork_treatment)42
b(sock)47 b(service)f(client)g Fv(in)157 3236 y Fz(26)179
b Fu(More)o(.tcp_server)45 b(treat)h(addr)o(;;)157 3348
y Fz(27)157 3461 y(28)84 b Fu(handle_unix_error)43 b(server)j(\(\);;)
-71 3599 y Fw(L'adresse)36 b(fournie)e(\022)-45 b(a)36
b Fu(tcp_server)d Fw(con)m(tien)m(t)k(l'adresse)e(In)m(ternet)h(de)f
(la)h(mac)m(hine)f(qui)g(fait)g(tourner)g(le)g(pro-)-71
3712 y(gramme)16 b(;)23 b(la)g(mani)m(\022)-43 b(ere)23
b(habituelle)e(de)i(l'obtenir)e(\(lignes)h(11\))i(est)g(de)f(c)m(herc)m
(her)h(le)e(nom)h(de)g(la)f(mac)m(hine)h(\(ren)m(v)m(o)m(y)m(\023)-43
b(e)-71 3825 y(par)28 b(l'app)s(el)f Fu(gethostname)p
Fw(\))f(dans)i(la)g(table)g Fu(/etc/hosts)p Fw(.)e(En)i(fait,)h(il)e
(existe)i(en)f(g)m(\023)-43 b(en)m(\023)g(eral)31 b(plusieurs)25
b(adresses)-71 3938 y(p)s(our)19 b(acc)m(\023)-43 b(eder)23
b(\022)-45 b(a)20 b(une)g(mac)m(hine.)h(P)m(ar)f(exemple,)h(en)f(plus)e
(l'adresse)i(de)h(la)f(mac)m(hine)g(pauillac)e(est)j
Fu(128.93.11.35)p Fw(,)-71 4051 y(mais)31 b(on)h(p)s(eut)d(\023)-43
b(egalemen)m(t)34 b(y)e(acc)m(\023)-43 b(eder)34 b(en)e(lo)s(cale)f
(\(si)h(l'on)f(est)i(d)m(\023)-43 b(ej\022)e(a)33 b(sur)d(la)i(mac)m
(hine)g(pauillac\))e(par)i(l'adresse)-71 4164 y Fu(127.0.0.1)p
Fw(.)38 b(P)m(our)i(o\013rir)f(un)f(service)i(sur)f(toutes)i(les)e
(adresses)h(d)m(\023)-43 b(esignan)m(t)41 b(la)f(mac)m(hine,)g(on)f(p)s
(eut)h(utiliser)-71 4277 y(l'adresse)30 b Fu(inet_addr_any)p
Fw(.)70 4395 y(Le)e(treatmen)m(t)g(du)e(service)i(se)f(fera)g(ici)f
(par)h(un)f Fm(<)p Fw(double)f(fork)p Fm(>)i Fw(apr)m(\022)-43
b(es)28 b(a)m(v)m(oir)d(\023)-43 b(emis)27 b(quelques)f(informations)
-71 4508 y(sur)i(la)g(connection.)h(Le)g(traitemen)m(t)g(du)f(service)g
(consiste)h(\022)-45 b(a)29 b(rediriger)d(l'en)m(tr)m(\023)-43
b(ee)30 b(standard)e(et)h(les)f(deux)g(sorties)-71 4620
y(standard)21 b(v)m(ers)i(la)e(prise)g(sur)g(laquelle)f(est)j
(e\013ectu)m(\023)-43 b(ee)24 b(la)e(connection)g(puis)e(d')m(\023)-43
b(ex)m(\023)g(ecuter)25 b(la)d(commande)g(souhait)m(\023)-43
b(ee.)70 4739 y(Remarque)43 b(:)g(la)g(fermeture)f(de)h(la)g(connexion)
f(se)h(fait)g(sans)f(in)m(terv)m(en)m(tion)h(du)f(programme)h
Fu(serveur)p Fw(.)-71 4852 y(Premier)30 b(cas)i(:)f(le)g(clien)m(t)g
(re\030)-40 b(coit)32 b(une)e(\014n)g(de)h(\014c)m(hier)g(sur)f(son)h
(en)m(tr)m(\023)-43 b(ee)33 b(standard.)e(Il)f(ferme)h(alors)g(la)g
(connexion)-71 4964 y(dans)d(le)g(sens)g(clien)m(t)f(v)m(ers)i(serv)m
(eur.)f(La)h(commande)f(lanc)m(\023)-43 b(ee)30 b(par)e(le)g(serv)m
(eur)g(re\030)-40 b(coit)29 b(une)e(\014n)h(de)g(\014c)m(hier)f(sur)g
(son)-71 5077 y(en)m(tr)m(\023)-43 b(ee)28 b(standard.)c(Elle)g
(\014nit)g(ce)i(qu'elle)f(a)h(\022)-45 b(a)25 b(faire,)g(puis)f(app)s
(elle)f Fu(exit)p Fw(.)i(Ceci)g(ferme)g(ses)h(sorties)f(standard,)f
(qui)-71 5190 y(son)m(t)31 b(les)g(derniers)e(descripteurs)g(ouv)m
(erts)i(en)d(\023)-43 b(ecriture)31 b(sur)e(la)i(connexion.)f(Le)h
(clien)m(t)g(re\030)-40 b(coit)31 b(donc)f(une)h(\014n)e(de)-71
5303 y(\014c)m(hier)22 b(sur)f(la)h(connexion,)g(et)h(termine)f(\022)
-45 b(a)22 b(son)g(tour.)h(Le)f(cas)i(o)s(\022)-48 b(u)22
b(le)g(clien)m(t)g(termine)f(pr)m(\023)-43 b(ematur)m(\023)g(emen)m(t)
25 b(\(signal\))d(est)-71 5416 y(similaire,)29 b(sauf)h(que)h(la)g
(connexion)f(est)i(compl)m(\022)-43 b(etemen)m(t)33 b(ferm)m(\023)-43
b(ee)32 b(du)f(c^)-45 b(ot)m(\023)i(e)33 b(du)d(clien)m(t,)h(ce)h(qui)e
(p)s(eut)g(pro)m(v)m(o)s(quer)-71 5529 y(la)k(mort)g(an)m(ticip)m(\023)
-43 b(ee)34 b(par)g(signal)e Fu(SIGPIPE)g Fw(de)i(la)f(commande)h(du)f
(c^)-45 b(ot)m(\023)i(e)36 b(serv)m(eur)15 b(;)34 b(\030)-40
b(ca)35 b(con)m(vien)m(t)g(parfaitemen)m(t,)p Black Black
eop
%%Page: 73 73
73 72 bop Black -71 24 a Fs(5.9.)62 b(PRIMITIVES)29 b(DE)i(HA)m(UT)g
(NIVEA)m(U)2196 b Fw(73)p Black -71 280 a(vu)37 b(que)g(plus)f(p)s
(ersonne)g(n'est)h(l\022)-45 b(a)37 b(p)s(our)f(lire)g(les)h(sorties)g
(de)g(cette)i(commande.)f(En\014n,)e(la)h(commande)h(c^)-45
b(ot)m(\023)i(e)-71 393 y(serv)m(eur)26 b(p)s(eut)f(terminer)f(\(de)i
(son)g(plein)d(gr)m(\023)-43 b(e)28 b(ou)d(par)g(signal\))g(a)m(v)-5
b(an)m(t)28 b(d'a)m(v)m(oir)e(re\030)-40 b(cu)25 b(une)h(\014n)e(de)i
(\014c)m(hier.)f(Les)h(deux)-71 506 y(r)m(\023)-43 b(ep)m(\023)g
(eteurs)31 b(c^)-45 b(ot)m(\023)i(e)32 b(clien)m(t)d(re\030)-40
b(coiv)m(en)m(t)31 b(l'un)d(une)h(\014n)f(de)h(\014c)m(hier,)g(l'autre)
g(un)g(signal)f Fu(SIGPIPE)p Fw(,)f(ce)k(qui)d(pro)m(v)m(o)s(que)h(la)
-71 619 y(terminaison)g(du)g(pro)s(cessus)g(clien)m(t,)i(puis)d(des)i
(r)m(\023)-43 b(ep)m(\023)g(eteurs.)-71 910 y Fq(5.9)135
b(Primitiv)l(es)47 b(de)e(haut)g(niv)l(eau)70 1114 y
Fw(L'exemple)32 b(du)e(clien)m(t-serv)m(eur)i(univ)m(ersel)e(est)i
(su\016sammen)m(t)f(fr)m(\023)-43 b(equen)m(t)33 b(p)s(our)d(que)i(la)f
(biblioth)m(\022)-43 b(eque)30 b Fu(Unix)-71 1227 y Fw(fournisse)35
b(des)g(fonctions)h(de)g(plus)f(haut)h(niv)m(eau)f(p)s(ermettan)m(t)i
(d')m(\023)-43 b(etablir)36 b(et)h(d'utiliser)c(un)i(service)h(de)h
(fa\030)-40 b(con)-71 1340 y(presque)30 b(transparen)m(te.)311
1473 y Fu(open_connection)44 b(:)j(sockaddr)f(->)h(in_channel)e(*)i
(out_channel)311 1585 y(shutdown_connection)42 b(:)48
b(Pervasives)m(.in_channel)d(->)i(unit)-71 1719 y Fw(La)33
b(fonction)g Fu(open_connection)c Fw(ouvre)k(une)f(prise)g(\022)-45
b(a)34 b(l'adresse)e(re\030)-40 b(cue)34 b(en)e(argumen)m(t)i(et)g(cr)m
(\023)-43 b(ee)35 b(une)d(paire)g(de)-71 1832 y(tamp)s(ons)27
b(\(de)h(la)f(biblioth)m(\022)-43 b(eque)26 b Fu(Pervasives)p
Fw(\))f(d'en)m(tr)m(\023)-43 b(ee-sortie)30 b(sur)c(cette)k(prise.)c
(La)i(comm)m(unication)f(a)m(v)m(ec)i(le)-71 1945 y(serv)m(eur)20
b(se)h(fait)f(donc)g(en)e(\023)-43 b(ecriv)-5 b(an)m(t)21
b(les)f(requ)m(^)-43 b(etes)22 b(dans)d(le)h(tamp)s(on)g(ouv)m(ert)h
(en)d(\023)-43 b(ecriture)20 b(et)h(en)g(lisan)m(t)e(les)h(r)m(\023)-43
b(ep)s(onses)-71 2057 y(dans)35 b(celui)g(ouv)m(ert)h(en)g(lecture.)g
(Comme)g(les)d(\023)-43 b(ecritures)35 b(son)m(t)i(temp)s(oris)m(\023)
-43 b(ees,)36 b(il)e(faut)i(vider)f(le)g(tamp)s(on)h(p)s(our)-71
2170 y(garan)m(tir)25 b(qu'une)e(requ)m(^)-43 b(ete)26
b(est)d(\023)-43 b(emise)25 b(dans)e(sa)i(totalit)m(\023)-43
b(e.)27 b(Le)d(clien)m(t)g(p)s(eut)g(terminer)g(la)g(connexion)g
(brutalemen)m(t)-71 2283 y(en)37 b(ferman)m(t)h(l'un)e(ou)h(l'autre)g
(des)g(deux)g(canaux)h(\(ce)g(qui)e(fermera)i(la)f(prise\))f(ou)h(plus)
f(\\p)s(olimen)m(t")g(par)h(un)-71 2396 y(app)s(el)30
b(\022)-45 b(a)31 b Fu(shutdown_connection)p Fw(.)26
b(\(Si)k(le)h(serv)m(eur)f(ferme)h(la)g(connexion,)f(le)h(clien)m(t)g
(s'en)f(ap)s(ercevra)i(lorsqu'il)-71 2509 y(recevra)f(une)f(\014n)f(de)
i(\014c)m(hier)e(dans)h(le)g(tamp)s(on)f(ouv)m(ert)j(en)e(lecture.\))70
2623 y(De)g(fa\030)-40 b(con)30 b(sym)m(\023)-43 b(etrique,)30
b(un)e(service)h(p)s(eut)d(\023)-43 b(egalemen)m(t)29
b(^)-43 b(etre)28 b(\023)-43 b(etabli)29 b(par)f(la)h(fonction)g
Fu(establish_server)p Fw(.)311 2755 y Fu(establish_server)43
b(:)406 2868 y(\(in_channel)i(->)i(out_channel)e(->)i(unit)o(\))h(->)f
(sockaddr)e(->)i(unit)-71 3001 y Fw(Cette)d(primitiv)m(e)d(prend)g(en)i
(argumen)m(t)g(une)g(fonction)f Ft(f)10 b Fw(,)42 b(resp)s(onsable)g
(du)f(traitemen)m(t)j(des)f(requ)m(^)-43 b(etes,)44 b(et)-71
3114 y(l'adresse)30 b(de)g(la)g(c)m(haussette)i(sur)d(laquelle)g(le)g
(service)h(doit)e(^)-43 b(etre)29 b(\023)-43 b(etabli.)30
b(Chaque)f(connexion)h(au)g(serv)m(eur)g(cr)m(\023)-43
b(ee)-71 3227 y(une)33 b(nouv)m(elle)f(prise)g(\(comme)i(le)e(fait)h
(la)g(fonction)g Fu(accept)p Fw(\))14 b(;)33 b(apr)m(\022)-43
b(es)34 b(a)m(v)m(oir)d(\023)-43 b(et)m(\023)g(e)36 b(clon)m(\023)-43
b(e,)34 b(le)f(pro)s(cessus)f(\014ls)f(cr)m(\023)-43
b(e)m(\023)g(e)-71 3340 y(une)35 b(paire)f(de)i(tamp)s(ons)e(d'en)m(tr)
m(\023)-43 b(ee-sortie)38 b(\(de)d(la)g(biblioth)m(\022)-43
b(eque)34 b Fu(Pervasives)p Fw(\))f(qu'il)h(passe)h(\022)-45
b(a)36 b(la)f(fonction)g Ft(f)-71 3453 y Fw(p)s(our)c(traiter)i(la)g
(connexion.)f(La)h(fonction)f Ft(f)42 b Fw(lit)32 b(les)g(requ)m(^)-43
b(etes)34 b(dans)e(dans)g(le)g(tamp)s(on)h(ouv)m(ert)g(en)g(lecture)f
(et)-71 3566 y(r)m(\023)-43 b(ep)s(ond)27 b(au)h(clien)m(t)f(dans)g
(celui)g(ouv)m(ert)h(en)d(\023)-43 b(ecriture.)28 b(Lorsque)f(le)h
(service)f(est)i(rendu)d(\(c'est-\022)-45 b(a-dire)29
b(lorsque)e Ft(f)37 b Fw(a)-71 3679 y(termin)m(\023)-43
b(e\),)28 b(le)f(pro)s(cessus)f(\014ls)g(ferme)i(la)f(prise)e(et)j
(termine.)f(Si)f(le)h(clien)m(t)g(ferme)g(la)g(connexion)g(gen)m(timen)
m(t,)i(le)e(\014ls)-71 3792 y(recevra)g(une)e(\014n)g(de)h(\014c)m
(hier)f(sur)f(le)i(tamp)s(on)f(ouv)m(ert)i(en)f(lecture.)g(Si)e(le)i
(clien)m(t)f(le)h(fait)f(brutalemen)m(t,)h(le)f(\014ls)g(p)s(eut)-71
3905 y(recev)m(oir)30 b(un)f Fu(SIGPIPE)e Fw(lorsqu'il)g(essa)m(y)m
(era)32 b(de)d(d')m(\023)-43 b(ecrire)30 b(sur)f(la)g(prise)f(ferm)m
(\023)-43 b(ee.)31 b(Quan)m(t)f(au)f(p)m(\022)-43 b(ere,)31
b(il)d(a)i(d)m(\023)-43 b(ej\022)e(a)30 b(sans)-71 4018
y(doute)23 b(servi)f(une)g(autre)h(requ)m(^)-43 b(ete)16
b(!)23 b(La)g(commande)g Fu(establish_server)18 b Fw(ne)23
b(termine)f(pas)g(normalemen)m(t,)h(mais)-71 4130 y(seulemen)m(t)28
b(en)f(cas)h(d'erreur)f(\(par)g(exemple,)h(du)e(run)m(time)h(OCaml)f
(ou)h(du)g(syst)m(\022)-43 b(eme)29 b(p)s(endan)m(t)e(l')m(\023)-43
b(etablissemen)m(t)-71 4243 y(du)29 b(service\).)-71
4534 y Fq(5.10)136 b(Exemples)46 b(de)f(proto)t(coles)70
4739 y Fw(Dans)34 b(les)f(cas)g(simples)f(\()p Fu(rsh)p
Fw(,)h Fu(rlogin)p Fw(,)e(.)16 b(.)f(.\),)34 b(les)f(donn)m(\023)-43
b(ees)34 b(\022)-45 b(a)34 b(transmettre)g(en)m(tre)g(le)f(clien)m(t)f
(et)i(le)f(serv)m(eur)-71 4852 y(se)40 b(pr)m(\023)-43
b(esen)m(ten)m(t)42 b(naturellemen)m(t)c(comme)j(deux)e(\015ux)g(d'o)s
(ctets,)i(l'un)d(du)g(clien)m(t)i(v)m(ers)g(le)f(serv)m(eur,)h(l'autre)
f(du)-71 4964 y(serv)m(eur)e(v)m(ers)g(le)g(clien)m(t.)f(Dans)h(ces)h
(cas-l\022)-45 b(a,)38 b(le)e(proto)s(cole)h(de)g(comm)m(unication)g
(est)e(\023)-43 b(eviden)m(t.)37 b(Dans)g(d'autres)-71
5077 y(cas,)30 b(les)f(donn)m(\023)-43 b(ees)30 b(\022)-45
b(a)30 b(transmettre)g(son)m(t)g(plus)d(complexes,)j(et)g(n)m(\023)-43
b(ecessiten)m(t)31 b(un)e(co)s(dage)h(a)m(v)-5 b(an)m(t)31
b(de)e(p)s(ouv)m(oir)d(^)-43 b(etre)-71 5190 y(transmises)38
b(sous)h(forme)f(de)h(suite)g(d'o)s(ctets)h(sur)d(une)i(prise.)f(Il)f
(faut)i(alors)g(que)g(le)f(clien)m(t)h(et)h(le)e(serv)m(eur)h(se)-71
5303 y(metten)m(t)31 b(d'accord)e(sur)f(un)f(proto)s(cole)j(de)e
(transmission)f(pr)m(\023)-43 b(ecis,)29 b(qui)e(sp)m(\023)-43
b(eci\014e)29 b(le)g(format)g(des)g(requ)m(^)-43 b(etes)30
b(et)f(des)-71 5416 y(r)m(\023)-43 b(ep)s(onses)29 b(\023)-43
b(ec)m(hang)m(\023)g(ees)35 b(sur)30 b(la)h(prise.)f(La)h(plupart)f
(des)h(proto)s(coles)g(emplo)m(y)m(\023)-43 b(es)32 b(par)f(les)g
(commandes)g(Unix)f(son)m(t)-71 5529 y(d)m(\023)-43 b(ecrits)30
b(dans)f(des)g(do)s(cumen)m(ts)g(app)s(el)m(\023)-43
b(es)30 b(\\RF)m(C")h(\(request)f(for)f(commen)m(ts\))i(:)f(au)f(d)m
(\023)-43 b(ebut)30 b(simple)e(prop)s(ositions)p Black
Black eop
%%Page: 74 74
74 73 bop Black -71 24 a Fw(74)1098 b Fs(CHAPITRE)29
b(5.)62 b(COMMUNICA)-8 b(TIONS)29 b(MODERNES)i(:)f(LES)g(PRISES)p
Black -71 280 a Fw(ouv)m(ertes)h(\022)-45 b(a)30 b(la)g(discussion,)d
(ces)j(do)s(cumen)m(ts)g(acqui)m(\022)-43 b(eren)m(t)31
b(v)-5 b(aleur)29 b(de)h(norme)f(au)h(cours)f(du)g(temps,)h(au)g(fur)e
(et)j(\022)-45 b(a)-71 393 y(mesure)30 b(que)g(les)g(utilisateurs)e
(adopten)m(t)j(le)f(proto)s(cole)h(d)m(\023)-43 b(ecrit.)2136
360 y Fz(2)-71 658 y Fg(5.10.1)113 b(Proto)s(coles)35
b(\\binaires")70 837 y Fw(La)h(premi)m(\022)-43 b(ere)36
b(famille)e(de)h(proto)s(coles)h(vise)g(\022)-45 b(a)36
b(transmettre)g(les)f(donn)m(\023)-43 b(ees)37 b(sous)e(une)g(forme)h
(compacte)h(la)-71 950 y(plus)31 b(pro)s(c)m(he)h(p)s(ossible)e(de)i
(leur)f(repr)m(\023)-43 b(esen)m(tation)34 b(en)e(m)m(\023)-43
b(emoire,)33 b(a\014n)f(de)g(minimiser)d(le)j(tra)m(v)-5
b(ail)32 b(de)h(con)m(v)m(ersion)-71 1063 y(n)m(\023)-43
b(ecessaire,)31 b(et)e(de)g(tirer)g(parti)f(au)h(mieux)f(de)h(la)f
(bande)h(passan)m(te)h(du)e(r)m(\023)-43 b(eseau.)30
b(Exemples)e(t)m(ypiques)h(de)f(proto-)-71 1175 y(coles)c(de)g(ce)g(t)m
(yp)s(e)g(:)g(le)f(proto)s(cole)h(X-windo)m(ws,)f(qui)f(r)m(\023)-43
b(egit)25 b(les)c(\023)-43 b(ec)m(hanges)25 b(en)m(tre)g(le)e(serv)m
(eur)h(X)f(et)i(les)e(applications)-71 1288 y(X,)31 b(et)g(le)f(proto)s
(cole)h(NFS)f(\(RF)m(C)h(1094\).)70 1405 y(Les)43 b(nom)m(bres)f(en)m
(tiers)g(ou)g(\015ottan)m(ts)i(son)m(t)f(g)m(\023)-43
b(en)m(\023)g(eralemen)m(t)45 b(transmis)c(comme)j(les)e(1,)h(2,)g(4)g
(ou)f(8)h(o)s(ctets)-71 1518 y(qui)38 b(constituen)m(t)i(leur)e(repr)m
(\023)-43 b(esen)m(tation)41 b(binaire.)d(P)m(our)h(les)g(c)m(ha)-10
b(^)-35 b(\020nes)39 b(de)h(caract)m(\022)-43 b(eres,)42
b(on)e(en)m(v)m(oie)g(d'ab)s(ord)e(la)-71 1631 y(longueur)f(de)h(la)g
(c)m(ha)-10 b(^)-35 b(\020ne,)38 b(sous)g(forme)g(d'un)f(en)m(tier,)i
(puis)d(les)i(o)s(ctets)h(con)m(ten)m(us)g(dans)f(la)g(c)m(ha)-10
b(^)-35 b(\020ne.)38 b(P)m(our)g(des)-71 1744 y(ob)5
b(jets)30 b(structur)m(\023)-43 b(es)29 b(\(n-uplets,)g(records\),)g
(on)g(en)m(v)m(oie)h(leurs)e(c)m(hamps)h(dans)g(l'ordre,)f(concat)m
(\023)-43 b(enan)m(t)33 b(simplemen)m(t)-71 1857 y(leurs)j(repr)m(\023)
-43 b(esen)m(tations.)39 b(P)m(our)f(des)f(ob)5 b(jets)38
b(structur)m(\023)-43 b(es)38 b(de)g(taille)e(v)-5 b(ariable)37
b(\(tableaux\),)h(on)g(en)m(v)m(oie)g(d'ab)s(ord)-71
1970 y(le)f(nom)m(bre)g(d')m(\023)-43 b(el)m(\023)g(emen)m(ts)39
b(qui)d(suiv)m(en)m(t.)h(Le)h(r)m(\023)-43 b(ecepteur)38
b(p)s(eut)f(alors)f(facilemen)m(t)i(reconstituer)f(en)g(m)m(\023)-43
b(emoire)37 b(la)-71 2082 y(structure)43 b(transmise,)f(\022)-45
b(a)44 b(condition)d(de)i(conna)-10 b(^)-35 b(\020tre)43
b(exactemen)m(t)j(son)d(t)m(yp)s(e.)h(Lorsque)e(plusieurs)e(t)m(yp)s
(es)j(de)-71 2195 y(donn)m(\023)-43 b(ees)32 b(son)m(t)g(susceptibles)e
(d')m(^)-43 b(etre)30 b(\023)-43 b(ec)m(hang)m(\023)g(es)35
b(sur)30 b(une)h(prise,)g(on)g(con)m(vien)m(t)h(souv)m(en)m(t)h(d'en)m
(v)m(o)m(y)m(er)g(en)f(premier)-71 2308 y(lieu)d(un)g(en)m(tier)h
(indiquan)m(t)f(le)h(t)m(yp)s(e)g(des)g(donn)m(\023)-43
b(ees)31 b(qui)e(v)-5 b(a)31 b(suivre.)p Black -71 2543
a Fv(Exemple:)p Black 45 w Fw(L'app)s(el)18 b Fu(XFillPolygon)f
Fw(de)k(la)e(biblioth)m(\022)-43 b(eque)19 b(X,)i(qui)e(dessine)g(et)i
(colorie)f(un)f(p)s(olygone,)h(pro)m(v)m(o)s(que)-71
2656 y(l'en)m(v)m(oi)30 b(au)h(serv)m(eur)f(X)g(d'un)f(message)j(de)e
(la)g(forme)g(suiv)-5 b(an)m(te)31 b(:)p Black 70 2769
a({)p Black 46 w(l'o)s(ctet)g(69)h(\(le)e(co)s(de)h(de)f(la)g(commande)
g Fu(FillPoly)p Fw(\))p Black 70 2882 a({)p Black 46
w(un)f(o)s(ctet)j(quelconque)e(de)g(remplissage)p Black
70 2995 a({)p Black 46 w(un)f(en)m(tier)i(sur)e(deux)h(o)s(ctets)h
(indiquan)m(t)e(le)g(nom)m(bre)h(de)h(sommets)f Ft(n)g
Fw(du)g(p)s(olygone)p Black 70 3108 a({)p Black 46 w(un)f(en)m(tier)i
(sur)e(quatre)i(o)s(ctets)g(iden)m(ti\014an)m(t)f(la)g(fen)m(^)-43
b(etre)31 b(o)s(\022)-48 b(u)31 b(tracer)p Black 70 3221
a({)p Black 46 w(un)e(en)m(tier)i(sur)e(quatre)i(o)s(ctets)g(iden)m
(ti\014an)m(t)f(le)g(\\graphic)g(con)m(text")p Black
70 3333 a({)p Black 46 w(un)f(o)s(ctet)j(de)f(\\forme",)g(indiquan)m(t)
d(si)h(le)h(p)s(olygone)g(est)h(con)m(v)m(exe,)i(etc.)p
Black 70 3446 a({)p Black 46 w(un)c(o)s(ctet)j(indiquan)m(t)c(si)i(les)
g(co)s(ordonn)m(\023)-43 b(ees)31 b(des)f(sommets)h(son)m(t)g(absolus)e
(ou)h(relatifs)p Black 70 3559 a({)p Black 46 w(4)p Ft(n)i
Fw(o)s(ctets)h(co)s(dan)m(t)f(les)f(co)s(ordonn)m(\023)-43
b(ees)33 b(des)e(sommets)i(du)d(p)s(olygone,)i(en)f(deux)g(en)m(tiers)h
(de)f(16)i(bits)e(p)s(our)161 3672 y(c)m(haque)g(sommet.)70
3900 y(Dans)24 b(ce)f(t)m(yp)s(e)h(de)e(proto)s(cole,)i(il)e(faut)h
(prendre)e(garde)j(aux)e(di\013)m(\023)-43 b(erences)24
b(d'arc)m(hitecture)f(en)m(tre)h(les)f(mac)m(hines)-71
4012 y(qui)38 b(comm)m(uniquen)m(t.)h(En)g(particulier,)e(dans)h(le)h
(cas)h(d'en)m(tiers)f(sur)f(plusieurs)e(o)s(ctets,)41
b(certaines)f(mac)m(hines)-71 4125 y(metten)m(t)31 b(l'o)s(ctet)f(de)g
(p)s(oids)d(fort)j(en)f(premier)f(\(c'est-\022)-45 b(a-dire,)31
b(en)e(m)m(\023)-43 b(emoire,)31 b(\022)-45 b(a)29 b(l'adresse)g
(basse\))h(\(arc)m(hitectures)-71 4238 y(dites)j Fn(big-endian)p
Fw(\),)h(et)h(d'autres)e(metten)m(t)j(l'o)s(ctet)e(de)g(p)s(oids)d
(faible)i(en)g(premier)f(\(arc)m(hitectures)j(dites)e
Fn(little-)-71 4351 y(endian)p Fw(\).)28 b(P)m(ar)f(exemple,)g(l'en)m
(tier)f(16)i(bits)e(12345)h(=)e(48)13 b Fc(\002)g Fw(256)g(+)g(57)30
b(est)d(repr)m(\023)-43 b(esen)m(t)m(\023)g(e)30 b(par)c(l'o)s(ctet)i
(48)f(\022)-45 b(a)28 b(l'adresse)-71 4464 y Ft(n)33
b Fw(et)h(l'o)s(ctet)g(57)h(\022)-45 b(a)33 b(l'adresse)g
Ft(n)22 b Fw(+)g(1)34 b(sur)e(une)h(arc)m(hitecture)h(big-endian,)d(et)
j(par)f(l'o)s(ctet)i(57)f(\022)-45 b(a)34 b(l'adresse)f
Ft(n)f Fw(et)-71 4577 y(l'o)s(ctet)i(48)g(\022)-45 b(a)33
b(l'adresse)f Ft(n)22 b Fw(+)f(1)33 b(sur)f(une)g(arc)m(hitecture)i
(little-endian.)c(Le)j(proto)s(cole)h(doit)e(donc)h(sp)m(\023)-43
b(eci\014er)32 b(que)-71 4690 y(tous)f(les)g(en)m(tiers)g(m)m(ulti-o)s
(ctets)g(son)m(t)h(transmis)e(en)h(mo)s(de)g(big-endian,)e(par)i
(exemple.)g(Une)g(autre)h(p)s(ossibilit)m(\023)-43 b(e)-71
4803 y(est)36 b(de)g(laisser)e(l')m(\023)-43 b(emetteur)37
b(c)m(hoisir)e(libremen)m(t)f(en)m(tre)i(big-endian)e(et)i
(little-endian,)e(mais)h(de)g(signaler)g(dans)-71 4916
y(l'en-t)m(^)-43 b(ete)33 b(du)c(message)i(quelle)f(con)m(v)m(en)m
(tion)h(il)e(utilise)f(par)i(la)g(suite.)70 5032 y(Le)38
b(syst)m(\022)-43 b(eme)39 b(OCaml)e(facilite)f(grandemen)m(t)i(ce)h
(tra)m(v)-5 b(ail)37 b(de)h(mise)f(en)g(forme)h(des)f(donn)m(\023)-43
b(ees)38 b(\(tra)m(v)-5 b(ail)38 b(sou-)-71 5145 y(v)m(en)m(t)d(app)s
(el)m(\023)-43 b(e)33 b Fn(marshaling)j Fw(ou)d(encore)i
Fn(s)n(\023)-44 b(erialisation)42 b Fw(dans)33 b(la)g(litt)m(\023)-43
b(erature\))34 b(en)g(fournissan)m(t)e(deux)g(primitiv)m(es)-71
5258 y(g)m(\023)-43 b(en)m(\023)g(erales)32 b(de)d(transformation)g
(d'une)f(v)-5 b(aleur)28 b(OCaml)g(quelconque)h(en)g(suite)g(d'o)s
(ctets,)h(et)g(r)m(\023)-43 b(ecipro)s(quemen)m(t)30
b(:)p Black -71 5352 1560 4 v 33 5406 a Fl(2)88 5438
y Fk(Les)20 b(RF)n(C)h(son)n(t)f(disp)r(onibles)h(par)f(FTP)i(anon)n
(yme)d(sur)h(de)g(nom)n(breux)e(sites.)k(En)e(F)-6 b(rance)20
b(:)h Fj(ftp.inria.fr)p Fk(,)i(dans)d(le)h(r)n(\023)-36
b(ep)r(ertoire)-71 5529 y Fj(rfc)p Fk(.)p Black Black
Black eop
%%Page: 75 75
75 74 bop Black -71 24 a Fs(5.10.)63 b(EXEMPLES)29 b(DE)i(PR)m
(OTOCOLES)2222 b Fw(75)p Black 311 280 a Fu(output_value)44
b(:)k(out_channel)d(->)i('a)g(->)g(unit)311 393 y(input_value)e(:)i
(in_channel)e(->)i('a)-71 533 y Fw(Le)35 b(but)f(premier)f(de)h(ces)h
(deux)f(primitiv)m(es)e(est)j(de)g(p)s(ouv)m(oir)e(sauv)m(egarder)i
(n'imp)s(orte)e(quel)h(ob)5 b(jet)35 b(structur)m(\023)-43
b(e)-71 646 y(dans)39 b(un)f(\014c)m(hier)g(disque,)g(puis)f(de)i(le)g
(rec)m(harger)h(ensuite)15 b(;)39 b(mais)g(elles)f(s'appliquen)m(t)d
(\023)-43 b(egalemen)m(t)41 b(bien)d(\022)-45 b(a)39
b(la)-71 759 y(transmission)27 b(de)i(n'imp)s(orte)e(quel)i(ob)5
b(jet)29 b(le)g(long)g(d'un)e(tuy)m(au)j(ou)f(d'une)f(prise.)g(Ces)h
(primitiv)m(es)e(sa)m(v)m(en)m(t)k(faire)-71 871 y(face)j(\022)-45
b(a)33 b(tous)g(les)f(t)m(yp)s(es)h(de)g(donn)m(\023)-43
b(ees)33 b(OCaml)f(\022)-45 b(a)33 b(l'exception)g(des)f(fonctions)15
b(;)33 b(elles)f(pr)m(\023)-43 b(eserv)m(en)m(t)34 b(le)e(partage)i(et)
-71 984 y(les)24 b(circularit)m(\023)-43 b(es)25 b(\022)-45
b(a)25 b(l'in)m(t)m(\023)-43 b(erieur)23 b(des)i(ob)5
b(jets)25 b(transmis)14 b(;)25 b(et)g(elles)f(sa)m(v)m(en)m(t)j(comm)m
(uniquer)c(en)m(tre)j(des)f(arc)m(hitectures)-71 1097
y(d'endianness)j(di\013)m(\023)-43 b(eren)m(tes.)p Black
-71 1352 a Fv(Exemple:)p Black 45 w Fw(Si)35 b(X-windo)m(ws)e(\023)-43
b(etait)36 b(\023)-43 b(ecrit)37 b(en)g(OCaml,)f(on)h(aurait)f(un)g(t)m
(yp)s(e)h(concret)h Fu(request)d Fw(des)i(requ)m(^)-43
b(etes)-71 1465 y(p)s(ouv)-5 b(an)m(t)28 b(^)-43 b(etre)31
b(en)m(v)m(o)m(y)m(\023)-43 b(ees)34 b(au)c(serv)m(eur,)h(et)g(un)e(t)m
(yp)s(e)i(concret)g Fu(reply)e Fw(des)h(r)m(\023)-43
b(ep)s(onses)28 b(\023)-43 b(ev)m(en)m(tuelles)31 b(du)e(serv)m(eur)h
(:)311 1598 y Fv(t)m(yp)s(e)48 b Fu(request)d(=)502 1711
y(...)406 1823 y(|)j(FillPolyReq)d Fv(of)j Fu(\()o(int)f(*)h(int)o(\))f
(array)g(*)g(drawable)f(*)h(graphic_context)2029 1936
y(*)h(poly_shape)d(*)i(coord_mode)406 2049 y(|)h(GetAtomNameReq)c
Fv(of)k Fu(atom)406 2162 y(|)g(...)311 2275 y Fv(and)g
Fu(reply)e(=)502 2388 y(...)406 2501 y(|)i(GetAtomNameReply)43
b Fv(of)48 b Fu(string)406 2614 y(|)g(...)-71 2753 y
Fw(Le)31 b(co)s(eur)f(du)f(serv)m(eur)h(serait)h(une)e(b)s(oucle)h(de)g
(lecture)g(et)h(d)m(\023)-43 b(eco)s(dage)33 b(des)d(requ)m(^)-43
b(etes)31 b(de)g(la)f(forme)g(suiv)-5 b(an)m(te)30 b(:)311
2886 y Fo(\(*)47 b(Recueillir)e(une)i(demande)f(de)h(connexion)e(sur)i
(le)g(descripteur)e(s)j(*\))311 2999 y Fv(let)53 b Fu(requests)45
b(=)j(in_channel_of_descr)42 b(s)311 3112 y Fv(and)48
b Fu(replies)93 b(=)48 b(out_channel_of_descr)42 b(s)47
b Fv(in)311 3225 y(try)406 3337 y(while)h Fu(true)e Fv(do)502
3450 y(matc)m(h)h Fu(input_value)e(requests)g Fv(with)693
3563 y Fu(...)597 3676 y(|)j(FillPoly)n(\()o(vertices)n(,)g(drawable)m
(,)g(gc)o(,)g(shape)n(,)g(mode)o(\))f(->)788 3789 y(fill_poly)e
(vertices)h(drawable)g(gc)h(shape)f(mode)597 3902 y(|)i(GetAtomNameReq)
c(atom)i(->)788 4015 y(output_value)f(replies)g(\(GetAtomNameReply)l
(\(get_atom_name)f(atom)o(\)\))597 4128 y(|)k(...)406
4241 y Fv(done)311 4354 y(with)f Fu(End_of_file)e(->)406
4467 y Fo(\(*)j(fin)e(de)i(la)f(connexion)e(*\))-71 4606
y Fw(La)31 b(biblioth)m(\022)-43 b(eque)28 b(X,)j(li)m(\023)-43
b(ee)31 b(a)m(v)m(ec)h(c)m(haque)f(application,)e(serait)h(de)h(la)f
(forme)g(:)311 4739 y Fo(\(*)458 4722 y(\023)454 4739
y(Etablir)46 b(une)h(connexion)e(avec)i(le)g(serveur)f(sur)h(le)g
(descripteur)e(s)i(*\))311 4852 y Fv(let)53 b Fu(requests)45
b(=)j(out_channel_of_descr)42 b(s)311 4964 y Fv(and)48
b Fu(replies)93 b(=)48 b(in_channel_of_descr)42 b(s;;)311
5077 y Fv(let)53 b Fu(fill_poly)45 b(vertices)h(drawable)f(gc)i(shape)g
(mode)f(=)406 5190 y(output_value)f(requests)1027 5303
y(\(FillPolyReq)m(\()o(vertices)n(,)j(drawable)m(,)g(gc)o(,)g(shape)n
(,)g(mode)o(\)\);;)311 5416 y Fv(let)53 b Fu(get_atom_name)44
b(atom)j(=)406 5529 y(output_value)e(requests)g(\(GetAtomNameReq)f
(atom)o(\);)p Black Black eop
%%Page: 76 76
76 75 bop Black -71 24 a Fw(76)1098 b Fs(CHAPITRE)29
b(5.)62 b(COMMUNICA)-8 b(TIONS)29 b(MODERNES)i(:)f(LES)g(PRISES)p
Black 406 280 a Fv(matc)m(h)47 b Fu(input_value)e(replies)h
Fv(with)502 393 y Fu(GetAtomNameReply)d(name)k(->)g(name)406
506 y(|)h(_)f(->)g(fatal_protocol_error)c Fo(")o(get_atom_name)m(")p
Fu(;;)70 742 y Fw(Il)35 b(faut)h(remarquer)f(que)g(le)g(t)m(yp)s(e)h
(de)g Fu(input_value)c Fw(donn)m(\023)-43 b(e)36 b(ci-dessus)f(est)h(s)
m(\023)-43 b(eman)m(tiquemen)m(t)37 b(incorrect,)-71
855 y(car)j(b)s(eaucoup)f(trop)h(g)m(\023)-43 b(en)m(\023)g(eral)41
b(:)f(il)e(n'est)i(pas)g(vrai)f(que)g(le)h(r)m(\023)-43
b(esultat)40 b(de)g Fu(input_value)c Fw(a)k(le)g(t)m(yp)s(e)f
Fu('a)h Fw(p)s(our)-71 968 y(tout)33 b(t)m(yp)s(e)f Fu('a)p
Fw(.)g(La)h(v)-5 b(aleur)31 b(ren)m(v)m(o)m(y)m(\023)-43
b(ee)35 b(par)d Fu(input_value)d Fw(appartien)m(t)j(\022)-45
b(a)33 b(un)e(t)m(yp)s(e)h(bien)f(pr)m(\023)-43 b(ecis,)32
b(et)h(non)f(pas)g(\022)-45 b(a)-71 1081 y(tous)32 b(les)e(t)m(yp)s(es)
i(p)s(ossibles)12 b(;)32 b(mais)e(le)h(t)m(yp)s(e)h(de)f(cette)i(v)-5
b(aleur)30 b(ne)h(p)s(eut)g(pas)d(^)-43 b(etre)33 b(d)m(\023)-43
b(etermin)m(\023)g(e)32 b(au)f(momen)m(t)h(de)f(la)-71
1194 y(compilation,)f(puisqu'il)e(d)m(\023)-43 b(ep)s(end)30
b(du)h(con)m(ten)m(u)h(du)e(\014c)m(hier)g(qui)g(v)-5
b(a)29 b(^)-43 b(etre)33 b(lu)d(\022)-45 b(a)31 b(l'ex)m(\023)-43
b(ecution.)33 b(Le)e(t)m(ypage)i(correct)-71 1307 y(de)28
b Fu(input_value)e Fw(n)m(\023)-43 b(ecessite)29 b(une)f(extension)g
(du)f(langage)i(ML)g(conn)m(ue)f(sous)g(le)g(nom)g(d'ob)5
b(jets)28 b(dynamiques)f(:)-71 1420 y(ce)e(son)m(t)f(des)g(v)-5
b(aleurs)23 b(appari)m(\023)-43 b(ees)24 b(a)m(v)m(ec)i(une)d(repr)m
(\023)-43 b(esen)m(tation)25 b(de)f(leur)f(t)m(yp)s(e,)h(p)s(ermettan)m
(t)g(ainsi)f(des)g(v)m(\023)-43 b(eri\014cations)-71
1533 y(de)30 b(t)m(yp)s(es)h(\022)-45 b(a)31 b(l'ex)m(\023)-43
b(ecution.)31 b(On)e(se)i(rep)s(ortera)f(\022)-45 b(a)31
b([12)q(])g(p)s(our)e(une)g(pr)m(\023)-43 b(esen)m(tation)32
b(plus)c(d)m(\023)-43 b(etaill)m(\023)g(ee.)-71 1781
y Fg(5.10.2)113 b(Proto)s(coles)35 b(\\texte")70 1954
y Fw(Les)40 b(services)g(r)m(\023)-43 b(eseaux)41 b(o)s(\022)-48
b(u)40 b(l'e\016cacit)m(\023)-43 b(e)41 b(du)e(proto)s(cole)h(n'est)g
(pas)g(cruciale)f(utilisen)m(t)f(souv)m(en)m(t)j(un)e(autre)-71
2067 y(t)m(yp)s(e)d(de)g(proto)s(coles)h(:)f(les)g(proto)s(coles)g
(\\texte",)j(qui)c(son)m(t)h(en)g(fait)g(un)f(p)s(etit)h(langage)h(de)f
(commandes.)g(Les)-71 2180 y(requ)m(^)-43 b(etes)28 b(son)m(t)f(exprim)
m(\023)-43 b(ees)27 b(sous)f(forme)g(de)g(lignes)f(de)h(commandes,)h(a)
m(v)m(ec)i(le)d(premier)f(mot)i(iden)m(ti\014an)m(t)e(le)h(t)m(yp)s(e)
-71 2292 y(de)34 b(requ)m(^)-43 b(ete,)37 b(et)e(les)f(mots)h(suiv)-5
b(an)m(ts)33 b(les)h(argumen)m(ts)e(\023)-43 b(ev)m(en)m(tuels.)36
b(Les)f(r)m(\023)-43 b(ep)s(onses)34 b(son)m(t)h(elles)f(aussi)f(sous)h
(forme)-71 2405 y(d'une)h(ou)g(plusieurs)e(lignes)h(de)h(texte,)j
(commen\030)-40 b(can)m(t)37 b(souv)m(en)m(t)f(par)f(un)g(co)s(de)h(n)m
(um)m(\023)-43 b(erique,)35 b(p)s(our)f(faciliter)g(le)-71
2518 y(d)m(\023)-43 b(eco)s(dage)33 b(de)d(la)g(r)m(\023)-43
b(ep)s(onse.)31 b(Quelques)e(proto)s(coles)h(de)g(ce)h(t)m(yp)s(e)g(:)p
Black Black 293 2702 a(SMTP)f(\(Simple)e(Mail)i(T)-8
b(ransfert)30 b(Proto)s(col\))199 b(RF)m(C)31 b(821)147
b(courrier)26 b(\023)-43 b(electronique)293 2815 y(FTP)30
b(\(File)g(T)-8 b(ransfert)30 b(Proto)s(col\))601 b(RF)m(C)31
b(959)147 b(transferts)30 b(de)g(\014c)m(hiers)293 2928
y(NNTP)g(\(Net)m(w)m(ork)j(News)d(T)-8 b(ransfert)30
b(Proto)s(col\))100 b(RF)m(C)31 b(977)147 b(lecture)30
b(des)g(News)293 3041 y(HTTP-1.0)h(\(Hyp)s(erT)-8 b(ext)31
b(T)-8 b(ransfert)30 b(Proto)s(col\))103 b(RF)m(C)31
b(1945)102 b(na)m(vigation)30 b(sur)f(la)h(toile)293
3154 y(HTTP-1.1)h(\(Hyp)s(erT)-8 b(ext)31 b(T)-8 b(ransfert)30
b(Proto)s(col\))103 b(RF)m(C)31 b(2068)102 b(na)m(vigation)30
b(sur)f(la)h(toile)-71 3337 y(Le)35 b(grand)f(a)m(v)-5
b(an)m(tage)37 b(de)e(ce)g(t)m(yp)s(e)g(de)f(proto)s(coles)h(est)g(que)
g(les)c(\023)-43 b(ec)m(hanges)37 b(en)m(tre)e(le)f(clien)m(t)h(et)g
(le)f(serv)m(eur)g(son)m(t)-71 3450 y(imm)m(\023)-43
b(ediatemen)m(t)31 b(lisibles)26 b(par)j(un)d(^)-43 b(etre)32
b(h)m(umain.)c(En)h(particulier,)f(on)h(p)s(eut)h(utiliser)d
Fu(telnet)h Fw(p)s(our)g(dialoguer)-71 3563 y(\\en)j(direct")g(a)m(v)m
(ec)h(un)e(serv)m(eur)g(de)h(ce)g(t)m(yp)s(e)1452 3530
y Fz(3)1522 3563 y Fw(:)g(on)f(tap)s(e)h(les)f(requ)m(^)-43
b(etes)32 b(comme)f(le)g(ferait)f(un)f(clien)m(t,)i(et)g(on)g(v)m(oit)
-71 3676 y(s'a\016c)m(her)26 b(les)g(r)m(\023)-43 b(ep)s(onses.)25
b(Ceci)h(facilite)f(grandemen)m(t)h(la)f(mise)g(au)g(p)s(oin)m(t.)g
(Bien)g(s)s(^)-48 b(ur,)25 b(le)g(tra)m(v)-5 b(ail)26
b(de)f(co)s(dage)i(et)f(de)-71 3788 y(d)m(\023)-43 b(eco)s(dage)35
b(des)d(requ)m(^)-43 b(etes)34 b(et)f(des)f(r)m(\023)-43
b(ep)s(onses)33 b(est)g(plus)d(imp)s(ortan)m(t)i(que)g(dans)g(le)g(cas)
h(des)f(proto)s(coles)h(binaires)13 b(;)-71 3901 y(la)30
b(taille)f(des)h(messages)i(est)c(\023)-43 b(egalemen)m(t)33
b(un)c(p)s(eu)g(plus)g(grande)15 b(;)30 b(d'o)s(\022)-48
b(u)30 b(une)g(moins)f(b)s(onne)g(e\016cacit)m(\023)-43
b(e.)p Black -71 4119 a Fv(Exemple:)p Black 45 w Fw(V)-8
b(oici)39 b(un)f(exemple)h(de)g(dialogue)g(in)m(teractif)g(a)m(v)m(ec)i
(un)e(serv)m(eur)g(SMTP)-8 b(.)39 b(Les)h(lignes)e(pr)m(\023)-43
b(ec)m(\023)g(ed)m(\023)g(ees)-71 4232 y(par)40 b Fc(!)f
Fw(v)m(on)m(t)i(du)e(clien)m(t)h(v)m(ers)g(le)g(serv)m(eur,)g(et)g(son)
m(t)h(donc)e(tap)m(\023)-43 b(ees)42 b(par)e(l'utilisateur.)d(Les)j
(lignes)f(pr)m(\023)-43 b(ec)m(\023)g(ed)m(\023)g(ees)-71
4344 y(par)30 b Fc( )g Fw(v)m(on)m(t)i(du)d(serv)m(eur)h(v)m(ers)h(le)f
(clien)m(t.)311 4477 y Fu(pom)o(:)48 b(telnet)e(margaux)f(smtp)311
4590 y(Trying)h(128.93.8.2)f(...)311 4703 y(Connected)g
Fv(to)j Fu(margaux)n(.inria)n(.fr)o(.)311 4816 y(Escape)e(character)f
(is)i('^]')o(.)120 4929 y Fc( )95 b Fu(220)47 b(margaux)n(.inria)o(.)o
(fr)h(Sendmail)d(5.64+/)o(AFUU)n(-3)j(ready)e(at)h(Wed)o(,)h(15)f(Apr)g
(92)g(17:40:59)120 5042 y Fc(!)95 b Fu(HELO)47 b(pomerol)n(.inria)n
(.fr)120 5154 y Fc( )95 b Fu(250)47 b(Hello)g(pomerol)n(.)o(inria)o
(.fr)o(,)h(pleased)e Fv(to)h Fu(meet)g(you)120 5267 y
Fc(!)95 b Fu(MAIL)47 b(From)o(:<)o(god@heavens)m(.sky)o(.com)o(>)p
Black -71 5352 1560 4 v 33 5406 a Fl(3)95 5438 y Fk(Il)28
b(su\016t)f(de)g(lancer)i Fj(telnet)g Fa(machine)f(servic)l(e)p
Fk(,)h(o)r(\022)-41 b(u)29 b Fa(machine)e Fk(est)h(le)g(nom)f(de)g(la)i
(mac)n(hine)e(sur)g(laquelle)i(tourne)e(le)h(serv)n(eur,)-71
5529 y(et)e Fa(servic)l(e)h Fk(est)f(le)g(nom)e(du)h(service)i(\()p
Fj(smtp)p Fk(,)f Fj(nntp)p Fk(,)h(etc.\).)p Black Black
Black eop
%%Page: 77 77
77 76 bop Black -71 24 a Fs(5.11.)63 b(EXEMPLE)30 b(COMPLET)f(:)h(REQU)
1494 1 y(^)1482 24 y(ETES)f(HTTP)1724 b Fw(77)p Black
120 280 a Fc( )95 b Fu(250)47 b(<god@heavens)m(.sky)o(.com)o(>...)f
(Sender)h(ok)120 393 y Fc(!)95 b Fu(RCPT)47 b(To)o(:<xleroy@margaux)l
(.inria)n(.fr>)120 506 y Fc( )95 b Fu(250)47 b(<xleroy@margaux)l
(.inria)o(.)o(fr>...)f(Recipient)g(ok)120 619 y Fc(!)95
b Fu(DATA)120 732 y Fc( )g Fu(354)47 b(Enter)g(mail)o(,)g
Fv(end)h(with)f Fo(".)o(")h Fu(on)f(a)g(line)g(by)g(itself)120
845 y Fc(!)95 b Fu(From)o(:)48 b(god@heavens)m(.)o(sky.)o(com)f
(\(Himself)n(\))120 958 y Fc(!)95 b Fu(To:)47 b(xleroy@margaux)l
(.inria)o(.fr)120 1071 y Fc(!)95 b Fu(Subject)n(:)48
b(salut)o(!)120 1184 y Fc(!)120 1296 y(!)95 b Fu(Ca)48
b(se)f(passe)f(bien)o(,)h(en)h(bas)o(?)120 1409 y Fc(!)95
b Fu(.)120 1522 y Fc( )g Fu(250)47 b(Ok)120 1635 y Fc(!)95
b Fu(QUIT)120 1748 y Fc( )g Fu(221)47 b(margaux)n(.inria)o(.)o(fr)h
(closing)d(connection)311 1861 y(Connection)g(closed)h(by)h(foreign)f
(host)o(.)70 1994 y Fw(Les)27 b(commandes)f Fu(HELO)p
Fw(,)g Fu(MAIL)g Fw(et)h Fu(RCPT)e Fw(transmetten)m(t)j(le)e(nom)g(de)h
(la)f(mac)m(hine)g(exp)m(\023)-43 b(editrice,)27 b(l'adresse)f(de)-71
2106 y(l'exp)m(\023)-43 b(editeur,)27 b(et)g(l'adresse)f(du)g
(destinataire.)h(La)g(commande)g Fu(DATA)e Fw(p)s(ermet)i(d'en)m(v)m(o)
m(y)m(er)h(le)f(texte)h(du)e(message)-71 2219 y(propremen)m(t)f(dit.)g
(Elle)g(est)h(suivie)e(par)h(un)f(certain)i(nom)m(bre)f(de)h(lignes)e
(\(le)h(texte)j(du)c(message\),)j(termin)m(\023)-43 b(ees)27
b(par)-71 2332 y(une)i(ligne)f(con)m(tenan)m(t)k(le)d(seul)f(caract)m
(\022)-43 b(ere)33 b(\\p)s(oin)m(t".)c(P)m(our)e(\023)-43
b(eviter)30 b(l'am)m(bigu)-10 b(\177)-35 b(\020t)m(\023)-43
b(e,)30 b(toutes)g(les)f(lignes)f(du)h(message)-71 2445
y(qui)f(commencen)m(t)i(par)e(un)g(p)s(oin)m(t)g(son)m(t)i(transmises)e
(en)g(doublan)m(t)g(le)h(p)s(oin)m(t)f(initial)12 b(;)29
b(le)g(p)s(oin)m(t)f(suppl)m(\023)-43 b(emen)m(taire)-71
2558 y(est)31 b(supprim)m(\023)-43 b(e)29 b(par)h(le)g(serv)m(eur.)70
2671 y(Les)h(r)m(\023)-43 b(ep)s(onses)30 b(son)m(t)h(toutes)h(de)e(la)
g(forme)h(un)e(co)s(de)i(n)m(um)m(\023)-43 b(erique)30
b(en)g(trois)g(c)m(hi\013res)g(plus)f(un)g(commen)m(taire.)-71
2784 y(Quand)d(le)g(clien)m(t)h(est)h(un)d(programme,)j(il)d(in)m
(terpr)m(\022)-43 b(ete)28 b(uniquemen)m(t)e(le)g(co)s(de)h(n)m(um)m
(\023)-43 b(erique)15 b(;)27 b(le)g(commen)m(taire)h(est)-71
2897 y(\022)-45 b(a)27 b(l'usage)f(de)h(la)e(p)s(ersonne)h(qui)f(met)h
(au)h(p)s(oin)m(t)e(le)h(syst)m(\022)-43 b(eme)28 b(de)e(courrier.)f
(Les)i(r)m(\023)-43 b(ep)s(onses)26 b(en)g Fu(5xx)g Fw(indiquen)m(t)e
(une)-71 3010 y(erreur)14 b(;)31 b(celles)f(en)g Fu(2xx)p
Fw(,)g(que)g(tout)h(s'est)g(bien)e(pass)m(\023)-43 b(e.)-71
3296 y Fq(5.11)136 b(Exemple)46 b(complet)f(:)h(requ)m(^)-64
b(etes)46 b(h)l(ttp)70 3499 y Fw(Le)c(proto)s(cole)g(HTTP)e(\(Hyp)s
(erT)-8 b(ext)42 b(T)-8 b(ransfert)41 b(Proto)s(col\))h(est)g(utilis)m
(\023)-43 b(e)40 b(essen)m(tiellemen)m(t)i(p)s(our)e(lire)f(des)-71
3611 y(do)s(cumen)m(ts)e(sur)g(la)g(fameuse)h(\\toile".)g(Ce)g(domaine)
e(est)i(une)f(nic)m(he)g(d'exemples)g(clien)m(t-serv)m(eur)g(:)h(en)m
(tre)g(la)-71 3724 y(lecture)23 b(des)g(pages)h(sur)e(la)h(toile)g(ou)g
(l')m(\023)-43 b(ecriture)24 b(de)f(serv)m(eurs,)g(les)g(relais)f(se)h
(placen)m(t)h(en)f(in)m(term)m(\023)-43 b(ediaires,)22
b(serv)m(eurs)-71 3837 y(virtuels)k(p)s(our)h(le)h(vrai)f(clien)m(t)h
(et)h(clien)m(ts)f(par)f(d)m(\023)-43 b(el)m(\023)g(egation)31
b(p)s(our)26 b(le)i(vrai)g(serv)m(eur,)g(o\013ran)m(t)h(souv)m(en)m(t)g
(au)f(passage)-71 3950 y(un)h(service)i(additionnel)c(tel)k(que)f(l'a)5
b(jout)30 b(de)h(cac)m(hes,)h(de)e(\014ltres,)f Fn(etc.)70
4063 y Fw(Il)c(existe)h(plusieurs)d(v)m(ersions)i(du)g(proto)s(cole)h
(HTTP.)f(P)m(our)h(aller)f(plus)f(rapidemen)m(t)h(\022)-45
b(a)26 b(l'essen)m(tiel,)f(\022)-45 b(a)27 b(sa)m(v)m(oir)-71
4176 y(l'arc)m(hitecture)45 b(d'un)f(clien)m(t)h(ou)g(d'un)e(relais,)h
(nous)h(utilisons)d(le)j(proto)s(cole)g(simpli\014)m(\023)-43
b(e,)43 b(h)m(\023)-43 b(erit)m(\023)g(e)46 b(des)f(toutes)-71
4289 y(premi)m(\022)-43 b(eres)30 b(v)m(ersions)g(du)f(proto)s(cole.)i
(M)m(^)-43 b(eme)32 b(s'il)d(fait)h(un)g(p)s(eu)f(p)s(oussi)m(\023)-43
b(ereux,)29 b(il)g(reste)i(compris)e(par)h(la)g(plupart)-71
4402 y(des)k(serv)m(eurs.)g(Nous)g(d)m(\023)-43 b(ecriv)m(ons)35
b(\022)-45 b(a)34 b(la)g(\014n)f(une)h(v)m(ersion)f(plus)f(mo)s(derne)i
(et)h(plus)d(expressiv)m(e)i(mais)f(aussi)g(plus)-71
4515 y(complexe,)27 b(qui)e(est)i(indisp)s(ensable)22
b(p)s(our)i(r)m(\023)-43 b(ealiser)26 b(de)g(vrais)g(outils)f(p)s(our)g
(explorer)g(la)h(toile.)g(Cep)s(endan)m(t,)g(nous)-71
4628 y(laisserons)j(la)h(traduction)g(des)g(exemples)g(en)g(exercices.)
70 4741 y(La)21 b(v)m(ersion)f(1.0)i(du)e(proto)s(cole)h
Fu(http)f Fw(d)m(\023)-43 b(ecrite)21 b(dans)f(la)h(norme)f(RF)m(C)h
(1945)2591 4708 y Fz(4)2653 4741 y Fw(p)s(ermet)g(les)f(requ)m(^)-43
b(etes)22 b(simpli\014)m(\023)-43 b(ees)-71 4853 y(de)30
b(la)g(forme)h(:)p Black Black 156 4997 a Fu(GET)f Fh(sp)g
Fs(Request-URI)40 b Fh(crlf)-71 5140 y Fw(o)s(\022)-48
b(u)31 b Fh(sp)f Fw(repr)m(\023)-43 b(esen)m(te)32 b(un)e(espace)h(et)h
Fh(crlf)d Fw(la)i(c)m(ha)-10 b(^)-35 b(\020ne)31 b(de)f(caract)m(\022)
-43 b(eres)34 b Fu(\\r\\n)29 b Fw(\()p Fh(return)h Fw(suivi)e(de)j
Fh(linefeed)p Fw(\).)f(La)-71 5253 y(r)m(\023)-43 b(ep)s(onse)24
b(\022)-45 b(a)24 b(une)f(requ)m(^)-43 b(ete)25 b(simpli\014)m(\023)-43
b(ee)22 b(est)g(\023)-43 b(egalemen)m(t)25 b(simpli\014)m(\023)-43
b(ee)22 b(:)i(le)f(con)m(ten)m(u)i(de)e(l'url)f(est)i(en)m(v)m(o)m(y)m
(\023)-43 b(e)26 b(directemen)m(t,)-71 5366 y(sans)k(en)m(t)m(^)-43
b(ete,)33 b(et)e(la)f(\014n)f(de)h(la)f(r)m(\023)-43
b(ep)s(onse)31 b(est)f(signal)m(\023)-43 b(ee)31 b(par)e(la)h(\014n)f
(de)h(\014c)m(hier,)g(qui)e(termine)i(donc)g(la)f(connexion.)p
Black -71 5443 1560 4 v 33 5497 a Fl(4)67 5529 y Fk(La)d(description)g
(compl)n(\022)-36 b(ete)26 b(p)r(eut-)n(^)-36 b(etre)25
b(trouv)n(\023)-36 b(ee)25 b(\022)-38 b(a)26 b(l'URL)f
Fj(http://www.doclib.org/rfc/r)q(fc19)q(45.ht)q(ml)p
Fk(.)p Black Black Black eop
%%Page: 78 78
78 77 bop Black -71 24 a Fw(78)1098 b Fs(CHAPITRE)29
b(5.)62 b(COMMUNICA)-8 b(TIONS)29 b(MODERNES)i(:)f(LES)g(PRISES)p
Black -71 280 a Fw(Cette)35 b(forme)e(de)g(requ)m(^)-43
b(ete,)35 b(h)m(\023)-43 b(erit)m(\023)g(ee)35 b(du)d(proto)s(cole)i
(0.9,)h(limite)c(de)i(fait)g(la)g(connexion)g(\022)-45
b(a)34 b(la)f(seule)f(requ)m(^)-43 b(ete)35 b(en)-71
393 y(cours.)-71 684 y Fg(5.11.1)113 b(R)n(\023)-54 b(ecup)n(\023)g
(eration)37 b(d'une)h(url)70 872 y Fw(Nous)22 b(prop)s(osons)e(d')m
(\023)-43 b(ecrire)22 b(une)g(commande)f Fu(geturl)g
Fw(qui)f(prend)g(un)h(seul)g(argumen)m(t,)h(une)f(URL,)h(rec)m(herc)m
(he)-71 985 y(sur)29 b(la)h(toile)g(le)g(do)s(cumen)m(t)h(qu'elle)e(d)m
(\023)-43 b(esigne)31 b(et)g(l'a\016c)m(he.)70 1106 y(La)e(premi)m
(\022)-43 b(ere)28 b(tac)m(he)i(consiste)e(\022)-45 b(a)28
b(analyser)g(l'URL)g(p)s(our)e(en)j(extraire)f(le)g(nom)g(du)f(proto)s
(cole)h(\(ici)g(n)m(\023)-43 b(ecessai-)-71 1219 y(remen)m(t)25
b Fu(http)p Fw(\))e(l'adresse)h(du)g(serv)m(eur,)g(le)g(p)s(ort)g
(optionnel)f(et)i(le)f(c)m(hemin)f(absolu)g(du)h(do)s(cumen)m(t)g(sur)f
(le)h(serv)m(eur.)-71 1332 y(P)m(our)33 b(ce)h(faire)f(nous)f
(utilisons)f(la)i(librairie)d(d'expressions)h(r)m(\023)-43
b(eguli)m(\022)g(eres)34 b Fu(Str)p Fw(.)f(Nous)g(passons)g(rapidemen)m
(t)f(sur)-71 1445 y(cette)g(partie)e(du)g(co)s(de)g(p)s(eu)f(in)m(t)m
(\023)-43 b(eressan)m(te,)33 b(mais)c(indisp)s(ensable.)193
1577 y Fz(1)83 b Fv(op)s(en)48 b Fu(Unix)193 1690 y Fz(2)193
1803 y(3)83 b Fv(let)53 b Fu(error)46 b(err)h(mes)g(=)193
1916 y Fz(4)178 b Fu(prerr_endline)45 b(\()o(String)o(.)o(concat)h
Fo(")i(")f Fu([)h Fo("Error)n(:")p Fu(;)f(err)o(;)h(mes)o(]\);)193
2029 y Fz(5)178 b Fu(exit)47 b(2;;)193 2142 y Fz(6)193
2255 y(7)83 b Fv(let)53 b Fu(default_port)44 b(=)k Fo(")o(80")p
Fu(;;)193 2367 y Fz(8)193 2480 y(9)83 b Fv(t)m(yp)s(e)48
b Fu(regexp)e(=)h({)g(regexp)g(:)g(Str)o(.regexp)n(;)h(fields)e(:)h
(\(int)g(*)g(string)f(option)o(\))h(list)o(;)h(})157
2593 y Fz(10)84 b Fv(let)53 b Fu(regexp_match)44 b(r)k(string)e(=)157
2706 y Fz(11)179 b Fv(let)48 b Fu(get)f(\()o(pos,)g(default)n(\))h(=)
157 2819 y Fz(12)275 b Fv(try)47 b Fu(Str.)o(matched_group)e(pos)h
(string)157 2932 y Fz(13)275 b Fv(with)47 b Fu(Not_found)e(->)157
3045 y Fz(14)370 b Fv(matc)m(h)47 b Fu(default)f Fv(with)h
Fu(Some)g(s)g(->)g(s)157 3158 y Fz(15)370 b Fu(|)48 b(_)f(->)g
Fv(raise)h Fu(Not_found)d Fv(in)157 3271 y Fz(16)179
b Fv(try)157 3384 y Fz(17)275 b Fv(if)48 b Fu(Str)o(.)o(string_match)d
(r.)o(regexp)h(string)h(0)g Fv(then)157 3497 y Fz(18)370
b Fu(Some)47 b(\(List)o(.)o(map)g(get)g(r.fields)n(\))157
3610 y Fz(19)275 b Fv(else)48 b Fu(None)157 3722 y Fz(20)179
b Fv(with)47 b Fu(Not_found)f(->)h(None)o(;;)157 3835
y Fz(21)157 3948 y(22)84 b Fv(let)53 b Fu(host_regexp)45
b(=)157 4061 y Fz(23)179 b Fu({)48 b(regexp)e(=)h(Str.)o(regexp)f
Fo("\\\\\([^/:]*\\\\\)\\\\\(:\\\\\([0-9]+)o(\\\\\))o(\\\\\)?)-7
b(")p Fu(;)157 4174 y Fz(24)275 b Fu(fields)46 b(=)h([)h(1,)f(None)o(;)
g(3,)h(Some)e(default_port)m(;)h(])h(};;)157 4287 y Fz(25)84
b Fv(let)53 b Fu(url_regexp)45 b(=)157 4400 y Fz(26)179
b Fu({)48 b(regexp)e(=)h(Str.)o(regexp)f Fo("http)o
(://\\\\\([^/:]*\\\\\(:[0-9]+\\\\)o(\)?\\\\)o(\)\\\\\()o(/.*)o(\\\\\))
-6 b(")o Fu(;)157 4513 y Fz(27)275 b Fu(fields)46 b(=)h([)h(1,)f(None)o
(;)g(3,)h(None)e(])i(};;)157 4626 y Fz(28)157 4739 y(29)84
b Fv(let)53 b Fu(parse_host)45 b(host)h(=)157 4852 y
Fz(30)179 b Fv(matc)m(h)47 b Fu(regexp_match)e(host_regexp)g(host)h
Fv(with)157 4964 y Fz(31)275 b Fu(Some)46 b(\(host)h(::)g(port)g(::)g
(_\))g(->)g(host)o(,)h(int_of_string)c(port)157 5077
y Fz(32)179 b Fu(|)48 b(_)f(->)g(error)g Fo("Ill)f(formed)h(host)n(")h
Fu(host)o(;;)157 5190 y Fz(33)84 b Fv(let)53 b Fu(parse_url)45
b(url)i(=)157 5303 y Fz(34)179 b Fv(matc)m(h)47 b Fu(regexp_match)e
(url_regexp)g(url)i Fv(with)157 5416 y Fz(35)275 b Fu(Some)46
b(\(host)h(::)g(path)g(::)g(_\))g(->)g(parse_host)e(host)o(,)j(path)157
5529 y Fz(36)179 b Fu(|)48 b(_)f(->)g(error)g Fo("Ill)f(formed)h(url)o
(")g Fu(url)o(;;)p Black Black eop
%%Page: 79 79
79 78 bop Black -71 24 a Fs(5.11.)63 b(EXEMPLE)30 b(COMPLET)f(:)h(REQU)
1494 1 y(^)1482 24 y(ETES)f(HTTP)1724 b Fw(79)p Black
-71 280 a(Nous)28 b(p)s(ouv)m(ons)g(main)m(tenan)m(t)h(nous)e(attaquer)
j(\022)-45 b(a)28 b(l'en)m(v)m(oi)h(de)f(la)g(requ)m(^)-43
b(ete,)30 b(qui)d(dans)h(le)g(proto)s(cole)g(simpli\014)m(\023)-43
b(e,)27 b(est)-71 393 y(une)j(trivialit)m(\023)-43 b(e.)157
526 y Fz(37)84 b Fv(let)53 b Fu(send_get)45 b(chan)i(path)g(=)157
639 y Fz(38)179 b Fu(Printf)o(.)o(fprintf)46 b(chan)h
Fo("GET)g(\045)o(s\\r)o(\\n")g Fu(path)o(;)157 752 y
Fz(39)179 b Fu(flush)47 b(chan)o(;;)-71 888 y Fw(La)30
b(lecture)g(de)g(la)f(r)m(\023)-43 b(ep)s(onse)31 b(est)f(encore)h
(plus)d(facile,)h(puisque)f(le)i(do)s(cumen)m(t)f(est)i(simplemen)m(t)d
(en)m(v)m(o)m(y)m(\023)-43 b(e)33 b(comme)-71 1001 y(r)m(\023)-43
b(ep)s(onse,)21 b(sans)f(autre)h(forme)f(de)g(p)s(olitesse.)g(Lorsque)g
(la)g(requ)m(^)-43 b(ete)22 b(est)f(erron)m(\023)-43
b(ee,)22 b(un)d(message)j(d'erreur)d(est)i(enco)s(d)m(\023)-43
b(e)-71 1114 y(dans)35 b(un)g(do)s(cumen)m(t)g(HTML.)h(Nous)g(nous)f
(con)m(ten)m(tons)i(ici)d(de)i(faire)f(suivre)f(la)i(r)m(\023)-43
b(ep)s(onse)35 b(sans)h(distinguer)d(si)-71 1227 y(elle)j(indique)f
(une)h(erreur)g(ou)h(corresp)s(ond)f(au)h(do)s(cumen)m(t)g(rec)m(herc)m
(h)m(\023)-43 b(e.)39 b(La)e(transmission)e(de)i(la)f(r)m(\023)-43
b(ep)s(onse)38 b(est)-71 1340 y(une)30 b(v)-5 b(arian)m(te)31
b(de)f(la)g(copie)g(de)g(\014c)m(hier.)157 1473 y Fz(40)84
b Fv(let)53 b Fu(buffer_size)45 b(=)i(2048;;)157 1586
y Fz(41)84 b Fv(let)53 b Fu(buffer)46 b(=)h(String)o(.)o(create)g
(buffer_size)157 1698 y Fz(42)84 b Fv(let)53 b(rec)48
b Fu(copy_body)d(chan_in)h(chan_out)g(=)157 1811 y Fz(43)179
b Fv(let)48 b Fu(n)f(=)h(input)e(chan_in)g(buffer)g(0)h(buffer_size)e
Fv(in)157 1924 y Fz(44)179 b Fu(output)46 b(chan_out)g(buffer)g(0)i(n)o
(;)157 2037 y Fz(45)179 b Fv(if)56 b Fu(n)47 b(>)h(0)f
Fv(then)h Fu(copy_body)d(chan_in)h(chan_out)n(;;)-71
2174 y Fw(Le)31 b(c\033ur)e(du)g(programme)f(\023)-43
b(etablit)31 b(la)f(connexion)f(a)m(v)m(ec)k(le)d(serv)m(eur.)157
2307 y Fz(46)84 b Fv(let)53 b Fu(get_url)46 b(proxy)g(url)h(out)g(=)157
2419 y Fz(47)179 b Fv(let)48 b Fu(\()o(hostname)n(,)g(port)o(\),)f
(path)f(=)157 2532 y Fz(48)275 b Fv(matc)m(h)47 b Fu(proxy)f
Fv(with)157 2645 y Fz(49)370 b Fu(None)47 b(->)g(parse_url)e(url)157
2758 y Fz(50)275 b Fu(|)47 b(Some)g(host)g(->)g(parse_host)e(host)o(,)i
(url)g Fv(in)157 2871 y Fz(51)179 b Fv(let)48 b Fu(hostaddr)d(=)157
2984 y Fz(52)275 b Fv(try)47 b Fu(inet_addr_of_string)c(hostname)157
3097 y Fz(53)275 b Fv(with)47 b Fu(Failure)f(_)h(->)g(\(gethostbyname)d
(hostname)n(\).)o(h_addr_list)m(.\(0\))j Fv(in)157 3210
y Fz(54)179 b Fv(let)48 b Fu(reply)n(,)g(request)e(=)h(open_connection)
d(\()o(ADDR_INET)i(\()o(hostaddr)n(,)i(port)o(\)\))f
Fv(in)157 3323 y Fz(55)179 b Fu(send_get)46 b(request)g(path)o(;)157
3436 y Fz(56)179 b Fu(copy_body)46 b(reply)g(out)o(;)157
3549 y Fz(57)179 b Fu(shutdown_connection)43 b(reply)o(;;)-71
3686 y Fw(Nous)30 b(terminons,)g(comme)h(d'habitude,)e(par)g(l'analyse)
h(de)g(la)g(ligne)g(de)g(commande.)157 3818 y Fz(58)84
b Fv(let)53 b Fu(geturl)46 b(\(\))h(=)157 3931 y Fz(59)179
b Fv(let)48 b Fu(len)f(=)95 b(Array)n(.length)46 b(Sys)o(.argv)h
Fv(in)157 4044 y Fz(60)179 b Fv(if)56 b Fu(len)47 b(<)g(2)h
Fv(then)157 4157 y Fz(61)275 b Fu(error)46 b Fo("Usage)o(:)o(")i
Fu(\()o(Sys.)o(argv)o(.\(0\))f(^)g Fo(")h([)f(<port)o(>)g(])h(<url)o(>)
o(")p Fu(\))157 4270 y Fz(62)179 b Fv(else)157 4383 y
Fz(63)275 b Fv(let)47 b Fu(proxy)o(,)g(url)g(=)157 4495
y Fz(64)370 b Fv(if)48 b Fu(len)f(>)g(2)h Fv(then)f Fu(Some)g(Sys)o
(.argv)o(.\(1\),)f(Sys)o(.argv)o(.\(2\))157 4608 y Fz(65)370
b Fv(else)48 b Fu(None)o(,)g(Sys)o(.)o(argv)o(.\(1\))f
Fv(in)157 4721 y Fz(66)275 b Fu(get_url)46 b(proxy)g(url)h(Pervasives)m
(.stdout)n(;;)157 4834 y Fz(67)157 4947 y(68)84 b Fu(handle_unix_error)
43 b(geturl)j(\(\);;)-71 5236 y Fg(5.11.2)113 b(Relais)36
b(HTTP)70 5416 y Fw(Nous)i(nous)e(prop)s(osons)g(main)m(tenan)m(t)i(d')
m(\023)-43 b(ecrire)38 b(un)f(relais)f(HTTP)g(\()p Fn(pr)-5
b(oxy)48 b Fw(en)37 b(anglais\),)h(c'est-\022)-45 b(a-dire)38
b(un)-71 5529 y(serv)m(eur)32 b(de)g(requ)m(^)-43 b(etes)33
b(HTTP)f(qui)e(p)s(ermet)i(de)g(traiter)g(toutes)h(les)e(requ)m(^)-43
b(etes)34 b(HTTP)d(en)h(les)g(redirigean)m(t)f(v)m(ers)p
Black Black eop
%%Page: 80 80
80 79 bop Black -71 24 a Fw(80)1098 b Fs(CHAPITRE)29
b(5.)62 b(COMMUNICA)-8 b(TIONS)29 b(MODERNES)i(:)f(LES)g(PRISES)p
Black -71 280 a Fw(la)f(mac)m(hine)f(destinataire)h(\(ou)g(un)f(autre)h
(relais...\))g(et)g(fait)g(suivre)e(les)i(r)m(\023)-43
b(ep)s(onses)29 b(v)m(ers)g(la)f(mac)m(hine)h(app)s(elan)m(te.)-71
393 y(Un)k(relais)f(p)s(eut)h(m)m(\023)-43 b(emoriser)33
b(les)g(requ)m(^)-43 b(etes)35 b(les)e(plus)e(r)m(\023)-43
b(ecen)m(tes)36 b(ou)d(les)g(plus)f(fr)m(\023)-43 b(equen)m(tes)34
b(au)f(passage)i(p)s(our)d(les)-71 506 y(resservir)d(ult)m(\023)-43
b(erieuremen)m(t)29 b(sans)h(in)m(terroger)g(le)g(serv)m(eur,)g(soit)g
(p)s(our)e(ne)i(pas)g(le)f(surc)m(harger,)h(soit)g(en)g(l'absence)-71
619 y(de)j(connexion)g(r)m(\023)-43 b(eseau.)35 b(Un)d(relais)g(p)s
(eut)h(aussi)f(\014lter)g(certaines)i(pages)g(\(retirer)e(la)h
(publicit)m(\023)-43 b(e)32 b(ou)h(les)g(images,)-71
732 y Fn(etc.)p Fw(\).)27 b(En\014n,)e(l'utilisation)e(d'un)i(relais)g
(p)s(eut)h(simpli\014er)d(l')m(\023)-43 b(ecriture)26
b(d'une)g(application)f(en)h(lui)e(p)s(ermettan)m(t)j(de)-71
845 y(ne)j(v)m(oir)g(qu'un)f(seul)h(serv)m(eur)g(p)s(our)f(toutes)i
(les)f(pages)h(du)e(monde.)70 1043 y(La)e(commande)g
Fu(proxy)p Fw(,)e(lance)h(le)g(serv)m(eur)h(sur)e(le)h(p)s(ort)g(pass)m
(\023)-43 b(e)27 b(en)g(argumen)m(t,)g(ou)f(s'il)f(est)i(omis,)f(sur)g
(le)g(p)s(ort)-71 1156 y(par)h(d)m(\023)-43 b(efaut)28
b(du)e(service)h(HTTP.)g(Nous)g(r)m(\023)-43 b(ecup)m(\023)g(erons)28
b(bien)e(en)m(tendu)h(le)g(co)s(de)g(r)m(\023)-43 b(ealis)m(\023)g(e)29
b(par)d(la)h(fonction)g Fu(get_url)-71 1269 y Fw(\(nous)h(supp)s(osons)
e(que)h(les)h(fonctions)f(ci-dessus,)g(hormis)g(le)g(lancemen)m(t)i(de)
f(la)f(commande,)i(son)m(t)f(disp)s(onibles)-71 1382
y(dans)i(un)f(mo)s(dule)g Fu(Url)p Fw(\).)h(Il)f(ne)h(reste)h(qu'\022)
-45 b(a)28 b(\023)-43 b(ecrire)31 b(l'analyse)f(des)g(requ)m(^)-43
b(etes)31 b(et)h(mettre)f(en)f(place)g(le)g(serv)m(eur.)193
1514 y Fz(1)83 b Fv(op)s(en)48 b Fu(Unix)193 1627 y Fz(2)83
b Fv(op)s(en)48 b Fu(Url)193 1740 y Fz(3)83 b Fv(let)53
b Fu(get_regexp)45 b(=)193 1853 y Fz(4)178 b Fu({)48
b(regexp)e(=)h(Str.)o(regexp)f Fo("^[Gg)o(][)o(Ee][)o(Tt][)h(\\t)o
(]+\\\\\(.*[^)f(\\)o(t]\\\\\)[)h(\\)o(t]*\\)o(r")p Fu(;)193
1966 y Fz(5)274 b Fu(fields)46 b(=)h([)h(1,)f(None)g(])g(})193
2079 y Fz(6)83 b Fv(let)53 b Fu(parse_request)44 b(line)j(=)193
2192 y Fz(7)178 b Fv(matc)m(h)47 b Fu(regexp_match)e(get_regexp)g(line)
94 b Fv(with)193 2305 y Fz(8)178 b Fu(|)48 b(Some)e(\(url)h(::)g(_\))g
(->)h(url)193 2418 y Fz(9)178 b Fu(|)48 b(_)f(->)g(error)g
Fo("Ill)f(formed)h(request)n(")g Fu(line)-71 2635 y Fw(Nous)41
b(allons)d(\023)-43 b(etablir)41 b(le)g(service)g(a)m(v)m(ec)i(la)e
(commande)h Fu(establish_server)p Fw(.)37 b(Il)j(su\016t)h(donc)g(de)g
(d)m(\023)-43 b(e\014nir)40 b(le)-71 2748 y(traitemen)m(t)31
b(d'une)f(connexion.)157 2881 y Fz(10)84 b Fv(let)53
b Fu(treat_connection)43 b(in_chan)j(out_chan)g(=)157
2994 y Fz(11)179 b Fv(try)157 3107 y Fz(12)275 b Fv(let)47
b Fu(line)g(=)g(input_line)e(in_chan)h Fv(in)157 3219
y Fz(13)275 b Fv(let)47 b Fu(url)g(=)h(parse_request)c(line)i
Fv(in)157 3332 y Fz(14)275 b Fu(get_url)46 b(None)g(url)h(out_chan)n(;)
157 3445 y Fz(15)275 b Fu(close_out)45 b(out_chan)157
3558 y Fz(16)179 b Fv(with)47 b Fu(End_of_file)e(->)157
3671 y Fz(17)275 b Fu(error)46 b Fo("Ill)h(formed)f(request)n(")h
("End_of_file)e(encountered)m(")p Fu(;;)-71 3889 y Fw(Le)31
b(reste)g(du)e(programme)h(n'a)h(plus)d(qu'\022)-45 b(a)28
b(\023)-43 b(etablir)30 b(le)g(service.)157 4021 y Fz(18)84
b Fv(let)53 b Fu(proxy)46 b(\(\))h(=)157 4134 y Fz(19)179
b Fv(let)48 b Fu(http_port)d(=)157 4247 y Fz(20)275 b
Fv(if)48 b Fu(Array)n(.length)e(Sys)o(.argv)h(>)g(1)g
Fv(then)157 4360 y Fz(21)370 b Fv(try)48 b Fu(int_of_string)c(Sys)o
(.argv)o(.\(1\))157 4473 y Fz(22)370 b Fv(with)47 b Fu
(Invalid_argument)d(_)j(->)g(error)g Fo(")o(Incorrect)f(port)o(")h
Fu(Sys)o(.argv)o(.\(1\))157 4586 y Fz(23)275 b Fv(else)157
4699 y Fz(24)370 b Fv(try)48 b Fu(\(getservbyname)c Fo("http)n(")k
("tcp)o(")p Fu(\).)o(s_port)157 4812 y Fz(25)370 b Fv(with)47
b Fu(Not_found)f(->)h(error)f Fo("Unknown)g(service)n(")h("http)o(")g
Fv(in)157 4925 y Fz(26)179 b Fv(let)48 b Fu(my_host_addr)c(=)157
5038 y Fz(27)275 b Fu(\(gethostbyname)44 b(\()o(gethostname)m
(\(\)\)\).)o(h_addr_list)m(.\(0\))j Fv(in)157 5150 y
Fz(28)179 b Fv(let)48 b Fu(sockaddr)d(=)j(ADDR_INET)m(\(my_host_addr)m
(,)f(http_port)n(\))g Fv(in)157 5263 y Fz(29)179 b Fu(establish_server)
44 b(treat_connection)f(sockaddr)n(;;)157 5376 y Fz(30)157
5489 y(31)84 b Fu(handle_unix_error)43 b(proxy)j(\(\);;)p
Black Black eop
%%Page: 81 81
81 80 bop Black -71 24 a Fs(5.11.)63 b(EXEMPLE)30 b(COMPLET)f(:)h(REQU)
1494 1 y(^)1482 24 y(ETES)f(HTTP)1724 b Fw(81)p Black
-71 280 a Fg(5.11.3)113 b(Le)37 b(Proto)s(cole)f(HTTP/1.1)70
468 y Fw(Les)f(requ)m(^)-43 b(etes)37 b(simpli\014)m(\023)-43
b(es)32 b(obligen)m(t)j(\022)-45 b(a)35 b(cr)m(\023)-43
b(eer)37 b(une)d(connexion)g(par)h(requ)m(^)-43 b(ete,)37
b(ce)e(qui)f(est)h(ine\016cace,)h(car)g(il)-71 581 y(est)k(fr)m(\023)
-43 b(equen)m(t)41 b(que)e(plusieurs)d(requ)m(^)-43 b(etes)41
b(se)f(suiv)m(en)m(t)f(sur)g(le)g(m)m(^)-43 b(eme)41
b(serv)m(eur)e(\(par)h(exemple,)f(le)g(c)m(hargemen)m(t)-71
694 y(d'une)g(page)i(WEB)g(qui)e(con)m(tien)m(t)i(des)f(images)g(v)-5
b(a)41 b(en)m(tra)-10 b(^)-35 b(\020ner)39 b(dans)h(la)g(foul)m(\023)
-43 b(ee)40 b(le)g(c)m(hargemen)m(t)i(des)e(images)-71
807 y(corresp)s(ondan)m(tes\).)k(Le)g(temps)f(d')m(\023)-43
b(etablissemen)m(t)44 b(de)f(la)g(connexion)g(p)s(eut)g(facilemen)m(t)g
(d)m(\023)-43 b(epasser)44 b(le)f(temps)-71 920 y(pass)m(\023)-43
b(e)31 b(\022)-45 b(a)30 b(traiter)f(la)h(requ)m(^)-43
b(ete)31 b(propremen)m(t)e(dite.)g(Nous)h(v)m(errons)f(dans)g(le)g(c)m
(hapitre)h(6)g(commen)m(t)g(r)m(\023)-43 b(eduire)29
b(celui-)-71 1033 y(ci)23 b(en)f(faisan)m(t)h(traiter)g(les)f
(connexions)g(par)g(des)h(copro)s(cessus)f(plut^)-45
b(ot)22 b(que)h(par)f(des)h(pro)s(cessus.)f(Nous)g(prop)s(osons)-71
1145 y(dans)k(les)h(exercices)h(ci-dessous)e(l'utilisation)e(du)i
(proto)s(cole)h Fu(HTTP/1.1)2440 1112 y Fz(5)2504 1145
y Fw(qui)f(utilise)f(des)i(requ)m(^)-43 b(etes)28 b(complexes)-71
1258 y(p)s(ermettan)m(t)j(de)f(servir)f(plusieurs)e(requ)m(^)-43
b(etes)32 b(par)e(connexion)2072 1225 y Fz(6)70 1380
y Fw(Dans)41 b(les)f(requ)m(^)-43 b(etes)41 b(complexes,)g(le)f(serv)m
(eur)g(pr)m(\023)-43 b(ec)m(\022)g(ede)42 b(c)m(haque)f(r)m(\023)-43
b(ep)s(onse)41 b(par)f(une)f(en)m(t)m(^)-43 b(ete)43
b(indiquan)m(t)38 b(le)-71 1492 y(format)e(de)g(la)f(r)m(\023)-43
b(ep)s(onse)36 b(et)h(le)e(cas)f(\023)-43 b(ec)m(h)m(\023)g(ean)m(t)39
b(la)d(taille)f(du)f(do)s(cumen)m(t)i(transmis.)f(La)h(\014n)e(du)h(do)
s(cumen)m(t)h(n'est)-71 1605 y(plus)e(indiqu)m(\023)-43
b(ee)35 b(par)g(une)g(\014n)g(de)h(\014c)m(hier,)f(puisqu'elle)e(p)s
(eut)g(^)-43 b(etre)37 b(d)m(\023)-43 b(eduite)36 b(de)g(la)f(taille.)g
(La)i(connexion)e(p)s(eut)-71 1718 y(ainsi)29 b(rester)h(ouv)m(erte)i
(p)s(our)d(servir)g(d'autres)h(requ)m(^)-43 b(etes.)70
1839 y(Celles-ci)29 b(son)m(t)i(de)g(la)f(forme)g(suiv)-5
b(an)m(te)30 b(:)p Black Black 156 1999 a Fu(GET)g Fh(sp)g
Fs(Uri)k Fh(sp)29 b Fu(HTTP/1.1)f Fh(crlf)i Fs(Header)37
b Fh(crlf)-71 2159 y Fw(L'en)m(t)m(^)-43 b(ete)33 b Fs(Header)38
b Fw(d)m(\023)-43 b(e\014nit)30 b(une)f(suite)h(de)g(paires)g(c)m
(hamp-v)-5 b(aleur)29 b(a)m(v)m(ec)k(la)d(syn)m(taxe)h(suiv)-5
b(an)m(te)30 b(:)p Black Black 156 2319 a Fs(\014eld)50
b Fu(:)30 b Fs(v)-5 b(alue)35 b Fh(crlf)-71 2479 y Fw(Des)c(espaces)f
(sup)s(er\015us)d(son)m(t)h(\023)-43 b(egalemen)m(t)32
b(p)s(ermis)27 b(autour)j(du)f(s)m(\023)-43 b(eparateur)31
b(\\)p Fu(:)p Fw(".)f(En)f(fait,)h(un)f(espace)i Fh(sp)e
Fw(p)s(eut)-71 2592 y(toujours)g(^)-43 b(etre)33 b(remplac)m(\023)-43
b(e)33 b(par)f(une)f(tabulation)g(ou)h(une)f(suite)h(d'espaces.)h(Les)f
(c)m(hamps)g(de)g(l'en)m(t)m(^)-43 b(ete)34 b(p)s(euv)m(en)m(t)-74
2705 y(\023)-43 b(egalemen)m(t)46 b(s')m(\023)-43 b(etendre)44
b(sur)f(plusieurs)d(lignes)i(:)h(dans)g(ce)h(cas)g(et)g(dans)f(ce)h
(cas)g(uniquemen)m(t)e(le)h(lex)m(\022)-43 b(eme)44 b(de)-71
2818 y(\014n)36 b(de)h(ligne)f Fh(crlf)g Fw(est)i(imm)m(\023)-43
b(ediatemen)m(t)38 b(suivi)d(d'un)h(espace)i Fh(sp)p
Fw(.)f(En\014n,)f(ma)5 b(juscules)36 b(et)i(min)m(uscules)c(son)m(t)-74
2930 y(\023)-43 b(equiv)-5 b(alen)m(tes)28 b(dans)e(les)g(mots-cl)m
(\023)-43 b(es)29 b(des)e(c)m(hamps,)g(ainsi)e(que)i(dans)f(les)h(v)-5
b(aleurs)25 b(de)i(certains)g(c)m(hamps)g(comp)s(os)m(\023)-43
b(es)-71 3043 y(de)30 b(listes)g(de)g(mots-cl)m(\023)-43
b(e.)70 3165 y(Selon)20 b(le)f(t)m(yp)s(e)i(de)f(requ)m(^)-43
b(ete,)22 b(certains)e(c)m(hamps)g(son)m(t)h(obligatoires,)f(d'autres)g
(son)m(t)h(optionnels.)e(P)m(ar)i(exemple,)-71 3277 y(une)30
b(requ)m(^)-43 b(ete)32 b Fu(GET)d Fw(comp)s(orte)i(forc)m(\023)-43
b(emen)m(t)33 b(un)c(c)m(hamp)h(qui)f(indique)f(la)i(mac)m(hine)g
(destinataire)g(:)p Black Black 156 3437 a Fu(Host)g
Fh(colon)f Fw(Hostname)i Fh(crlf)-71 3597 y Fw(P)m(our)d(ce)g(t)m(yp)s
(e)g(requ)m(^)-43 b(ete,)30 b(on)d(p)s(eut)g(aussi)g(demander,)g(en)g
(utilisan)m(t)f(le)h(c)m(hamp)h(optionnel)e Fu(If-Modified)f
Fw(que)i(le)-71 3710 y(do)s(cumen)m(t)j(ne)h(soit)f(retourn)m(\023)-43
b(e)31 b(que)f(s'il)f(a)f(\023)-43 b(et)m(\023)g(e)33
b(mo)s(di\014)m(\023)-43 b(e)30 b(depuis)e(une)i(certaine)h(date.)p
Black Black 156 3870 a Fu(If-Modified)d Fh(colon)h Fw(Date)j
Fh(crlf)-71 4030 y Fw(Le)e(nom)m(bre)g(de)f(c)m(hamps)h(du)f
Fs(Header)37 b Fw(n'est)30 b(donc)f(pas)h(\014x)m(\023)-43
b(e)31 b(par)e(a)m(v)-5 b(ance)31 b(mais)e(indiqu)m(\023)-43
b(e)29 b(par)g(la)g(\014n)g(de)h(l'en)m(t)m(^)-43 b(ete)-71
4143 y(qui)29 b(consiste)i(en)f(une)f(ligne)h(r)m(\023)-43
b(eduite)30 b(aux)g(seuls)f(caract)m(\022)-43 b(eres)34
b Fh(crlf)p Fw(.)70 4264 y(V)-8 b(oici)29 b(une)f(requ)m(^)-43
b(ete)30 b(compl)m(\022)-43 b(ete)30 b(\(toutes)f(les)f(lignes)g(se)g
(terminan)m(t)g(par)g(le)h(caract)m(\022)-43 b(ere)31
b Fu(\\n)d Fw(laiss)m(\023)-43 b(e)28 b(implicite)e(et)-71
4377 y(qui)j(suit)g(imm)m(\023)-43 b(ediatemen)m(t)31
b(le)f Fu(\\r)p Fw(\))g(:)311 4509 y Fu(GET)47 b(/~)o(remy)o(/)h(HTTP)o
(/1.1\\)n(r)311 4622 y(Host)o(:pauillac)m(.inria)o(.)o(fr\\r)311
4735 y(\\r)-71 4876 y Fw(Une)30 b(r)m(\023)-43 b(ep)s(onse)30
b(\022)-45 b(a)30 b(une)f(requ)m(^)-43 b(ete)31 b(complexe)f(est)d
(\023)-43 b(egalemen)m(t)32 b(une)d(r)m(\023)-43 b(ep)s(onse)30
b(compl)m(\022)-43 b(ete.)31 b(Elle)d(comp)s(orte)i(une)f(ligne)-71
4989 y(de)h(statut,)i(une)d(en)m(t)m(^)-43 b(ete,)34
b(puis)28 b(le)i(corps)g(de)h(la)f(r)m(\023)-43 b(ep)s(onse,)31
b(le)e(cas)g(\023)-43 b(ec)m(h)m(\023)g(ean)m(t.)p Black
Black 156 5149 a Fu(HTTP/1.0)29 b Fh(SP)h Fs(status)k
Fh(SP)d Fs(message)36 b Fh(crlf)29 b Fs(Header)38 b Fh(crlf)29
b Fs(Bo)s(dy)p Black -71 5261 1560 4 v 33 5315 a Fl(5)67
5346 y Fk(La)d(description)g(compl)n(\022)-36 b(ete)26
b(p)r(eut-)n(^)-36 b(etre)25 b(trouv)n(\023)-36 b(ee)25
b(\022)-38 b(a)26 b(l'URL)f Fj(http://www.doclib.org/rfc/r)q(fc20)q
(68.ht)q(ml)p Fk(.)33 5406 y Fl(6)67 5438 y Fk(Le)31
b(proto)r(cole)i(HTTP/1.0)g(p)r(ermet)d(d)n(\023)-36
b(ej\022)e(a)32 b(ce)f(t)n(yp)r(e)f(de)h(requ)n(^)-36
b(etes)30 b(en)h(plus)g(des)g(requ)n(^)-36 b(etes)31
b(simpli\014)n(\023)-36 b(ees,)31 b(mais)g(nous)g(pr)n(\023)-36
b(ef)n(\023)g(erons)-71 5529 y(d)n(\023)g(ecrire)26 b(le)g(proto)r
(cole)h(HTTP/1.1)h(qui)d(traite)i(exclusiv)n(emen)n(t)d(des)i(requ)n(^)
-36 b(etes)25 b(complexes.)p Black Black Black eop
%%Page: 82 82
82 81 bop Black -71 24 a Fw(82)1098 b Fs(CHAPITRE)29
b(5.)62 b(COMMUNICA)-8 b(TIONS)29 b(MODERNES)i(:)f(LES)g(PRISES)p
Black -71 280 a Fw(Les)43 b(c)m(hamps)g(de)g(l'en)m(t)m(^)-43
b(ete)45 b(d'une)d(r)m(\023)-43 b(ep)s(onse)43 b(on)m(t)h(une)e(syn)m
(taxe)i(analogue)f(\022)-45 b(a)43 b(celle)g(d'une)f(requ)m(^)-43
b(ete)44 b(mais)f(les)-71 393 y(c)m(hamps)31 b(p)s(ermis)e(et)i
(obligatoires)g(son)m(t)g(di\013)m(\023)-43 b(eren)m(ts)31
b(\(ils)f(d)m(\023)-43 b(ep)s(enden)m(t)31 b(du)f(t)m(yp)s(e)h(de)g(la)
f(requ)m(^)-43 b(ete)33 b(ou)e(du)e(statut)j(de)-71 506
y(la)e(r)m(\023)-43 b(ep)s(onse|v)m(oir)30 b(la)g(do)s(cumen)m(tation)h
(compl)m(\022)-43 b(ete)31 b(du)f(proto)s(cole\).)70
621 y(Le)g(corps)f(de)g(la)g(r)m(\023)-43 b(ep)s(onse)29
b Fs(Bo)s(dy)37 b Fw(p)s(eut-)m(^)-43 b(etre)31 b(vide,)e(transmis)f
(en)h(un)f(seul)g(blo)s(c,)h(ou)g(par)g(tranc)m(hes.)h(Dans)f(le)-71
734 y(second)e(cas,)h(l'en)m(t)m(^)-43 b(ete)29 b(comp)s(orte)f(un)e(c)
m(hamp)h Fu(Content-Length)c Fw(indiquan)m(t)i(le)h(nom)m(bre)h(d'o)s
(ctets)h(en)f(notation)-71 846 y(d)m(\023)-43 b(ecimale)33
b(ASCI)s(I.)e(Dans)i(le)g(troisi)m(\022)-43 b(eme)32
b(cas,)i(l'en)m(t)m(^)-43 b(ete)35 b(comp)s(orte)e(une)f(c)m(hamp)h
Fu(Transfer-Encoding)28 b Fw(a)m(v)m(ec)34 b(la)-71 959
y(v)-5 b(aleur)34 b Fu(chuncked)p Fw(.)f(Le)i(corps)f(est)h(alors)g(un)
e(ensem)m(ble)i(de)f(tranc)m(hes)i(et)f(se)g(termine)f(par)g(une)g
(tranc)m(he)i(vide.)-71 1072 y(Une)31 b(tranc)m(he)g(est)f(de)h(la)f
(forme)g(:)p Black Black 156 1220 a Fs(Size)35 b Fw([)c
Fh(semicolon)e Fs(arg)38 b Fw(])31 b Fh(crlf)e Fs(Ch)m(unk)34
b Fh(crlf)-71 1367 y Fw(o)s(\022)-48 b(u)26 b Fs(Size)k
Fw(est)c(la)g(taille)e(de)i(la)f(tranc)m(he)h(en)g(notation)g(hexad)m
(\023)-43 b(ecimale)26 b(\(la)g(partie)f(en)m(tre)i(\\[")f(et)h(\\]")g
(est)f(optionnelle)-71 1480 y(et)36 b(p)s(eut)c(^)-43
b(etre)36 b(ignor)m(\023)-43 b(ee)36 b(ici\))e(et)i Fs(Ch)m(unk)j
Fw(est)d(une)f(partie)f(du)g(corps)h(de)g(la)g(r)m(\023)-43
b(ep)s(onse)35 b(de)g(la)g(taille)f(indiqu)m(\023)-43
b(ee.)34 b(La)-71 1593 y(derni)m(\022)-43 b(ere)30 b(tranc)m(he)h(de)f
(taille)g(n)m(ulle)e(est)j(toujours)f(de)g(la)g(forme)h(suiv)-5
b(an)m(te)30 b(:)p Black Black 156 1740 a Fu(0)g Fh(crlf)g
Fs(Header)37 b Fh(crlf)29 b(crlf)-71 1887 y Fw(En\014n,)e(le)h(corps)g
(de)g(la)f(r)m(\023)-43 b(ep)s(onse)29 b Fs(Bo)s(dy)35
b Fw(est)29 b(vide)e(lorsque)g(la)h(r)m(\023)-43 b(ep)s(onse)29
b(n'est)f(pas)g(tranc)m(h)m(\023)-43 b(ee)30 b(et)f(ne)f(con)m(tien)m
(t)h(pas)-71 2000 y(de)e(c)m(hamp)g Fu(Content-Length)c
Fw(\(par)j(exemple,)h(une)f(requ)m(^)-43 b(ete)28 b(de)f(t)m(yp)s(e)g
Fu(HEAD)f Fw(ne)g(r)m(\023)-43 b(ep)s(ond)27 b(que)f(par)g(une)h(en)m
(t)m(^)-43 b(ete\).)70 2115 y(V)-8 b(oici)31 b(un)e(exemple)h(de)g(r)m
(\023)-43 b(ep)s(onse)31 b(:)311 2247 y Fu(HTTP)o(/1.1)46
b(200)h(OK\\r)311 2360 y(Date)o(:)g(Sun)o(,)h(10)f(Nov)g(2002)g
(09:14:09)e(GMT)o(\\r)311 2473 y(Server)n(:)j(Apache)n(/1.2.6\\)n(r)311
2586 y(Last)o(-Modified)m(:)g(Mon)o(,)f(21)h(Oct)f(2002)f(13:06:21)g
(GMT)o(\\r)311 2699 y(ETag)o(:)h Fo("359-)o(e0d)o(-3db3fbcd)n(")o
Fu(\\r)311 2812 y(Content)n(-Length)n(:)h(3597\\)n(r)311
2925 y(Accept)n(-Ranges)n(:)g(bytes)n(\\r)311 3038 y(Content)n(-Type)o
(:)f(text)o(/html)o(\\)o(r)311 3150 y(\\r)311 3263 y(<html)o(>)311
3376 y(...)311 3489 y(</)o(html)o(>)-71 3623 y Fw(Le)24
b(statut)g Fu(200)e Fw(indique)f(que)i(la)g(requ)m(^)-43
b(ete)25 b(a)f(r)m(\023)-43 b(eussi.)23 b(Un)g(statut)h
Fu(301)f Fw(ou)g Fu(302)g Fw(signi\014e)e(que)i(l'URL)g(a)e(\023)-43
b(et)m(\023)g(e)26 b(redirig)m(\023)-43 b(ee)-71 3736
y(v)m(ers)36 b(une)f(autre)h(URL)f(d)m(\023)-43 b(e\014nie)35
b(dans)g(le)h(c)m(hamp)f Fu(Location)f Fw(de)h(la)g(r)m(\023)-43
b(ep)s(onse.)36 b(Les)g(statuts)g(de)g(la)f(forme)h Fu(400)p
Fw(,)-71 3849 y Fu(401)p Fw(,)g Fn(etc.)f Fw(indique)f(des)i(erreurs)f
(dans)g(la)h(forme)g(de)g(la)g(requ)m(^)-43 b(etes)37
b(et)g(ceux)g(de)f(la)f(forme)i Fu(500)p Fw(,)e Fu(501)p
Fw(,)h Fn(etc.)f Fw(des)-71 3962 y(erreurs)29 b(dans)h(le)g(traitemen)m
(t)h(de)f(la)g(requ)m(^)-43 b(ete.)p Black -71 4184 a
Fv(Exercice)36 b(12)p Black 512 4161 a Fn(\023)499 4184
y(Ecrir)-5 b(e)32 b(un)h(r)-5 b(elais)34 b(qui)e(fonctionne)h(ave)-5
b(c)33 b(le)f(pr)-5 b(oto)g(c)g(ole)36 b(HTTP/1.1.)p
3783 4135 47 4 v 3783 4181 4 47 v 3826 4181 V 3783 4184
47 4 v Black -71 4405 a Fv(Exercice)g(13)p Black 46 w
Fn(Ajouter)24 b(un)g(c)-5 b(ache)25 b(au)f(r)-5 b(elais)26
b(:)e(les)g(p)-5 b(ages)25 b(sont)g(sauve)-5 b(gar)g(d)n(\023)-44
b(ees)26 b(sur)e(le)h(disque.)f(L)-5 b(orsqu'une)24 b(p)-5
b(age)-71 4518 y(demand)n(\023)-44 b(ee)37 b(est)f(disp)-5
b(onible)37 b(dans)f(le)g(c)-5 b(ache,)36 b(la)g(p)-5
b(age)37 b(du)e(c)-5 b(ache)37 b(est)e(servie,)h(sauf)f(si)h(el)5
b(le)35 b(est)h(tr)-5 b(op)37 b(ancienne,)-71 4631 y(auquel)c(c)-5
b(as)33 b(le)f(serveur)h(est)g(interr)-5 b(o)g(g)n(\023)-44
b(e)34 b(\(et)f(le)f(c)-5 b(ache)33 b(est)g(mis)g(\022)-46
b(a)33 b(jour\).)p 3783 4581 V 3783 4628 4 47 v 3826
4628 V 3783 4631 47 4 v Black -71 4852 a Fv(Exercice)j(14)p
Black 512 4829 a Fn(\023)499 4852 y(Ecrir)-5 b(e)25 b(un)h(pr)-5
b(o)g(gr)g(amme)29 b Fu(wget)24 b Fn(tel)5 b(le)26 b(que)f
Fu(wget)f Ft(u)2188 4866 y Fz(1)2268 4852 y Ft(:)15 b(:)g(:)42
b(u)2467 4866 y Fe(n)2540 4852 y Fn(e\013e)-5 b(ctue)25
b(les)g(r)-5 b(e)g(qu)n(^)-44 b(etes)26 b Ft(u)3380 4866
y Fe(i)3434 4852 y Fn(et)g(sauvent)-71 4964 y(les)39
b(r)n(\023)-44 b(ep)-5 b(onses)41 b(dans)f(des)g(\014chiers)f
Fu(./)o Ft(m)1328 4978 y Fe(i)1356 4964 y Fu(/)p Ft(p)1450
4978 y Fe(i)1517 4964 y Fn(o)q(\022)-48 b(u)40 b Ft(m)1731
4978 y Fe(i)1798 4964 y Fn(et)f Ft(p)1955 4978 y Fe(i)2022
4964 y Fn(sont)h(r)-5 b(esp)g(e)g(ctivement)41 b(le)e(nom)g(de)h(la)f
(machine)h(et)-71 5077 y(le)c(chemin)h(absolu)f(de)h(la)f(r)-5
b(e)g(qu)n(^)-44 b(ete)37 b Ft(u)1223 5091 y Fe(i)1251
5077 y Fn(.)f(On)f(pr)-5 b(o\014ter)g(a)39 b(du)d(pr)-5
b(oto)g(c)g(ole)40 b(c)-5 b(omplet)37 b(p)-5 b(our)38
b(n)-9 b('e\013e)k(ctuer)35 b(qu'une)g(seule)-71 5190
y(c)-5 b(onnexion)36 b(sur)e(la)h(machine)g Ft(m)f Fn(lorsque)h(c)-5
b(el)5 b(le-ci)33 b(est)i(la)g(m)n(^)-44 b(eme)34 b(p)-5
b(our)36 b(plusieurs)f(r)-5 b(e)g(qu)n(^)-44 b(etes)34
b(c)-5 b(ons)n(\023)-44 b(ecutives.)35 b(De)-71 5303
y(plus,)40 b(on)h(suivr)-5 b(a)40 b(une)g(URL)f(lorsque)i(c)-5
b(el)5 b(le-ci)39 b(est)h(une)f(r)-5 b(e)g(dir)g(e)g(ction)42
b(temp)-5 b(or)g(air)g(e)43 b(ou)d(d)n(\023)-44 b(e\014nitive.)40
b(On)g(p)-5 b(ourr)g(a)-71 5416 y(ajouter)34 b(les)e(options)j
(suivantes)e(:)p Black -23 5529 a Fo(-N)p Black 93 w
Fn(p)-5 b(our)34 b(ne)e(r)n(\023)-44 b(ecup)n(\023)g(er)-5
b(er)34 b(l'URL)e(que)g(si)h(le)f(\014chier)h Ft(:=m)1969
5543 y Fe(i)1998 5529 y Ft(=u)2095 5543 y Fe(i)2156 5529
y Fn(n)-9 b('existe)33 b(p)-5 b(as)34 b(ou)e(est)h(plus)g(ancien)g(que)
f(l'URL.)p Black Black eop
%%Page: 83 83
83 82 bop Black -71 24 a Fs(5.11.)63 b(EXEMPLE)30 b(COMPLET)f(:)h(REQU)
1494 1 y(^)1482 24 y(ETES)f(HTTP)1724 b Fw(83)p Black
Black -23 280 a Fo(-r)p Black 93 w Fn(p)-5 b(our)27 b(r)n(\023)-44
b(ecup)n(\023)g(er)-5 b(er)26 b(r)n(\023)-44 b(ecursivement)25
b(toutes)h(les)f(url)h(c)-5 b(ontenus)26 b(dans)g(les)f(r)n(\023)-44
b(ep)-5 b(onses)27 b(qui)e(sont)h(des)g(do)-5 b(cuments)162
393 y(au)33 b(format)h(HTML.)p 3783 457 47 4 v 3783 503
4 47 v 3826 503 V 3783 506 47 4 v Black Black eop
%%Page: 84 84
84 83 bop Black -71 24 a Fw(84)1098 b Fs(CHAPITRE)29
b(5.)62 b(COMMUNICA)-8 b(TIONS)29 b(MODERNES)i(:)f(LES)g(PRISES)p
Black Black Black eop
%%Page: 85 85
85 84 bop Black Black -71 907 a Fr(Chapitre)66 b(6)-71
1326 y FB(Les)77 b(copro)6 b(cessus)70 1775 y Fw(Un)38
b Fn(c)-5 b(opr)g(o)g(c)g(essus)p Fw(,)41 b(aussi)c(app)s(el)m(\023)-43
b(e)38 b Fn(pr)-5 b(o)g(c)g(essus)41 b(l)n(\023)-44 b(eger)48
b Fw(et)39 b Fn(thr)-5 b(e)g(ad)49 b Fw(en)38 b(anglais,)f(est)i(un)e
(\014l)f(d'ex)m(\023)-43 b(ecution)39 b(d'un)-71 1888
y(programme)30 b(p)s(ouv)-5 b(an)m(t)30 b(s'ex)m(\023)-43
b(ecuter)33 b(en)d(parall)m(\022)-43 b(ele)30 b(a)m(v)m(ec)j(d'autres)d
(copro)s(cessus)g(du)f(m)m(^)-43 b(eme)32 b(programme.)70
2062 y(Ce)22 b(c)m(hapitre)g(d)m(\023)-43 b(ecrit)22
b(les)f(app)s(els)f(syst)m(\022)-43 b(emes)23 b(Unix)e(p)s(ermettan)m
(t)h(\022)-45 b(a)22 b(un)f(programme)g(de)h(cr)m(\023)-43
b(eer)23 b(des)e(copro)s(cessus)-71 2175 y(et)i(de)f(les)f(sync)m
(hroniser)g(\022)-45 b(a)22 b(l'aide)g(de)f(v)m(errous,)i(de)f
(conditions)e(ou)i(d')m(\023)-43 b(ev)m(\023)g(enemen)m(ts.)25
b(Elle)c(s'appuie)g(sur)g(la)h(librairie)-71 2288 y(OCaml)29
b Fu(Thread)g Fw(et)i(les)f(librairies)d Fu(Mutex)p Fw(,)i
Fu(Condition)f Fw(et)j Fu(Event)e Fw(qui)g(l'accompagnen)m(t.)-71
2597 y Fq(6.1)135 b(G)m(\023)-64 b(en)m(\023)g(eralit)m(\023)g(es)70
2807 y Fw(La)33 b(cr)m(\023)-43 b(eation)33 b(d'un)e(copro)s(cessus)h
(est)h(tr)m(\022)-43 b(es)33 b(di\013)m(\023)-43 b(eren)m(te)33
b(de)f(l'op)m(\023)-43 b(eration)33 b Fu(fork)e Fw(qui)g(cr)m(\023)-43
b(ee)34 b(une)d(copie)h(du)f(pro-)-71 2920 y(cessus)44
b(couran)m(t)g(\(donc)g(une)f(copie)g(du)g(programme\))h(:)g(les)f
(espaces)h(m)m(\023)-43 b(emoires)44 b(du)f(p)m(\022)-43
b(ere)44 b(et)h(du)d(\014ls)g(son)m(t)-71 3033 y(totalemen)m(t)c
(disjoin)m(ts)c(apr)m(\022)-43 b(es)37 b(l'ex)m(\023)-43
b(ecution)37 b(de)e Fu(fork)g Fw(et)i(les)e(pro)s(cessus)g(ne)h(p)s
(euv)m(en)m(t)g(comm)m(uniquer)f(que)h(par)-71 3146 y(un)29
b(app)s(el)g(syst)m(\022)-43 b(eme)32 b(\(comme)d(\023)-43
b(ecrire)31 b(ou)f(lire)f(dans)g(un)h(\014c)m(hier)f(ou)h(dans)g(un)f
(tuy)m(au\).)70 3263 y(Au)22 b(con)m(traire,)h(tous)g(les)f(copro)s
(cessus)g(d'un)f(m)m(^)-43 b(eme)24 b(programme)e(partagen)m(t)i(le)e
(m)m(^)-43 b(eme)24 b(espace)f(d'adressage.)-71 3376
y(Les)45 b(seules)e(donn)m(\023)-43 b(ees)45 b(qui)e(les)h(di\013)m
(\023)-43 b(erencien)m(t)44 b(et)h(qui)e(ne)i(son)m(t)g(pas)f(partag)m
(\023)-43 b(ees)46 b(son)m(t)f(leur)e(iden)m(tit)m(\023)-43
b(e)45 b(et)g(leur)-71 3489 y(pile)37 b(d'ex)m(\023)-43
b(ecution,)39 b(ainsi)d(que)i(quelques)f(informations)f(p)s(our)g(le)i
(syst)m(\022)-43 b(eme)40 b(\(masque)e(des)g(signaux,)c(\023)-43
b(etat)40 b(des)-71 3602 y(v)m(errous)j(et)h(conditions,)e
Fn(etc.)p Fw(\).)i(De)g(ce)g(p)s(oin)m(t)e(de)i(vue,)f(les)g(copro)s
(cessus)g(ressem)m(ble)g(aux)g(coroutines.)g(Les)-71
3715 y(copro)s(cessus)38 b(d'un)g(m)m(^)-43 b(eme)39
b(programme)g(formen)m(t)g(un)e(group)s(e)h(:)h(ils)e(son)m(t)i(tous)f
(trait)m(\023)-43 b(es)40 b(de)e(la)h(m)m(^)-43 b(eme)39
b(fa\030)-40 b(con,)-71 3827 y(sauf)26 b(un,)g(le)g(copro)s(cessus)g
(principal,)d(qui)i(a)f(\023)-43 b(et)m(\023)g(e)29 b(cr)m(\023)-43
b(e)m(\023)g(e)29 b(au)e(d)m(\023)-43 b(emarrage)27 b(du)f(programme)g
(et)h(don)m(t)g(la)f(terminaison)-71 3940 y(en)m(tra)-10
b(^)-35 b(\020ne)35 b(l'arr)m(^)-43 b(et)37 b(de)e(tous)h(les)e(autres)
i(copro)s(cessus)f(et)h(l'arr)m(^)-43 b(et)37 b(du)d(programme.)h
(Lorsque)g(nous)g(comparons)-71 4053 y(des)30 b(copro)s(cessus)g(en)m
(tre)h(eux,)g(nous)e(parlerons)g(toujours)h(des)g(copro)s(cessus)g
(d'un)g(m)m(^)-43 b(eme)31 b(programme.)82 4147 y(\022)70
4170 y(A)g(la)e(di\013)m(\023)-43 b(erence)31 b(des)f(coroutines,)g
(qui)f(ne)h(p)s(euv)m(en)m(t)g(pas)g(s'ex)m(\023)-43
b(ecuter)32 b(en)e(parall)m(\022)-43 b(ele)30 b(|l'une)f(dev)-5
b(an)m(t)30 b(passer)-71 4283 y(explicitemen)m(t)23 b(la)h(main)f(a)m
(v)-5 b(an)m(t)25 b(que)f(l'autre)g(ne)f(puisse)g(s'ex)m(\023)-43
b(ecuter)26 b(\022)-45 b(a)24 b(son)g(tour|)f(les)h(copro)s(cessus)f
(s'ex)m(\023)-43 b(ecuten)m(t)-71 4396 y(en)30 b(parall)m(\022)-43
b(ele)29 b(ou)h(du)f(moins)g(tout)h(se)g(passe)g(comme)h(s'ils)d(le)i
(faisaien)m(t,)g(car)g(ils)e(p)s(euv)m(en)m(t)g(^)-43
b(etre)31 b(in)m(terrompus)d(de)-71 4509 y(fa\030)-40
b(con)33 b(pr)m(\023)-43 b(eemptiv)m(e)33 b(par)f(le)f(syst)m(\022)-43
b(eme)34 b(p)s(our)d(donner)g(la)h(main)f(\022)-45 b(a)33
b(d'autres)f(copro)s(cessus.)h(De)g(ce)g(p)s(oin)m(t)e(de)h(vue,)-71
4622 y(les)e(copro)s(cessus)g(ressem)m(blen)m(t)g(aux)g(pro)s(cessus.)
70 4739 y(Le)d(partage)g(de)f(l'espace)h(m)m(\023)-43
b(emoire)27 b(p)s(ermet)f(aux)g(copro)s(cessus)g(de)g(comm)m(uniquer)f
(directemen)m(t)h(en)m(tre)h(eux)-71 4852 y(par)35 b(leur)f(m)m(\023)
-43 b(emoire)36 b(comm)m(une.)g(Bien)e(qu'en)h(princip)s(e,)e(deux)h
(pro)s(cessus)g(n'aien)m(t)i(pas)f(b)s(esoin)f(p)s(our)f(cela)j(de)-71
4964 y(passer)28 b(par)g(le)g(syst)m(\022)-43 b(eme)31
b(d'exploitation,)c(le)h(fait)h(qu'ils)d(s'ex)m(\023)-43
b(ecuten)m(t)32 b(en)c(parall)m(\022)-43 b(ele)28 b(les)g(obligen)m(t)g
(\022)-45 b(a)29 b(se)g(sync)m(hro-)-71 5077 y(niser)h(au)h(momen)m(t)h
(de)f(la)g(comm)m(unication)g(\(l'un)f(dev)-5 b(an)m(t)32
b(\014nir)d(d')m(\023)-43 b(ecrire)32 b(a)m(v)-5 b(an)m(t)33
b(que)e(l'autre)g(ne)g(commence)i(\022)-45 b(a)-71 5190
y(lire\),)28 b(ce)i(qui)d(n)m(\023)-43 b(ecessite,)31
b(en)d(g)m(\023)-43 b(en)m(\023)g(eral,)32 b(de)c(passer)h(par)f(le)h
(syst)m(\022)-43 b(eme)30 b(d'exploitation.)e(La)h(sync)m(hronisation)e
(en)m(tre)-71 5303 y(copro)s(cessus,)32 b(quasimen)m(t)f(indisp)s
(ensable)d(p)s(our)i(toute)j(comm)m(unication,)e(reste)h(souv)m(en)m(t)
h(une)e(partie)g(di\016cile)-71 5416 y(de)i(la)g(programmation)g(a)m(v)
m(ec)i(des)e(copro)s(cessus.)g(Elle)f(p)s(eut)h(se)g(faire)g(\022)-45
b(a)33 b(l'aide)f(de)h(v)m(errous)g(et)h(de)f(conditions,)-71
5529 y(ou)d(bien,)g(de)g(fa\030)-40 b(con)31 b(plus)26
b(\023)-43 b(ev)m(olu)m(\023)g(ee,)33 b(en)d(comm)m(uniquan)m(t)f(par)h
(des)e(\023)-43 b(ev)m(\023)g(enemen)m(ts.)p Black 1834
5757 a(85)p Black eop
%%Page: 86 86
86 85 bop Black -71 24 a Fw(86)2277 b Fs(CHAPITRE)30
b(6.)61 b(LES)30 b(COPR)m(OCESSUS)p Black 70 280 a Fw(Le)38
b(gain)g(\022)-45 b(a)38 b(l'utilisation)d(des)i(copro)s(cessus)h(par)f
(rapp)s(ort)g(au)h(pro)s(cessus)f(reste)h(le)f(co)s(^)-48
b(ut)39 b(moindre)d(\022)-45 b(a)38 b(leur)-71 393 y(cr)m(\023)-43
b(eation)35 b(et)f(la)g(p)s(ossibilit)m(\023)-43 b(e)31
b(d')m(\023)-43 b(ec)m(hanger)35 b(de)f(grosses)g(structures)f(de)g
(donn)m(\023)-43 b(ees)34 b(sans)f(recopie,)h(simplemen)m(t)e(en)-71
506 y(s')m(\023)-43 b(ec)m(hangean)m(t)34 b(un)29 b(p)s(oin)m(teur.)-71
755 y Fv(Mise)e(en)g(\033uvre)h(en)f(OCaml)89 b Fw(P)m(our)23
b(compiler)f(une)h(application)f(utilisan)m(t)f(des)i(copro)s(cessus)h
(il)e(faut)h(faire)g(:)p Black Black 156 902 a Fu(ocamlc)46
b(-thread)g(unix.cma)g(threads.cma)f(-o)i(prog)f(mod1.ml)g(mod2.ml)g
(mod3.ml)156 1015 y(ocamlopt)g(-thread)g(unix.cmxa)f(threads.cmxa)f(-o)
k(prog)e(mod1.ml)g(mod2.ml)g(mod3.ml)-71 1162 y Fw(La)41
b(seconde)h(forme)f(\(co)s(de)g(natif)7 b(\))41 b(n'est)g(p)s(ossible)e
(que)i(si)f(l'installation)e(du)i(syst)m(\022)-43 b(eme)43
b(OCaml)d(utilise)e(des)-71 1275 y(copro)s(cessus)g(natifs)f(\()p
Fn(c.f.)h Fw(section)g(6.8\).)h(Sur)e(certains)g(syst)m(\022)-43
b(emes)40 b(le)d(c)m(hargemen)m(t)j(d'autres)e(librairies)c(p)s(eut)-71
1388 y(s'a)m(v)m(\023)-43 b(erer)32 b(n)m(\023)-43 b(ecessaire.)-71
1683 y Fq(6.2)135 b(Cr)m(\023)-64 b(eation)47 b(et)e(terminaison)i(des)
e(copro)t(cessus)-71 1889 y Fn(L)-5 b(es)33 b(fonctions)h(d)n(\023)-44
b(ecrites)33 b(dans)g(c)-5 b(ette)33 b(se)-5 b(ction)33
b(sont)h(d)n(\023)-44 b(e\014nies)33 b(dans)h(le)e(mo)-5
b(dule)34 b Fu(Thread)p Fn(.)70 2003 y Fw(L'app)s(el)c(syst)m(\022)-43
b(eme)33 b Fu(create)c Ft(f)40 b(a)31 b Fw(cr)m(\023)-43
b(ee)33 b(un)d(nouv)m(eau)i(copro)s(cessus)e(dans)h(lequel)f
(l'application)e(de)j(fonction)-71 2116 y Ft(f)37 b(a)27
b Fw(est)g(ex)m(\023)-43 b(ecut)m(\023)g(ee.)32 b(La)27
b(cr)m(\023)-43 b(eation)29 b(d'un)d(copro)s(cessus)h(retourne)g(\022)
-45 b(a)27 b(l'app)s(elan)m(t)f(une)h(p)s(oign)m(\023)-43
b(ee)27 b(sur)g(le)f(copro)s(cessus)-71 2229 y(fra)-10
b(^)-35 b(\020c)m(hemen)m(t)31 b(cr)m(\023)-43 b(e)m(\023)g(e)33
b(qui)c(p)s(eut)e(^)-43 b(etre)32 b(utilis)m(\023)-43
b(ee)29 b(p)s(our)g(son)h(con)m(tr^)-45 b(ole.)311 2362
y Fu(Thread)n(.create)46 b(:)i(\()o('a)f(->)h('b)o(\))g(->)f('a)g(->)g
(t)-71 2496 y Fw(Le)40 b(calcul)e(s'ex)m(\023)-43 b(ecute)42
b(de)d(fa\030)-40 b(con)40 b(concurren)m(te)g(a)m(v)m(ec)h(les)e
(calculs)f(e\013ectu)m(\023)-43 b(es)42 b(par)d(les)g(autres)g(copro)s
(cessus)g(du)-71 2609 y(programme.)i(Le)f(copro)s(cessus)g(termine)g
(lorsque)f(l'application)f Ft(f)49 b(a)41 b Fw(termine.)e(Le)i(r)m
(\023)-43 b(esultat)41 b(du)e(calcul)h(est)-71 2721 y(simplemen)m(t)d
(ignor)m(\023)-43 b(e.)40 b(Si)e(le)g(copro)s(cessus)h(termine)f(par)g
(une)g(exception)h(non)g(rattrap)m(\023)-43 b(ee,)41
b(celle-ci)d(n'est)h(pas)-71 2834 y(propag)m(\023)-43
b(ee)36 b(dans)d(le)h(copro)s(cessus)g(app)s(elan)m(t)f(ou)h(principal)
d(mais)i(simplemen)m(t)g(ignor)m(\023)-43 b(ee)35 b(apr)m(\022)-43
b(es)34 b(a\016c)m(hage)i(d'un)-71 2947 y(message)29
b(dans)d(la)h(sortie)g(d'erreur.)g(\(Les)g(autres)h(copro)s(cessus)f
(on)m(t)h(a)g(priori)22 b(\023)-43 b(ev)m(olu)m(\023)g(es)29
b(ind)m(\023)-43 b(ep)s(endemmen)m(t)26 b(et)i(ne)-71
3060 y(seraien)m(t)j(pas)f(en)g(mesure)g(de)g(recev)m(oir)h
(l'exception.\))70 3175 y(Un)f(copro)s(cessus)g(p)s(eut)g(aussi)f(se)i
(terminer)e(pr)m(\023)-43 b(ematur)m(\023)g(emen)m(t)32
b(en)f(app)s(elan)m(t)e(la)h(fonction)g Fu(exit)p Fw(.)70
3289 y(Le)h(copro)s(cessus)e(principal)e(d'un)i(programme)h(est)h
(celui)e(qui)f(a)j(lanc)m(\023)-43 b(e)31 b(le)f(premier)e(d'autres)i
(copro)s(cessus.)-71 3402 y(Lorsqu'il)24 b(termine,)h(il)g(ex)m(\023)
-43 b(ecute)28 b(implicitemen)m(t)c(la)h(fonction)h Fu(Pervasives.exit)
c Fw(qui)i(termine)i(le)f(programme)-71 3515 y(et)32
b(tous)e(ses)h(copro)s(cessus.)g(Un)f(copro)s(cessus)h(p)s(eut)c(\023)
-43 b(egalemen)m(t)33 b(terminer)d(le)g(programme)h(en)f(app)s(elan)m
(t)g(expli-)-71 3628 y(citemen)m(t)h Fu(Pervasives.exit)p
Fw(.)70 3742 y(Si)e(un)g(copro)s(cessus)h(termine)f(a)m(v)-5
b(an)m(t)31 b(le)f(copro)s(cessus)g(principal,)d(alors)i(il)g(est)h(d)m
(\023)-43 b(esallou)m(\023)g(e)31 b(imm)m(\023)-43 b(ediatemen)m(t,)-71
3855 y(et)25 b(ne)f(devien)m(t)g(pas)g(un)f(fan)m(t^)-45
b(ome)26 b(comme)f(dans)e(le)h(cas)h(d'un)e(pro)s(cessus)g(Unix)g(cr)m
(\023)-43 b(e)m(\023)g(e)27 b(par)d Fu(fork)p Fw(.)f(La)i(biblioth)m
(\022)-43 b(eque)-71 3968 y(OCaml)29 b(se)i(c)m(harge)g(de)g(cette)h
(gestion.)-71 4263 y Fq(6.3)135 b(Mise)46 b(en)f(atten)l(te)-71
4469 y Fn(L)-5 b(es)33 b(fonctions)h(d)n(\023)-44 b(ecrites)33
b(dans)g(c)-5 b(ette)33 b(se)-5 b(ction)33 b(sont)h(d)n(\023)-44
b(e\014nies)33 b(dans)h(le)e(mo)-5 b(dule)34 b Fu(Thread)p
Fn(.)70 4584 y Fw(L'app)s(el)29 b(syst)m(\022)-43 b(eme)32
b Fu(join)d Fw(p)s(ermet)h(\022)-45 b(a)31 b(un)e(copro)s(cessus)h
(d'en)g(attendre)h(un)f(autre.)311 4716 y Fu(Thread)n(.join)47
b(:)g(t)h(->)f(unit)-71 4850 y Fw(Le)28 b(copro)s(cessus)f(app)s(elan)m
(t)g(est)h(alors)f(susp)s(endu)e(jusqu'\022)-45 b(a)27
b(ce)h(que)g(celui)e(don)m(t)i(la)f(p)s(oign)m(\023)-43
b(ee)28 b(est)g(pass)m(\023)-43 b(ee)29 b(en)f(argu-)-71
4963 y(men)m(t)j(ait)g(termin)m(\023)-43 b(e)31 b(son)g(ex)m(\023)-43
b(ecution.)32 b(Cet)g(app)s(el)d(p)s(eut)f(\023)-43 b(egalemen)m(t)30
b(^)-43 b(etre)32 b(utilis)m(\023)-43 b(e)30 b(par)g(le)h(copro)s
(cessus)f(principal)-71 5076 y(p)s(our)40 b(attendre)i(que)g(tous)g
(les)f(autres)g(aien)m(t)h(retourn)m(\023)-43 b(e)43
b(a)m(v)-5 b(an)m(t)43 b(de)f(terminer)e(lui-m)m(^)-43
b(eme)41 b(et)i(de)e(terminer)f(le)-71 5189 y(programme)d(\(le)g(comp)s
(ortemen)m(t)h(par)f(d)m(\023)-43 b(efaut)36 b(\023)-43
b(etan)m(t)39 b(de)e(tuer)g(les)g(autres)g(copro)s(cessus)g(sans)g
(attendre)g(leur)-71 5302 y(terminaison\).)70 5416 y(Le)c(syst)m(\022)
-43 b(eme)34 b(p)s(eut)e(susp)s(endre)e(un)h(copro)s(cessus)i(a\014n)f
(de)g(donner)g(temp)s(orairemen)m(t)g(la)g(main)f(\022)-45
b(a)33 b(un)f(autre)-71 5529 y(ou)k(parce)h(qu'il)d(est)j(en)f(atten)m
(te)i(d'une)d(ressource)h(non)g(disp)s(onible,)c(que)k(cette)i
(ressource)e(soit)g(utilis)m(\023)-43 b(ee)36 b(par)p
Black Black eop
%%Page: 87 87
87 86 bop Black -71 24 a Fs(6.3.)62 b(MISE)30 b(EN)g(A)-8
b(TTENTE)2738 b Fw(87)p Black -71 280 a(un)26 b(de)i(ses)f(copro)s
(cessus)g(\(v)m(errous)h(et)g(conditions\))e(ou)h(par)g(un)f(autre)i
(pro)s(cessus)e(\(atten)m(te)k(sur)c(un)h(descripteur)-71
393 y(de)36 b(\014c)m(hier\).)g(Un)g(copro)s(cessus)g(p)s(eut)c(\023)
-43 b(egalemen)m(t)38 b(se)f(susp)s(endre)c(de)j(sa)h(propre)e
(initiativ)m(e.)g(L'app)s(el)g(syst)m(\022)-43 b(eme)-71
506 y Fu(yield)30 b Fw(p)s(ermet)g(\022)-45 b(a)31 b(un)f(copro)s
(cessus)h(de)g(redonner)f(la)g(main)g(pr)m(\023)-43 b(ematur)m(\023)g
(emen)m(t)33 b(\(sans)e(attendre)h(la)e(pr)m(\023)-43
b(eemption)-71 619 y(par)30 b(le)g(syst)m(\022)-43 b(eme\).)311
752 y Fu(Thread)n(.yield)46 b(:)i(unit)e(->)i(unit)-71
886 y Fw(C'est)23 b(une)f(indication)e(p)s(our)h(le)i(gestionnaire)f
(de)g(copro)s(cessus,)g(mais)g(son)h(e\013et)g(p)s(eut)c(^)-43
b(etre)24 b(n)m(ul,)e(par)g(exemple,)g(si)-71 999 y(aucun)j(copro)s
(cessus)h(ne)f(p)s(eut)g(s'ex)m(\023)-43 b(ecuter)28
b(imm)m(\023)-43 b(ediatemen)m(t,)27 b(alors)e(le)h(syst)m(\022)-43
b(eme)27 b(p)s(eut)e(d)m(\023)-43 b(ecider)26 b(de)f(lui)f(redonner)-71
1112 y(la)30 b(main)f(imm)m(\023)-43 b(ediatemen)m(t.)70
1227 y(In)m(v)m(ersemen)m(t,)43 b(il)c(n'est)i(pas)g(n)m(\023)-43
b(ecessaire)42 b(d'ex)m(\023)-43 b(ecuter)43 b Fu(yield)d
Fw(p)s(our)f(p)s(ermettre)i(\022)-45 b(a)41 b(d'autres)g(copro)s
(cessus)-71 1340 y(de)d(s'ex)m(\023)-43 b(ecuter,)40
b(car)f(le)e(syst)m(\022)-43 b(eme)40 b(se)e(r)m(\023)-43
b(eserv)m(e)40 b(le)d(droit)g(d'ex)m(\023)-43 b(ecuter)40
b(lui-m)m(^)-43 b(eme)38 b(la)f(commande)i Fu(yield)d
Fw(\022)-45 b(a)38 b(tout)-71 1453 y(momen)m(t.)31 b(En)e(fait,)g(il)f
(exerce)j(ce)g(droit)d(\022)-45 b(a)30 b(in)m(terv)-5
b(alles)29 b(de)g(temps)h(su\016sammen)m(t)f(rappro)s(c)m(h)m(\023)-43
b(es)30 b(p)s(our)e(p)s(ermettre)-71 1566 y(\022)-45
b(a)26 b(d'autres)g(copro)s(cessus)f(de)h(s'ex)m(\023)-43
b(ecuter)27 b(et)g(donner)d(l'illusion)e(\022)-45 b(a)26
b(l'utilisateur)c(que)k(les)f(copro)s(cessus)g(ex)m(\023)-43
b(ecuten)m(t)-71 1679 y(en)30 b(parall)m(\022)-43 b(ele,)30
b(m)m(^)-43 b(eme)32 b(sur)d(une)h(mac)m(hine)g(monopro)s(cesseur.)p
Black -71 1905 a Fv(Exemple:)p Black 45 w Fw(On)h(p)s(eut)g(reprendre)g
(l'exemple)g(3.3)j(de)e(la)g(rec)m(herc)m(he)h(en)f(deux)g(pro)s
(cessus)f(p)s(our)f(e\013ectuer)k(une)-71 2018 y(rec)m(herc)m(he)e(en)e
(parall)m(\022)-43 b(ele)30 b(par)g(plusieurs)d(copro)s(cessus.)193
2150 y Fz(1)83 b Fv(let)53 b(rec)48 b Fu(psearch)e(k)h(cond)g(v)g(=)193
2263 y Fz(2)178 b Fv(let)48 b Fu(n)f(=)h(Array)n(.length)e(v)i
Fv(in)193 2376 y Fz(3)178 b Fv(let)48 b Fu(slice)e(i)i(=)f(Array)o(.)o
(sub)g(v)h(\()o(i)g(*)f(k\))h(\()o(min)f(k)h(\()o(n)g(-)f(i)h(*)f
(k\)\))g Fv(in)193 2489 y Fz(4)178 b Fv(let)48 b Fu(slices)e(=)h(Array)
o(.init)f(\(n/)o(k\))i(slice)e Fv(in)193 2602 y Fz(5)178
b Fv(let)48 b Fu(found)e(=)i(ref)e(false)h Fv(in)193
2715 y Fz(6)178 b Fv(let)48 b Fu(pcond)e(v)i(=)f Fv(if)h
Fu(!)o(found)f Fv(then)g Fu(Thread)o(.)o(exit)o(\(\);)g(cond)g(v)g
Fv(in)193 2828 y Fz(7)178 b Fv(let)48 b Fu(search)e(v)h(=)h
Fv(if)f Fu(simple_search)e(pcond)h(v)h Fv(then)h Fu(found)e(:=)h(true)g
Fv(in)193 2940 y Fz(8)178 b Fv(let)48 b Fu(proc_list)d(=)i(Array)o
(.map)g(\()o(Thread)o(.create)f(search)n(\))h(slices)g
Fv(in)193 3053 y Fz(9)178 b Fu(Array)o(.iter)46 b(Thread)o(.)o(join)h
(proc_list)n(;)157 3166 y Fz(10)179 b Fu(!found)o(;;)-71
3301 y Fw(La)26 b(fonction)g Fu(psearch)e Ft(k)29 b(f)35
b(v)30 b Fw(rec)m(herc)m(he)d(a)m(v)m(ec)h Ft(k)h Fw(copro)s(cessus)d
(en)f(parall)m(\022)-43 b(ele)26 b(une)f(o)s(ccurrence)h(dans)g(le)f
(tableau)-71 3414 y(satisfaisan)m(t)36 b(la)f(fonction)g
Ft(f)10 b Fw(.)35 b(La)h(fonction)f Fu(pcond)g Fw(p)s(ermet)g(d'in)m
(terrompre)f(la)h(rec)m(herc)m(he)i(en)f(cours)f(d)m(\022)-43
b(es)36 b(que)-71 3527 y(quelqu'un)41 b(a)j(trouv)m(\023)-43
b(e)45 b(une)d(r)m(\023)-43 b(ep)s(onse.)44 b(T)-8 b(ous)43
b(les)g(copro)s(cessus)g(partagen)m(t)i(la)e(m)m(^)-43
b(eme)45 b(r)m(\023)-43 b(ef)m(\023)g(erence)45 b Fu(found)d
Fw(:)i(ils)-71 3640 y(p)s(euv)m(en)m(t)37 b(donc)f(y)g(acc)m(\023)-43
b(eder)38 b(de)f(fa\030)-40 b(con)37 b(concurren)m(te.)g(Il)e(n'y)h(a)h
(pas)f(de)g(section)h(critique)e(en)m(tre)i(les)f(di\013)m(\023)-43
b(eren)m(ts)-71 3753 y(copro)s(cessus)36 b(car)h(s'ils)32
b(\023)-43 b(ecriv)m(en)m(t)37 b(en)f(parall)m(\022)-43
b(ele)36 b(dans)f(cette)k(ressource,)d(ils)c(\023)-43
b(ecriv)m(en)m(t)37 b(la)f(m)m(^)-43 b(eme)38 b(v)-5
b(aleur.)35 b(Il)h(est)-71 3865 y(imp)s(ortan)m(t)26
b(que)h(les)g(copro)s(cessus)g(n')m(\023)-43 b(ecriv)m(en)m(t)28
b(pas)f(le)g(r)m(\023)-43 b(esultat)27 b(de)g(la)g(rec)m(herc)m(he)h
(quand)e(celui-ci)g(est)h(faux)15 b(!)28 b(par)-71 3978
y(exemple)i(le)g(remplacemen)m(t)h(de)f(la)g(ligne)f(7)i(par)311
4111 y Fv(let)53 b Fu(search)46 b(v)h(=)h(found)e(:=)h(!found)f(&&)i
(simple_search)c(pcond)i(v)-71 4246 y Fw(ou)30 b(m)m(^)-43
b(eme)32 b(:)311 4378 y Fv(let)53 b Fu(search)46 b(v)h(=)h
Fv(let)f Fu(r)h(=)f(simple_search)d(pcond)j(v)g Fv(in)h
Fu(found)e(:=)h(!found)g(&&)g(r)-71 4513 y Fw(serait)30
b(incorrect.)-71 4736 y(Sauf)e(dans)g(un)f(syst)m(\022)-43
b(eme)30 b(monopro)s(cesseur,)e(la)h(rec)m(herc)m(he)g(en)g(parall)m
(\022)-43 b(ele)28 b(n'est)h(in)m(t)m(\023)-43 b(eressan)m(te)30
b(que)e(si)g(la)g(compa-)-71 4849 y(raison)33 b(des)e(\023)-43
b(el)m(\023)g(emen)m(ts)35 b(p)s(eut)c(^)-43 b(etre)34
b(blo)s(qu)m(\023)-43 b(ee)34 b(temp)s(orairemen)m(t)f(\(par)h(exemple)
f(par)g(des)h(acc)m(\022)-43 b(es)36 b(disques)c(ou)h(des)-71
4962 y(connexions)27 b(r)m(\023)-43 b(eseau\).)28 b(Dans)g(ce)g(cas,)g
(le)f(pro)s(cessus)f(qui)f(e\013ectue)k(la)e(rec)m(herc)m(he)h(passe)f
(\022)-45 b(a)28 b(un)e(autre)h(copro)s(cessus)-71 5075
y(et)42 b(con)m(tin)m(ue)g(sur)f(une)g(autre)g(partie)h(du)e(tableau)i
(p)s(our)e(rev)m(enir)g(ult)m(\023)-43 b(erieuremen)m(t)42
b(au)f(copro)s(cessus)h(blo)s(qu)m(\023)-43 b(e)-71 5188
y(lorsque)29 b(sa)i(resource)g(sera)f(dev)m(en)m(ue)h(disp)s(onible.)70
5303 y(L'acc)m(\022)-43 b(es)32 b(\022)-45 b(a)29 b(certains)e(\023)-43
b(el)m(\023)g(emen)m(ts)31 b(p)s(eut)d(a)m(v)m(oir)i(une)e(latence)i
(imp)s(ortan)m(te,)f(de)g(l'ordre)f(de)h(la)g(seconde)g(s'il)f(faut)-71
5416 y(r)m(\023)-43 b(ecup)m(\023)g(erer)43 b(de)f(l'information)e(sur)
h(le)g(r)m(\023)-43 b(eseau.)44 b(Dans)e(ce)h(cas,)f(la)g(di\013)m
(\023)-43 b(erence)42 b(de)g(comp)s(ortemen)m(t)h(en)m(tre)g(une)-71
5529 y(rec)m(herc)m(he)32 b(s)m(\023)-43 b(equen)m(tielle)30
b(et)h(une)f(rec)m(herc)m(he)h(en)f(parall)m(\022)-43
b(ele)30 b(devien)m(t)h(\015agran)m(te.)p Black Black
eop
%%Page: 88 88
88 87 bop Black -71 24 a Fw(88)2277 b Fs(CHAPITRE)30
b(6.)61 b(LES)30 b(COPR)m(OCESSUS)p Black Black -71 280
a Fv(Exercice)36 b(15)p Black 46 w Fn(Par)-5 b(al)5 b(l)n(\023)-44
b(eliser)34 b(le)e(tri)h(r)-5 b(apide)35 b(\(quicksort\))e(sur)g(des)g
(table)-5 b(aux.)502 b Fw(\(V)-8 b(oir)31 b(le)f(corrig)m(\023)-43
b(e\))p 3783 231 47 4 v 3783 277 4 47 v 3826 277 V 3783
280 47 4 v 70 522 a(Les)35 b(autres)g(formes)g(de)f(susp)s(ension)e
(son)m(t)k(li)m(\023)-43 b(ees)35 b(\022)-45 b(a)35 b(des)g(ressources)
f(du)g(syst)m(\022)-43 b(eme)36 b(d'exploitation.)f(Un)f(co-)-71
635 y(pro)s(cessus)g(p)s(eut)h(se)g(susp)s(endre)e(p)s(endan)m(t)h(un)h
(certain)g(temps)g(en)g(app)s(elan)m(t)f Fu(delay)g Ft(s)p
Fw(.)h(Une)g(fois)g Ft(s)g Fw(secondes)-73 748 y(\023)-43
b(ecoul)m(\023)g(ees,)32 b(il)d(p)s(ourra)e(^)-43 b(etre)31
b(relanc)m(\023)-43 b(e.)311 880 y Fu(Thread)n(.delay)46
b(:)i(float)e(->)h(unit)70 1019 y Fw(P)m(our)40 b(sync)m(hroniser)d(un)
i(copro)s(cessus)g(a)m(v)m(ec)j(une)c(op)m(\023)-43 b(eration)41
b(externe,)f(on)f(p)s(eut)g(utiliser)e(la)i(commande)-71
1132 y Fu(select)24 b Fw(d'Unix.)g(Bien)g(en)m(tendu,)i(celle-ci)e(ne)h
(blo)s(quera)f(que)h(le)g(copro)s(cessus)g(app)s(elan)m(t)g(et)h(non)e
(le)h(programme)-71 1245 y(tout)j(en)m(tier.)f(\(Le)h(mo)s(dule)e
Fu(Thread)g Fw(red)m(\023)-43 b(e\014nit)26 b(cette)j(fonction,)f(car)f
(dans)g(le)g(cas)h(des)f(copro)s(cessus)d(\023)-43 b(em)m(ul)m(\023)g
(es,)29 b(elle)-71 1357 y(ne)f(doit)g(pas)g(app)s(eler)f(directemen)m
(t)h(cette)i(du)d(mo)s(dule)g Fu(Unix)p Fw(,)g(ce)i(qui)e(blo)s
(querait)f(le)i(programme)g(tout)h(en)m(tier,)-71 1470
y(donc)35 b(tous)h(les)f(copro)s(cessus.)g(Il)g(faut)g(donc)g(utiliser)
e Fu(Thread.select)f Fw(et)k(non)f Fu(Unix.select)p Fw(,)d(m)m(^)-43
b(eme)37 b(si)e(les)-71 1583 y(deux)30 b(son)m(t)e(\023)-43
b(equiv)-5 b(alen)m(ts)30 b(dans)g(le)g(cas)h(des)f(copro)s(cessus)g
(natifs.\))p Black -71 1831 a Fv(Exemple:)p Black 45
w Fw(P)m(our)41 b(transformer)g(le)g(crible)g(d'Eratosth)m(\022)-43
b(ene)43 b(p)s(our)d(qu'il)g(fonctionne)h(a)m(v)m(ec)j(des)d(copro)s
(cessus)-71 1944 y(plut^)-45 b(ot)30 b(que)g(par)g(duplication)e(de)i
(pro)s(cessus)f(Unix,)h(il)e(su\016t)i(de)g(remplacer)g(les)g(lignes)f
(27{38)k(par)502 2076 y Fv(let)47 b Fu(p)h(=)f(Thread)n(.create)f
(filter)g(\(in_channel_of_descr)d(fd_out)n(\))k Fv(in)502
2189 y(let)g Fu(output)f(=)i(out_channel_of_descr)42
b(fd_in)k Fv(in)502 2302 y(try)597 2415 y(while)i Fu(true)e
Fv(do)693 2528 y(let)h Fu(n)h(=)f(input_int)e(input)i
Fv(in)693 2641 y(if)g Fu(List)o(.exists)f(\()p Fv(fun)i
Fu(m)f(->)g(n)h Fv(mo)s(d)f Fu(m)g(=)h(0\))f(first_primes)d
Fv(then)k Fu(\(\))693 2754 y Fv(else)g Fu(output_int)d(output)h(n)597
2867 y Fv(done)q Fu(;)502 2980 y Fv(with)h Fu(End_of_file)e(->)597
3092 y(close_out)h(output)n(;)597 3205 y(Thread)o(.)o(join)h(p)-71
3344 y Fw(et)31 b(les)f(lignes)f(43{49)k(par)406 3476
y Fv(let)48 b Fu(k)f(=)h(Thread)n(.create)e(filter)g
(\(in_channel_of_descr)c(fd_out)o(\))47 b Fv(in)406 3589
y(let)h Fu(output)e(=)h(out_channel_of_descr)c(fd_in)j
Fv(in)406 3702 y Fu(generate)g(len)h(output)n(;)406 3815
y(close_out)f(output)n(;)406 3928 y(Thread)o(.)o(join)h(k;;)-71
4066 y Fw(Il)27 b(ne)h(faut)f(cep)s(endan)m(t)h(esp)m(\023)-43
b(erer)29 b(aucun)e(gain,)g(car)i(cet)f(algorithme)g(utilise)d(p)s(eu)i
(de)g(pro)s(cessus)g(par)g(rapp)s(ort)g(au)-71 4179 y(temps)j(de)h
(calcul.)-71 4499 y Fq(6.4)135 b(Sync)l(hronisation)46
b(en)l(tre)g(copro)t(cessus)e(:)h(les)h(v)l(errous)-71
4713 y Fn(L)-5 b(es)37 b(fonctions)g(de)g(c)-5 b(ette)37
b(se)-5 b(ction)37 b(sont)g(d)n(\023)-44 b(e\014nies)37
b(dans)h(le)e(mo)-5 b(dule)38 b Fu(Mutex)d Fn(\(p)-5
b(our)38 b Fo(Mut)p Fn(ual)e Fo(ex)p Fn(clusion,)h(en)f(an-)-71
4826 y(glais\).)d(.)70 4945 y Fw(Nous)d(a)m(v)m(ons)f(\023)-43
b(ev)m(o)s(qu)m(\023)g(e)32 b(ci-dessus)d(un)h(probl)m(\022)-43
b(eme)30 b(d'acc)m(\022)-43 b(es)32 b(concurren)m(t)e(aux)g(ressources)
g(m)m(utables.)g(Celui-ci)-71 5058 y(p)s(eut)i(^)-43
b(etre)36 b(r)m(\023)-43 b(esolu)35 b(en)g(utilisan)m(t)e(des)i(v)m
(errous.)g(Les)g(v)m(errous)g(son)m(t)h(des)e(ob)5 b(jets)36
b(partag)m(\023)-43 b(es)37 b(par)d(l'ensem)m(ble)g(des)-71
5171 y(copro)s(cessus)d(d'un)g(m)m(^)-43 b(eme)33 b(programme.)e(Un)h
(v)m(errou)f(ne)h(p)s(eut)c(^)-43 b(etre)33 b(blo)s(qu)m(\023)-43
b(e)31 b(que)g(par)g(un)g(seul)f(copro)s(cessus)i(\022)-45
b(a)-71 5284 y(la)29 b(fois.)f(T)-8 b(oute)30 b(ten)m(tativ)m(e)h(de)d
(v)m(errouillage)g(d'un)g(v)m(errou)h(blo)s(qu)m(\023)-43
b(e)28 b(pro)m(v)m(o)s(que)i(le)e(gel)h(du)f(copro)s(cessus)h(app)s
(elan)m(t)-71 5396 y(jusqu'\022)-45 b(a)30 b(ce)h(que)f(le)g(v)m(errou)
g(soit)h(d)m(\023)-43 b(eblo)s(qu)m(\023)g(e.)31 b(Un)f(v)m(errou)g
(est)h(cr)m(\023)-43 b(e)m(\023)g(e)33 b(par)d(la)g(fonction)g
Fu(create)p Fw(.)311 5529 y Fu(Mutex)o(.)o(create)46
b(:)i(unit)e(->)i(Mutex)n(.t)p Black Black eop
%%Page: 89 89
89 88 bop Black -71 24 a Fs(6.5.)62 b(EXEMPLE)30 b(COMPLET)f(:)i
(RELAIS)e(HTTP)1940 b Fw(89)p Black -71 280 a(La)28 b(cr)m(\023)-43
b(eation)29 b(d'un)d(v)m(errou)h(ne)g(fait)h(que)f(construire)f(un)g
(ob)5 b(jet)28 b(mais)f(ne)g(le)g(blo)s(que)f(pas)i(elle-m)m(^)-43
b(eme.)28 b(P)m(our)f(cela,)-71 393 y(il)36 b(faut)h(app)s(eler)g(la)g
(fonction)g Fu(lock)f Fw(en)h(lui)f(passan)m(t)h(le)g(v)m(errou.)h(Si)e
(le)h(v)m(errou)h(n'est)f(pas)h(libre)d(\(il)h(est)i(donc)-71
506 y(blo)s(qu)m(\023)-43 b(e)37 b(par)g(un)g(autre)h(pro)s(cessus\),)f
(alors)g(l'ex)m(\023)-43 b(ecution)38 b(du)f(pro)s(cessus)f(app)s(elan)
m(t)h(est)i(gel)m(\023)-43 b(ee)39 b(jusqu'\022)-45 b(a)37
b(ce)h(que)-71 619 y(le)c(v)m(errou)f(soit)h(libre.)e(Si)h(le)g(v)m
(errou)h(est)g(libre,)e(l'ex)m(\023)-43 b(ecution)35
b(con)m(tin)m(ue)f(en)g(emp)m(^)-43 b(ec)m(han)m(t)36
b(tout)e(autre)g(pro)s(cessus)-71 732 y(d'acqu)m(\023)-43
b(erir)30 b(le)g(v)m(errou)h(jusqu'\022)-45 b(a)29 b(ce)i(que)g(le)f
(copro)s(cessus)g(le)g(lib)m(\022)-43 b(ere)29 b(explicitemen)m(t)h(en)
g(app)s(elan)m(t)g Fu(unlock)p Fw(.)311 864 y Fu(Mutex)o(.)o(lock)47
b(:)g(Mutex)o(.t)g(->)g(unit)311 977 y(Mutex)o(.)o(unlock)f(:)i(Mutex)n
(.t)g(->)f(unit)-71 1110 y Fw(On)30 b(p)s(eut)d(\023)-43
b(egalemen)m(t)32 b(ten)m(ter)f(de)g(blo)s(quer)d(un)h(v)m(errou)i
(seulemen)m(t)f(s'il)f(est)i(libre)d(en)i(app)s(elan)m(t)g
Fu(try_lock)p Fw(.)311 1243 y Fu(Mutex)o(.)o(try_lock)46
b(:)h(Mutex)o(.t)g(->)g(bool)-71 1375 y Fw(Cette)f(fonction)e(retourne)
h Fu(true)e Fw(si)h(le)g(v)m(errou)h(a)g(pu)c(^)-43 b(etre)45
b(pris)e(et)j Fu(false)d Fw(sinon.)g(Dans)i(ce)g(dernier)e(cas,)-71
1488 y(l'ex)m(\023)-43 b(ecution)38 b(n'est)f(pas)g(susp)s(endue,)e
(puisque)g(le)i(v)m(errou)g(n'est)g(pas)g(demand)m(\023)-43
b(e.)38 b(Le)f(copro)s(cessus)g(p)s(eut)f(donc)-71 1601
y(faire)30 b(autre)h(c)m(hose,)g(au)f(lieu)f(d'attendre)i(in)m
(utilemen)m(t,)e(puis)f(rev)m(enir)i(prendre)f(le)h(v)m(errou)g(plus)e
(tard.)p Black -71 1816 a Fv(Exemple:)p Black 45 w Fw(Incr)m(\023)-43
b(emen)m(ter)31 b(un)f(compteur)g(global)g(utilis)m(\023)-43
b(e)30 b(par)g(plusieurs)d(copro)s(cessus)j(p)s(ose)g(un)g(probl)m
(\022)-43 b(eme)30 b(de)-71 1929 y(sync)m(hronisation)36
b(:)h(les)g(instan)m(ts)g(en)m(tre)h(la)f(lecture)h(de)f(la)g(v)-5
b(aleur)37 b(du)f(compteur)h(et)h(l')m(\023)-43 b(ecriture)38
b(de)f(la)g(v)-5 b(aleur)-71 2042 y(incr)m(\023)-43 b(emen)m(t)m(\023)g
(ee)27 b(son)m(t)f(dans)e(une)g(r)m(\023)-43 b(egion)25
b(critique,)f Fn(i.e.)g Fw(deux)g(copro)s(cessus)h(ne)f(doiv)m(en)m(t)i
(pas)c(^)-43 b(etre)26 b(en)e(m)m(^)-43 b(eme)26 b(temps)-71
2155 y(dans)k(cette)i(r)m(\023)-43 b(egion.)31 b(La)g(sync)m
(hronisation)e(p)s(eut)g(facilemen)m(t)f(^)-43 b(etre)32
b(g)m(\023)-43 b(er)m(\023)g(ee)33 b(par)d(un)f(v)m(errou.)193
2287 y Fz(1)83 b Fv(t)m(yp)s(e)48 b Fu(counter)d(=)j({)f(lock)g(:)g
(Mutex)o(.t)o(;)h Fv(m)m(utable)e Fu(counter)g(:)i(int)f(})193
2400 y Fz(2)83 b Fv(let)53 b Fu(newcounter)m(\(\))47
b(=)h({)f(lock)g(=)g(Mutex)o(.create)n(\(\);)g(counter)f(=)h(0)h(})193
2513 y Fz(3)83 b Fv(let)53 b Fu(addtocounter)44 b(c)k(k)f(=)193
2626 y Fz(4)178 b Fu(Mutex)o(.lock)46 b(c.lock)o(;)193
2739 y Fz(5)178 b Fu(c.counter)46 b(<-)h(c.)o(counter)f(+)i(k)o(;)193
2852 y Fz(6)178 b Fu(Mutex)o(.unlock)46 b(c.)o(lock)o(;;)-71
2984 y Fw(La)35 b(seule)f(consultation)g(du)f(compteur)i(ne)f(p)s(ose)h
(pas)f(de)g(probl)m(\022)-43 b(eme.)35 b(Elle)e(p)s(eut)f(^)-43
b(etre)36 b(e\013ectu)m(\023)-43 b(ee)37 b(en)e(parall)m(\022)-43
b(ele)-71 3097 y(a)m(v)m(ec)33 b(une)d(mo)s(di\014cation)f(du)g
(compteur,)i(le)f(r)m(\023)-43 b(esultat)31 b(sera)g(simplemen)m(t)e
(la)h(v)-5 b(aleur)30 b(du)g(compteur)g(juste)g(a)m(v)-5
b(an)m(t)-71 3210 y(ou)30 b(juste)h(apr)m(\022)-43 b(es)31
b(sa)f(mo)s(di\014cation,)f(les)h(deux)g(r)m(\023)-43
b(ep)s(onses)28 b(\023)-43 b(etan)m(t)32 b(coh)m(\023)-43
b(eren)m(tes.)-71 3499 y Fq(6.5)135 b(Exemple)46 b(complet)g(:)f
(relais)i(HTTP)70 3702 y Fw(On)31 b(se)h(prop)s(ose)f(de)g(reprendre)g
(le)g(relais)f Fu(http)h Fw(d)m(\023)-43 b(ev)m(elopp)m(\023)g(e)33
b(dans)e(le)g(c)m(hapitre)h(pr)m(\023)-43 b(ec)m(\023)g(eden)m(t)34
b(p)s(our)c(servir)h(les)-71 3815 y(requ)m(^)-43 b(etes)32
b(par)e(des)g(copro)s(cessus.)70 3928 y(In)m(tuitiv)m(emen)m(t,)g(il)e
(su\016t)h(de)h(remplacer)f(la)g(fonction)h Fu(establish_server)25
b Fw(qui)j(cr)m(\023)-43 b(ee)32 b(un)c(pro)s(cessus)h(clone)-71
4041 y(par)41 b(une)f(fonction)h(qui)f(cr)m(\023)-43
b(ee)43 b(un)d(copro)s(cessus.)h(Il)f(faut)h(cep)s(endan)m(t)g(prendre)
f(quelques)g(pr)m(\023)-43 b(ecautions...)42 b(En)-71
4154 y(e\013et,)27 b(la)e(con)m(trepartie)h(des)g(copro)s(cessus)f(est)
h(qu'ils)e(partagen)m(t)j(tous)e(le)g(m)m(^)-43 b(eme)27
b(espace)g(m)m(\023)-43 b(emoire.)26 b(Il)f(faut)g(donc)-71
4267 y(s'assurer)g(que)g(les)g(pro)s(cessus)g(ne)g(v)m(on)m(t)i(pas)f
(se)f(\\marc)m(her)h(sur)f(les)g(pieds")g(l'un)c(\023)-43
b(ecrasan)m(t)28 b(ce)e(que)f(vien)m(t)h(juste)f(de)-71
4380 y(faire)k(l'autre.)h(Cela)f(se)h(pro)s(duit)d(t)m(ypiquemen)m(t)i
(lorsque)g(deux)g(pro)s(cessus)f(mo)s(di\014en)m(t)g(en)i(parall)m
(\022)-43 b(ele)29 b(une)g(m)m(^)-43 b(eme)-71 4493 y(structure)30
b(m)m(utable.)70 4606 y(La)48 b(fonction)f Fu(treat_connection)c
Fw(d)m(\023)-43 b(ecrite)48 b(\022)-45 b(a)47 b(la)g(section)h(5.11.2)h
(qui)d(e\013ectue)j(le)e(traitemen)m(t)h(de)f(la)-71
4719 y(connexion)27 b(app)s(elle)e(la)i(fonction)g Fu(get_url)f
Fw(\(page)i(80,)h(line)c(12\))k(qui)d(utilise)f(le)i(tamp)s(on)g
(global)f Fu(buffer)p Fw(.)g(Il)g(y)i(a)-71 4832 y(donc)c(risque)f(de)h
(collision.)e(Celui-ci)g(p)s(eut)f(^)-43 b(etre)23 b(\023)-43
b(evit)m(\023)g(e)26 b(simplemen)m(t)d(en)h(allouan)m(t)g(des)f(tamp)s
(ons)h(di\013)m(\023)-43 b(eren)m(ts)25 b(p)s(our)-71
4945 y(c)m(haque)j(connexion,)f(soit)g(concr)m(\022)-43
b(etemen)m(t)31 b(en)c(rendan)m(t)g(la)g(v)-5 b(ariable)26
b Fu(buffer)g Fw(lo)s(cale)h(\022)-45 b(a)27 b(la)g(fonction)g
Fu(copy_body)p Fw(.)311 5077 y Fv(let)53 b Fu(copy_body)45
b(chan_in)h(chan_out)f(=)406 5190 y Fv(let)j Fu(buffer)e(=)h(String)o
(.)o(create)f(buffer_size)f Fv(in)406 5303 y(let)j(rec)g
Fu(copy)f(\(\))g(=)502 5416 y Fv(let)g Fu(n)h(=)f(input)f(chan_in)g
(buffer)g(0)i(buffer_size)d Fv(in)502 5529 y Fu(output)h(chan_out)f
(buffer)i(0)g(n;)p Black Black eop
%%Page: 90 90
90 89 bop Black -71 24 a Fw(90)2277 b Fs(CHAPITRE)30
b(6.)61 b(LES)30 b(COPR)m(OCESSUS)p Black 502 280 a Fv(if)48
b Fu(n)f(>)g(0)h Fv(then)f Fu(copy)g(\(\))g Fv(in)406
393 y Fu(copy)o(\(\);;)-71 526 y Fw(Bien)37 b(s)s(^)-48
b(ur,)36 b(on)g(aurait)h(pu)c(\023)-43 b(ecrire)37 b(cette)i(v)m
(ersion)d(de)h Fu(copy_body)d Fw(d)m(\022)-43 b(es)38
b(le)f(d)m(\023)-43 b(epart.)38 b(Nous)e(ne)h(l'a)m(v)m(ons)h(pas)e
(fait)-71 639 y(parce)29 b(qu'en)f(pratique)g(une)g(v)-5
b(ariable)27 b(comme)i Fu(buffer)e Fw(sera)i(souv)m(en)m(t)h(utilis)m
(\023)-43 b(ee)28 b(par)g(plusieurs)d(fonctions,)j(et)i(il)-71
752 y(est)f(plus)e(simple,)f(en)j(l'absence)f(de)g(copro)s(cessus,)h
(de)f(laisser)f(cette)j(v)-5 b(ariable)28 b(globale.)g(La)h(r)m(\023)
-43 b(e)m(\023)g(ecriture)29 b(du)f(co)s(de)-71 864 y(p)s(our)34
b(qu'il)f(soit)i(r)m(\023)-43 b(e-en)m(tran)m(t)38 b(vien)m(t)d(souv)m
(en)m(t)h(au)f(prix)e(d'une)h(complication)g(\(l)m(\023)-43
b(eg)m(\022)g(ere\))39 b(du)34 b(co)s(de)h(comme)h(nous)-71
977 y(v)m(enons)31 b(de)f(l'illuster)d(ici.)70 1090 y(La)21
b(fonction)f Fu(treat_connection)15 b Fw(app)s(elle)k(au)h(tra)m(v)m
(ers)i(des)e Fu(parse_host)p Fw(,)d Fu(parse_url)h Fw(et)j
Fu(parse_request)-71 1203 y Fw(la)h(fonction)f Fu(regexp_match)e
Fw(qui)h(utilise)g(la)h(biblioth)m(\022)-43 b(eque)20
b Fu(Str)p Fw(.)h(Or,)h(cette)h(biblioth)m(\022)-43 b(eque)21
b(n'est)h(pas)f(r)m(\023)-43 b(e-en)m(tran)m(te)-71 1316
y(\(le)29 b(r)m(\023)-43 b(esultat)30 b(de)f(la)g(derni)m(\022)-43
b(ere)29 b(rec)m(herc)m(he)h(est)g(m)m(\023)-43 b(emoris)m(\023)g(e)31
b(dans)d(une)h(v)-5 b(ariables)28 b(globale\).)h(Cet)h(exemple)f(mon)m
(tre)-71 1429 y(qu'il)h(faut)f(\023)-43 b(egalemen)m(t)34
b(se)e(m)m(\023)-43 b(e\014er)33 b(des)e(app)s(els)f(de)i(fonctions)f
(qui)g(sous)g(un)g(air)g(bien)g(inno)s(cen)m(t)g(cac)m(he)i(des)f(col-)
-71 1542 y(lusions)h(p)s(oten)m(tielles.)h(Dans)h(ce)h(cas,)g(nous)f
(ne)g(v)m(oulons)f(pas)h(r)m(\023)-43 b(e)m(\023)g(ecrire)37
b(la)e(biblioth)m(\022)-43 b(eque)33 b Fu(Str)h Fw(et)i(il)e(nous)g
(faut)-71 1655 y(c)m(hoisir)d(une)h(autre)h(solution.)e(Il)h(su\016t)g
(\(et)h(il)e(n'y)h(a)h(pas)g(vraimen)m(t)f(d'autres)g(c)m(hoix\))h(de)f
(prot)m(\023)-43 b(eger)35 b(les)d(app)s(els)-71 1768
y(\022)-45 b(a)34 b(cette)i(biblioth)m(\022)-43 b(eque)32
b(par)h(des)g(v)m(errous.)h(Il)f(faut)h(quand)e(m)m(^)-43
b(eme)35 b(prendre)d(la)i(pr)m(\023)-43 b(ecaution)34
b(de)f(bien)g(lib)m(\023)-43 b(erer)32 b(le)-71 1881
y(v)m(errou)e(au)h(retour)f(de)g(la)g(fonction,)g(p)s(our)f(un)h
(retour)g(anormal)g(par)g(une)f(lev)m(\023)-43 b(ee)32
b(d'exception.)70 1994 y(P)m(our)24 b(mo)s(di\014er)f(au)h(minim)m(um)d
(le)j(co)s(de)h(existan)m(t,)g(il)e(su\016t)g(de)i(renommer)e(la)h(d)m
(\023)-43 b(e\014nition)23 b(de)h Fu(regexp_match)-71
2106 y Fw(du)d(mo)s(dule)f Fu(Url)g Fw(en)i Fu(unsafe_regexp_match)16
b Fw(puis)j(de)j(d)m(\023)-43 b(e\014nir)20 b Fu(regexp_match)e
Fw(comme)23 b(une)e(v)m(ersion)g(prot)m(\023)-43 b(eg)m(\023)g(ee)-71
2219 y(de)30 b Fu(unsafe_regexp_match)p Fw(.)311 2352
y Fv(let)53 b Fu(run_with_lock)44 b(l)j(f)h(x)f(=)h(Mutex)n(.lock)f(l;)
g(try_finalize)d(f)k(x)f(Mutex)o(.unlock)f(l;;)311 2465
y Fv(let)53 b Fu(strlock)46 b(=)h(Mutex)o(.)o(create)o(\(\);;)311
2578 y Fv(let)53 b Fu(run_with_strlock)43 b(f)48 b(x)f(=)h
(run_with_lock)c(strlock)i(f)h(x;;)311 2691 y Fv(let)53
b Fu(regexp_match)44 b(r)k(string)e(=)406 2803 y(run_with_strlock)e(\()
o(unsafe_regexp_match)f(r\))k(string)o(;;)-71 2936 y
Fw(Une)31 b(autre)h(solution)d(serait)i(de)g(r)m(\023)-43
b(e)m(\023)g(ecrire)33 b(les)e(fonctions)f(d'analyse)h(sans)g(utiliser)
d(la)j(biblioth)m(\022)-43 b(eque)30 b Fu(Str)p Fw(.)g(Mais)-71
3049 y(il)j(n'y)i(a)g(pas)f(de)h(raison)e(p)s(our)g(remettre)j(en)e
(cause)i(un)d(tel)i(c)m(hoix)g(tan)m(t)g(que)g(la)f(sync)m(hronisation)
f(des)h(primi-)-71 3162 y(tiv)m(es)h(de)f(la)g(librairie)c(reste)35
b(simplemen)m(t)e(r)m(\023)-43 b(ealisable.)1864 3139
y(\023)1856 3162 y(Evidemmen)m(t,)34 b(une)f(meilleure)f(solution)h
(serait)h(que)g(la)-71 3275 y(biblioth)m(\022)-43 b(eque)29
b Fu(Str)g Fw(soit)i(r)m(\023)-43 b(een)m(tran)m(te)32
b(en)f(premier)d(lieu.)70 3388 y(P)m(our)k(terminer,)f(il)g(su\016t)g
(de)h(remplacer)f(l'app)s(el)f(\022)-45 b(a)32 b Fu(establish_server)c
Fw(par)j(un)g(app)s(el)g(\022)-45 b(a)32 b(une)f(fonction)-71
3500 y Fu(establish_coserver)c Fw(qui)k(lance)i(le)f(traitemen)m(t)h
(de)f(la)g(connexion)g(dans)f(un)h(copro)s(cessus)g(plut^)-45
b(ot)31 b(que)i(par)-71 3613 y(un)c(pro)s(cessus.)311
3746 y Fv(let)53 b Fu(wrap_channel)44 b(f)k(s)f(=)406
3859 y Fv(try)502 3972 y(let)g Fu(reply)g(=)g(in_channel_of_descr)c(s)k
Fv(in)502 4085 y(let)g Fu(request)f(=)h(out_channel_of_descr)c(s)k
Fv(in)502 4198 y Fu(f)g(reply)g(request)n(;)502 4310
y(close_out)e(request)406 4423 y Fv(with)i Fu(x)h(->)f(close)f(s;)i
Fv(raise)f Fu(x;;)311 4649 y Fv(let)53 b Fu(establish_coserver)43
b(f)k(sockaddr)f(=)406 4762 y Fv(let)i Fu(sock)e(=)i(tcp_server_socket)
43 b(sockaddr)i Fv(in)406 4875 y(while)j Fu(true)e Fv(do)502
4988 y(let)h Fu(\(s,)g(hostaddr)n(\))g(=)h(accept)e(sock)h
Fv(in)502 5101 y(let)g Fu(th)g(=)h(create)e(\(wrap_channel)e(f\))j(s)h
Fv(in)502 5214 y Fu(\(\))406 5327 y Fv(done)q Fu(;;)p
Black -71 5529 a Fv(Exercice)36 b(16)p Black 46 w Fn(R)n(\023)-44
b(e)n(\023)g(ecrir)-5 b(e)33 b(la)g(version)g(du)g(pr)-5
b(oxy)34 b(p)-5 b(our)34 b(le)f(pr)-5 b(oto)g(c)g(ole)36
b(HTTP/1.1)d(\022)-46 b(a)33 b(l'aide)g(de)g(c)-5 b(opr)g(o)g(c)g
(essus.)p 3783 5479 47 4 v 3783 5526 4 47 v 3826 5526
V 3783 5529 47 4 v Black Black eop
%%Page: 91 91
91 90 bop Black -71 24 a Fs(6.6.)62 b(LES)30 b(CONDITIONS)2811
b Fw(91)p Black -71 280 a Fq(6.6)135 b(Les)46 b(conditions)-71
508 y Fn(L)-5 b(es)33 b(fonctions)h(d)n(\023)-44 b(ecrites)33
b(dans)g(c)-5 b(ette)33 b(se)-5 b(ction)33 b(sont)h(d)n(\023)-44
b(e\014nies)33 b(dans)h(le)e(mo)-5 b(dule)34 b Fu(Condition)p
Fn(.)70 633 y Fw(Le)k(m)m(\023)-43 b(ecanisme)38 b(de)f(sync)m
(hronisation)f(par)h(v)m(errous)g(est)h(tr)m(\022)-43
b(es)39 b(simple,)c(mais)i(il)f(n'est)i(pas)f(su\016san)m(t)g(:)h(les)
-71 746 y(v)m(errous)d(p)s(ermetten)m(t)h(d'attendre)f(qu'une)f(donn)m
(\023)-43 b(ee)36 b(partag)m(\023)-43 b(ee)37 b(soit)e(libre,)e(mais)i
(il)e(ne)i(p)s(ermetten)m(t)h(pas)e(d'at-)-71 859 y(tendre)f(la)f
(forme)h(d'une)e(donn)m(\023)-43 b(ee.)34 b(Rempla\030)-40
b(cons)32 b(l'exemple)g(du)g(compteur)g(par)h(une)f(\014le)g(d'atten)m
(te)i(\(premier)-71 972 y(en)m(tr)m(\023)-43 b(e/premier)27
b(sortie\))g(partag)m(\023)-43 b(ee)28 b(en)m(tre)f(plusieurs)c(copro)s
(cessus.)k(L'a)5 b(jout)27 b(d'une)e(v)-5 b(aleur)25
b(dans)h(la)g(queue)g(p)s(eut)-74 1085 y(^)-43 b(etre)33
b(sync)m(hronis)m(\023)-43 b(e)31 b(en)g(utilisan)m(t)f(un)g(v)m(errou)
h(comme)h(ci-dessus,)e(car)i(quelque)e(soit)h(la)g(forme)g(de)g(la)g
(queue,)g(on)-71 1198 y(p)s(eut)k(toujours)g(y)h(a)5
b(jouter)36 b(une)c(\023)-43 b(el)m(\023)g(emen)m(t.)38
b(Mais)e(qu'en)f(est-il)g(du)f(retrait)i(d'une)f(v)-5
b(aleur)34 b(de)i(la)f(queue)15 b(?)36 b(Que)-71 1311
y(faut-il)30 b(faire)h(lorsque)f(la)g(queue)h(est)h(vide)14
b(?)31 b(On)f(ne)h(p)s(eut)g(pas)g(garder)g(le)f(v)m(errou)h(en)g
(attendan)m(t)i(que)e(la)f(queue)-71 1423 y(se)e(remplisse,)e(car)i
(cela)h(emp)m(^)-43 b(ec)m(herait)29 b(justemen)m(t)f(un)f(autre)h
(copro)s(cessus)g(de)g(remplir)d(la)j(queue.)f(Il)g(faut)h(donc)-71
1536 y(le)35 b(rendre.)f(Mais)h(commen)m(t)g(sa)m(v)m(oir)h(quand)e(la)
g(queue)h(ne)g(sera)g(plus)e(vide,)h(sinon)f(qu'en)i(testan)m(t)i(\022)
-45 b(a)35 b(nouv)m(eau)-71 1649 y(p)m(\023)-43 b(erio)s(diquemen)m(t)
14 b(?)36 b(Cette)i(solution)d(app)s(el)m(\023)-43 b(e)36
b(\\atten)m(te)k(activ)m(e")e(n'est)e(bien)f(s)s(^)-48
b(ur)36 b(pas)g(satisfaisan)m(te.)h(Ou)e(bien)-71 1762
y(elle)i(consomme)h(du)f(temps)h(de)f(calcul)g(in)m(utilemen)m(t)f(\(p)
m(\023)-43 b(erio)s(de)38 b(trop)g(courte\))h(ou)e(bien)g(elle)g(n'est)
h(pas)f(assez)-71 1875 y(r)m(\023)-43 b(eactiv)m(e)33
b(\(p)m(\023)-43 b(erio)s(de)30 b(trop)g(longue\).)70
2001 y(Les)36 b Fn(c)-5 b(onditions)45 b Fw(p)s(ermetten)m(t)36
b(de)f(r)m(\023)-43 b(esoudre)36 b(ce)g(probl)m(\022)-43
b(eme.)35 b(Les)h(conditions)e(son)m(t)i(des)f(ob)5 b(jets)36
b(sur)e(lequel)-71 2113 y(un)27 b(copro)s(cessus)g(qui)g(p)s(oss)m
(\022)-43 b(ede)28 b(un)f(v)m(errou)h(p)s(eut)f(se)h(mettre)g(en)g
(atten)m(te)i(jusqu'\022)-45 b(a)27 b(ce)i(qu'un)d(autre)i(copro)s
(cessus)-71 2226 y(en)m(v)m(oie)j(un)f(signal)f(sur)g(cette)j
(condition.)70 2352 y(Comme)d(les)f(v)m(errous)h(les)f(conditions,)f
(son)m(t)j(des)e(structures)g(passiv)m(es)g(qui)g(p)s(euv)m(en)m(t)e(^)
-43 b(etre)30 b(manipul)m(\023)-43 b(ees)28 b(par)-71
2465 y(des)i(fonctions)g(de)g(sync)m(hronisation.)f(On)h(p)s(eut)f(les)
h(cr)m(\023)-43 b(eer)32 b(par)e(la)g(fonction)g Fu(create)p
Fw(.)311 2597 y Fu(Condition)m(.create)46 b(:)i(unit)e(->)i(Condition)m
(.t)-71 2742 y Fw(Un)35 b(pro)s(cessus)f Ft(p)h Fw(qui)f(p)s(oss)m
(\022)-43 b(ede)36 b(d)m(\023)-43 b(ej\022)e(a)36 b(un)f(v)m(errou)g
Ft(v)j Fw(p)s(eut)d(se)g(mettre)h(en)g(atten)m(te)h(sur)d(une)h
(condition)f Ft(c)h Fw(et)h(le)-71 2855 y(v)m(errou)24
b Ft(v)j Fw(en)c(app)s(elan)m(t)h Fu(wait)e Ft(c)i(v)s
Fw(.)g(Le)g(pro)s(cessus)f Ft(p)g Fw(informe)g(le)g(syst)m(\022)-43
b(eme)26 b(qu'il)c(est)i(en)f(atten)m(te)j(sur)d(la)g(condition)-71
2968 y Ft(c)31 b Fw(et)h(le)e(v)m(errou)h Ft(v)j Fw(puis)28
b(lib)m(\022)-43 b(ere)31 b(le)f(v)m(errou)h Ft(v)j Fw(et)d(s'endort.)g
(Il)f(ne)g(sera)h(r)m(\023)-43 b(ev)m(eill)m(\023)g(e)32
b(que)f(lorsqu'un)d(autre)j(pro)s(cessus)-71 3081 y Ft(q)k
Fw(aura)c(signal)m(\023)-43 b(e)32 b(un)e(c)m(hangemen)m(t)k(sur)c(la)h
(condition)g Ft(c)g Fw(et)i(lorsque)d(le)i(v)m(errou)f
Ft(v)k Fw(sera)d(disp)s(onible)27 b(\022)-45 b(a)32 b(son)g(r)m(\023)
-43 b(ev)m(eil)-71 3194 y(il)29 b(tien)m(t)i(\022)-45
b(a)30 b(nouv)m(eau)h(le)f(v)m(errou)g Ft(v)s Fw(.)70
3319 y(Lorsqu'un)e(copro)s(cessus)i(signale)f(un)f(c)m(hangemen)m(t)k
(sur)c(une)h(condition,)g(il)f(p)s(eut)h(demander)f(ou)i(bien)e(que)-71
3432 y(tous)i(les)e(copro)s(cessus)h(en)h(atten)m(te)h(sur)d(cette)k
(condition)c(soien)m(t)h(r)m(\023)-43 b(ev)m(eill)m(\023)g(es)30
b(\()p Fu(broadcast)p Fw(\),)e(ou)h(bien)f(qu'un)g(seul)-71
3545 y(parmi)h(ceux-ci)i(soit)f(r)m(\023)-43 b(ev)m(eill)m(\023)g(es)31
b(\()p Fu(signal)p Fw(\).)311 3678 y Fu(Condition)m(.wait)47
b(:)g(Condition)n(.t)g(->)g(Mutex)o(.t)g(->)g(unit)311
3791 y(Condition)m(.signal)f(:)i(Condition)m(.t)f(->)h(unit)311
3904 y(Condition)m(.broadcast)d(:)j(Condition)m(.t)g(->)f(unit)-71
4049 y Fw(Le)40 b(c)m(hoix)h(en)m(tre)f(le)g(r)m(\023)-43
b(ev)m(eil)41 b(d'un)e(copro)s(cessus)h(ou)g(de)g(tous)g(les)f(copro)s
(cessus)h(d)m(\023)-43 b(ep)s(end)40 b(du)f(probl)m(\022)-43
b(eme.)40 b(P)m(our)-71 4161 y(reprendre)30 b(l'exemple)h(de)g(la)g
(\014le)f(d'atten)m(te,)k(si)c(un)h(copro)s(cessus)g(a)5
b(joute)32 b(un)c(\023)-43 b(el)m(\023)g(emen)m(t)33
b(dans)e(une)g(queue)g(vide,)-71 4274 y(il)26 b(n'a)h(pas)h(b)s(esoin)d
(de)j(r)m(\023)-43 b(ev)m(eiller)27 b(tous)g(les)g(autres)g(puisqu'un)e
(seul)h(p)s(ourra)g(e\013ectiv)m(emen)m(t)j(retirer)e(cet)f(\023)-43
b(el)m(\023)g(emen)m(t.)-71 4387 y(P)m(ar)30 b(con)m(tre,)h(s'il)e(a)5
b(joute)31 b(un)d(nom)m(bre)i(d')m(\023)-43 b(el)m(\023)g(emen)m(ts)32
b(qui)c(n'est)i(pas)g(non)f(conn)m(u)h(statiquemen)m(t)g(ou)g(bien)e
(qui)h(est)-71 4500 y(tr)m(\022)-43 b(es)38 b(grand,)f(il)f(doit)h
(demander)f(le)h(r)m(\023)-43 b(ev)m(eil)37 b(de)g(tous)h(les)e(copro)s
(cessus.)h(A)m(tten)m(tion)17 b(!)37 b(si)f(l'a)5 b(jout)38
b(d'un)33 b(\023)-43 b(el)m(\023)g(emen)m(t)-71 4613
y(dans)27 b(un)g(queue)h(non)g(vide)f(n'en)m(v)m(oie)h(pas)g(de)g
(signal,)f(alors)h(l'a)5 b(jout)28 b(d'un)c(\023)-43
b(el)m(\023)g(emen)m(t)30 b(dans)d(une)h(queue)f(vide)h(doit)-71
4726 y(en)m(v)m(o)m(y)m(er)j(un)c(broadcast,)i(car)g(il)e(p)s(ourrait)d
(^)-43 b(etre)29 b(imm)m(\023)-43 b(ediatemen)m(t)29
b(suivi)d(d'un)h(autre)i(a)5 b(jout)29 b(\(sans)f(signal\))f(donc)-71
4839 y(se)37 b(comp)s(orter)g(comme)g(un)f(a)5 b(jout)37
b(m)m(ultiple.)d(En)i(r)m(\023)-43 b(esum)m(\023)g(e,)39
b(soit)d(c)m(haque)i(a)5 b(jout)37 b(en)m(v)m(oit)g(un)f(signal,)g
(soit)g(seul)-71 4952 y(l'a)5 b(jout)28 b(dans)e(une)h(queue)g(non)g
(vide)g(en)m(v)m(oie)h(un)e(broadcast.)j(Le)e(c)m(hoix)h(en)m(tre)g
(ces)g(deux)f(strat)m(\023)-43 b(egies)29 b(est)f(un)e(pari)-71
5065 y(sur)i(le)h(fait)g(que)h(la)f(queue)g(est)h(g)m(\023)-43
b(en)m(\023)g(eralemen)m(t)32 b(vide)c(\(premi)m(\022)-43
b(ere)30 b(solution\))e(consommateurs)i(ou)f(g)m(\023)-43
b(en)m(\023)g(eralemen)m(t)-71 5178 y(non)30 b(vide)f(\(deuxi)m(\022)
-43 b(eme)31 b(solution\).)70 5303 y(Il)43 b(est)i(fr)m(\023)-43
b(equen)m(t)45 b(qu'un)d(copro)s(cessus)i(n'ait)g(qu'une)f(appro)m
(ximation)g(de)h(la)f(raison)g(p)s(our)g(laquelle)f(un)-71
5416 y(autre)h(p)s(eut)c(^)-43 b(etre)43 b(en)g(atten)m(te)h(sur)d(une)
h(condition.)f(Il)h(v)-5 b(a)42 b(donc)h(signaler)e(sur)g(cette)j
(condition)d(par)h(exc)m(\022)-43 b(es)-71 5529 y(simplemen)m(t)34
b(lorsque)h(la)g(situation)f Fn(p)-5 b(eut)45 b Fw(a)m(v)m(oir)33
b(\023)-43 b(ev)m(olu)m(\023)g(ee)38 b(p)s(our)c(un)h(copro)s(cessus)g
(en)g(atten)m(te.)j(Un)d(pro)s(cessus)p Black Black eop
%%Page: 92 92
92 91 bop Black -71 24 a Fw(92)2277 b Fs(CHAPITRE)30
b(6.)61 b(LES)30 b(COPR)m(OCESSUS)p Black -71 280 a Fw(r)m(\023)-43
b(ev)m(eill)m(\023)g(e)27 b(ne)f(doit)g(donc)f(pas)h(supp)s(os)m(\023)
-43 b(e)26 b(que)g(la)g(situation)e(a)g(\023)-43 b(ev)m(olu)m(\023)g(e)
28 b(p)s(our)d(lui)f(et)j(que)f(la)f(condition)g(p)s(our)g(laquelle)-71
393 y(il)38 b(est)i(mis)d(en)j(atten)m(te)h(est)f(main)m(tenan)m(t)f
(remplie.)f(Il)g(doit)h(en)g(g)m(\023)-43 b(en)m(\023)g(eral)41
b(\(presque)e(imp)m(\023)-43 b(erativ)m(emen)m(t\))40
b(tester)-71 506 y(\022)-45 b(a)41 b(nouv)m(eau)g(la)f
(con\014guration,)g(et)i(si)d(n)m(\023)-43 b(ecessaire)42
b(se)f(remettre)g(en)g(atten)m(te)h(sur)e(la)g(condition.)f(Il)h(ne)h
(s'agit)-71 619 y(plus)32 b(cette)k(fois-ci)e(d'une)f(atten)m(te)j
(activ)m(e,)g(car)f(cela)f(ne)g(p)s(eut)g(se)g(passer)g(que)g(si)f(un)g
(copro)s(cessus)h(\022)-45 b(a)32 b(\023)-43 b(emis)34
b(un)-71 732 y(signal)27 b(sur)f(la)h(condition.)g(x)h(V)-8
b(oici)27 b(un)g(autre)h(exemple)f(qui)g(justi\014e)f(qu'il)g(faille)g
(tester)i(\022)-45 b(a)28 b(nouv)m(eau)g(:)g(lorsqu'un)-71
845 y(copro)s(cessus)k(vien)m(t)g(de)g(fournir)e(une)i(resource)g(en)g
(ab)s(ondance)g(et)h(r)m(\023)-43 b(ev)m(eille)32 b(tous)g(les)g
(autres,)h(rien)e(n'emp)m(^)-43 b(ec)m(he)-71 958 y(le)26
b(premier)f(r)m(\023)-43 b(ev)m(eill)m(\023)g(e)27 b(d')m(^)-43
b(etre)27 b(tr)m(\022)-43 b(es)28 b(gourmand)d(et)i(d')m(\023)-43
b(epuiser)25 b(la)h(resource)g(en)g(totalit)m(\023)-43
b(e.)29 b(Le)d(second)g(r)m(\023)-43 b(ev)m(eill)m(\023)g(e)27
b(devra)-71 1071 y(se)k(rendormir)d(en)i(attendan)m(t)i(de)e(plus)e(b)s
(eaux)i(jours.)70 1185 y(Nous)c(p)s(ouv)m(ons)g(main)m(tenan)m(t)g
(donner)f(une)h(solution)f(concr)m(\022)-43 b(ete)28
b(p)s(our)d(les)h(queues)f(partag)m(\023)-43 b(ees.)29
b(La)e(structure)-71 1298 y(de)j Fu(queue)f Fw(d)m(\023)-43
b(e\014nie)30 b(dans)g(le)g(mo)s(dule)e Fu(Queue)h Fw(est)i(enric)m
(hie)e(a)m(v)m(ec)k(un)c(v)m(errou)i(et)g(une)e(condition)g
Fu(non_empty)p Fw(.)193 1430 y Fz(1)83 b Fv(t)m(yp)s(e)48
b Fu('a)f(t)g(=)193 1543 y Fz(2)178 b Fu({)48 b(queue)e(:)i('a)f(Queue)
n(.t;)g(lock)g(:)g(Mutex)o(.t;)g(non_empty)e(:)j(Condition)m(.t)f(})193
1656 y Fz(3)83 b Fv(let)53 b Fu(create)46 b(\(\))h(=)193
1769 y Fz(4)178 b Fu({)48 b(queue)e(=)i(Queue)n(.create)n(\(\);)193
1882 y Fz(5)274 b Fu(lock)46 b(=)i(Mutex)o(.)o(create)o(\(\);)f
(non_empty)e(=)i(Condition)n(.create)n(\(\))g(})-71 2016
y Fw(L'a)5 b(jout)25 b(n'est)f(jamais)f(blo)s(quan)m(t,)g(mais)g(il)g
(ne)g(faut)h(pas)g(oublier)e(de)h(signaler)g(la)g(condition)g
Fu(non_empty)e Fw(lorsque)-71 2129 y(la)30 b(liste)d(\023)-43
b(etait)32 b(vide)d(a)m(v)-5 b(an)m(t)32 b(a)5 b(jout,)31
b(car)g(il)e(est)i(p)s(ossible)d(que)i(quelqu'un)e(soit)i(en)g(atten)m
(te)j(sur)c(la)h(condition.)193 2261 y Fz(6)83 b Fv(let)53
b Fu(add)47 b(e)g(q)h(=)193 2374 y Fz(7)178 b Fu(Mutex)o(.lock)46
b(q.lock)o(;)193 2487 y Fz(8)178 b Fv(if)56 b Fu(Queue)n(.length)46
b(q.queue)g(=)i(0)f Fv(then)g Fu(Condition)n(.broadcast)e(q.)o
(non_empty)n(;)193 2600 y Fz(9)178 b Fu(Queue)o(.add)47
b(e)g(q.queue)n(;)157 2713 y Fz(10)179 b Fu(Mutex)o(.unlock)46
b(q.)o(lock)o(;;)-71 2847 y Fw(Le)31 b(retrait)f(est)h(un)e(tout)i(p)s
(etit)f(p)s(eu)f(plus)g(compliqu)m(\023)-43 b(e)29 b(:)157
2979 y Fz(11)84 b Fv(let)53 b Fu(take)46 b(q)i(=)157
3092 y Fz(12)179 b Fu(Mutex)o(.lock)46 b(q.lock)o(;)157
3205 y Fz(13)179 b Fv(while)48 b Fu(Queue)n(.length)e(q.queue)g(=)h(0)
157 3318 y Fz(14)179 b Fv(do)48 b Fu(Condition)n(.wait)e(q.non_empty)f
(q.lock)h Fv(done)q Fu(;)157 3431 y Fz(15)179 b Fv(let)48
b Fu(x)f(=)h(Queue)n(.take)f(q)o(.queue)f Fv(in)157 3544
y Fz(16)179 b Fu(Mutex)o(.unlock)46 b(q.)o(lock)o(;)i(x)o(;;)-71
3677 y Fw(Apr)m(\022)-43 b(es)31 b(a)m(v)m(oir)g(acquis)f(le)f(v)m
(errou,)i(on)f(p)s(eut)g(essa)m(y)m(er)i(de)e(retirer)f(l')m(\023)-43
b(el)m(\023)g(emen)m(t)32 b(de)f(la)f(queue.)g(Si)f(la)h(queue)g(est)h
(vide,)-71 3790 y(il)h(faut)i(se)g(mettre)g(en)g(atten)m(te)i(sur)c(la)
i(condition)e Fu(non_empty)p Fw(.)f(Au)j(r)m(\023)-43
b(ev)m(eil,)34 b(on)f(essa)m(y)m(er)i(\022)-45 b(a)35
b(nouv)m(eau,)f(sac)m(han)m(t)-71 3903 y(qu'on)c(a)h(d)m(\023)-43
b(ej\022)e(a)31 b(le)f(v)m(errou.)p Black -71 4124 a
Fv(Exercice)36 b(17)p Black 46 w Fn(Impl)n(\023)-44 b(ementer)38
b(une)f(variante)g(dans)h(laquel)5 b(le)37 b(la)h(queue)e(est)h(b)-5
b(orn)n(\023)-44 b(ee)37 b(:)g(l'ajout)h(dans)g(la)f(queue)-71
4237 y(devient)30 b(blo)-5 b(quant)32 b(lorsque)f(la)g(tail)5
b(le)30 b(de)h(la)g(queue)e(a)i(atteint)g(une)f(valeur)g(\014x)n(\023)
-44 b(ee)30 b(\022)-46 b(a)31 b(l'avanc)-5 b(e.)31 b(\(Dans)g(un)f
(monde)-71 4349 y(c)-5 b(oncurr)g(ent,)25 b(on)f(p)-5
b(eut)24 b(avoir)h(b)-5 b(esoin)24 b(de)g(c)-5 b(e)23
b(sch)n(\023)-44 b(ema)25 b(p)-5 b(our)22 b(\023)-44
b(eviter)24 b(qu'un)f(pr)-5 b(o)g(ducteur)25 b(pr)-5
b(o)g(duise)26 b(sans)e(\014n)g(p)-5 b(endant)-71 4462
y(que)32 b(le)h(c)-5 b(onsommateur)35 b(est)e(blo)-5
b(qu)n(\023)-44 b(e.)1898 b Fw(\(V)-8 b(oir)31 b(le)f(corrig)m(\023)-43
b(e\))p 3783 4413 47 4 v 3783 4459 4 47 v 3826 4459 V
3783 4462 47 4 v -71 4756 a Fq(6.7)135 b(Comm)l(unication)46
b(sync)l(hrone)d(en)l(tre)i(copro)t(cessus)f(par)d(\023)-64
b(ev)m(\023)g(enemen)l(ts)-71 4962 y Fn(L)-5 b(es)33
b(fonctions)h(d)n(\023)-44 b(ecrites)33 b(dans)g(c)-5
b(ette)33 b(se)-5 b(ction)33 b(sont)h(d)n(\023)-44 b(e\014nies)33
b(dans)h(le)e(mo)-5 b(dule)34 b Fu(Event)p Fn(.)70 5076
y Fw(V)-8 b(errous)42 b(et)f(conditions)f(p)s(ermetten)m(t)i(ensem)m
(ble)f(d'exprimer)e(toutes)k(les)d(formes)h(de)g(sync)m(hronisation.)
-71 5189 y(T)-8 b(outefois,)34 b(leur)e(mise)h(en)g(\033uvre)g(n'est)g
(pas)h(toujours)f(ais)m(\023)-43 b(ee)34 b(comme)h(le)e(mon)m(tre)h
(l'exemple)e(a)i(priori)d(simple)-71 5302 y(des)f(\014les)g(d'atten)m
(te)i(don)m(t)e(le)g(co)s(de)h(de)f(sync)m(hronisation)f(s'a)m(v)m
(\022)-43 b(ere)33 b(a)d(p)s(osteriori)f(d)m(\023)-43
b(elicat.)70 5416 y(La)23 b(comm)m(unication)f(sync)m(hrone)g(en)m(tre)
h(copro)s(cessus)f(par)d(\023)-43 b(ev)m(\023)g(enemen)m(ts)25
b(est)e(un)e(ensem)m(ble)h(de)g(primitiv)m(es)e(de)-71
5529 y(comm)m(unication)29 b(de)g(plus)e(haut)i(niv)m(eau)f(qui)g(tend)
h(\022)-45 b(a)29 b(faciliter)f(la)h(programmation)g(concurren)m(te.)g
(L'ensem)m(ble)p Black Black eop
%%Page: 93 93
93 92 bop Black -71 24 a Fs(6.7.)62 b(COMMUNICA)-8 b(TION)30
b(SYNCHR)m(ONE)g(ENTRE)g(COPR)m(OCESSUS)e(P)-8 b(AR)2911
1 y(\023)2899 24 y(EV)3041 1 y(\023)3029 24 y(ENEMENTS)187
b Fw(93)p Black -71 280 a(des)35 b(primitiv)m(es)d(de)j(la)f(librairie)
d Fu(Event)j Fw(a)e(\023)-43 b(et)m(\023)g(e)37 b(initialemen)m(t)c(d)m
(\023)-43 b(ev)m(elopp)m(\023)g(e)37 b(par)d(John)g(Repp)m(y)h(p)s(our)
e(le)h(langage)-71 393 y Fn(Standar)-5 b(d)35 b(ML)p
Fw(,)30 b(app)s(el)m(\023)-43 b(e)29 b Fn(Concurr)-5
b(ent)34 b(ML)29 b Fw([13)q(].)i(En)e(OCaml,)g(ces)h(primitiv)m(es)d
(son)m(t)k(implan)m(t)m(\023)-43 b(ees)30 b(au)f(dessus)g(de)-71
506 y(la)i(sync)m(hronisation)f(plus)d(\023)-43 b(el)m(\023)g(emen)m
(taire)33 b(par)e(v)m(errous)g(et)i(conditions.)d(Les)h(primitiv)m(es)e
(son)m(t)j(regroup)m(\023)-43 b(ees)33 b(dans)-71 619
y(le)d(mo)s(dule)f Fu(Event)p Fw(.)70 739 y(La)35 b(comm)m(unication)f
(se)g(fait)g(en)h(en)m(v)m(o)m(y)m(an)m(t)i(des)32 b
Fn(\023)-44 b(ev)n(\023)g(enements)42 b Fw(au)34 b(tra)m(v)m(ers)i(de)e
Fn(c)-5 b(anaux)p Fw(.)35 b(Les)g(canaux)f(son)m(t)-71
852 y(en)h(quelque)e(sorte)i(des)f(\\tuy)m(aux)i(l)m(\023)-43
b(egers")36 b(:)e(ils)f(p)s(ermetten)m(t)i(de)g(comm)m(uniquer)e(en)m
(tre)i(les)f(copro)s(cessus)g(d'un)-71 965 y(m)m(^)-43
b(eme)38 b(programme)e(en)h(g)m(\023)-43 b(eran)m(t)38
b(eux-m)m(^)-43 b(emes)38 b(la)e(sync)m(hronisation)f(en)m(tre)j(pro)s
(ducteurs)c(et)k(consommateurs.)-71 1078 y(Un)g(canal)g(transp)s(ortan)
m(t)g(des)f(v)-5 b(aleurs)37 b(t)m(yp)s(e)h Fu('a)g Fw(est)g(de)g(t)m
(yp)s(e)g Fu('a)47 b(Event.channel)p Fw(.)35 b(Les)j(canaux)g(son)m(t)h
(ho-)-71 1191 y(mog)m(\022)-43 b(enes)24 b(et)f(transp)s(orten)m(t)f
(donc)g(toujours)f(des)h(v)-5 b(aleurs)21 b(du)g(m)m(^)-43
b(eme)23 b(t)m(yp)s(e.)g(Un)f(canal)g(est)g(cr)m(\023)-43
b(e)m(\023)g(e)25 b(a)m(v)m(ec)g(la)c(primitiv)m(e)-71
1304 y Fu(new_channel)p Fw(.)311 1436 y Fu(Event)o(.)o(new_channel)45
b(:)i(unit)g(->)g('a)g(channel)-71 1576 y Fw(L'en)m(v)m(oi)c(ou)g(la)f
(r)m(\023)-43 b(eception)44 b(d'un)d(message)j(ne)f(se)g(fait)f(pas)g
(directemen)m(t,)i(mais)e(par)g(l'in)m(term)m(\023)-43
b(ediaire)41 b(d'un)-74 1689 y(\023)-43 b(ev)m(\023)g(enemen)m(t.)33
b(Un)26 b(\023)-43 b(ev)m(\023)g(enemen)m(t)30 b(\023)-43
b(el)m(\023)g(emen)m(taire)31 b(est)f(\\en)m(v)m(o)m(y)m(er)i(un)c
(message")j(ou)e(\\recev)m(oir)i(un)d(message".)j(On)e(les)-71
1802 y(construit)h(\022)-45 b(a)30 b(l'aide)g(des)g(primitiv)m(es)e
(suiv)-5 b(an)m(tes)30 b(:)311 1934 y Fu(Event)o(.)o(send)47
b(:)g('a)h(channel)d(->)j('a)f(->)g(unit)g(event)311
2047 y(Event)o(.)o(receive)f(:)i('a)f(channel)f(->)h('a)g(event)-71
2187 y Fw(Le)29 b(construction)g(d'un)f(message)i(n'a)f(pas)g
(d'e\013et)g(imm)m(\023)-43 b(ediat)29 b(et)h(se)f(limite)e(\022)-45
b(a)30 b(la)e(cr)m(\023)-43 b(eation)31 b(d'une)d(structure)g(de)-71
2300 y(donn)m(\023)-43 b(ee)29 b(d)m(\023)-43 b(ecriv)-5
b(an)m(t)30 b(l'action)e(\022)-45 b(a)29 b(e\013ectuer.)h(P)m(our)f(r)m
(\023)-43 b(ealiser)28 b(un)d(\023)-43 b(ev)m(\023)g(enemen)m(t,)32
b(le)c(copro)s(cessus)g(doit)g(se)h(sync)m(hroni-)-71
2413 y(ser)35 b(a)m(v)m(ec)h(un)e(autre)h(copro)s(cessus)f(souhaitan)m
(t)h(r)m(\023)-43 b(ealiser)34 b(l')m(\023)-43 b(ev)m(\023)g(enemen)m
(t)37 b(compl)m(\023)-43 b(emen)m(taire.)36 b(La)f(primitiv)m(e)d
Fu(sync)-71 2526 y Fw(p)s(ermet)e(la)g(sync)m(hronisation)f(du)g(copro)
s(cessus)h(p)s(our)f(r)m(\023)-43 b(ealiser)30 b(l')m(\023)-43
b(ev)m(\023)g(enemen)m(t)33 b(pass)m(\023)-43 b(e)32
b(en)e(argumen)m(t.)311 2658 y Fu(Event)o(.)o(sync)47
b(:)g('a)h(event)e(->)h('a)-71 2798 y Fw(Ainsi)27 b(p)s(our)g(en)m(v)m
(o)m(y)m(er)j(une)e(v)-5 b(aleur)27 b Ft(v)32 b Fw(sur)c(le)g(canal)g
Ft(c)p Fw(,)h(on)f(p)s(ourra)f(ex)m(\023)-43 b(ecuter)31
b Fu(sync)c Fw(\()p Fu(send)h Ft(c)g(v)s Fw(\).)i(Le)e(copro)s(cessus)
-71 2911 y(est)k(susp)s(endu)d(jusqu'\022)-45 b(a)31
b(ce)h(que)f(l')m(\023)-43 b(ev)m(\023)g(enemen)m(t)34
b(se)e(r)m(\023)-43 b(ealise,)32 b(c'est-\022)-45 b(a-dire)32
b(jusqu'\022)-45 b(a)31 b(ce)h(qu'un)f(autre)g(copro)s(cessus)-71
3024 y(soit)f(pr)m(^)-43 b(et)31 b(\022)-45 b(a)30 b(recev)m(oir)h(de)e
(une)h(v)-5 b(aleur)29 b(sur)g(le)g(canal)h Ft(c)p Fw(.)h(De)f(fa\030)
-40 b(con)31 b(sym)m(\023)-43 b(etrique,)30 b(un)f(pro)s(cessus)g(p)s
(eut)g(se)h(mettre)-71 3137 y(en)g(atten)m(te)j(d'un)c(message)j(sur)d
(le)h(canal)g Ft(c)h Fw(en)f(e\013ectuan)m(t)i Fu(sync)d
Fw(\()p Fu(receive)g Ft(c)p Fw(\).)70 3257 y(Il)38 b(y)g(a)h(comp)m
(\023)-43 b(etitions)39 b(en)m(tre)g(tous)f(les)g(pro)s(ducteurs)e
(d'une)i(part)g(et)h(tous)g(les)e(consommateurs)i(d'autre)-71
3370 y(part.)28 b(P)m(ar)g(exemple,)f(si)g(plusieurs)d(copro)s(cessus)k
(essa)m(y)m(en)m(t)i(d')m(\023)-43 b(emettre)29 b(un)e(message)h(sur)f
(un)g(canal)g(alors)g(qu'un)-71 3483 y(seul)c(est)i(pr)m(^)-43
b(et)25 b(\022)-45 b(a)25 b(le)e(lire,)g(il)g(est)i(un)e(clair)g(qu'un)
g(seul)g(pro)s(ducteur)f(r)m(\023)-43 b(ealisera)25 b(l')m(\023)-43
b(ev)m(\023)g(enemen)m(t.)27 b(Les)d(autres)g(resteron)m(t)-71
3596 y(susp)s(endus,)k(sans)i(m)m(^)-43 b(eme)31 b(s'ap)s(ercev)m(oir)g
(qu'un)e(autre)h(a)f(\023)-43 b(et)m(\023)g(e)33 b(\\servi")d(a)m(v)-5
b(an)m(t)32 b(eux.)70 3716 y(La)h(comp)m(\023)-43 b(etition)34
b(p)s(eut)29 b(\023)-43 b(egalemen)m(t)35 b(se)e(pro)s(duire)e(au)h
(sein)g(d'un)g(m)m(^)-43 b(eme)34 b(copro)s(cessus.)f(Deux)e(\023)-43
b(ev)m(\023)g(enemen)m(ts)-71 3829 y(p)s(euv)m(en)m(t)28
b(^)-43 b(etre)32 b(com)m(bin)m(\023)-43 b(es)31 b(par)e(la)h(primitiv)
m(e)f Fu(choose)f Fw(:)311 3961 y Fu(Event)o(.)o(choose)46
b(:)i('a)f(event)f(list)h(->)g('a)g(event)-71 4101 y
Fw(L')m(\023)-43 b(ev)m(\023)g(enemen)m(t)27 b(r)m(\023)-43
b(esultan)m(t)25 b(est)g(une)e(o\013re)i(en)f(parall)m(\022)-43
b(ele)23 b(des)f(\023)-43 b(ev)m(\023)g(enemen)m(ts)26
b(pass)m(\023)-43 b(es)25 b(en)f(argumen)m(ts)h(qui)e(se)h(r)m(\023)-43
b(ealisera)-71 4214 y(lorsque)33 b(qu'un)g(exactemen)m(t)k(de)d
(ceux-ci)g(se)h(r)m(\023)-43 b(ealisera.)34 b(Il)f(bien)g(faut)h
(distinguer)e(la)i(l'o\013re)g(d'un)c(\023)-43 b(ev)m(\023)g(enemen)m
(t)-71 4327 y(de)30 b(sa)h(r)m(\023)-43 b(ealisation.)30
b(L'app)s(el)e Fu(sync)h Fw(\()p Fu(choose)g Ft(e)1568
4341 y Fz(1)1638 4327 y Ft(e)1680 4341 y Fz(2)1720 4327
y Fw(\))h(se)h(sync)m(hronise)d(en)i(o\013ran)m(t)h(au)f(c)m(hoix)h
(deux)c(\023)-43 b(ev)m(\023)g(enemen)m(ts)-71 4440 y
Ft(e)-29 4454 y Fz(1)43 4440 y Fw(et)32 b Ft(e)192 4454
y Fz(2)232 4440 y Fw(,)g(mais)f(un)f(seul)h(des)g(deux)e(\023)-43
b(ev)m(\023)g(enemen)m(ts)34 b(sera)e(e\013ectiv)m(emen)m(t)i(r)m(\023)
-43 b(ealis)m(\023)g(e)33 b(\(l'o\013re)f(de)f(l'autre)e(\023)-43
b(ev)m(\023)g(enemen)m(t)-71 4552 y(sera)30 b(sim)m(ultan)m(\023)-43
b(emen)m(t)31 b(ann)m(ul)m(\023)-43 b(ee\).)31 b(La)f(primitiv)m(e)e
Fu(wrap_abort)f Fw(p)s(ermet)j(\022)-45 b(a)30 b(un)d(\023)-43
b(ev)m(\023)g(enemen)m(t)33 b(d'agir)c(lorsqu'il)f(est)-71
4665 y(ainsi)h(ann)m(ul)m(\023)-43 b(e.)311 4798 y Fu(Event)o(.)o
(wrap_abort)45 b(:)j('a)f(event)f(->)h(\(unit)g(->)g(unit)o(\))g(->)h
('a)f(event)-71 4938 y Fw(L'app)s(el)27 b Fu(wrap_abort)e
Ft(e)k(f)37 b Fw(construit)28 b(un)c(\023)-43 b(ev)m(\023)g(enemen)m(t)
31 b Ft(e)1913 4905 y Fb(0)1963 4938 y Fw(\023)-43 b(equiv)-5
b(alen)m(t)28 b(\022)-45 b(a)28 b Ft(e)h Fw(mais)e(tel)i(que)f(si)f
Ft(e)h Fw(n'est)h(pas)f(r)m(\023)-43 b(ealis)m(\023)g(e)-71
5050 y(apr)m(\022)g(es)30 b(sa)g(sync)m(hronisation)e(alors)h(la)g
(fonction)g Ft(f)39 b Fw(est)30 b(ex)m(\023)-43 b(ecut)m(\023)g(ee)33
b(\(cela)e(n'a)e(d'in)m(t)m(\023)-43 b(er)m(^)g(et)32
b(que)d(si)f Ft(e)3214 5018 y Fb(0)3268 5050 y Fw(fait)h(parti)f(d'un)
-74 5163 y(\023)-43 b(ev)m(\023)g(enemen)m(t)34 b(complexe\).)70
5284 y(Un)g(copro)s(cessus)g(p)s(eut)g(prop)s(oser)f(de)h(r)m(\023)-43
b(ealiser)34 b(un)d(\023)-43 b(ev)m(\023)g(enemen)m(t)37
b(sans)d(se)g(blo)s(quer)e(\(un)i(p)s(eu)f(\022)-45 b(a)35
b(la)f(mani)m(\022)-43 b(ere)-71 5396 y(de)30 b Fu(Mutex.try_lock)p
Fw(\).)311 5529 y Fu(Event)o(.)o(poll)47 b(:)g('a)h(event)e(->)h('a)g
(option)p Black Black eop
%%Page: 94 94
94 93 bop Black -71 24 a Fw(94)2277 b Fs(CHAPITRE)30
b(6.)61 b(LES)30 b(COPR)m(OCESSUS)p Black -71 280 a Fw(L'app)s(el)42
b Fu(Event.pool)e Ft(e)j Fw(v)-5 b(a)43 b(o\013rir)f(l')m(\023)-43
b(ev)m(\023)g(enemen)m(t)45 b Ft(e)f Fw(mais)e(si)g(celui-ci)f(ne)i(p)s
(eut)f(pas)e(^)-43 b(etre)44 b(imm)m(\023)-43 b(ediatemen)m(t)-71
393 y(r)m(\023)g(ealis)m(\023)g(e,)33 b(il)c(retire)i(l'o\013re)g(au)g
(lieu)f(de)h(se)g(blo)s(quer)f(et)i(tout)f(se)h(passera)f(comme)h(s'il)
e(n'a)m(v)-5 b(ait)32 b(rien)e(fait)h(\(ou)g(plus)-71
506 y(exactemen)m(t)26 b(comme)e(si)f(l'expression)e
Fu(Event.pool)g Ft(e)i Fw(a)m(v)-5 b(ait)22 b(\023)-43
b(et)m(\023)g(e)26 b(remplac)m(\023)-43 b(ee)25 b(par)e(la)g(v)-5
b(aleur)22 b Fu(None)p Fw(\).)h(P)m(ar)h(con)m(tre,)-71
619 y(si)31 b(l')m(\023)-43 b(ev)m(\023)g(enemen)m(t)34
b(p)s(eut)c(se)i(r)m(\023)-43 b(ealiser)31 b(imm)m(\023)-43
b(ediatemen)m(t,)32 b(alors)f(tout)h(se)g(passera)f(comme)h(si)f(le)g
(copro)s(cessus)g(a)m(v)m(ec)-71 732 y(e\013ectu)m(\023)-43
b(e)33 b Fu(Event.sync)28 b Ft(e)p Fw(,)i(sauf)g(que)g(c'est)i(la)e(v)
-5 b(aleur)30 b Fu(Some)f Ft(v)k Fw(plut^)-45 b(ot)30
b(que)g Ft(v)k Fw(qui)29 b(est)i(retourn)m(\023)-43 b(ee.)p
Black -71 950 a Fv(Exemple:)p Black 45 w Fw(Dans)26 b(l'exemple)f(6.3)i
(du)e(crible)f(d'Eratosth)m(\022)-43 b(ene)27 b(la)f(comm)m(unication)f
(en)m(tre)i(les)e(di\013)m(\023)-43 b(eren)m(ts)26 b(copro-)-71
1063 y(cessus)j(s'e\013ectue)i(par)e(des)f(tuy)m(aux)i(comme)g(dans)e
(le)h(programme)g(d'origine,)f(donc)h(en)g(utilisan)m(t)f(la)g(m)m
(\023)-43 b(emoire)-71 1175 y(du)29 b(syst)m(\022)-43
b(eme)32 b(\(le)e(tuy)m(au\))h(comme)g(in)m(term)m(\023)-43
b(ediaire.)29 b(On)h(p)s(eut)f(p)s(enser)g(qu'il)f(serait)i(plus)f
(e\016cace)j(de)e(comm)m(uni-)-71 1288 y(quer)24 b(directemen)m(t)h(en)
g(utilisan)m(t)e(la)h(m)m(\023)-43 b(emoire)26 b(du)d(pro)s(cessus.)h
(Une)h(solution)e(simple)g(consisterait)i(\022)-45 b(a)25
b(remplacer)-71 1401 y(le)30 b(tuy)m(au)h(par)f(un)f(canal)h(sur)f
(lequel)h(son)m(t)h(en)m(v)m(o)m(y)m(\023)-43 b(es)33
b(les)d(en)m(tiers.)70 1515 y(P)m(asser)36 b(des)f(en)m(tiers)h(dans)e
(le)h(canal)h(n'est)g(pas)f(su\016san)m(t)g(car)h(il)e(faut)h(aussi)g
(p)s(ouv)m(oir)f(d)m(\023)-43 b(etecter)38 b(la)d(\014n)f(du)-71
1628 y(\015ux.)27 b(Le)i(plus)d(simple)g(est)j(donc)e(de)h(passer)g
(des)d(\023)-43 b(el)m(\023)g(emen)m(ts)30 b(de)e(la)g(forme)g
Fu(Some)f Ft(n)h Fw(et)g(de)g(terminer)f(en)h(en)m(v)m(o)m(y)m(an)m(t)
-71 1741 y(la)c(v)-5 b(aleur)24 b Fu(None)p Fw(.)f(P)m(our)h
(simpli\014er)d(et)k(souligner)e(les)h(c)m(hangemen)m(ts)i(en)e(les)g
(minimisan)m(t,)e(nous)i(allons)f(r)m(\023)-43 b(ecup)m(\023)g(erer)-71
1854 y(le)36 b(co)s(de)g(de)g(l'exemple)g(6.3.)h(P)m(our)f(cela,)h
(nous)e(sim)m(ulons)f(les)i(tuy)m(aux)g(et)h(les)f(fonctions)f(de)h
(lecture/)m(\023)-43 b(ecriture)-71 1967 y(sur)29 b(un)h(tuy)m(au)g
(par)g(des)g(canaux)h(et)g(de)f(fonctions)g(de)g(lecture/)m(\023)-43
b(ecriture)31 b(sur)f(les)g(canaux.)70 2080 y(Il)f(su\016t)g(de)g
(reprendre)f(la)i(v)m(ersion)f(pr)m(\023)-43 b(ec)m(\023)g(eden)m(te)32
b(du)d(programme)g(et)i(de)e(mo)s(di\014er)f(les)h(fonctions)g(d'en)m
(tr)m(\023)-43 b(ee-)-71 2193 y(sortie)29 b(p)s(our)e(qu'elle)h(lisen)m
(t)g(et)f(\023)-43 b(ecriv)m(en)m(t)30 b(dans)e(un)f(canal)i(plut^)-45
b(ot)28 b(que)h(dans)f(un)g(tamp)s(on)g(d'en)m(tr)m(\023)-43
b(ee-sortie)31 b(de)d(la)-71 2306 y(librairie)f Fu(Pervasives)p
Fw(,)h(par)i(exemple)g(en)g(ins)m(\023)-43 b(eran)m(t)31
b(\022)-45 b(a)30 b(la)g(ligne)g(2)g(le)g(co)s(de)h(suiv)-5
b(an)m(t)30 b(:)193 2439 y Fz(2)83 b Fv(let)53 b Fu(pipe)46
b(\(\))i(=)f Fv(let)g Fu(c)h(=)f(Event)o(.new_channel)m(\(\))g
Fv(in)h Fu(c)o(,)g(c)193 2552 y Fz(3)83 b Fv(let)53 b
Fu(out_channel_of_descr)42 b(x)48 b(=)f(x)193 2665 y
Fz(4)83 b Fv(let)53 b Fu(in_channel_of_descr)42 b(x)48
b(=)f(x)193 2777 y Fz(5)193 2890 y(6)83 b Fv(let)53 b
Fu(input_int)45 b(chan)i(=)193 3003 y Fz(7)178 b Fv(matc)m(h)47
b Fu(Event)o(.sync)f(\(Event)o(.)o(receive)g(chan)o(\))i
Fv(with)193 3116 y Fz(8)274 b Fu(Some)46 b(v)i(->)f(v)193
3229 y Fz(9)178 b Fu(|)48 b(None)e(->)i Fv(raise)f Fu(End_of_file)157
3342 y Fz(10)84 b Fv(let)53 b Fu(output_int)45 b(chan)h(x)i(=)f(Event)o
(.sync)f(\(Event)o(.)o(send)h(chan)g(\()o(Some)g(x\)\))157
3455 y Fz(11)84 b Fv(let)53 b Fu(close_out)45 b(chan)i(=)g(Event)o
(.sync)f(\(Event)o(.)o(send)h(chan)g(None)n(\);;)-71
3588 y Fw(T)-8 b(outefois,)44 b(si)f(l'on)g(compare)h(l'e\016cacit)m
(\023)-43 b(e)46 b(de)e(cette)h(v)m(ersion)e(a)m(v)m(ec)j(la)e(pr)m
(\023)-43 b(ec)m(\023)g(eden)m(te,)47 b(on)c(trouv)m(e)i(qu'elle)e(est)
-71 3701 y(deux)34 b(fois)f(plus)g(len)m(te.)i(La)f(comm)m(unication)g
(de)g(c)m(haque)i(en)m(tier)e(requiert)f(une)h(sync)m(hronisation)f(en)
m(tre)i(deux)-71 3814 y(copro)s(cessus)24 b(donc)f(plusieurs)d(app)s
(els)i(syst)m(\022)-43 b(emes)25 b(p)s(our)d(prendre)g(et)j(rel^)-45
b(ac)m(her)23 b(le)h(v)m(errou.)f(Au)h(con)m(traire,)g(la)f(com-)-71
3927 y(m)m(unication)35 b(par)h(tuy)m(au)g(utilise)e(des)i(en)m(tr)m
(\023)-43 b(ees/sorties)38 b(temp)s(oris)m(\023)-43 b(ees)37
b(qui)e(p)s(ermetten)m(t)h(d')m(\023)-43 b(ec)m(hanger)38
b(plusieurs)-71 4040 y(milliers)27 b(d'en)m(tiers)j(\022)-45
b(a)31 b(c)m(haque)g(app)s(el)e(syst)m(\022)-43 b(eme.)70
4154 y(P)m(our)21 b(^)-43 b(etre)25 b(juste,)e(il)f(faudrait)h(donc)d
(\023)-43 b(egalemen)m(t)26 b(fournir)21 b(une)i(comm)m(unication)g
(temp)s(oris)m(\023)-43 b(ee)24 b(sur)e(les)h(canaux)-71
4267 y(en)f(utilisan)m(t)d(le)j(canal)f(seulemen)m(t)h(p)s(our)17
b(\023)-43 b(ec)m(hanger)24 b(un)c(paquet)i(d'en)m(tiers.)f(Le)h
(\014ls)e(p)s(eut)h(accum)m(uler)g(les)g(r)m(\023)-43
b(esultats)-71 4379 y(dans)20 b(une)h(queue)f(qu'il)g(est)h(seul)f
(\022)-45 b(a)21 b(p)s(oss)m(\023)-43 b(eder,)22 b(donc)e(dans)h
(laquelle)e(il)g(p)s(eut)f(\023)-43 b(ecrire)21 b(sans)g(se)g(sync)m
(hroniser.)e(Quand)-71 4492 y(la)32 b(queue)f(est)h(pleine)e(ou)i(sur)f
(demande)g(explicite,)f(il)h(la)g(vide)g(en)g(se)h(sync)m(hronisan)m(t)
f(sur)g(le)g(canal.)h(Le)g(p)m(\022)-43 b(ere)33 b(\022)-45
b(a)-71 4605 y(lui)28 b(m)m(^)-43 b(eme)32 b(sa)f(propre)e(queue)h
(qu'il)f(re\030)-40 b(coit)30 b(en)h(se)f(sync)m(hronisan)m(t)g(et)h
(qu'il)d(vide)i(p)s(etite)g(\022)-45 b(a)31 b(p)s(etit.)70
4719 y(V)-8 b(oici)31 b(une)e(solution)g(\(qui)h(remplace)g(des)g
(lignes)f(2{11)j(ci-dessus\))e(:)193 4852 y Fz(2)83 b
Fv(t)m(yp)s(e)48 b Fu('a)f(buffered)e(=)193 4964 y Fz(3)274
b Fu({)47 b(c)h(:)f('a)g(Queue)o(.t)g(Event)o(.channel)n(;)g
Fv(m)m(utable)g Fu(q)g(:)h('a)f(Queue)n(.t;)g(size)g(:)g(int)g(})193
5077 y Fz(4)83 b Fv(let)53 b Fu(pipe)46 b(\(\))i(=)f
Fv(let)g Fu(c)h(=)f(Event)o(.new_channel)m(\(\))g Fv(in)h
Fu(c)o(,)g(c;;)193 5190 y Fz(5)193 5303 y(6)83 b Fv(let)53
b Fu(size)46 b(=)i(1024;;)193 5416 y Fz(7)83 b Fv(let)53
b Fu(out_channel_of_descr)42 b(chan)47 b(=)193 5529 y
Fz(8)178 b Fu({)48 b(c)f(=)h(chan)o(;)f(q)h(=)f(Queue)o(.)o(create)o
(\(\);)g(size)f(=)i(size)e(};;)p Black Black eop
%%Page: 95 95
95 94 bop Black -71 24 a Fs(6.7.)62 b(COMMUNICA)-8 b(TION)30
b(SYNCHR)m(ONE)g(ENTRE)g(COPR)m(OCESSUS)e(P)-8 b(AR)2911
1 y(\023)2899 24 y(EV)3041 1 y(\023)3029 24 y(ENEMENTS)187
b Fw(95)p Black 193 280 a Fz(9)83 b Fv(let)53 b Fu(in_channel_of_descr)
42 b(=)48 b(out_channel_of_descr)-6 b(;;)157 393 y Fz(10)157
506 y(11)84 b Fv(let)53 b Fu(input_int)45 b(chan)i(=)157
619 y Fz(12)179 b Fv(if)56 b Fu(Queue)n(.length)46 b(chan)o(.q)h(=)h(0)
f Fv(then)h(b)s(egin)157 732 y Fz(13)275 b Fv(let)47
b Fu(q)h(=)f(Event)o(.)o(sync)g(\(Event)n(.receive)f(chan)o(.c)o(\))i
Fv(in)157 845 y Fz(14)275 b Fv(if)48 b Fu(Queue)n(.length)e(q)h(>)h(0)f
Fv(then)h Fu(chan)o(.)o(q)g(<-)f(q)157 958 y Fz(15)275
b Fv(else)48 b(raise)f Fu(End_of_file)157 1071 y Fz(16)179
b Fv(end)p Fu(;)157 1184 y Fz(17)g Fu(Queue)o(.take)46
b(chan)o(.q;;)157 1296 y Fz(18)157 1409 y(19)84 b Fv(let)53
b Fu(flush_out)45 b(chan)i(=)157 1522 y Fz(20)179 b Fv(if)56
b Fu(Queue)n(.length)46 b(chan)o(.q)h(>)h(0)f Fv(then)h
Fu(Event)n(.sync)f(\()o(Event)o(.send)f(chan)o(.c)i(chan)n(.q\);)157
1635 y Fz(21)179 b Fu(chan)o(.q)47 b(<-)h(Queue)n(.create)n(\(\);;)157
1748 y Fz(22)157 1861 y(23)84 b Fv(let)53 b Fu(output_int)45
b(chan)h(x)i(=)157 1974 y Fz(24)179 b Fv(if)56 b Fu(Queue)n(.length)46
b(chan)o(.q)h(=)h(size)e Fv(then)i Fu(flush_out)d(chan)o(;)157
2087 y Fz(25)179 b Fu(Queue)o(.add)47 b(x)g(chan)o(.q)157
2200 y Fz(26)157 2313 y(27)84 b Fv(let)53 b Fu(close_out)45
b(chan)i(=)157 2426 y Fz(28)179 b Fu(flush_out)46 b(chan)o(;)157
2538 y Fz(29)179 b Fu(Event)o(.sync)46 b(\(Event)o(.)o(send)h(chan)o
(.c)g(chan)o(.q\);;)-71 2697 y Fw(Cette)c(v)m(ersion)f(p)s(ermet)f(de)h
(retrouv)m(er)h(une)e(e\016cacit)m(\023)-43 b(e)45 b(comparable)c(\022)
-45 b(a)43 b(la)f(v)m(ersion)f(a)m(v)m(ec)j(tuy)m(au)f(\(mais)e(pas)-71
2810 y(meilleure\).)70 2948 y(Si)21 b(l'on)h(compare)h(a)m(v)m(ec)h(la)
e(v)m(ersion)g(d'origine)f(a)m(v)m(ec)j(pro)s(cessus)d(et)i(tuy)m(aux,)
g(il)d(y)j(a)f(deux)g(sources)g(p)s(oten)m(tielles)-71
3061 y(de)i(gain)g(:)g(d'une)f(part)h(les)g(copro)s(cessus)f(son)m(t)i
(plus)d(sobres)i(et)h(co)s(^)-48 b(uten)m(t)25 b(moins)e(c)m(her)h
(\022)-45 b(a)25 b(leur)d(lancemen)m(t.)j(D'autre)-71
3174 y(part,)30 b(la)f(comm)m(unication)g(par)g(le)g(canal)g(se)h(con)m
(ten)m(te)i(de)d(passer)g(un)f(p)s(oin)m(teur)g(sans)i(recopie.)f(Mais)
h(ces)g(gains)-71 3287 y(ne)g(son)m(t)h(pas)f(p)s(erceptibles)e(ici,)i
(car)g(le)g(nom)m(bre)g(de)g(copro)s(cessus)g(cr)m(\023)-43
b(e)m(\023)g(es)33 b(et)e(les)f(structures)d(\023)-43
b(ec)m(hang)m(\023)g(ees)33 b(ne)d(son)m(t)-71 3400 y(pas)g
(su\016sammen)m(t)g(grands)g(dev)-5 b(an)m(t)31 b(le)f(co)s(^)-48
b(ut)31 b(de)f(l'app)s(el)f(syst)m(\022)-43 b(eme)31
b(et)g(dev)-5 b(an)m(t)31 b(les)f(temps)g(de)h(calcul.)70
3538 y(En)41 b(conclusion,)f(on)i(p)s(eut)f(retenir)f(que)h(la)h(comm)m
(unication)f(en)m(tre)h(copro)s(cessus)f(a)h(un)e(co)s(^)-48
b(ut)43 b(qui)d(p)s(eut)-71 3651 y(aller)29 b(jusqu'\022)-45
b(a)30 b(celui)f(d'un)g(app)s(el)g(syst)m(\022)-43 b(eme)32
b(\(si)e(le)g(pro)s(cessus)f(doit)f(^)-43 b(etre)31 b(susp)s(endu\))d
(et)j(que)g(ce)g(co)s(^)-48 b(ut)31 b(p)s(eut)c(^)-43
b(etre)-71 3764 y(signi\014cativ)m(emen)m(t)34 b(r)m(\023)-43
b(eduit)34 b(en)h(temp)s(orisan)m(t)f(les)g(comm)m(unications)g(p)s
(our)f(comm)m(uniquer)g(moins)h(souv)m(en)m(t)h(de)-71
3877 y(plus)29 b(grosses)h(structures.)p Black -71 4218
a Fv(Exercice)36 b(18)p Black 46 w Fn(Un)23 b(serveur)g(HTTP)f(p)-5
b(eut)22 b(^)-44 b(etr)-5 b(e)24 b(soumis)g(\022)-46
b(a)24 b(une)f(char)-5 b(ge)22 b(\023)-44 b(elev)n(\023)g(ee)23
b(et)g(p)-5 b(ar)25 b(\022)-46 b(a-c)-5 b(oups.)24 b(Pour)f(am)n(\023)
-44 b(elior)-5 b(er)-71 4331 y(le)40 b(temps)g(de)f(r)n(\023)-44
b(ep)-5 b(onse,)41 b(on)f(p)-5 b(eut)40 b(r)-5 b(a\016ner)41
b(l'ar)-5 b(chite)g(ctur)g(e)41 b(d'un)f(serveur)f(HTTP)g(en)g(gar)-5
b(dant)42 b(toujours)e(une)-71 4444 y(dizaine)h(de)g(c)-5
b(opr)g(o)g(c)g(essus)43 b(pr)n(^)-44 b(ets)42 b(\022)-46
b(a)40 b(tr)-5 b(aiter)42 b(de)f(nouvel)5 b(les)40 b(r)-5
b(e)g(qu)n(^)-44 b(etes.)41 b(Cela)g(veut)f(dir)-5 b(e)41
b(qu'un)f(c)-5 b(opr)g(o)g(c)g(essus)43 b(ne)-71 4557
y(tr)-5 b(aite)31 b(plus)e(une)g(seule)g(r)-5 b(e)g(qu)n(^)-44
b(ete,)30 b(mais)g(une)f(suite)g(de)g(p)-5 b(otentiel)5
b(lement)31 b(in\014nie)e(de)h(r)-5 b(e)g(qu)n(^)-44
b(etes)30 b(qu'il)e(lit)i(dans)g(une)-71 4670 y(\014le)j(d'attente.)70
4808 y(Pour)c(\023)-44 b(eviter)31 b(l')n(\023)-44 b(ecr)-5
b(oulement)32 b(de)e(la)i(machine,)f(on)g(p)-5 b(eut)32
b(limiter)f(le)g(nombr)-5 b(e)32 b(de)f(c)-5 b(opr)g(o)g(c)g(essus)33
b(\022)-46 b(a)31 b(une)g(valeur)-71 4921 y(r)-5 b(aisonnable)28
b(au)e(del\022)-46 b(a)27 b(laquel)5 b(le)26 b(le)g(c)-5
b(o)q(^)-48 b(ut)27 b(de)g(la)f(gestion)g(des)h(t^)-46
b(aches)27 b(d)n(\023)-44 b(ep)-5 b(asse)27 b(la)g(latenc)-5
b(e)26 b(du)g(servic)-5 b(e)26 b(des)h(r)-5 b(e)g(qu)n(^)-44
b(etes)-71 5034 y(\(temps)47 b(p)-5 b(ass)n(\023)-44
b(es)48 b(\022)-46 b(a)46 b(attendr)-5 b(e)47 b(des)g(donn)n(\023)-44
b(ees)46 b(sur)g(le)g(disque,)g Fw(etc.)p Fn(\).)h(A)n(u)e(del\022)-46
b(a,)47 b(on)f(p)-5 b(ourr)g(a)48 b(gar)-5 b(der)48 b(quelques)-71
5147 y(c)-5 b(onnexions)46 b(en)e(attente)h(d')n(^)-44
b(etr)-5 b(e)45 b(tr)-5 b(ait)n(\023)-44 b(ees,)46 b(puis)e
(\014nalement)i(r)-5 b(efuser)45 b(les)f(c)-5 b(onnexions.)46
b(L)-5 b(orsque)45 b(la)g(char)-5 b(ge)-71 5260 y(diminue)45
b(et)f(que)f(le)i(nombr)-5 b(e)45 b(de)g(c)-5 b(opr)g(o)g(c)g(essus)47
b(est)d(au-del\022)-46 b(a)45 b(de)g(la)g(valeur)f(\\id)n(\023)-44
b(eale",)45 b(c)-5 b(ertains)45 b(se)f(laissent)-71 5373
y(mourir,)34 b(les)e(autr)-5 b(es)34 b(se)f(r)-5 b(estent)33
b(pr)n(^)-44 b(ets)34 b(p)-5 b(our)34 b(les)e(pr)-5 b(o)g(chaines)36
b(r)-5 b(e)g(qu)n(^)-44 b(etes.)70 5511 y(T)-7 b(r)i(ansformer)35
b(l'exemple)f(6.5)f(p)-5 b(our)34 b(arriver)g(\022)-46
b(a)33 b(c)-5 b(ette)32 b(ar)-5 b(chite)g(ctur)g(e.)p
3783 5462 47 4 v 3783 5508 4 47 v 3826 5508 V 3783 5511
47 4 v Black Black eop
%%Page: 96 96
96 95 bop Black -71 24 a Fw(96)2277 b Fs(CHAPITRE)30
b(6.)61 b(LES)30 b(COPR)m(OCESSUS)p Black -71 280 a Fq(6.8)135
b(Quelques)46 b(d)m(\023)-64 b(etails)46 b(d'impl)m(\023)-64
b(emen)l(tation)-71 489 y Fv(Impl)n(\023)-50 b(emen)m(tation)46
b(des)i(copro)s(cessus)j(en)d(Unix)91 b Fw(Le)42 b(syst)m(\022)-43
b(eme)44 b(Unix)d(n'a)h(pas)d(\023)-43 b(et)m(\023)g(e)44
b(con\030)-40 b(cu)42 b(au)g(d)m(\023)-43 b(epart)-71
602 y(p)s(our)28 b(fournir)g(du)g(supp)s(ort)g(p)s(our)h(les)g(copro)s
(cessus.)g(T)-8 b(outefois,)30 b(la)g(plupart)e(des)h(impl)m(\023)-43
b(emen)m(tations)29 b(mo)s(dernes)-71 715 y(d'Unix)34
b(o\013ren)m(t)i(main)m(tenan)m(t)g(un)f(tel)g(supp)s(ort.)f(Malgr)m
(\023)-43 b(e)37 b(tout,)f(les)f(copro)s(cessus)h(reste)g(une)e(pi)m
(\022)-43 b(ece)37 b(rapp)s(ort)m(\023)-43 b(es)-71 827
y(qui)30 b(est)h(parfois)f(apparen)m(te.)i(P)m(ar)g(exemple,)f(d)m
(\022)-43 b(es)31 b(l'utilisation)d(de)j(copro)s(cessus)g(il)f(est)h
(fortemen)m(t)h(d)m(\023)-43 b(econseill)m(\023)g(e)-71
940 y(d'utiliser)24 b Fu(fork)h Fw(autremen)m(t)j(que)e(p)s(our)f
(faire)h(exec)i(imm)m(\023)-43 b(ediatemen)m(t)27 b(apr)m(\022)-43
b(es.)27 b(En)f(e\013et,)i(fork)e(fait)h(une)f(copie)g(du)-71
1053 y(copro)s(cessus)i(couran)m(t)h(qui)e(devien)m(t)h(un)f(pro)s
(cessus)g(estropi)m(\023)-43 b(e)29 b(s'ex)m(\023)-43
b(ecutan)m(t)31 b(en)c(cro)m(y)m(an)m(t)k(a)m(v)m(oir)d(des)g(copro)s
(cessus)-71 1166 y(qui)43 b(n'existe)g(pas.)h(Le)g(p)m(\022)-43
b(ere)45 b(lui)d(con)m(tin)m(ue)i(\022)-45 b(a)44 b(s'ex)m(\023)-43
b(ecuter)46 b(a)e(priori)d(normalemen)m(t.)j(Le)g(cas)h(particulier)c
(de)-71 1279 y(fork)f(o)s(\022)-48 b(u)40 b(le)g(\014ls)f(lance)i(imm)m
(\023)-43 b(ediatemen)m(t)41 b(un)e(autre)i(programme)f(ne)g(p)s(ose)g
(quan)m(t)h(\022)-45 b(a)40 b(lui)f(pas)h(de)g(probl)m(\022)-43
b(eme.)-71 1392 y(Heureusemen)m(t)16 b(!)30 b(car)h(c'est)h(le)e(seul)f
(mo)m(y)m(en)i(de)f(lancers)g(d'autres)g(programmes.)70
1508 y(In)m(v)m(ersemen)m(t,)36 b(on)e(p)s(eut)f(faire)h
Fu(fork)f Fw(\(non)h(suivi)e(de)i Fu(exec)p Fw(\))g(puis)e(lancer)i
(ensuite)f(plusieurs)e(copro)s(cessus)-71 1621 y(dans)f(le)g(\014ls)f
(et)i(le)f(p)m(\022)-43 b(ere,)31 b(sans)f(aucun)g(probl)m(\022)-43
b(eme.)-71 1877 y Fv(Impl)n(\023)-50 b(emen)m(tation)39
b(nativ)m(e)i(et)g(impl)n(\023)-50 b(emen)m(tation)40
b(sim)m(ul)n(\023)-50 b(ee)40 b(en)i(OCaml)89 b Fw(Lorsque)35
b(le)h(syst)m(\022)-43 b(eme)38 b(d'ex-)-71 1990 y(ploitation)27
b(sous-jacen)m(t)i(p)s(oss)m(\022)-43 b(ede)28 b(des)f(copro)s(cessus,)
h(OCaml)e(p)s(eut)h(fournir)e(une)i(impl)m(\023)-43 b(ementation)27
b(nativ)m(e)h(des)-71 2103 y(copro)s(cessus,)f(en)f(laissan)m(t)g(le)h
(plus)d(p)s(ossible)g(leur)i(gestion)h(au)f(syst)m(\022)-43
b(eme)28 b(d'exploitation.)e(Chaque)g(copro)s(cessus)-71
2216 y(r)m(\023)-43 b(eside)30 b(alors)g(dans)g(un)f(pro)s(cessus)h
(Unix)f(di\013)m(\023)-43 b(eren)m(t)31 b(mais)e(partagean)m(t)k(le)d
(m)m(^)-43 b(eme)31 b(espace)h(m)m(\023)-43 b(emoire.)70
2331 y(Lorsque)24 b(le)g(syst)m(\022)-43 b(eme)26 b(ne)e(fournit)f(pas)
h(de)g(supp)s(ort)f(p)s(our)g(les)g(copro)s(cessus,)i(OCaml)e(p)s(eut)h
(les)d(\023)-43 b(em)m(uler.)24 b(T)-8 b(ous)-71 2444
y(les)26 b(copro)s(cessus)g(s'ex)m(\023)-43 b(ecuten)m(t)29
b(alors)d(dans)g(le)g(m)m(^)-43 b(eme)28 b(pro)s(cessus)d(Unix)g(et)i
(leur)e(gestion)i(y)f(compris)f(leur)g(ordon-)-71 2557
y(nancemen)m(t)g(est)g(e\013ectu)m(\023)-43 b(ee)27 b(par)d(l'en)m
(vironnemen)m(t)g(d'ex)m(\023)-43 b(ecution)25 b(d'OCaml.)e(T)-8
b(outefois,)25 b(cette)h(impl)m(\023)-43 b(emen)m(tation)-71
2670 y(n'est)31 b(disp)s(onible)26 b(qu'a)m(v)m(ec)32
b(la)e(compilation)f(v)m(ers)i(du)e(b)m(yteco)s(de.)70
2786 y(Le)21 b(syst)m(\022)-43 b(eme)22 b(OCaml)d(o\013re)i(une)f(m)m
(^)-43 b(eme)22 b(in)m(terface)f(programmatique)f(p)s(our)f(les)g(v)m
(ersions)h(nativ)m(es)h(et)e(\023)-43 b(em)m(ul)m(\023)g(ees)-71
2899 y(des)23 b(copro)s(cessus.)g(L'impl)m(\023)-43 b(emen)m(tation)22
b(des)h(copro)s(cessus)g(est)g(donc)g(d)m(\023)-43 b(edoubl)m(\023)g
(ee.)24 b(Une)f(impl)m(\023)-43 b(emen)m(tation)23 b(p)s(our)e(la)-71
3012 y(v)m(ersion)26 b(\023)-43 b(em)m(ul)m(\023)g(ee)31
b(qui)d(comp)s(orte)i(son)f(propre)f(con)m(tr^)-45 b(oleur)30
b(de)f(t^)-45 b(ac)m(he)31 b(et)f(une)e(autre)i(impl)m(\023)-43
b(emen)m(tation)29 b(qui)f(s'ap-)-71 3125 y(puie)g(sur)h(les)g(copro)s
(cessus)g(POSIX)g(\(1003.1c\))k(et)d(rel)m(\022)-43 b(ev)m(e)31
b(les)e(fonctions)g(des)h(biblioth)m(\022)-43 b(eques)27
b(corresp)s(ondan)m(tes)-71 3237 y(au)c(niv)m(eau)f(du)f(langage)j
(OCaml.)e(Au)g(passage,)i(le)e(langage)i(OCaml)d(e\013ectue)j(quelque)e
(tac)m(hes)i(administrativ)m(es)-71 3350 y(simples)34
b(et)j(assure)e(une)g(in)m(terface)i(iden)m(tique)e(a)m(v)m(ec)j(la)d
(v)m(ersion)e(\023)-43 b(em)m(ul)m(\023)g(ee.)38 b(Cela)e(garan)m(tit)g
(qu'un)f(programme)-71 3463 y(compilable)23 b(sur)h(une)g(arc)m
(hitecture)h(Unix)f(reste)h(compilable)e(sur)g(une)h(autre)h(arc)m
(hitecture)h(Unix.)d(T)-8 b(outefois,)25 b(le)-71 3576
y(fait)f(que)f(les)h(pro)s(cessus)e(soien)m(t)g(\023)-43
b(em)m(ul)m(\023)g(es)25 b(ou)f(natifs)f(p)s(eut)g(c)m(hanger)h(la)g
(sync)m(hronisation)e(des)h(app)s(els)g(\022)-45 b(a)24
b(des)g(librai-)-71 3689 y(ries)32 b(C,)g(et)h(ainsi)d(c)m(hanger,)k
(malgr)m(\023)-43 b(e)33 b(tout,)g(la)f(s)m(\023)-43
b(eman)m(tique)34 b(du)d(programme.)h(Il)g(faut)g(donc)g(prendre)f
(quelques)-71 3802 y(pr)m(\023)-43 b(ecautions)33 b(a)m(v)-5
b(an)m(t)35 b(de)d(consid)m(\023)-43 b(erer)33 b(qu'un)f(programme)g
(se)h(comp)s(ortera)h(de)e(la)h(m)m(^)-43 b(eme)34 b(fa\030)-40
b(con)33 b(dans)f(les)h(deux)-71 3915 y(v)m(ersions.)39
b(Dans)h(ce)g(c)m(hapitre,)g(le)f(discours)f(v)-5 b(aut)39
b(principalemen)m(t)e(p)s(our)h(les)h(deux)g(implan)m(tations,)f(mais)h
(\022)-45 b(a)-71 4028 y(d)m(\023)i(efaut,)32 b(nous)d(prenons)g(le)h
(p)s(oin)m(t)g(de)g(vue)g(d'une)g(implan)m(tation)f(nativ)m(e.)-71
4284 y Fv(S)n(\023)-50 b(equen)m(tialisation)49 b(du)g(co)s(de)g(OCaml)
89 b Fw(L'impl)m(\023)-43 b(emen)m(tation)42 b(des)g(copro)s(cessus)g
(en)h(OCaml)e(doit)h(faire)-71 4397 y(face)37 b(\022)-45
b(a)35 b(une)g(des)g(particularit)m(\023)-43 b(es)35
b(du)f(langage)j(OCaml)d(qui)g(est)i(la)f(gestion)h(automatique)g(de)f
(la)g(m)m(\023)-43 b(emoire)36 b(et)-71 4510 y(sa)j(consommation)g(imp)
s(ortan)m(te)f(de)h(donn)m(\023)-43 b(ees)39 b(allou)m(\023)-43
b(ees.)39 b(La)g(solution)f(reten)m(ue,)h(qui)e(est)j(la)e(plus)f
(simple)f(et)-71 4623 y(aussi)g(g)m(\023)-43 b(en)m(\023)g(eralemen)m
(t)40 b(la)d(plus)e(e\016cace,)k(est)f(de)f(s)m(\023)-43
b(eqen)m(tialiser)37 b(l'ex)m(\023)-43 b(ecution)38 b(du)e(co)s(de)h
(OCaml)f(dans)g(tous)i(les)-71 4736 y(copro)s(cessus)e(:)g(un)e(v)m
(errou)i(de)g(l'en)m(vironnemen)m(t)f(d'ex)m(\023)-43
b(ecution)36 b(emp)m(^)-43 b(ec)m(he)38 b(deux)d(copro)s(cessus)h(d'ex)
m(\023)-43 b(ecuter)37 b(du)-71 4849 y(co)s(de)31 b(OCaml)f(sim)m
(ultan)m(\023)-43 b(emen)m(t.)31 b(Cela)g(sem)m(ble)f(con)m(traire)h
(\022)-45 b(a)31 b(l'id)m(\023)-43 b(ee)31 b(m)m(^)-43
b(eme)32 b(des)f(copro)s(cessus,)g(mais)f(il)f(n'en)i(est)-71
4962 y(rien.)22 b(Car)g(le)g(v)m(errou)h(est)e(\023)-43
b(evidemmen)m(t)23 b(est)g(rel^)-45 b(ac)m(h)m(\023)i(e)24
b(a)m(v)-5 b(an)m(t)24 b(les)e(app)s(els)f(syst)m(\022)-43
b(emes,)25 b(qui)c(p)s(euv)m(en)m(t)f(^)-43 b(etre)24
b(blo)s(quan)m(ts,)-71 5075 y(et)37 b(repris)e(au)i(retour.)g(D'autres)
g(copro)s(cessus)g(p)s(euv)m(en)m(t)f(donc)h(prendre)e(la)h(main)g
(\022)-45 b(a)37 b(ce)g(momen)m(t)h(l\022)-45 b(a.)36
b(Un)g(cas)-71 5187 y(particulier)e(d'app)s(el)h(syst)m(\022)-43
b(eme)36 b(\023)-43 b(etan)m(t)39 b(l'app)s(el)c(\022)-45
b(a)37 b Fu(sched_yield)c Fw(e\013ectu)m(\023)-43 b(e)39
b(\022)-45 b(a)37 b(in)m(terv)-5 b(alles)36 b(de)g(temps)h(r)m(\023)-43
b(eguliers)-71 5300 y(p)s(our)29 b(p)s(ermettre)h(de)g(susp)s(endre)e
(le)i(copro)s(cessus)h(en)f(cours)g(d'ex)m(\023)-43 b(ecution)31
b(et)g(de)f(donner)g(la)g(main)f(\022)-45 b(a)31 b(d'autres.)70
5416 y(Sur)k(une)h(mac)m(hine)g(m)m(ultipro)s(cesseur,)f(la)h(seule)f
(source)i(de)f(vrai)g(parall)m(\023)-43 b(elisme)35 b(pro)m(vien)m(t)h
(de)g(l'ex)m(\023)-43 b(ecution)-71 5529 y(du)26 b(co)s(de)i(C)e(et)i
(des)f(app)s(els)f(syst)m(\022)-43 b(emes.)29 b(Sur)c(une)i(mac)m(hine)
g(monopro)s(cesseur,)f(le)h(fait)g(que)g(le)g(co)s(de)g(OCaml)f(soit)p
Black Black eop
%%Page: 97 97
97 96 bop Black -71 24 a Fs(6.8.)62 b(QUELQUES)29 b(D)751
1 y(\023)739 24 y(ET)-8 b(AILS)30 b(D'IMPL)1439 1 y(\023)1427
24 y(EMENT)-8 b(A)g(TION)1680 b Fw(97)p Black -71 280
a(s)m(\023)-43 b(equen)m(tialis)m(\023)g(e)31 b(n'est)g(pas)f(vraimen)m
(t)g(p)s(erceptible.)70 393 y(Le)k(programmeur)e(ne)h(p)s(eut)g(pas)g
(p)s(our)f(autan)m(t)i(s'appuy)m(er)f(sur)f(cette)j(s)m(\023)-43
b(equen)m(tialisation,)33 b(car)h(un)e(copro-)-71 506
y(cessus)42 b(p)s(eut)f(donner)f(la)h(main)g(\022)-45
b(a)42 b(un)f(autre)h(\022)-45 b(a)42 b(p)s(eu)e(pr)m(\022)-43
b(es)42 b(\022)-45 b(a)42 b(n'imp)s(orte)f(quel)f(momen)m(t.)3171
483 y(\022)3160 506 y(A)i(une)f(exception)-71 619 y(pr)m(\022)-43
b(es,)37 b(la)g(s)m(\023)-43 b(equen)m(tialisation)36
b(garan)m(tit)i(la)e(coh)m(\023)-43 b(erence)39 b(de)d(la)h(m)m(\023)
-43 b(emoire)37 b(:)g(deux)f(copro)s(cessus)h(on)m(t)g(toujours)f(la)
-71 732 y(m)m(^)-43 b(eme)32 b(vision)d(de)i(la)f(m)m(\023)-43
b(emoire,)32 b(sauf,)e(p)s(eut-)m(^)-43 b(etre)32 b(lorsqu'ils)c(ex)m
(\023)-43 b(ecuten)m(t)34 b(du)29 b(co)s(de)i(C.)g(En)f(e\013et,)i(le)e
(passage)i(du)-71 845 y(v)m(errou)38 b(implique)d(une)i(sync)m
(hronisation)f(de)i(la)g(m)m(\023)-43 b(emoire)38 b(:)g(une)g(lecture)f
(\022)-45 b(a)39 b(une)e(adresse)h(e\013ectu)m(\023)-43
b(ee)41 b(par)c(un)-71 958 y(copro)s(cessus)30 b(qui)f(se)h(situe)f
(dans)g(le)h(temps)g(apr)m(\022)-43 b(es)31 b(une)e(op)m(\023)-43
b(eration)31 b(d')m(\023)-43 b(ecriture)30 b(\022)-45
b(a)30 b(cette)i(m)m(^)-43 b(eme)32 b(adresse)e(par)f(un)-71
1071 y(autre)j(copro)s(cessus)g(retournera)g(toujours)f(la)h(v)-5
b(aleur)30 b(fra)-10 b(^)-35 b(\020c)m(hemen)m(t)30 b(\023)-43
b(ecrite,)33 b(sans)f(b)s(esoin)e(de)i(sync)m(hronisation)-71
1184 y(suppl)m(\023)-43 b(emen)m(taire.)p Black Black
eop
%%Page: 98 98
98 97 bop Black -71 24 a Fw(98)2277 b Fs(CHAPITRE)30
b(6.)61 b(LES)30 b(COPR)m(OCESSUS)p Black Black Black
eop
%%Page: 99 99
99 98 bop Black Black -71 944 a FB(P)-6 b(our)77 b(aller)g(plus)f(loin)
70 1389 y Fw(Nous)37 b(a)m(v)m(ons)h(mon)m(tr)m(\023)-43
b(e)38 b(commen)m(t)g(utiliser)c(les)j(librairies)c Fu(Sys)p
Fw(,)j Fu(Unix)p Fw(,)g(et)i Fu(Threads)d Fw(d'OCaml)g(p)s(our)g(pro-)
-71 1502 y(grammer)30 b(des)h(applications)d(qui)h(in)m(teragissen)m(t)
i(a)m(v)m(ec)h(le)e(syst)m(\022)-43 b(eme)32 b(d'exploitation.)70
1615 y(Ces)22 b(librairies)d(rel)m(\022)-43 b(ev)m(en)m(t)24
b(les)e(app)s(els)f(syst)m(\022)-43 b(emes)23 b(Unix)e(les)h(plus)e
(imp)s(ortan)m(ts)i(au)g(niv)m(eau)g(du)f(langage)i(OCaml.)-71
1728 y(Au)37 b(passage,)h(certains)e(de)h(ces)g(app)s(els)f(syst)m
(\022)-43 b(eme)38 b(on)m(t)d(\023)-43 b(et)m(\023)g(e)39
b(remplac)m(\023)-43 b(es)38 b(par)e(des)h(fonctions)f(de)h(plus)d
(haut)j(ni-)-71 1841 y(v)m(eau,)e(soit)g(p)s(our)d(faciliter)i(la)f
(programmation,)i(soit)f(p)s(our)f(main)m(tenir)f(des)i(in)m(v)-5
b(arian)m(ts)34 b(de)g(l'en)m(vironnemen)m(t)-71 1954
y(d'ex)m(\023)-43 b(ecution)35 b(des)f(programmes)g(OCaml.)f(En)h(g)m
(\023)-43 b(en)m(\023)g(eral,)36 b(cela)f(conduit)e(\022)-45
b(a)35 b(une)c(\023)-43 b(economie)35 b(dans)e(l')m(\023)-43
b(ecriture)34 b(des)-71 2067 y(applications.)70 2180
y(Certaines)i(fonctionalit)m(\023)-43 b(es)36 b(du)f(syst)m(\022)-43
b(eme)37 b(Unix)e(ne)h(son)m(t)h(pas)f(accessibles)f(au)h(tra)m(v)m
(ers)h(des)f(biblioth)m(\022)-43 b(eques)-71 2293 y(pr)m(\023)g(ec)m
(\023)g(eden)m(tes,)34 b(mais)29 b(il)g(est)i(toujours)f(p)s(ossible)e
(d'y)i(acc)m(\023)-43 b(eder)32 b(directemen)m(t)f(via)f(du)f(co)s(de)i
(C.)70 2406 y(Il)c(existe)h(aussi)f(une)g(biblioth)m(\022)-43
b(eque)26 b Fu(Cash)g Fw(d)m(\023)-43 b(edi)m(\023)g(ee)30
b(\022)-45 b(a)28 b(l')m(\023)-43 b(ecriture)28 b(de)f(scripts)g(en)g
(Ocaml.)h(Cette)h(biblioth)m(\022)-43 b(eque)-71 2519
y(compl)m(\022)g(ete)25 b(la)f(biblioth)m(\022)-43 b(eque)22
b Fu(Unix)g Fw(dans)h(deux)g(dirrections)f(di\013)m(\023)-43
b(eren)m(tes.)25 b(D'une)e(part,)h(elle)f(p)s(eut)g(se)h(v)m(oir)f
(comme)-71 2631 y(une)30 b(couc)m(he)h(au)f(dessus)f(du)g(mo)s(dule)f
Fu(Unix)h Fw(qui)g(o\013re)h(en)g(plus)e(de)i(fonctions)f(d)m(\023)-43
b(edi)m(\023)g(ees)32 b(\022)-45 b(a)30 b(l')m(\023)-43
b(ecriture)30 b(de)g(scripts,)-71 2744 y(de)k(nom)m(breuses)f(v)-5
b(ariations)33 b(autour)h(des)f(app)s(els)g(syst)m(\022)-43
b(emes)35 b(d')p Fu(Unix)p Fw(,)e(en)g(particulier)f(en)i(ce)g(qui)f
(concerne)h(la)-71 2857 y(gestion)h(des)f(pro)s(cessus)g(et)i(des)e
(tuy)m(aux.)h(D'autre)h(part,)f(elle)f(fournit)f(quelques)g(acc)m(\022)
-43 b(es)37 b(suppl)m(\023)-43 b(emen)m(taires)34 b(au)-71
2970 y(syst)m(\022)-43 b(eme)32 b(Unix.)p Black 1834
5757 a(99)p Black eop
%%Page: 100 100
100 99 bop Black -71 24 a Fw(100)2232 b Fs(CHAPITRE)30
b(6.)61 b(LES)30 b(COPR)m(OCESSUS)p Black Black Black
eop
%%Page: 101 101
101 100 bop Black Black -71 944 a FB(Bibliographie)p
Black -71 1389 a Fv(Ob)6 b(jectiv)m(e)35 b(Caml)p Black
Black -71 1524 a Fw([1])p Black 47 w(Xa)m(vier)i(Lero)m(y)-8
b(,)38 b(Mic)m(hel)f(Maun)m(y)-8 b(.)38 b Fn(The)h(Caml)g(Light)g
(system,)h(r)-5 b(ele)g(ase)40 b(0.5.)f(Do)-5 b(cumentation)40
b(and)g(user's)71 1637 y(manual.)31 b Fw(Logiciel)f(L-5,)h(distribu)m
(\023)-43 b(e)28 b(par)i(l'INRIA.)p Black -71 1771 a([2])p
Black 47 w(Xa)m(vier)21 b(Lero)m(y)-8 b(,)23 b(Didier)c(R)m(\023)-43
b(em)m(y)-8 b(,)23 b(Jacques)f(Garrigue,)f(J)m(\023)-43
b(er^)e(ome)22 b(V)-8 b(ouillon)20 b(et)i(Damien)f(Doligez.)h
Fn(The)i(Obje)-5 b(ctive)71 1884 y(Caml)32 b(system,)h(do)-5
b(cumentation)34 b(and)e(user's)g(manual)h({)f(r)-5 b(ele)g(ase)33
b(3.06.)e Fw(Do)s(cumen)m(tation)f(distribu)m(\023)-43
b(ee)28 b(a)m(v)m(ec)71 1997 y(le)g(syst)m(\022)-43 b(eme)31
b(Ob)5 b(jectiv)m(e)29 b(Caml)f(par)h(l'INRIA,)g(ao)s(^)-48
b(ut)29 b(2002.)i Fu(http://caml.inria.fr/ocaml)o(/htm)o(lma)o(n/)p
Fw(.)p Black -71 2132 a([3])p Black 47 w(Bruno)e(V)-8
b(erlyc)m(k.)31 b Fn(Cash,)i(the)g(Caml)g(Shel)5 b(l)33
b({)g(r)-5 b(ele)g(ase)34 b(0.20)p Fw(.)d(Do)s(cumen)m(tation)g
(distribu)m(\023)-43 b(ee)29 b(a)m(v)m(ec)j(le)e(syst)m(\022)-43
b(eme)71 2244 y(Cash)29 b(par)h(l'INRIA,)g(2002.)j Fu
(http://pauillac.inria.f)o(r/c)o(ash/)o Fw(.)p Black
-71 2379 a Fv(Programmation)h(du)h(syst)n(\022)-50 b(eme)34
b(Unix)p Black Black -71 2513 a Fw([4])p Black 47 w(Le)c(man)m(uel)g
(Unix,)f(sections)i(2)f(et)h(3.)p Black -71 2648 a([5])p
Black 47 w(Brian)e(Kernighan,)g(Rob)h(Pik)m(e.)g Fn(The)i(Unix)h(pr)-5
b(o)g(gr)g(amming)35 b(envir)-5 b(onment)p Fw(,)32 b(Addison-W)-8
b(esley)g(.)30 b(T)-8 b(raduction)71 2761 y(fran\030)-40
b(caise)30 b(:)g Fn(L'envir)-5 b(onnement)34 b(de)f(la)g(pr)-5
b(o)g(gr)g(ammation)37 b(Unix)p Fw(,)30 b(In)m(ter)m(\023)-43
b(editions.)p Black -71 2895 a([6])p Black 47 w(Jean-Marie)30
b(Ri\017et.)h Fn(L)-5 b(a)33 b(pr)-5 b(o)g(gr)g(ammation)37
b(sous)c(Unix)p Fw(.)e(McGra)m(w-Hill.)p Black -71 3030
a([7])p Black 47 w(Jean-Marie)f(Ri\017et.)h Fn(L)-5 b(a)33
b(c)-5 b(ommunic)g(ation)35 b(sous)e(Unix)p Fw(.)d(McGra)m(w-Hill.)p
Black -71 3164 a Fv(Arc)m(hitecture)36 b(du)f(no)m(y)m(au)g(Unix)p
Black Black -71 3299 a Fw([8])p Black 47 w(Sam)m(uel)c(Le\017er,)h
(Marshall)e(McKusic)m(k,)i(Mic)m(hael)g(Karels,)f(John)g(Quarterman.)g
Fn(The)j(design)g(and)h(imple-)71 3411 y(mentation)f(of)f(the)g(4.3)g
(BSD)f(Unix)g(op)-5 b(er)g(ating)35 b(system)p Fw(,)d(Addison-W)-8
b(esley)g(.)p Black -71 3546 a([9])p Black 47 w(Maurice)30
b(Bac)m(h.)i Fn(The)g(design)h(and)h(implementation)h(of)e(the)g(Unix)f
(op)-5 b(er)g(ating)35 b(system)p Fw(,)c(Pren)m(tice-Hall.)p
Black -71 3680 a([Ste92])p Black 47 w(Ric)m(hard)g(W.)i(Stev)m(ens.)46
b Fn(A)-5 b(dvanc)g(e)g(d)36 b(Pr)-5 b(o)g(gr)g(amming)37
b(in)d(the)h(Unix)e(Envir)-5 b(onment)p Fw(.)47 b(Addisson-W)-8
b(esley)g(,)71 3793 y(1992.)p Black -71 3928 a Fv(Culture)34
b(g)n(\023)-50 b(en)n(\023)g(erale)35 b(sur)g(les)g(syst)n(\022)-50
b(emes)p Black Black -71 4062 a Fw([10])p Black 47 w(Andrew)21
b(T)-8 b(anen)m(baum.)21 b Fn(Op)-5 b(er)g(ating)26 b(systems,)g
(design)e(and)i(implementation)p Fw(,)e(Pren)m(tice-Hall.)e(T)-8
b(raduction)71 4175 y(fran\030)-40 b(caise)30 b(:)g Fn(L)-5
b(es)33 b(syst)n(\022)-44 b(emes)33 b(d'exploitation)j(:)c(c)-5
b(onc)g(eption)34 b(et)f(mise)g(en)f(\033uvr)-5 b(e)p
Fw(,)31 b(In)m(ter)m(\023)-43 b(editions.)p Black -71
4309 a([11])p Black 47 w(Andrew)29 b(T)-8 b(anen)m(baum.)31
b Fn(Computer)j(Networks)p Fw(,)d(Pren)m(tice-Hall.)f(T)-8
b(raduction)30 b(fran\030)-40 b(caise)30 b(:)h Fn(R)n(\023)-44
b(ese)-5 b(aux)33 b(:)g(ar-)71 4422 y(chite)-5 b(ctur)g(es,)33
b(pr)-5 b(oto)g(c)g(oles,)36 b(applic)-5 b(ations)p Fw(,)33
b(In)m(ter)m(\023)-43 b(editions.)p Black -71 4557 a
Fv(T)m(ypage)35 b(des)g(comm)m(unications)g(d'ob)6 b(jets)35
b(structur)n(\023)-50 b(es)p Black Black -71 4691 a Fw([12])p
Black 47 w(Xa)m(vier)23 b(Lero)m(y)-8 b(,)23 b(Mic)m(hel)f(Maun)m(y)-8
b(.)23 b Fn(Dynamics)j(in)f(ML)p Fw(.)d(Actes)h(de)f(FPCA)g(91,)i(LNCS)
d(523,)j(Springer-V)-8 b(erlag.)p Black -71 4826 a([13])p
Black 47 w(John)29 b(H.)i(Repp)m(y)-8 b(.)31 b Fn(Concurr)-5
b(ent)34 b(Pr)-5 b(o)g(gr)g(amming)35 b(in)e(ML)p Fw(.)d(Cam)m(bridge)f
(Univ)m(ersit)m(y)h(Press,)g(1999.)p Black -71 4960 a
Fv(Programmation)k(a)m(v)m(ec)h(copro)s(cessus)p Black
Black -71 5095 a Fw([14])p Black 47 w(Da)m(vid)30 b(R.)h(Butenhof.)f
Fn(Pr)-5 b(o)g(gr)g(amming)36 b(with)d(POSIX)f(Thr)-5
b(e)g(ads)p Fw(.)33 b(Addison-W)-8 b(esley)g(,)30 b(1997.)p
Black -71 5229 a Fv(Applications)p Black Black -71 5364
a Fw([15])p Black 47 w(Pierce)37 b(et)i(al.)e Fn(Unison)j(File)f
(Synchr)-5 b(onizer.)41 b(V)-7 b(ersion)40 b(2.9.1.)g(User)f(Manual)h
(and)g(R)-5 b(efer)g(enc)g(e)p Fw(.)39 b(Logiciel)71
5476 y(libre,)28 b(disp)s(onible,)f(\022)-45 b(a)30 b(l'URL)g
Fu(http://www.cis.upenn.edu/)o(~bcp)o(ier)o(ce/u)o(niso)o(n/)p
Fw(.)p Black 1811 5757 a(101)p Black eop
%%Page: 102 102
102 101 bop Black -71 24 a Fw(102)3012 b Fs(BIBLIOGRAPHIE)p
Black Black Black eop
%%Page: 103 103
103 102 bop Black Black -71 904 a Fr(Annexe)65 b(A)-71
1319 y FB(Corrig)-5 b(\023)-111 b(e)77 b(des)g(exercices)-71
1900 y Fg(Exercice)36 b(1,)i(page)g(19)70 2073 y Fw(Si)29
b(l'option)h Fu(-a)f Fw(est)i(fournie,)e(il)g(faut)i(faire)693
2205 y Fu(openfile)45 b(output_name)g([O_WRONLY)n(;)i(O_CREAT)n(;)h
(O_APPEND)m(])g(0o666)-71 2338 y Fw(\022)-45 b(a)31 b(la)f(place)g(de)
693 2471 y Fu(openfile)45 b(output_name)g([O_WRONLY)n(;)i(O_CREAT)n(;)h
(O_TRUNC)n(])f(0o666)-71 2604 y Fw(Le)31 b(parsing)e(de)h(l'option)f
(est)i(laiss)m(\023)-43 b(e)30 b(au)h(lecteur.)-71 2852
y Fg(Exercice)36 b(2,)i(page)g(23)70 3025 y Fw(L'id)m(\023)-43
b(ee)37 b(est)h(de)e(recopier)g(la)g(c)m(ha)-10 b(^)-35
b(\020ne)37 b(\022)-45 b(a)37 b(sortir)e(dans)h(le)g(tamp)s(on.)h(Il)e
(faut)i(tenir)f(compte)h(du)f(cas)h(o)s(\022)-48 b(u)36
b(il)f(ne)-71 3138 y(reste)d(pas)f(assez)h(de)e(place)h(dans)g(le)f
(tamp)s(on)h(\(auquel)f(cas)i(il)e(faut)h(vider)e(le)i(tamp)s(on\),)g
(et)h(aussi)e(du)g(cas)h(o)s(\022)-48 b(u)31 b(la)-71
3251 y(c)m(ha)-10 b(^)-35 b(\020ne)28 b(est)h(plus)e(longue)h(que)g(le)
g(tamp)s(on)g(\(auquel)f(cas)i(il)e(faut)i(l')m(\023)-43
b(ecrire)28 b(directemen)m(t\).)h(V)-8 b(oici)29 b(une)e(p)s(ossibilit)
m(\023)-43 b(e.)311 3384 y Fv(let)53 b Fu(output_string)44
b(chan)j(s)g(=)406 3497 y Fv(let)h Fu(avail)e(=)i(String)n(.length)e
(chan)o(.)o(out_buffer)f(-)j(chan)o(.)o(out_pos)e Fv(in)406
3610 y(if)56 b Fu(String)n(.length)46 b(s)h(<=)h(avail)e
Fv(then)h(b)s(egin)502 3722 y Fu(String)n(.blit)g(s)g(0)g(chan)o
(.out_buffer)e(chan)o(.out_pos)h(\()o(String)o(.)o(length)g(s\);)502
3835 y(chan)o(.)o(out_pos)g(<-)h(chan)o(.out_pos)f(+)h(String)o(.)o
(length)g(s)406 3948 y Fv(end)406 4061 y(else)h(if)g
Fu(chan)o(.out_pos)d(=)j(0)f Fv(then)h(b)s(egin)502 4174
y Fu(ignore)e(\(write)g(chan)o(.out_fd)g(s)h(0)h(\()o(String)o(.)o
(length)f(s)o(\)\))406 4287 y Fv(end)406 4400 y(else)h(b)s(egin)502
4513 y Fu(String)n(.blit)f(s)g(0)g(chan)o(.out_buffer)e(chan)o
(.out_pos)h(avail)n(;)502 4626 y Fv(let)h Fu(out_buffer_size)d(=)j
(String)o(.)o(length)f(chan)o(.out_buffer)f Fv(in)502
4739 y Fu(ignore)h(\(write)g(chan)o(.out_fd)g(chan)o(.)o(out_buffer)f
(0)j(out_buffer_size)l(\);)502 4852 y Fv(let)f Fu(remaining)e(=)j
(String)n(.length)e(s)i(-)f(avail)f Fv(in)502 4964 y(if)i
Fu(remaining)d(<)i(out_buffer_size)d Fv(then)j(b)s(egin)597
5077 y Fu(String)o(.)o(blit)g(s)g(avail)g(chan)o(.)o(out_buffer)e(0)j
(remaining)m(;)597 5190 y(chan)o(.out_pos)e(<-)h(remaining)502
5303 y Fv(end)h(else)f(b)s(egin)597 5416 y Fu(ignore)f(\(write)g(chan)o
(.out_fd)g(s)i(avail)e(remaining)n(\);)597 5529 y(chan)o(.out_pos)g(<-)
h(0)p Black 1811 5757 a Fw(103)p Black eop
%%Page: 104 104
104 103 bop Black -71 24 a Fw(104)1973 b Fs(ANNEXE)31
b(A.)61 b(CORRIG)3005 1 y(\023)2993 24 y(E)29 b(DES)h(EXER)m(CICES)p
Black 502 280 a Fv(end)406 393 y(end)p Fu(;;)-71 747
y Fg(Exercice)36 b(3,)i(page)g(24)70 945 y Fw(L'impl)m(\023)-43
b(emen)m(tation)21 b(na)-10 b(\177)-35 b(\020v)m(e)20
b(de)g Fu(tail)g Fw(est)h(de)f(lire)f(le)h(\014c)m(hier)g(s)m(\023)-43
b(equen)m(tiellemen)m(t,)21 b(depuis)e(le)h(d)m(\023)-43
b(ebut,)21 b(en)f(gardan)m(t)-71 1058 y(dans)29 b(un)f(tamp)s(on)g
(circulaire)g(les)g Ft(N)39 b Fw(derni)m(\022)-43 b(eres)29
b(lignes)f(lues.)g(Quand)g(on)h(attein)m(t)h(la)f(\014n)f(du)h(\014c)m
(hier,)f(on)h(a\016c)m(he)-71 1171 y(le)g(tamp)s(on.)g(Il)g(n'y)g(a)h
(rien)e(de)h(mieux)g(\022)-45 b(a)30 b(faire)e(quand)h(les)g(donn)m
(\023)-43 b(ees)30 b(pro)m(viennen)m(t)f(d'un)f(tuy)m(au)h(ou)h(d'un)e
(\014c)m(hier)-71 1283 y(sp)m(\023)-43 b(ecial)32 b(qui)e(n'impl)m
(\023)-43 b(emen)m(te)31 b(pas)h Fu(lseek)p Fw(.)e(Si)g(les)i(donn)m
(\023)-43 b(ees)32 b(pro)m(viennen)m(t)f(d'un)f(\014c)m(hier)h(normal,)
f(il)g(v)-5 b(aut)32 b(mieux)-71 1396 y(lire)j(le)i(\014c)m(hier)f(en)g
(partan)m(t)i(de)e(la)h(\014n)f(:)h(a)m(v)m(ec)i Fu(lseek)p
Fw(,)c(on)i(lit)e(les)i(4096)h(derniers)d(caract)m(\022)-43
b(eres)18 b(;)37 b(on)g(les)f(bala)m(y)m(e)-71 1509 y(p)s(our)27
b(compter)i(les)g(retours)f(\022)-45 b(a)29 b(la)g(ligne)14
b(;)28 b(s'il)g(y)g(en)h(a)g(au)g(moins)e Ft(N)10 b Fw(,)29
b(on)f(a\016c)m(he)i(les)e Ft(N)39 b Fw(lignes)27 b(corresp)s(ondan)m
(tes)-71 1622 y(et)k(on)f(sort)16 b(;)30 b(sinon,)g(on)g(recommence)h
(en)f(a)5 b(joutan)m(t)32 b(les)e(4096)i(caract)m(\022)-43
b(eres)33 b(pr)m(\023)-43 b(ec)m(\023)g(eden)m(ts,)33
b(etc.)70 1749 y(P)m(our)24 b(a)5 b(jouter)24 b(l'option)e
Fu(-f)p Fw(,)h(il)f(su\016t,)h(une)g(fois)g(qu'on)g(a)h(a\016c)m(h)m
(\023)-43 b(e)25 b(les)e Ft(N)33 b Fw(derni)m(\022)-43
b(eres)23 b(lignes,)g(de)g(se)g(p)s(ositionner)-71 1862
y(\022)-45 b(a)28 b(la)g(\014n)e(du)h(\014c)m(hier,)g(et)i(d'essa)m(y)m
(er)g(de)e(lire)g(\(par)g Fu(read)p Fw(\))g(\022)-45
b(a)28 b(partir)f(de)g(l\022)-45 b(a.)28 b(Si)f Fu(read)f
Fw(r)m(\023)-43 b(eussit)28 b(\022)-45 b(a)28 b(lire)e(quelque)h(c)m
(hose,)-71 1974 y(on)43 b(l'a\016c)m(he)h(aussit^)-45
b(ot)44 b(et)g(on)f(recommence.)i(Si)d Fu(read)h Fw(ren)m(v)m(oie)g(0,)
i(on)e(attend)h(un)e(p)s(eu)h(\()p Fu(sleep)j(1)p Fw(\),)e(et)g(on)-71
2087 y(recommence.)-71 2421 y Fg(Exercice)36 b(4,)i(page)g(30)70
2619 y Fw(Il)g(faut)g(garder)h(une)f(table)g(des)h(\014c)m(hiers)e
(source)i(d)m(\023)-43 b(ej\022)e(a)40 b(copi)m(\023)-43
b(es,)39 b(qui)f(au)g(couple)g(\()p Fu(st_dev)o Ft(;)15
b Fu(st_ino)o Fw(\))38 b(d'un)-71 2732 y(\014c)m(hier)28
b(source)g(fait)g(corresp)s(ondre)f(le)h(nom)g(de)g(son)g(\014c)m(hier)
g(destination.)2519 2709 y(\022)2508 2732 y(A)h(c)m(haque)f(copie,)h
(on)f(consulte)g(cette)-71 2845 y(table)k(p)s(our)e(v)m(oir)h(si)g(un)f
(\014c)m(hier)h(source)h(a)m(v)m(ec)i(le)d(m)m(^)-43
b(eme)33 b(couple)e(\()p Fu(st_dev)o Ft(;)15 b Fu(st_ino)o
Fw(\))31 b(a)i(d)m(\023)-43 b(ej\022)e(a)30 b(\023)-43
b(et)m(\023)g(e)34 b(copi)m(\023)-43 b(e)16 b(;)32 b(si)f(oui,)-71
2958 y(on)38 b(fait)f(un)g(lien)f(dur)g(v)m(ers)i(le)f(\014c)m(hier)g
(destination,)f(au)i(lieu)e(de)h(refaire)g(la)h(copie.)g(P)m(our)f
(dimin)m(uer)e(la)i(taille)-71 3071 y(de)j(cette)j(table,)d(on)h(p)s
(eut)e(n'y)h(mettre)h(que)g(des)f(\014c)m(hiers)f(qui)g(on)m(t)i
(plusieurs)c(noms,)k(c'est-\022)-45 b(a-dire)41 b(tels)f(que)-71
3184 y Fu(st_nlink)23 b Ft(>)i Fw(1.)311 3316 y Fv(let)53
b Fu(copied_files)44 b(=)k(\()o(Hashtbl)o(.)o(create)e(53)i(:)f(\(\()o
(int)g(*)h(int)o(\),)f(string)o(\))g(Hashtbl)n(.t\))311
3542 y Fv(let)53 b(rec)48 b Fu(copy)f(source)f(dest)g(=)406
3655 y Fv(let)i Fu(infos)e(=)i(lstat)e(source)g Fv(in)406
3768 y(matc)m(h)h Fu(infos)o(.st_kind)f Fv(with)502 3881
y Fu(S_REG)g(->)597 3994 y Fv(if)i Fu(infos)o(.)o(st_nlink)e(>)h(1)h
Fv(then)f(b)s(egin)693 4107 y(try)788 4220 y(let)h Fu(dest')e(=)884
4333 y(Hashtbl)n(.)o(find)h(copied_files)e(\()o(infos)o(.st_dev)n(,)i
(infos)o(.st_ino)n(\))788 4445 y Fv(in)h Fu(link)f(dest')f(dest)693
4558 y Fv(with)h Fu(Not_found)e(->)788 4671 y(Hashtbl)n(.add)i
(copied_files)d(\(infos)o(.)o(st_dev)o(,)j(infos)o(.st_ino)n(\))g(dest)
o(;)788 4784 y(file_copy)e(source)i(dest)n(;)788 4897
y(set_infos)e(dest)i(infos)597 5010 y Fv(end)h(else)g(b)s(egin)693
5123 y Fu(file_copy)d(source)h(dest)o(;)693 5236 y(set_infos)f(dest)i
(infos)597 5349 y Fv(end)406 5501 y Fu(|)h(S_LNK)e(->)h(...)p
Black Black eop
%%Page: 105 105
105 104 bop Black 3693 24 a Fw(105)p Black -71 280 a
Fg(Exercice)36 b(5,)i(page)g(36)70 457 y Fw(Une)27 b(solution)f(assez)i
(simple)c(consiste)j(\022)-45 b(a)28 b(sim)m(uler)d(l'e\013et)i(de)g
(l'extraction)g(en)g(cr)m(\023)-43 b(ean)m(t)29 b(dans)d(un)g(graphe)h
(une)-71 570 y(image)k(de)f(la)g(hi)m(\023)-43 b(erarc)m(hie)30
b(des)g(\014c)m(hiers)g(con)m(ten)m(us)h(dans)e(l'arc)m(hiv)m(e.)193
703 y Fz(1)83 b Fv(t)m(yp)s(e)48 b Fu(info)e(=)i(File)e(|)i(Link)e
Fv(of)i Fu(string)e(list)h(|)g(Dir)g Fv(of)h Fu(\(string)e(*)i(inode)n
(\))g(list)193 816 y Fz(2)83 b Fv(and)48 b Fu(inode)e(=)h({)h
Fv(m)m(utable)e Fu(record)h(:)g(record)f(option)n(;)i
Fv(m)m(utable)e Fu(info)h(:)h(info)n(;})-71 951 y Fw(Les)35
b(n\033uds)d(du)i(syst)m(\022)-43 b(eme)36 b(de)e(\014c)m(hier)g
(virtuel)e(don)m(t)j(d)m(\023)-43 b(ecrits)35 b(par)f(le)g(t)m(yp)s(e)h
Fu(inode)p Fw(.)e(Le)i(c)m(hamp)f Fu(info)g Fw(d)m(\023)-43
b(ecrit)34 b(le)-71 1064 y(t)m(yp)s(e)e(de)g(\014c)m(hier)f(en)h(se)g
(limitan)m(t)e(aux)i(\014c)m(hiers)f(ordinaires,)f(liens)g(sym)m(b)s
(oliques)f(et)k(r)m(\023)-43 b(ep)s(ertoires.)32 b(Les)g(c)m(hemins)-71
1177 y(son)m(t)c(repr)m(\023)-43 b(esen)m(t)m(\023)g(es)31
b(par)c(des)g(listes)g(de)h(c)m(ha)-10 b(^)-35 b(\020nes)27
b(de)h(caract)m(\022)-43 b(eres)30 b(et)f(les)e(r)m(\023)-43
b(ep)s(ertoires)28 b(par)f(des)g(listes)g(qui)g(asso)s(cien)m(t)-71
1290 y(un)h(n\033ud)e(\022)-45 b(a)29 b(c)m(haque)h(nom)e(de)g(\014c)m
(hiers)g(du)g(r)m(\023)-43 b(ep)s(ertoire.)29 b(Le)f(c)m(hamp)h
Fu(record)e Fw(le)h(\014c)m(hier)g(asso)s(ci)m(\023)-43
b(e)30 b(au)e(n\033ud)f(dans)-71 1403 y(l'arc)m(hiv)m(e.)38
b(Ce)g(c)m(hamp)g(est)g(optionnel,)e(car)j(les)e(r)m(\023)-43
b(ep)s(ertoires)37 b(in)m(term)m(\023)-43 b(ediaires)37
b(ne)h(son)m(t)g(pas)g(toujours)f(d)m(\023)-43 b(ecrits)-71
1516 y(dans)39 b(l'arc)m(hiv)m(e)15 b(;)39 b(il)f(est)h(m)m(utable,)h
(car)f(un)f(\014c)m(hier)g(p)s(eut)h(appara)-10 b(^)-35
b(\020tre)39 b(plusieurs)c(fois)k(dans)f(l'arc)m(hiv)m(e,)i(et)g(les)
-71 1628 y(derni)m(\022)-43 b(eres)30 b(informations)f(son)m(t)h
(prioritaires.)193 1761 y Fz(3)83 b Fv(let)53 b Fu(root)46
b(\(\))i(=)193 1874 y Fz(4)178 b Fv(let)48 b(rec)g Fu(i)f(=)193
1987 y Fz(5)274 b Fu({)47 b(record)f(=)i(None)o(;)f(info)g(=)g(Dir)g([)
h(Filename)m(.current_dir_name)l(,)f(i)h(])f(})193 2100
y Fz(6)178 b Fv(in)48 b Fu(i)193 2213 y Fz(7)83 b Fv(let)53
b Fu(link)46 b(inode)h(name)f(nod)h(=)193 2326 y Fz(8)178
b Fv(matc)m(h)47 b Fu(inode)o(.info)f Fv(with)193 2438
y Fz(9)178 b Fu(|)48 b(File)e(|)i(Link)f(_)g(->)g(error)g
Fo(")o(Not)g(a)h(directory)m(")157 2551 y Fz(10)179 b
Fu(|)48 b(Dir)f(list)f(->)157 2664 y Fz(11)370 b Fv(try)48
b(let)f Fu(_)h(=)f(List)o(.assoc)f(name)h(list)f Fv(in)i
Fu(error)f Fo(")o(Already)f(exists)o(")157 2777 y Fz(12)370
b Fv(with)47 b Fu(Not_found)f(->)h(inode)n(.info)g(<-)g(Dir)g(\(\()o
(name)o(,)h(nod)o(\))f(::)g(list)o(\))157 2890 y Fz(13)157
3003 y(14)84 b Fv(let)53 b Fu(mkfile)46 b(inode)g(name)h(r)g(=)157
3116 y Fz(15)179 b Fv(let)48 b Fu(f)f(=)95 b({)48 b(record)e(=)h(r;)h
(info)e(=)i(File)e(})i Fv(in)157 3229 y Fz(16)179 b Fu(link)47
b(inode)f(name)h(f;)g(f)157 3342 y Fz(17)84 b Fv(let)53
b Fu(symlink)46 b(inode)g(name)h(r)g(path)g(=)157 3455
y Fz(18)179 b Fv(let)48 b Fu(s)f(=)95 b({)48 b(record)e(=)h(r;)h(info)e
(=)i(Link)e(path)h(})g Fv(in)157 3568 y Fz(19)179 b Fu(link)47
b(inode)f(name)h(s;)g(s)157 3680 y Fz(20)84 b Fv(let)53
b Fu(mkdir)46 b(inode)h(name)f(r)i(=)157 3793 y Fz(21)179
b Fv(let)48 b Fu(d)f(=)h(mkfile)e(inode)g(name)h(r)g
Fv(in)157 3906 y Fz(22)179 b Fu(d.info)46 b(<-)157 4019
y Fz(23)275 b Fu(Dir)47 b([)g(Filename)n(.current_dir_name)-5
b(,)48 b(d;)f(Filename)n(.parent_dir_name)-5 b(,)48 b(inode)e(];)157
4132 y Fz(24)179 b Fu(d)-71 4267 y Fw(Comme)31 b(en)h(Unix,)e(c)m
(haque)i(r)m(\023)-43 b(ep)s(ertoire)31 b(con)m(tien)m(t)i(un)d(lien)g
(v)m(ers)h(lui-m)m(^)-43 b(eme)31 b(et)h(un)e(lien)g(v)m(ers)i(son)f
(paren)m(t,)h(sauf)-71 4380 y(le)i(r)m(\023)-43 b(ep)s(ertoire)35
b(racine)g(\(con)m(trairemen)m(t)h(\022)-45 b(a)35 b(Unix)e(o)s(\022)
-48 b(u)35 b(il)e(est)j(son)e(propre)g(paren)m(t\).)h(Ce)g(c)m(hoix)g
(nous)f(p)s(ermet)g(de)-71 4493 y(d)m(\023)-43 b(etecter)33
b(et)e(d'in)m(terdire)d(l'acc)m(\022)-43 b(es)33 b(en)d(dehors)g(de)g
(l'arc)m(hiv)m(e)g(tr)m(\022)-43 b(es)32 b(simplemen)m(t.)157
4626 y Fz(25)84 b Fv(let)53 b(rec)48 b Fu(find)f(link)f(inode)h(path)f
(=)157 4739 y Fz(26)179 b Fv(matc)m(h)47 b Fu(inode)o(.info)o(,)g(path)
g Fv(with)157 4852 y Fz(27)179 b Fu(|)48 b(_,)f([])g(->)g(inode)157
4964 y Fz(28)179 b Fu(|)48 b(Dir)f(list)o(,)g(name)g(::)g(rest)g(->)157
5077 y Fz(29)370 b Fv(let)48 b Fu(subnode)d(=)j(List)o(.assoc)e(name)h
(list)f Fv(in)157 5190 y Fz(30)370 b Fv(let)48 b Fu(subnode)d(=)157
5303 y Fz(31)466 b Fv(matc)m(h)47 b Fu(subnode)n(.info)f
Fv(with)157 5416 y Fz(32)561 b Fu(Link)47 b(q)g(->)157
5529 y Fz(33)657 b Fv(if)47 b Fu(link)g(&&)g(rest)g(=)g([])g
Fv(then)h Fu(subnode)e Fv(else)i Fu(find)e(false)h(inode)f(q)p
Black Black eop
%%Page: 106 106
106 105 bop Black -71 24 a Fw(106)1973 b Fs(ANNEXE)31
b(A.)61 b(CORRIG)3005 1 y(\023)2993 24 y(E)29 b(DES)h(EXER)m(CICES)p
Black 157 280 a Fz(34)466 b Fu(|)47 b(_)h(->)f(subnode)93
b Fv(in)157 393 y Fz(35)370 b Fu(find)47 b(link)g(subnode)e(rest)157
506 y Fz(36)179 b Fu(|)48 b(_,)f(_)g(->)h Fv(raise)f
Fu(Not_found)n(;;)-71 641 y Fw(La)30 b(fonction)f Fu(find)g
Fw(e\013ectue)i(une)e(rec)m(herc)m(he)i(dans)e(l'arc)m(hiv)m(e)g(\022)
-45 b(a)30 b(partir)f(d'un)f(n\033ud)g(initial)f Fu(inode)h
Fw(en)i(suiv)-5 b(an)m(t)-71 754 y(le)28 b(c)m(hemin)f
Fu(path)p Fw(.)h(Le)g(drap)s(eau)f Fu(link)g Fw(indique)e(si)j(dans)f
(le)h(cas)g(o)s(\022)-48 b(u)29 b(le)e(r)m(\023)-43 b(esultat)29
b(est)g(un)e(lien)f(sym)m(b)s(olique)g(il)h(faut)-71
867 y(retourner)j(le)g(lien)f(lui-m)m(^)-43 b(eme)29
b(\()p Fu(true)p Fw(\))h(ou)h(le)f(\014c)m(hier)f(p)s(oin)m(t)m(\023)
-43 b(e)31 b(par)f(le)g(lien)e(\()p Fu(false)p Fw(\).)157
1000 y Fz(37)84 b Fv(let)53 b(rec)48 b Fu(mkpath)e(inode)g(path)h(=)157
1113 y Fz(38)179 b Fv(matc)m(h)47 b Fu(inode)o(.info)o(,)g(path)g
Fv(with)157 1226 y Fz(39)179 b Fu(|)48 b(_,)f([])g(->)g(inode)157
1338 y Fz(40)179 b Fu(|)48 b(Dir)f(list)o(,)g(name)g(::)g(rest)g(->)157
1451 y Fz(41)370 b Fv(let)48 b Fu(subnode)d(=)157 1564
y Fz(42)466 b Fv(try)47 b Fu(List)o(.assoc)f(name)h(list)157
1677 y Fz(43)466 b Fv(with)47 b Fu(Not_found)e(->)95
b(mkdir)46 b(inode)h(name)f(None)h Fv(in)157 1790 y Fz(44)370
b Fu(mkpath)46 b(subnode)g(rest)157 1903 y Fz(45)179
b Fu(|)48 b(_,)f(_)g(->)h Fv(raise)f Fu(Not_found)n(;;)-71
2038 y Fw(La)31 b(fonction)f Fu(mkpath)e Fw(parcourt)j(le)f(c)m(hemin)f
Fu(path)g Fw(en)i(cr)m(\023)-43 b(ean)m(t)32 b(les)e(n\033uds)e
(manquan)m(t)j(le)f(long)f(du)h(c)m(hemin.)157 2171 y
Fz(46)84 b Fv(let)53 b Fu(explode)46 b(f)h(=)157 2284
y Fz(47)179 b Fv(let)48 b(rec)g Fu(dec)f(f)g(p)h(=)157
2397 y Fz(48)275 b Fv(if)48 b Fu(f)f(=)g(Filename)n(.current_dir_name)c
Fv(then)48 b Fu(p)157 2509 y Fz(49)275 b Fv(else)48 b
Fu(dec)f(\()o(Filename)n(.dirname)f(f)o(\))i(\(Filename)m(.basename)e
(f)h(::)g(p\))g Fv(in)157 2622 y Fz(50)179 b Fu(dec)47
b(\()p Fv(if)h Fu(Filename)n(.)o(basename)e(f)h(=)h Fo(")o(")g
Fv(then)f Fu(Filename)n(.dirname)f(f)h Fv(else)h Fu(f\))f([];;)-71
2758 y Fw(La)33 b(fonction)g Fu(explode)e Fw(d)m(\023)-43
b(ecomp)s(ose)34 b(un)e(c)m(hemin)h(Unix)f(en)g(une)h(liste)f(de)h(c)m
(ha)-10 b(^)-35 b(\020nes)33 b(de)g(caract)m(\022)-43
b(eres.)36 b(Elle)c(retire)-71 2871 y(le)e(\\)p Fu(/)p
Fw(")h(\014nal)e(qui)g(est)i(tol)m(\023)-43 b(er)m(\023)g(e)33
b(dans)c(les)h(arc)m(hiv)m(es)h(p)s(our)e(les)h(noms)g(de)g(r)m(\023)
-43 b(ep)s(ertoires.)157 3003 y Fz(64)84 b Fv(let)53
b Fu(add)47 b(archive)f(r)h(=)157 3116 y Fz(65)179 b
Fv(matc)m(h)47 b Fu(r.header)n(.kind)g Fv(with)157 3229
y Fz(66)179 b Fu(|)48 b(CHR)f(\()o(_,_\))g(|)h(BLK)e(\(_,_)o(\))i(|)f
(FIFO)g(->)g(\(\))157 3342 y Fz(67)179 b Fu(|)48 b(kind)e(->)157
3455 y Fz(68)370 b Fv(matc)m(h)47 b Fu(List)o(.rev)g(\(explode)e
(r.header)n(.name)o(\))i Fv(with)157 3568 y Fz(69)370
b Fu(|)48 b([])95 b(->)47 b(\(\))157 3680 y Fz(70)370
b Fu(|)48 b(name)e(::)i(parent_rev)d(->)157 3793 y Fz(71)561
b Fv(let)48 b Fu(inode)e(=)h(mkpath)f(archive)g(\(List)o(.rev)h
(parent_rev)m(\))g Fv(in)157 3906 y Fz(72)561 b Fv(matc)m(h)47
b Fu(kind)g Fv(with)157 4019 y Fz(73)561 b Fu(|)48 b(DIR)f(->)g(ignore)
f(\(mkdir)g(inode)g(name)h(\(Some)f(r\)\))157 4132 y
Fz(74)561 b Fu(|)48 b(REG)f(|)g(CONT)g(->)g(ignore)f(\(mkfile)g(inode)g
(name)h(\()o(Some)g(r\)\))157 4245 y Fz(75)561 b Fu(|)48
b(LNK)f(f)g(->)g(ignore)f(\(symlink)g(inode)g(name)h(\(Some)f(r\))h
(\(explode)f(f\)\))157 4358 y Fz(76)561 b Fu(|)48 b(LINK)e(f)i(->)f
(link)g(inode)f(name)h(\()o(find)g(true)g(archive)e(\(explode)h(f\)\))
157 4471 y Fz(77)561 b Fu(|)48 b(_)f(->)g(assert)f(false)o(;;)-71
4606 y Fw(La)38 b(fonction)g Fu(add)g Fw(a)5 b(joute)39
b(l'enregistremen)m(t)f Fu(r)f Fw(dans)h(l'arc)m(hiv)m(e.)g(L'arc)m
(hiv)m(e)h(repr)m(\023)-43 b(esen)m(t)m(\023)g(ee)41
b(par)c(sa)i(racine)f(est)-71 4719 y(mo)s(di\014)m(\023)-43
b(ee)30 b(par)g(e\013et)i(de)e(b)s(ord.)157 4852 y Fz(78)84
b Fv(let)53 b Fu(find_and_copy)44 b(tarfile)i(filename)f(=)157
4964 y Fz(79)179 b Fv(let)48 b Fu(fd)f(=)g(openfile)f(tarfile)g([)h
(O_RDONLY)f(])h(0)h Fv(in)157 5077 y Fz(80)179 b Fv(let)48
b Fu(records)e(=)h(List)o(.rev)g(\()o(fold)g(\()p Fv(fun)g
Fu(x)h(y)f(->)h(x)f(::)g(y\))g([])h(fd)o(\))f Fv(in)157
5190 y Fz(81)179 b Fv(let)48 b Fu(archive)e(=)h(root)o(\(\))g
Fv(in)157 5303 y Fz(82)179 b Fu(List)o(.iter)47 b(\()o(add)g(archive)n
(\))h(records)n(;)157 5416 y Fz(83)179 b Fv(let)48 b
Fu(inode)e(=)157 5529 y Fz(84)275 b Fv(try)47 b Fu(find)g(false)f
(archive)g(\(explode)g(filename)n(\))p Black Black eop
%%Page: 107 107
107 106 bop Black 3693 24 a Fw(107)p Black 157 280 a
Fz(85)275 b Fv(with)47 b Fu(Not_found)e(->)i(error)g
Fo(")o(File)g(not)g(found)o(")g Fv(in)157 393 y Fz(86)179
b Fv(b)s(egin)48 b(matc)m(h)f Fu(inode)o(.record)f Fv(with)157
506 y Fz(87)179 b Fu(|)48 b(Some)e(\({)i(header)e(=)h({)h(kind)e(=)i
(\()o(REG)f(|)h(CONT)o(\))f(}})g Fv(as)h Fu(r\))f(->)h(copy_file)d(r)i
(stdout)157 619 y Fz(88)179 b Fu(|)48 b(Some)e(_)i(->)f(error)f
Fo("Not)h(a)h(regular)d(file)o(")157 732 y Fz(89)179
b Fu(|)48 b(None)e(->)i(error)e Fo("Not)h(found)n(")157
845 y Fz(90)179 b Fv(end)p Fu(;)157 958 y Fz(91)g Fu(close)47
b(fd)o(;;)-71 1090 y Fw(On)30 b(termine)f(comme)i(pr)m(\023)-43
b(ec)m(\023)g(edemmen)m(t.)-71 1327 y Fg(Exercice)36
b(6,)i(page)g(36)70 1499 y Fw(Cet)22 b(exercice)g(com)m(bine)e
(l'exercice)i(pr)m(\023)-43 b(ec)m(\023)g(eden)m(t)23
b(\(exercice)f(5\))g(et)g(la)f(copie)g(r)m(\023)-43 b(ecursiv)m(e)21
b(de)g(\014c)m(hiers)f(\(exercice)i(4\).)70 1612 y(La)32
b(seule)f(p)s(etite)g(di\016cult)m(\023)-43 b(e)31 b(est)g(la)h
(gestion)f(des)g(droits)g(:)g(il)f(faut)h(cr)m(\023)-43
b(eer)33 b(les)e(r)m(\023)-43 b(ep)s(ertoires)31 b(de)h(l'arc)m(hiv)m
(e)f(a)m(v)m(ec)-71 1725 y(les)25 b(droits)g(en)d(\023)-43
b(ecriture)26 b(et)g(ne)f(mettre)i(ceux-ci)e(\022)-45
b(a)26 b(leur)e(v)-5 b(aleur)25 b(\014nal)f(qu'apr)m(\022)-43
b(es)26 b(extractions)g(de)f(tous)h(les)f(\014c)m(hiers.)78
1815 y(\023)70 1838 y(Ecriv)m(ons)31 b(d'ab)s(ord)e(une)i(fonction)g
(annexe)g(p)s(our)e Fu(mkpath)h Ft(p)g(m)h Fw(qui)f(les)g(directory)h
(manquan)m(t)g(le)f(long)h(du)-71 1950 y(c)m(hemin)d
Ft(p)g Fw(a)m(v)m(ec)i(les)e(p)s(ermissions)d Ft(m)j
Fw(\(a)m(v)m(ec)j(la)d(particularit)m(\023)-43 b(e)27
b(que)i Ft(p)f Fw(p)s(eut-)m(^)-43 b(etre)29 b(termin)m(\023)-43
b(e)29 b(par)e(une)h Fu(/)g Fw(sup)s(er\015u\).)193 2083
y Fz(1)83 b Fv(let)53 b Fu(warning)46 b(mes)h(=)g(prerr_string)d(mes;)o
(prerr_newline)m(\(\);;)193 2196 y Fz(2)83 b Fv(op)s(en)48
b Fu(Filename)193 2309 y Fz(3)83 b Fv(let)53 b Fu(mkpath)46
b(p)h(perm)g(=)193 2422 y Fz(4)178 b Fv(let)48 b Fu(normal_path)c(=)193
2535 y Fz(5)274 b Fv(if)48 b Fu(basename)d(p)j(=)f Fo("")g
Fv(then)h Fu(dirname)d(p)j Fv(else)g Fu(p)f Fv(in)193
2648 y Fz(6)178 b Fv(let)48 b Fu(path_to_dir)c(=)k(dirname)e
(normal_path)e Fv(in)193 2760 y Fz(7)178 b Fv(let)48
b(rec)g Fu(make)f(p)g(=)193 2873 y Fz(8)274 b Fv(try)47
b Fu(ignore)g(\()o(stat)g(p\))193 2986 y Fz(9)274 b Fv(with)47
b Fu(Unix_error)e(\(ENOENT)n(,)i(_,)h(_)o(\))g(->)157
3099 y Fz(10)370 b Fv(if)48 b Fu(p)f(=)h(current_dir_name)43
b Fv(then)48 b Fu(\(\))157 3212 y Fz(11)370 b Fv(else)48
b(if)g Fu(p)f(=)h(parent_dir_name)43 b Fv(then)157 3325
y Fz(12)466 b Fu(warning)46 b Fo(")o(Ill)h(formed)f(archive)n(:)i(path)
e(contains)g(\\"..\\)o(")o(")157 3438 y Fz(13)370 b Fv(else)48
b(b)s(egin)157 3551 y Fz(14)466 b Fu(make)46 b(\(dirname)g(p\);)157
3664 y Fz(15)466 b Fu(mkdir)46 b(p)i(perm)157 3777 y
Fz(16)370 b Fv(end)48 b(in)157 3890 y Fz(17)179 b Fu(make)47
b(path_to_dir)m(;;)-71 4022 y Fw(Nous)30 b(d)m(\023)-43
b(e\014nissons)27 b(\023)-43 b(egalemen)m(t)32 b(une)d(fonction)h
Fu(set_infos)e Fw(analogue)i(\022)-45 b(a)31 b(la)f(v)m(ersion)f
(utilis)m(\023)-43 b(ee)30 b(p)s(our)e(la)i(copie)g(de)-71
4135 y(\014c)m(hiers)f(\(section)i(2.11\))i(:)157 4267
y Fz(18)84 b Fv(let)53 b Fu(set_infos)45 b(header)h(=)157
4380 y Fz(19)179 b Fu(chmod)47 b(header)n(.name)f(header)o(.perm)n(;)
157 4493 y Fz(20)179 b Fv(let)48 b Fu(mtime)e(=)i(float)e(header)n
(.mtime)g Fv(in)157 4606 y Fz(21)179 b Fu(utimes)46 b(header)o(.name)g
(mtime)h(mtime)n(;)157 4719 y Fz(22)179 b Fv(b)s(egin)48
b(matc)m(h)f Fu(header)o(.)o(kind)g Fv(with)157 4832
y Fz(23)275 b Fu(LNK)47 b(f)g(->)g(\(\))157 4945 y Fz(24)179
b Fu(|)48 b(_)f(->)95 b(chmod)47 b(header)n(.name)f(header)o(.)o(perm)
157 5058 y Fz(25)179 b Fv(end)p Fu(;)157 5171 y Fz(26)g
Fv(try)48 b Fu(chown)e(header)o(.)o(name)95 b(header)n(.uid)47
b(header)n(.gid)157 5284 y Fz(27)179 b Fv(with)47 b Fu(Unix_error)n(\()
o(EPERM)o(,_)o(,_\))g(->)h(\(\);;)-71 5416 y Fw(Le)34
b(corps)f(du)g(programme)h(est)g(la)f(fonction)h Fu
(untar_file_collect_dirs)27 b Fw(qui)32 b(traite)i(une)f(seule)g(en)m
(tr)m(\023)-43 b(ee)36 b(en)-71 5529 y(accum)m(ulan)m(t)31
b(les)f(r)m(\023)-43 b(ep)s(ertoires)30 b(explicitemen)m(t)g(cr)m(\023)
-43 b(e)m(\023)g(es)33 b(par)d(l'arc)m(hiv)m(e.)p Black
Black eop
%%Page: 108 108
108 107 bop Black -71 24 a Fw(108)1973 b Fs(ANNEXE)31
b(A.)61 b(CORRIG)3005 1 y(\023)2993 24 y(E)29 b(DES)h(EXER)m(CICES)p
Black 157 280 a Fz(28)84 b Fv(let)53 b Fu(verbose)46
b(=)h(ref)g(true)o(;;)157 393 y Fz(29)84 b Fv(let)53
b Fu(default_dir_perm)43 b(=)48 b(0)o(o777)o(;;)157 506
y Fz(30)84 b Fv(let)53 b Fu(default_file_perm)43 b(=)k(0o666)o(;;)157
619 y Fz(31)157 732 y(32)84 b Fv(let)53 b Fu(protect)46
b(f)h(x)h(g)f(y)g(=)h Fv(try)g Fu(f)f(x;)g(g)h(y)f Fv(with)g
Fu(z)h(->)f(g)g(y;)g Fv(raise)h Fu(z)157 845 y Fz(33)84
b Fv(let)53 b Fu(file_exists)45 b(f)i(=)g Fv(try)h Fu(ignore)e(\(stat)g
(f\);)h(true)g Fv(with)g Fu(_)h(->)f(false)n(;;)157 958
y Fz(34)157 1071 y(35)84 b Fv(let)53 b Fu(untar_file_collect_dirs)41
b(file)47 b(dirs)g(=)157 1184 y Fz(36)179 b Fv(let)48
b Fu(fh)f(=)g(file)o(.header)f Fv(in)157 1296 y Fz(37)179
b Fv(if)56 b Fu(!verbose)45 b Fv(then)j(b)s(egin)g Fu(print_string)c
(fh.name)n(;)k(print_newline)l(\(\))f Fv(end)q Fu(;)157
1409 y Fz(38)179 b Fv(matc)m(h)47 b Fu(fh.kind)f Fv(with)157
1522 y Fz(39)179 b Fu(|)48 b(CHR)f(\()o(_,_\))g(|)h(BLK)o(\()o(_,_\))f
(|)h(FIFO)e(->)157 1635 y Fz(40)370 b Fu(warning)46 b(\(fh)o(.name)h(^)
g Fo("Ignoring)e(special)h(files)o(")p Fu(\);)157 1748
y Fz(41)370 b Fu(dirs)157 1861 y Fz(42)179 b Fu(|)48
b(DIR)f(->)157 1974 y Fz(43)370 b Fu(mkpath)46 b(fh.name)g
(default_dir_perm)l(;)157 2087 y Fz(44)370 b Fv(if)48
b Fu(file_exists)d(fh)o(.name)i Fv(then)g Fu(dirs)157
2200 y Fz(45)370 b Fv(else)48 b(b)s(egin)g Fu(mkdir)f(fh)o(.name)f
(default_dir_perm)l(;)h(fh)h(::)f(dirs)f Fv(end)157 2313
y Fz(46)179 b Fu(|)48 b(x)f(->)157 2426 y Fz(47)370 b
Fu(mkpath)46 b(fh.name)g(default_dir_perm)l(;)157 2538
y Fz(48)370 b Fv(b)s(egin)48 b(matc)m(h)f Fu(x)h Fv(with)157
2651 y Fz(49)370 b Fu(|)48 b(REG)f(|)g(CONT)g(->)157
2764 y Fz(50)561 b Fv(let)48 b Fu(flags)e(=)h([)h(O_WRONLY)n(;)f
(O_TRUNC)n(;)h(O_CREAT)n(;)f(])h Fv(in)157 2877 y Fz(51)561
b Fv(let)48 b Fu(out)e(=)i(openfile)d(fh.name)h(flags)h
(default_file_perm)c Fv(in)157 2990 y Fz(52)561 b Fu(protect)46
b(\(copy_file)f(file)o(\))i(out)g(close)g(out)157 3103
y Fz(53)370 b Fu(|)48 b(LNK)f(f)g(->)157 3216 y Fz(54)561
b Fu(symlink)46 b(f)h(fh.name)157 3329 y Fz(55)370 b
Fu(|)48 b(LINK)e(f)i(->)157 3442 y Fz(56)561 b Fv(b)s(egin)157
3555 y Fz(57)657 b Fv(try)47 b(if)h Fu(\(stat)e(fh.name)n(\).st_kind)g
(=)h(S_REG)g Fv(then)g Fu(unlink)f(fh.)o(name)157 3668
y Fz(58)657 b Fv(with)47 b Fu(Unix_error)m(\(_)o(,_,_)o(\))h(->)f
(\(\);)157 3781 y Fz(59)561 b Fv(end)p Fu(;)157 3893
y Fz(60)g Fu(Unix)o(.link)46 b(f)i(fh)o(.name)o(;)157
4006 y Fz(61)370 b Fu(|)48 b(_)f(->)g(assert)f(false)157
4119 y Fz(62)370 b Fv(end)p Fu(;)157 4232 y Fz(63)g Fu(set_infos)46
b(fh)o(;)157 4345 y Fz(64)370 b Fu(dirs)o(;;)-71 4485
y Fw(Nous)30 b(omettons)i(la)d(\014n)h(du)f(programme)h(qui)f(consiste)
h(\022)-45 b(a)31 b(it)m(\023)-43 b(erer)31 b(le)e(corps)h(du)f
(programme)i(sur)e(l'arc)m(hiv)m(e)h(puis)-71 4598 y(\022)-45
b(a)31 b(mettre)g(\022)-45 b(a)31 b(jour)e(les)h(droits)g(des)g(r)m
(\023)-43 b(ep)s(ertoires)30 b(en)g(tout)h(dernier.)-71
4891 y Fg(Exercice)36 b(8,)i(page)g(43)70 5077 y Fw(Dans)32
b(le)f(cas)i(o)s(\022)-48 b(u)31 b(la)h(ligne)e(de)i(commande)f(se)h
(termine)f(par)g Fu(&)p Fw(,)h(il)e(su\016t)h(que)h(le)f(pro)s(cessus)g
(p)m(\022)-43 b(ere)32 b(n'app)s(elle)-71 5190 y(pas)39
b Fu(wait)p Fw(,)e(et)j(passe)f(imm)m(\023)-43 b(ediatemen)m(t)39
b(au)f(pro)s(c)m(hain)g(tour)g(de)h(la)f(b)s(oucle.)g(Seule)g
(di\016cult)m(\023)-43 b(e)38 b(:)h(le)f(p)m(\022)-43
b(ere)40 b(p)s(eut)-71 5303 y(main)m(tenan)m(t)31 b(a)m(v)m(oir)h
(plusieurs)27 b(\014ls)i(qui)g(s'ex)m(\023)-43 b(ecuten)m(t)34
b(en)c(m)m(^)-43 b(eme)32 b(temps)f(\(les)f(commandes)h(en)f(arri)m
(\022)-43 b(ere-plan)30 b(qui)-71 5416 y(n'on)m(t)42
b(pas)f(encore)h(termin)m(\023)-43 b(e,)42 b(plus)e(la)h(derni)m(\022)
-43 b(ere)41 b(commande)g(sync)m(hrone\),)h(et)g Fu(wait)e
Fw(p)s(eut)h(se)h(sync)m(hroniser)-71 5529 y(sur)32 b(l'un)f
(quelconque)i(de)g(ces)g(\014ls.)f(Dans)h(le)g(cas)h(d'une)e(commande)h
(sync)m(hrone,)g(il)e(faut)i(donc)g(r)m(\023)-43 b(ep)m(\023)g(eter)35
b Fu(wait)p Black Black eop
%%Page: 109 109
109 108 bop Black 3693 24 a Fw(109)p Black -71 280 a(jusqu'\022)-45
b(a)30 b(ce)h(que)f(le)g(\014ls)f(r)m(\023)-43 b(ecup)m(\023)g(er)m
(\023)g(e)33 b(soit)d(bien)f(celui)g(qui)g(ex)m(\023)-43
b(ecute)33 b(la)d(commande.)502 413 y Fv(while)47 b Fu(true)g
Fv(do)597 526 y(let)h Fu(cmd)f(=)g(input_line)e(Pervasives)m(.stdin)h
Fv(in)597 639 y(let)i Fu(words)n(,)g(ampersand)d(=)i
(parse_command_line)c(cmd)k Fv(in)597 752 y(matc)m(h)g
Fu(fork)o(\(\))g Fv(with)693 864 y Fu(0)g(->)g(exec_command)e(words)597
977 y(|)j(pid_son)e(->)788 1090 y Fv(if)i Fu(ampersand)d
Fv(then)j Fu(\(\))788 1203 y Fv(else)884 1316 y(let)f(rec)h
Fu(wait_for_son)m(\(\))f(=)979 1429 y Fv(let)g Fu(pid,)g(status)f(=)i
(wait)e(\(\))h Fv(in)979 1542 y(if)h Fu(pid)f(=)g(pid_son)f
Fv(then)1075 1655 y Fu(print_status)e Fo("Program)n(")j
Fu(status)979 1768 y Fv(else)1075 1881 y(let)g Fu(p)g(=)h
Fo("Background)d(program)g(")j Fu(^)f(\(string_of_int)d(pid)o(\))k
Fv(in)1075 1994 y Fu(print_status)c(p)j(status)o(;)1075
2106 y(wait_for_son)l(\(\))g Fv(in)884 2219 y Fu(wait_for_son)l(\(\))
502 2332 y Fv(done)-71 2607 y Fg(Exercice)36 b(9,)i(page)g(49)70
2782 y Fw(Il)28 b(faut)h(attendre)g(le)f(\014ls)f(bien)g(s)s(^)-48
b(ur,)28 b(mais)g(a)m(v)-5 b(an)m(t)30 b(cela)f(il)f(faut)g(fermer)g
(le)h(descripteur)e(de)h(\014c)m(hier)g(sur)f(lequel)-71
2895 y(lit)33 b(le)h(\014ls,)f(sinon)g(celui-ci)g(attendrait)h(ind)m
(\023)-43 b(e\014nimen)m(t)33 b(que)h(son)g(p)m(\022)-43
b(ere)32 b(\023)-43 b(emette)37 b(d'autres)d(donn)m(\023)-43
b(ees,)35 b(conduisan)m(t)-71 3008 y(\022)-45 b(a)33
b(un)e(in)m(terblo)s(cage)h(\(la)h(fermeture)f(d'un)f(canal)h(se)g(c)m
(harge)i(de)e(vider)f(le)h(tamp)s(on)g(juste)g(a)m(v)-5
b(an)m(t)34 b(sa)e(fermeture,)-71 3121 y(donc)e(on)h(ne)f(p)s(erd)f
(rien\).)g(Concr)m(\022)-43 b(etemen)m(t,)33 b(on)d(remplace)g(la)h
(ligne)e(52)i(par)f(:)597 3253 y Fv(let)48 b Fu(output)e(=)h
(out_channel_of_descr)42 b(fd_in)47 b Fv(in)597 3366
y Fu(generate)f(len)h(output)n(;)597 3479 y(close_out)f(output)n(;)597
3592 y(ignore)o(\()o(waitpid)g([])h(k\);;)-71 3726 y
Fw(De)31 b(m)m(^)-43 b(eme,)32 b(on)e(v)-5 b(a)31 b(en)m(tourer)g(le)f
(blo)s(c)f(37{41)k(\(d)m(\023)-43 b(esign)m(\023)g(e)32
b(par)e Fu(...)p Fw(\))f(par)h(les)g(lignes)f(suiv)-5
b(an)m(tes)30 b(:)693 3859 y Fv(try)788 3972 y Fu(...)693
4084 y Fv(with)47 b Fu(End_of_file)d(->)788 4197 y(close_out)h(output)o
(;)788 4310 y(ignore)h(\(waitpid)g([])h(p\))-71 4585
y Fg(Exercice)36 b(10,)i(page)g(49)70 4760 y Fw(Les)43
b(tamp)s(ons)g(d'en)m(tr)m(\023)-43 b(ees/sorties)45
b(de)d(la)h(biblioth)m(\022)-43 b(eque)41 b(standard)i(son)m(t)g
(dupliqu)m(\023)-43 b(es)41 b(au)i(momen)m(t)h(de)e(la)-71
4873 y(commande)28 b Fu(fork)f Fw(\(puisque)f(le)h(pro)s(cessus)f
(\014ls)h(est)h(une)f(copie)h(du)e(pro)s(cessus)h(p)m(\022)-43
b(ere\).)29 b(Si,)e(les)g(tamp)s(ons)g(ne)g(son)m(t)-71
4986 y(plus)35 b(vid)m(\023)-43 b(es)36 b(\022)-45 b(a)37
b(c)m(haque)e(\023)-43 b(ecriture,)36 b(alors)g(il)f(faut)i(les)f
(vider)f(explicitemen)m(t)h(juste)g(a)m(v)-5 b(an)m(t)38
b(la)e(commande)h Fu(fork)p Fw(.)-71 5099 y(P)m(our)30
b(cela,)h(il)e(su\016t)h(d'a)5 b(jouter)31 b Fu(flush)46
b(Pervasives.stdout)26 b Fw(en)m(tre)31 b(les)f(lignes)f(25)i(et)g(26.)
-71 5354 y Fg(Exercice)36 b(11,)i(page)g(52)70 5529 y
Fw(P)m(our)30 b Fu(>>)p Fw(,)g(on)h(pro)s(c)m(\022)-43
b(ede)31 b(comme)g(p)s(our)e Fu(>)p Fw(,)h(sauf)g(que)g(le)g(\014c)m
(hier)g(est)h(ouv)m(ert)g(a)m(v)m(ec)h(les)e(options)p
Black Black eop
%%Page: 110 110
110 109 bop Black -71 24 a Fw(110)1973 b Fs(ANNEXE)31
b(A.)61 b(CORRIG)3005 1 y(\023)2993 24 y(E)29 b(DES)h(EXER)m(CICES)p
Black 693 280 a Fu([)o(O_WRONLY)n(;)48 b(O_APPEND)n(;)f(O_CREAT)n(])-71
423 y Fw(P)m(our)30 b Fu(2>)p Fw(,)g(on)h(pro)s(c)m(\022)-43
b(ede)31 b(comme)g(p)s(our)e Fu(>)p Fw(,)h(sauf)g(que)693
556 y Fu(dup2)46 b(fd)i(stderr)-71 698 y Fw(est)31 b(ex)m(\023)-43
b(ecut)m(\023)g(e)34 b(en)c(lieu)f(et)i(place)f(de)693
831 y Fu(dup2)46 b(fd)i(stdout)-71 974 y Fw(P)m(our)30
b Fu(2>1)p Fw(,)g(il)f(su\016t)h(d'app)s(eler)693 1106
y Fu(dup2)46 b(stderr)g(stdout)-71 1249 y Fw(a)m(v)-5
b(an)m(t)38 b(d'ex)m(\023)-43 b(ecuter)39 b(la)d(commande.)h(En\014n,)e
(p)s(our)g Fu(<<)p Fw(,)h(le)g(shell)f Fu(sh)h Fw(cr)m(\023)-43
b(ee)38 b(un)e(\014c)m(hier)f(temp)s(oraire)h(dans)g
Fu(/tmp)p Fw(,)-71 1362 y(con)m(tenan)m(t)25 b(les)e(lignes)f(qui)g
(suiv)m(en)m(t)h Fu(<<)p Fw(,)g(puis)e(ex)m(\023)-43
b(ecute)26 b(la)c(commande)i(en)f(redirigean)m(t)f(son)h(en)m(tr)m
(\023)-43 b(ee)26 b(standard)c(sur)-71 1475 y(ce)32 b(\014c)m(hier.)f
(Une)h(autre)g(m)m(\023)-43 b(etho)s(de)32 b(serait)g(de)f(connecter)i
(par)e(un)f(tuy)m(au)i(l'en)m(tr)m(\023)-43 b(ee)33 b(standard)e(de)h
(la)f(commande)-71 1588 y(\022)-45 b(a)31 b(un)e(pro)s(cessus)g(\014ls)
g(qui)g(en)m(v)m(oie)j(les)e(lignes)f(suiv)-5 b(an)m(t)29
b Fu(<<)h Fw(sur)f(ce)i(tuy)m(au.)-71 1901 y Fg(Exercice)36
b(15,)i(page)g(87)70 2092 y Fw(Le)f(tri)e(rapide)g(se)h(pr)m(^)-43
b(ete)38 b(bien)d(\022)-45 b(a)36 b(une)g(parall)m(\023)-43
b(elisation,)35 b(car)h(le)g(tri)f(se)i(fait)f(r)m(\023)-43
b(ecursiv)m(emen)m(t)37 b(sur)e(des)h(sous-)-71 2205
y(tableaux)45 b(ind)m(\023)-43 b(ep)s(endan)m(ts)44 b(et)h(p)s(eut)d(^)
-43 b(etre)46 b(d)m(\023)-43 b(el)m(\023)g(egu)m(\023)g(e)48
b(\022)-45 b(a)45 b(des)g(copro)s(cessus)g(a)m(v)m(ec)i(p)s(our)c
(seule)i(sync)m(hronisation)-71 2318 y(d'attendre)28
b(que)g(tous)g(les)f(copro)s(cessus)h(aien)m(t)g(termin)m(\023)-43
b(e)28 b(leur)e(tri)h(p)s(our)g(a\016rmer)g(que)h(le)f(sous-tableau)h
(est)g(tri)m(\023)-43 b(e.)193 2451 y Fz(1)83 b Fv(let)53
b Fu(qsort)46 b(cmp)h(arr)g(=)193 2563 y Fz(2)178 b Fv(let)48
b(rec)g Fu(qsort)e(lo)h(hi)h(=)193 2676 y Fz(3)178 b
Fv(if)56 b Fu(hi)47 b(-)g(lo)h(>)f(0)h Fv(then)193 2789
y Fz(4)274 b Fv(b)s(egin)193 2902 y Fz(5)369 b Fv(let)48
b Fu(mid)f(=)g(\(lo)g(+)g(hi\))g(lsr)g(1)h Fv(in)193
3015 y Fz(6)369 b Fv(if)48 b Fu(cmp)f(arr)o(.\(mid)o(\))g(arr)o(.\(lo)o
(\))h Fv(then)f Fu(swap)g(arr)g(mid)g(lo)o(;)193 3128
y Fz(7)369 b Fv(if)48 b Fu(cmp)f(arr)o(.\(hi)o(\))g(arr.\()o(mid)o(\))h
Fv(then)193 3241 y Fz(8)465 b Fv(b)s(egin)193 3354 y
Fz(9)560 b Fu(swap)47 b(arr)g(mid)g(hi)o(;)157 3467 y
Fz(10)561 b Fv(if)48 b Fu(cmp)f(arr)o(.\()o(mid\))g(arr)o(.\(lo)o(\))h
Fv(then)f Fu(swap)g(arr)g(mid)g(lo)157 3580 y Fz(11)466
b Fv(end)p Fu(;)157 3693 y Fz(12)370 b Fv(let)48 b Fu(pivot)e(=)h
(arr.\()o(mid)o(\))h Fv(in)157 3805 y Fz(13)370 b Fv(let)48
b Fu(i)f(=)h(ref)e(\(lo)h(+)h(1\))f Fv(and)h Fu(j)f(=)h(ref)f(\()o(hi)g
(-)h(1\))f Fv(in)157 3918 y Fz(14)370 b Fv(while)48 b
Fu(!)o(i)g(<)f(!j)g Fv(do)157 4031 y Fz(15)466 b Fv(while)47
b(not)h Fu(\(cmp)e(pivot)h(arr)o(.\(!)o(i\)\))g Fv(do)h
Fu(incr)f(i)g Fv(done)q Fu(;)157 4144 y Fz(16)466 b Fv(while)47
b(not)h Fu(\(cmp)e(arr.\(!)o(j\))h(pivot)o(\))g Fv(do)h
Fu(decr)f(j)g Fv(done)q Fu(;)157 4257 y Fz(17)466 b Fv(if)47
b Fu(!i)h(<)f(!j)g Fv(then)h Fu(swap)e(arr)h(!i)g(!j;)157
4370 y Fz(18)370 b Fv(done)q Fu(;)157 4483 y Fz(19)g
Fv(let)48 b Fu(u)f(=)h(Thread)n(.create)e(\()o(qsort)h(lo)o(\))h(\(!)o
(i-1\))f Fv(in)157 4596 y Fz(20)370 b Fv(let)48 b Fu(v)f(=)h(Thread)n
(.create)e(\()o(qsort)h(\(!)o(i+1\)\))g(hi)g Fv(in)157
4709 y Fz(21)370 b Fu(Thread)o(.)o(join)47 b(u;)157 4822
y Fz(22)370 b Fu(Thread)o(.)o(join)47 b(v)157 4935 y
Fz(23)275 b Fv(end)48 b(in)157 5047 y Fz(24)179 b Fu(qsort)47
b(0)g(\(Array)o(.)o(length)f(arr)h(-)h(1\);;)-71 5190
y Fw(Il)c(serait)h(correct,)i(mais)d(inin)m(t)m(\023)-43
b(eressan)m(t)46 b(d'in)m(terv)m(ertir)e(les)g(lignes)g(20)i(et)g(21.)g
(En)f(e\013et,)h(cela)g(aurait)f(p)s(our)-71 5303 y(cons)m(\023)-43
b(equence)29 b(d'attendre)e(que)f(la)h(partie)f(base)h(du)f(tableau)h
(soit)f(tri)m(\023)-43 b(ee)28 b(p)s(our)d(lancer)i(le)f(tri)g(de)h(la)
f(partie)h(haute.)-71 5416 y(On)d(obtiendrait)f(alors)i(le)f(comp)s
(ortemen)m(t)i(d'un)d(programme)i(s)m(\023)-43 b(equen)m(tiel,)25
b(plus)e(le)h(co)s(^)-48 b(ut)26 b(des)e(copro)s(cessus)g(sans)-71
5529 y(en)30 b(retirer)g(aucun)g(b)m(\023)-43 b(en)m(\023)g(e\014ce.)p
Black Black eop
%%Page: 111 111
111 110 bop Black 3693 24 a Fw(111)p Black 70 280 a(En)29
b(pratique,)f(on)h(devrait)g(limiter)d(la)j(parall)m(\023)-43
b(elisation)28 b(\022)-45 b(a)29 b(un)f(facteur)i(raisonnable)d(et)j
(con)m(tin)m(uer)f(de)g(fa\030)-40 b(con)-71 393 y(s)m(\023)d(equen)m
(tielles)30 b(au)h(del\022)-45 b(a.)-71 637 y Fg(Exercice)36
b(17,)i(page)g(92)70 808 y Fw(Il)25 b(faut)h(in)m(tro)s(duire)e(une)h
(condition)g(suppl)m(\023)-43 b(emen)m(taire)25 b Fu(non_full)p
Fw(.)f(On)h(a)5 b(joute)24 b(\023)-43 b(egalemen)m(t)28
b(un)d(c)m(hamp)h Fu(size)-71 921 y Fw(p)s(our)j(p)s(ermettre)h(des)g
(queues)g(de)g(di\013)m(\023)-43 b(eren)m(tes)32 b(tailles.)193
1054 y Fz(1)83 b Fv(t)m(yp)s(e)48 b Fu('a)f(t)g(=)193
1167 y Fz(2)274 b Fu({)47 b(queue)g(:)g('a)g(Queue)o(.t)o(;)h(size)e(:)
i(int)o(;)g(lock)e(:)i(Mutex)n(.t;)193 1279 y Fz(3)369
b Fu(non_empty)46 b(:)h(Condition)n(.)o(t;)g(non_full)f(:)h(Condition)n
(.t)o(;)h(})193 1392 y Fz(4)193 1505 y(5)83 b Fv(let)53
b Fu(create)46 b(k)h(=)193 1618 y Fz(6)178 b Fv(if)104
b Fu(k)47 b(>)g(0)h Fv(then)193 1731 y Fz(7)274 b Fu({)47
b(queue)g(=)g(Queue)o(.)g(create)o(\(\);)f(size)h(=)h(k)o(;)g(lock)e(=)
i(Mutex)n(.)g(create)n(\(\);)193 1844 y Fz(8)369 b Fu(non_empty)46
b(=)h(Condition)n(.)g(create)n(\(\);)g(non_full)f(=)h(Condition)n
(.create)n(\(\))g(})193 1957 y Fz(9)178 b Fv(else)48
b Fu(failwith)e Fo("Tqueue)n(.create)n(:)h(empty)g(size)o(")o
Fu(;;)-71 2089 y Fw(L'a)5 b(jout)31 b(est)g(une)f(com)m(binaison)f(des)
h(v)m(ersions)g(pr)m(\023)-43 b(ec)m(\023)g(eden)m(tes)33
b(des)d(fonctions)g Fu(add)f Fw(et)i Fu(take)f Fw(ci-dessus.)157
2222 y Fz(10)84 b Fv(let)53 b Fu(add)47 b(x)g(q)h(=)157
2335 y Fz(11)179 b Fu(Mutex)o(.lock)46 b(q.lock)o(;)157
2448 y Fz(12)179 b Fv(while)48 b Fu(Queue)n(.length)e(q.queue)g(=)h
(q.size)157 2561 y Fz(13)179 b Fv(do)48 b Fu(Condition)n(.wait)e
(q.non_full)f(q.lock)h Fv(done)q Fu(;)157 2674 y Fz(14)179
b Fv(if)56 b Fu(Queue)n(.length)46 b(q.queue)g(=)i(0)f
Fv(then)g Fu(Condition)n(.broadcast)e(q.)o(non_empty)n(;)157
2786 y Fz(15)179 b Fu(Queue)o(.add)47 b(q)g(x;)157 2899
y Fz(16)179 b Fu(Mutex)o(.unlock)46 b(q.)o(lock)o(;;)-71
3032 y Fw(Le)25 b(retrait)g(est)g(sym)m(\023)-43 b(etrique)25
b(\022)-45 b(a)25 b(l'a)5 b(jout)24 b(\(et)i(doit)e(main)m(tenan)m(t)h
(signaler)f Fu(non_full)e Fw(lorsque)i(la)g(queue)h(est)g(pleine)-71
3145 y(a)m(v)-5 b(an)m(t)33 b(le)e(retrait\))g(et)h(est)g(laiss)m(\023)
-43 b(e)31 b(au)g(lecteur.)62 b(On)31 b(retrouv)m(e)h(le)f(comp)s
(ortemen)m(t)h(des)e(queues)h(non)g(b)s(orn)m(\023)-43
b(ees)31 b(en)-71 3258 y(c)m(hoisissan)m(t)f Fu(max_int)f
Fw(p)s(our)f Fu(size)p Fw(.)p Black Black eop
%%Page: 112 112
112 111 bop Black -71 24 a Fw(112)1973 b Fs(ANNEXE)31
b(A.)61 b(CORRIG)3005 1 y(\023)2993 24 y(E)29 b(DES)h(EXER)m(CICES)p
Black Black Black eop
%%Page: 113 113
113 112 bop Black Black -71 903 a Fr(Annexe)65 b(B)-71
1318 y FB(In)-6 b(terfaces)-71 1800 y Fq(B.1)135 b(Mo)t(dule)44
b Fp(Sys)g Fq(:)60 b(System)45 b(in)l(terface.)-71 2028
y Fu(val)i(argv)g(:)g(string)f(array)p Black Black 156
2166 a Fw(The)30 b(command)g(line)f(argumen)m(ts)i(giv)m(en)f(to)h(the)
g(pro)s(cess.)40 b(The)30 b(\014rst)g(elemen)m(t)g(is)g(the)g(command)h
(name)156 2279 y(used)f(to)h(in)m(v)m(ok)m(e)g(the)g(program.)40
b(The)30 b(follo)m(wing)f(elemen)m(ts)i(are)g(the)f(command-line)f
(argumen)m(ts)i(giv)m(en)156 2392 y(to)h(the)e(program.)-71
2605 y Fu(val)47 b(executable_name)d(:)j(string)p Black
Black 156 2744 a Fw(The)30 b(name)h(of)f(the)h(\014le)e(con)m(taining)h
(the)h(executable)g(curren)m(tly)e(running.)-71 2957
y Fu(val)47 b(file_exists)e(:)i(string)f(->)h(bool)p
Black Black 156 3095 a Fw(T)-8 b(est)31 b(if)f(a)g(\014le)g(with)f(the)
i(giv)m(en)f(name)g(exists.)-71 3308 y Fu(val)47 b(remove)f(:)i(string)
e(->)h(unit)p Black Black 156 3446 a Fw(Remo)m(v)m(e)33
b(the)d(giv)m(en)h(\014le)e(name)h(from)g(the)h(\014le)e(system.)-71
3659 y Fu(val)47 b(rename)f(:)i(string)e(->)h(string)f(->)h(unit)p
Black Black 156 3798 a Fw(Rename)31 b(a)g(\014le.)40
b(The)30 b(\014rst)f(argumen)m(t)i(is)e(the)i(old)f(name)g(and)g(the)g
(second)h(is)e(the)i(new)f(name.)-71 4011 y Fu(val)47
b(getenv)f(:)i(string)e(->)h(string)p Black Black 156
4149 a Fw(Return)30 b(the)h(v)-5 b(alue)29 b(asso)s(ciated)i(to)g(a)g
(v)-5 b(ariable)29 b(in)g(the)i(pro)s(cess)f(en)m(vironmen)m(t.)40
b(Raise)30 b Fu(Not_)o(found)f Fw(if)156 4262 y(the)i(v)-5
b(ariable)29 b(is)h(un)m(b)s(ound.)-71 4475 y Fu(val)47
b(command)f(:)h(string)f(->)i(int)p Black Black 156 4613
a Fw(Execute)32 b(the)e(giv)m(en)h(shell)d(command)i(and)g(return)f
(its)h(exit)g(co)s(de.)-71 4826 y Fu(val)47 b(time)g(:)g(unit)g(->)g
(float)p Black Black 156 4964 a Fw(Return)27 b(the)h(pro)s(cessor)f
(time,)h(in)e(seconds,)i(used)f(b)m(y)g(the)h(program)f(since)g(the)g
(b)s(eginning)e(of)j(execution.)-71 5178 y Fu(val)47
b(chdir)f(:)i(string)e(->)h(unit)p Black Black 156 5316
a Fw(Change)31 b(the)f(curren)m(t)g(w)m(orking)g(directory)g(of)h(the)f
(pro)s(cess.)-71 5529 y Fu(val)47 b(getcwd)f(:)i(unit)e(->)h(string)p
Black 1811 5757 a Fw(113)p Black eop
%%Page: 114 114
114 113 bop Black -71 24 a Fw(114)2600 b Fs(ANNEXE)30
b(B.)62 b(INTERF)-10 b(A)m(CES)p Black Black Black 156
280 a Fw(Return)30 b(the)h(curren)m(t)f(w)m(orking)f(directory)h(of)h
(the)f(pro)s(cess.)-71 533 y Fu(val)47 b(interactive)e(:)i(bool)g
(Pervasives.ref)p Black Black 156 691 a Fw(This)29 b(reference)i(is)e
(initially)e(set)k(to)g Fu(false)e Fw(in)g(standalone)h(programs)g(and)
g(to)h Fu(true)e Fw(if)h(the)g(co)s(de)h(is)156 804 y(b)s(eing)e
(executed)j(under)c(the)j(in)m(teractiv)m(e)g(toplev)m(el)g(system)f
Fu(ocaml)p Fw(.)-71 1057 y Fu(val)47 b(os_type)f(:)h(string)p
Black Black 156 1216 a Fw(Op)s(erating)29 b(system)i(curren)m(tly)e
(executing)i(the)g(Caml)e(program.)40 b(One)30 b(of)h
Fu(Unix)e Fw(\(for)i(all)e(Unix)156 1328 y(v)m(ersions,)h(including)d
(Lin)m(ux)i(and)h(Mac)h(OS)f(X\),)h Fu(Win32)e Fw(\(for)h(MS-Windo)m
(ws,)g(OCaml)f(compiled)g(with)156 1441 y(MSV)m(C++\),)i
Fu(Cygwin)e Fw(\(for)h(MS-Windo)m(ws,)g(OCaml)f(compiled)g(with)g
(Cygwin\),)g Fu(MacOS)g Fw(\(for)i(MacOS)156 1554 y(9\).)-71
1807 y Fu(val)47 b(word_size)e(:)j(int)p Black Black
156 1965 a Fw(Size)30 b(of)h(one)f(w)m(ord)g(on)h(the)f(mac)m(hine)g
(curren)m(tly)g(executing)g(the)h(Caml)e(program,)i(in)e(bits:)39
b(32)32 b(or)e(64.)-71 2219 y Fu(val)47 b(max_string_length)c(:)48
b(int)p Black Black 156 2377 a Fw(Maxim)m(um)30 b(length)g(of)h(a)f
(string.)-71 2630 y Fu(val)47 b(max_array_length)c(:)48
b(int)p Black Black 156 2788 a Fw(Maxim)m(um)30 b(length)g(of)h(an)f
(arra)m(y)-8 b(.)-71 3194 y Fg(Signal)37 b(handling)-71
3411 y Fu(type)94 b(signal_behavior)44 b(=)25 3523 y(|)j
(Signal_default)25 3636 y(|)g(Signal_ignore)25 3749 y(|)g
(Signal_handle)d(of)j(\(int)g(->)g(unit\))p Black Black
384 3907 a Fw(What)31 b(to)g(do)f(when)f(receiving)h(a)h(signal:)p
Black 493 4136 a Fc(\017)p Black 46 w Fu(Signal_)n(default)p
Fw(:)39 b(tak)m(e)31 b(the)g(default)f(b)s(eha)m(vior)f(\(usually:)39
b(ab)s(ort)30 b(the)h(program\))p Black 493 4302 a Fc(\017)p
Black 46 w Fu(Signal_)n(ignore)p Fw(:)39 b(ignore)30
b(the)g(signal)p Black 493 4468 a Fc(\017)p Black 46
w Fu(Signal_)n(handle)46 b(f)p Fw(:)40 b(call)30 b(function)f
Fu(f)p Fw(,)h(giving)f(it)h(the)h(signal)e(n)m(um)m(b)s(er)g(as)i
(argumen)m(t.)-71 4721 y Fu(val)47 b(signal)f(:)i(int)e(->)i
(signal_behavior)43 b(->)k(signal_behavior)p Black Black
156 4880 a Fw(Set)31 b(the)g(b)s(eha)m(vior)e(of)i(the)f(system)h(on)f
(receipt)g(of)h(a)f(giv)m(en)h(signal.)39 b(The)30 b(\014rst)g(argumen)
m(t)h(is)e(the)i(signal)156 4992 y(n)m(um)m(b)s(er.)40
b(Return)29 b(the)i(b)s(eha)m(vior)e(previously)g(asso)s(ciated)h(with)
f(the)i(signal.)-71 5246 y Fu(val)47 b(set_signal)e(:)i(int)g(->)h
(signal_behavior)43 b(->)k(unit)p Black Black 156 5404
a Fw(Same)31 b(as)f Fu(Sys.signal)e Fw(but)i(return)f(v)-5
b(alue)30 b(is)f(ignored.)p Black Black eop
%%Page: 115 115
115 114 bop Black -71 24 a Fs(B.1.)72 b(MODULE)31 b Fu(SYS)e
Fs(:)i(SYSTEM)e(INTERF)-10 b(A)m(CE.)1890 b Fw(115)p
Black -71 280 a Fv(Signal)35 b(n)m(um)m(b)s(ers)g(for)g(the)f(standard)
h(POSIX)g(signals.)-71 477 y Fu(val)47 b(sigabrt)f(:)h(int)p
Black Black 156 615 a Fw(Abnormal)29 b(termination)-71
828 y Fu(val)47 b(sigalrm)f(:)h(int)p Black Black 156
966 a Fw(Timeout)-71 1179 y Fu(val)g(sigfpe)f(:)i(int)p
Black Black 156 1317 a Fw(Arithmetic)30 b(exception)-71
1530 y Fu(val)47 b(sighup)f(:)i(int)p Black Black 156
1668 a Fw(Hangup)30 b(on)h(con)m(trolling)e(terminal)-71
1881 y Fu(val)47 b(sigill)f(:)i(int)p Black Black 156
2019 a Fw(In)m(v)-5 b(alid)29 b(hardw)m(are)h(instruction)-71
2232 y Fu(val)47 b(sigint)f(:)i(int)p Black Black 156
2370 a Fw(In)m(teractiv)m(e)32 b(in)m(terrupt)d(\(ctrl-C\))-71
2583 y Fu(val)47 b(sigkill)f(:)h(int)p Black Black 156
2721 a Fw(T)-8 b(ermination)29 b(\(cannot)j(b)s(e)d(ignored\))-71
2934 y Fu(val)47 b(sigpipe)f(:)h(int)p Black Black 156
3072 a Fw(Brok)m(en)32 b(pip)s(e)-71 3285 y Fu(val)47
b(sigquit)f(:)h(int)p Black Black 156 3423 a Fw(In)m(teractiv)m(e)32
b(termination)-71 3636 y Fu(val)47 b(sigsegv)f(:)h(int)p
Black Black 156 3774 a Fw(In)m(v)-5 b(alid)29 b(memory)h(reference)-71
3987 y Fu(val)47 b(sigterm)f(:)h(int)p Black Black 156
4125 a Fw(T)-8 b(ermination)-71 4338 y Fu(val)47 b(sigusr1)f(:)h(int)p
Black Black 156 4476 a Fw(Application-de\014ned)28 b(signal)h(1)-71
4689 y Fu(val)47 b(sigusr2)f(:)h(int)p Black Black 156
4827 a Fw(Application-de\014ned)28 b(signal)h(2)-71 5040
y Fu(val)47 b(sigchld)f(:)h(int)p Black Black 156 5178
a Fw(Child)28 b(pro)s(cess)i(terminated)-71 5391 y Fu(val)47
b(sigcont)f(:)h(int)p Black Black 156 5529 a Fw(Con)m(tin)m(ue)p
Black Black eop
%%Page: 116 116
116 115 bop Black -71 24 a Fw(116)2600 b Fs(ANNEXE)30
b(B.)62 b(INTERF)-10 b(A)m(CES)p Black -71 280 a Fu(val)47
b(sigstop)f(:)h(int)p Black Black 156 417 a Fw(Stop)-71
625 y Fu(val)g(sigtstp)f(:)h(int)p Black Black 156 762
a Fw(In)m(teractiv)m(e)32 b(stop)-71 970 y Fu(val)47
b(sigttin)f(:)h(int)p Black Black 156 1107 a Fw(T)-8
b(erminal)29 b(read)h(from)g(bac)m(kground)g(pro)s(cess)-71
1315 y Fu(val)47 b(sigttou)f(:)h(int)p Black Black 156
1452 a Fw(T)-8 b(erminal)29 b(write)h(from)f(bac)m(kground)i(pro)s
(cess)-71 1660 y Fu(val)47 b(sigvtalrm)e(:)j(int)p Black
Black 156 1797 a Fw(Timeout)30 b(in)f(virtual)g(time)-71
2005 y Fu(val)47 b(sigprof)f(:)h(int)p Black Black 156
2142 a Fw(Pro\014ling)29 b(in)m(terrupt)-71 2350 y Fu(exception)45
b(Break)p Black Black 156 2487 a Fw(Exception)30 b(raised)g(on)g(in)m
(teractiv)m(e)h(in)m(terrupt)e(if)h Fu(Sys.catch_)m(break)f
Fw(is)g(on.)-71 2695 y Fu(val)47 b(catch_break)e(:)i(bool)g(->)g(unit)p
Black Black 156 2832 a(catch_)o(break)29 b Fw(go)m(v)m(erns)i(whether)f
(in)m(teractiv)m(e)h(in)m(terrupt)e(\(ctrl-C\))i(terminates)f(the)g
(program)h(or)156 2945 y(raises)f(the)h Fu(Break)e Fw(exception.)41
b(Call)28 b Fu(catch_)o(break)46 b(true)29 b Fw(to)j(enable)d(raising)g
Fu(Break)p Fw(,)g(and)156 3058 y Fu(catch_)o(break)46
b(false)29 b Fw(to)i(let)f(the)h(system)g(terminate)f(the)h(program)f
(on)g(user)g(in)m(terrupt.)-71 3266 y Fu(val)47 b(ocaml_version)d(:)k
(string)p Black Black 156 3403 a(ocaml_)o(version)28
b Fw(is)i(the)g(v)m(ersion)g(of)h(Ob)5 b(jectiv)m(e)30
b(Caml.)40 b(It)30 b(is)g(a)h(string)e(of)h(the)h(form)156
3516 y Fu(major.minor[additional-inf)o(o])24 b Fw(Where)31
b(ma)5 b(jor)30 b(and)g(minor)f(are)i(in)m(tegers,)f(and)156
3629 y Fu(additional-info)d Fw(is)i(a)i(string)e(that)i(is)f(empt)m(y)g
(or)h(starts)f(with)g(a)g('+'.)-71 3986 y Fq(B.2)135
b(Mo)t(dule)44 b Fp(Unix)f Fq(:)60 b(In)l(terface)47
b(to)e(the)g(Unix)g(system)-71 4192 y Fg(Error)36 b(rep)s(ort)-71
4387 y Fu(type)94 b(error)47 b(=)25 4500 y(|)g(E2BIG)p
Black Black 384 4637 a Fw(Argumen)m(t)30 b(list)f(to)s(o)i(long)25
4798 y Fu(|)47 b(EACCES)p Black Black 384 4934 a Fw(P)m(ermission)28
b(denied)25 5095 y Fu(|)47 b(EAGAIN)p Black Black 384
5232 a Fw(Resource)31 b(temp)s(orarily)d(una)m(v)-5 b(ailable;)29
b(try)h(again)25 5392 y Fu(|)47 b(EBADF)p Black Black
384 5529 a Fw(Bad)30 b(\014le)g(descriptor)p Black Black
eop
%%Page: 117 117
117 116 bop Black -71 24 a Fs(B.2.)72 b(MODULE)31 b Fu(UNIX)e
Fs(:)i(INTERF)-10 b(A)m(CE)30 b(TO)f(THE)h(UNIX)h(SYSTEM)1206
b Fw(117)p Black 25 280 a Fu(|)47 b(EBUSY)p Black Black
384 418 a Fw(Resource)31 b(una)m(v)-5 b(ailable)25 581
y Fu(|)47 b(ECHILD)p Black Black 384 719 a Fw(No)31 b(c)m(hild)d(pro)s
(cess)25 882 y Fu(|)47 b(EDEADLK)p Black Black 384 1019
a Fw(Resource)31 b(deadlo)s(c)m(k)f(w)m(ould)f(o)s(ccur)25
1182 y Fu(|)47 b(EDOM)p Black Black 384 1320 a Fw(Domain)30
b(error)g(for)g(math)g(functions,)g(etc.)25 1483 y Fu(|)47
b(EEXIST)p Black Black 384 1621 a Fw(File)29 b(exists)25
1783 y Fu(|)47 b(EFAULT)p Black Black 384 1921 a Fw(Bad)30
b(address)25 2084 y Fu(|)47 b(EFBIG)p Black Black 384
2222 a Fw(File)29 b(to)s(o)i(large)25 2385 y Fu(|)47
b(EINTR)p Black Black 384 2523 a Fw(F)-8 b(unction)30
b(in)m(terrupted)f(b)m(y)h(signal)25 2685 y Fu(|)47 b(EINVAL)p
Black Black 384 2823 a Fw(In)m(v)-5 b(alid)28 b(argumen)m(t)25
2986 y Fu(|)47 b(EIO)p Black Black 384 3124 a Fw(Hardw)m(are)30
b(I/O)h(error)25 3287 y Fu(|)47 b(EISDIR)p Black Black
384 3425 a Fw(Is)30 b(a)g(directory)25 3587 y Fu(|)47
b(EMFILE)p Black Black 384 3725 a Fw(T)-8 b(o)s(o)30
b(man)m(y)h(op)s(en)f(\014les)f(b)m(y)h(the)h(pro)s(cess)25
3888 y Fu(|)47 b(EMLINK)p Black Black 384 4026 a Fw(T)-8
b(o)s(o)30 b(man)m(y)h(links)25 4189 y Fu(|)47 b(ENAMETOOLONG)p
Black Black 384 4326 a Fw(Filename)29 b(to)s(o)i(long)25
4489 y Fu(|)47 b(ENFILE)p Black Black 384 4627 a Fw(T)-8
b(o)s(o)30 b(man)m(y)h(op)s(en)f(\014les)f(in)g(the)i(system)25
4790 y Fu(|)47 b(ENODEV)p Black Black 384 4928 a Fw(No)31
b(suc)m(h)f(device)25 5090 y Fu(|)47 b(ENOENT)p Black
Black 384 5228 a Fw(No)31 b(suc)m(h)f(\014le)f(or)h(directory)25
5391 y Fu(|)47 b(ENOEXEC)p Black Black 384 5529 a Fw(Not)31
b(an)f(executable)h(\014le)p Black Black eop
%%Page: 118 118
118 117 bop Black -71 24 a Fw(118)2600 b Fs(ANNEXE)30
b(B.)62 b(INTERF)-10 b(A)m(CES)p Black 25 280 a Fu(|)47
b(ENOLCK)p Black Black 384 418 a Fw(No)31 b(lo)s(c)m(ks)f(a)m(v)-5
b(ailable)25 581 y Fu(|)47 b(ENOMEM)p Black Black 384
719 a Fw(Not)31 b(enough)f(memory)25 882 y Fu(|)47 b(ENOSPC)p
Black Black 384 1019 a Fw(No)31 b(space)g(left)f(on)g(device)25
1182 y Fu(|)47 b(ENOSYS)p Black Black 384 1320 a Fw(F)-8
b(unction)30 b(not)g(supp)s(orted)25 1483 y Fu(|)47 b(ENOTDIR)p
Black Black 384 1621 a Fw(Not)31 b(a)g(directory)25 1783
y Fu(|)47 b(ENOTEMPTY)p Black Black 384 1921 a Fw(Directory)30
b(not)h(empt)m(y)25 2084 y Fu(|)47 b(ENOTTY)p Black Black
384 2222 a Fw(Inappropriate)28 b(I/O)j(con)m(trol)g(op)s(eration)25
2385 y Fu(|)47 b(ENXIO)p Black Black 384 2523 a Fw(No)31
b(suc)m(h)f(device)g(or)g(address)25 2685 y Fu(|)47 b(EPERM)p
Black Black 384 2823 a Fw(Op)s(eration)29 b(not)h(p)s(ermitted)25
2986 y Fu(|)47 b(EPIPE)p Black Black 384 3124 a Fw(Brok)m(en)31
b(pip)s(e)25 3287 y Fu(|)47 b(ERANGE)p Black Black 384
3425 a Fw(Result)29 b(to)s(o)i(large)25 3587 y Fu(|)47
b(EROFS)p Black Black 384 3725 a Fw(Read-only)30 b(\014le)f(system)25
3888 y Fu(|)47 b(ESPIPE)p Black Black 384 4026 a Fw(In)m(v)-5
b(alid)28 b(seek)j(e.g.)42 b(on)30 b(a)h(pip)s(e)25 4189
y Fu(|)47 b(ESRCH)p Black Black 384 4326 a Fw(No)31 b(suc)m(h)f(pro)s
(cess)25 4489 y Fu(|)47 b(EXDEV)p Black Black 384 4627
a Fw(In)m(v)-5 b(alid)28 b(link)25 4790 y Fu(|)47 b(EWOULDBLOCK)p
Black Black 384 4928 a Fw(Op)s(eration)29 b(w)m(ould)g(blo)s(c)m(k)25
5090 y Fu(|)47 b(EINPROGRESS)p Black Black 384 5228 a
Fw(Op)s(eration)29 b(no)m(w)h(in)f(progress)25 5391 y
Fu(|)47 b(EALREADY)p Black Black 384 5529 a Fw(Op)s(eration)29
b(already)h(in)f(progress)p Black Black eop
%%Page: 119 119
119 118 bop Black -71 24 a Fs(B.2.)72 b(MODULE)31 b Fu(UNIX)e
Fs(:)i(INTERF)-10 b(A)m(CE)30 b(TO)f(THE)h(UNIX)h(SYSTEM)1206
b Fw(119)p Black 25 280 a Fu(|)47 b(ENOTSOCK)p Black
Black 384 418 a Fw(So)s(c)m(k)m(et)32 b(op)s(eration)d(on)i(non-so)s(c)
m(k)m(et)25 581 y Fu(|)47 b(EDESTADDRREQ)p Black Black
384 719 a Fw(Destination)30 b(address)f(required)25 882
y Fu(|)47 b(EMSGSIZE)p Black Black 384 1019 a Fw(Message)32
b(to)s(o)f(long)25 1182 y Fu(|)47 b(EPROTOTYPE)p Black
Black 384 1320 a Fw(Proto)s(col)30 b(wrong)g(t)m(yp)s(e)h(for)f(so)s(c)
m(k)m(et)25 1483 y Fu(|)47 b(ENOPROTOOPT)p Black Black
384 1621 a Fw(Proto)s(col)30 b(not)h(a)m(v)-5 b(ailable)25
1783 y Fu(|)47 b(EPROTONOSUPPORT)p Black Black 384 1921
a Fw(Proto)s(col)30 b(not)h(supp)s(orted)25 2084 y Fu(|)47
b(ESOCKTNOSUPPORT)p Black Black 384 2222 a Fw(So)s(c)m(k)m(et)32
b(t)m(yp)s(e)e(not)h(supp)s(orted)25 2385 y Fu(|)47 b(EOPNOTSUPP)p
Black Black 384 2523 a Fw(Op)s(eration)29 b(not)h(supp)s(orted)f(on)h
(so)s(c)m(k)m(et)25 2685 y Fu(|)47 b(EPFNOSUPPORT)p Black
Black 384 2823 a Fw(Proto)s(col)30 b(family)f(not)i(supp)s(orted)25
2986 y Fu(|)47 b(EAFNOSUPPORT)p Black Black 384 3124
a Fw(Address)29 b(family)g(not)h(supp)s(orted)f(b)m(y)h(proto)s(col)g
(family)25 3287 y Fu(|)47 b(EADDRINUSE)p Black Black
384 3425 a Fw(Address)29 b(already)h(in)f(use)25 3587
y Fu(|)47 b(EADDRNOTAVAIL)p Black Black 384 3725 a Fw(Can't)30
b(assign)g(requested)g(address)25 3888 y Fu(|)47 b(ENETDOWN)p
Black Black 384 4026 a Fw(Net)m(w)m(ork)32 b(is)d(do)m(wn)25
4189 y Fu(|)47 b(ENETUNREACH)p Black Black 384 4326 a
Fw(Net)m(w)m(ork)32 b(is)d(unreac)m(hable)25 4489 y Fu(|)47
b(ENETRESET)p Black Black 384 4627 a Fw(Net)m(w)m(ork)32
b(dropp)s(ed)c(connection)i(on)h(reset)25 4790 y Fu(|)47
b(ECONNABORTED)p Black Black 384 4928 a Fw(Soft)m(w)m(are)31
b(caused)g(connection)f(ab)s(ort)25 5090 y Fu(|)47 b(ECONNRESET)p
Black Black 384 5228 a Fw(Connection)29 b(reset)i(b)m(y)g(p)s(eer)25
5391 y Fu(|)47 b(ENOBUFS)p Black Black 384 5529 a Fw(No)31
b(bu\013er)e(space)i(a)m(v)-5 b(ailable)p Black Black
eop
%%Page: 120 120
120 119 bop Black -71 24 a Fw(120)2600 b Fs(ANNEXE)30
b(B.)62 b(INTERF)-10 b(A)m(CES)p Black 25 280 a Fu(|)47
b(EISCONN)p Black Black 384 429 a Fw(So)s(c)m(k)m(et)32
b(is)d(already)h(connected)25 602 y Fu(|)47 b(ENOTCONN)p
Black Black 384 750 a Fw(So)s(c)m(k)m(et)32 b(is)d(not)i(connected)25
924 y Fu(|)47 b(ESHUTDOWN)p Black Black 384 1072 a Fw(Can't)30
b(send)g(after)h(so)s(c)m(k)m(et)h(sh)m(utdo)m(wn)25
1245 y Fu(|)47 b(ETOOMANYREFS)p Black Black 384 1393
a Fw(T)-8 b(o)s(o)30 b(man)m(y)h(references:)41 b(can't)31
b(splice)25 1567 y Fu(|)47 b(ETIMEDOUT)p Black Black
384 1715 a Fw(Connection)29 b(timed)h(out)25 1888 y Fu(|)47
b(ECONNREFUSED)p Black Black 384 2037 a Fw(Connection)29
b(refused)25 2210 y Fu(|)47 b(EHOSTDOWN)p Black Black
384 2358 a Fw(Host)31 b(is)e(do)m(wn)25 2532 y Fu(|)47
b(EHOSTUNREACH)p Black Black 384 2680 a Fw(No)31 b(route)f(to)h(host)25
2853 y Fu(|)47 b(ELOOP)p Black Black 384 3002 a Fw(T)-8
b(o)s(o)30 b(man)m(y)h(lev)m(els)f(of)g(sym)m(b)s(olic)f(links)25
3175 y Fu(|)47 b(EOVERFLOW)p Black Black 384 3323 a Fw(File)29
b(size)h(or)h(p)s(osition)d(not)j(represen)m(table)25
3496 y Fu(|)47 b(EUNKNOWNERR)e(of)i(int)p Black Black
384 3645 a Fw(Unkno)m(wn)29 b(error)p Black Black 156
3823 a(The)h(t)m(yp)s(e)h(of)f(error)g(co)s(des.)41 b(Errors)29
b(de\014ned)h(in)f(the)h(POSIX)g(standard)f(and)h(additional)e(errors)i
(from)156 3936 y(UNIX98)i(and)e(BSD.)h(All)e(other)h(errors)g(are)h
(mapp)s(ed)e(to)i(EUNKNO)m(WNERR.)-71 4170 y Fu(exception)45
b(Unix_error)g(of)j(error)e(*)h(string)f(*)i(string)p
Black Black 156 4318 a Fw(Raised)30 b(b)m(y)g(the)h(system)f(calls)g(b)
s(elo)m(w)g(when)f(an)h(error)g(is)g(encoun)m(tered.)41
b(The)30 b(\014rst)f(comp)s(onen)m(t)i(is)e(the)156 4431
y(error)h(co)s(de;)h(the)g(second)f(comp)s(onen)m(t)h(is)e(the)i
(function)e(name;)i(the)f(third)f(comp)s(onen)m(t)h(is)g(the)g(string)
156 4544 y(parameter)h(to)g(the)g(function,)e(if)h(it)f(has)i(one,)g
(or)f(the)g(empt)m(y)h(string)f(otherwise.)-71 4778 y
Fu(val)47 b(error_message)d(:)k(error)e(->)h(string)p
Black Black 156 4926 a Fw(Return)30 b(a)h(string)e(describing)f(the)j
(giv)m(en)f(error)g(co)s(de.)-71 5160 y Fu(val)47 b(handle_unix_error)c
(:)48 b(\('a)e(->)i('b\))f(->)g('a)g(->)g('b)p Black
Black 156 5308 a(handle_)n(unix_)o(error)f(f)i(x)30 b
Fw(applies)f Fu(f)h Fw(to)h Fu(x)f Fw(and)f(returns)h(the)g(result.)40
b(If)30 b(the)g(exception)h Fu(Unix_)n(error)156 5421
y Fw(is)f(raised,)f(it)h(prin)m(ts)f(a)i(message)g(describing)e(the)h
(error)g(and)g(exits)g(with)f(co)s(de)i(2.)p Black Black
eop
%%Page: 121 121
121 120 bop Black -71 24 a Fs(B.2.)72 b(MODULE)31 b Fu(UNIX)e
Fs(:)i(INTERF)-10 b(A)m(CE)30 b(TO)f(THE)h(UNIX)h(SYSTEM)1206
b Fw(121)p Black -71 280 a Fg(Access)37 b(to)g(the)h(pro)s(cess)g(en)m
(vironmen)m(t)-71 478 y Fu(val)47 b(environment)e(:)i(unit)g(->)g
(string)f(array)p Black Black 156 617 a Fw(Return)30
b(the)h(pro)s(cess)e(en)m(vironmen)m(t,)i(as)f(an)h(arra)m(y)f(of)h
(strings)e(with)g(the)i(format)g(\\v)-5 b(ariable=v)g(alue".)-71
832 y Fu(val)47 b(getenv)f(:)i(string)e(->)h(string)p
Black Black 156 971 a Fw(Return)30 b(the)h(v)-5 b(alue)29
b(asso)s(ciated)i(to)g(a)g(v)-5 b(ariable)29 b(in)g(the)i(pro)s(cess)f
(en)m(vironmen)m(t.)40 b(Raise)30 b Fu(Not_)o(found)f
Fw(if)156 1084 y(the)i(v)-5 b(ariable)29 b(is)h(un)m(b)s(ound.)38
b(\(This)29 b(function)g(is)g(iden)m(tical)g(to)i Fu(Sys.getenv)p
Fw(.\))-71 1298 y Fu(val)47 b(putenv)f(:)i(string)e(->)h(string)f(->)h
(unit)p Black Black 156 1437 a(Unix.putenv)e(name)i(value)26
b Fw(sets)h(the)g(v)-5 b(alue)27 b(asso)s(ciated)h(to)g(a)f(v)-5
b(ariable)26 b(in)g(the)h(pro)s(cess)g(en)m(vironmen)m(t.)156
1550 y Fu(name)j Fw(is)f(the)i(name)f(of)h(the)f(en)m(vironmen)m(t)g(v)
-5 b(ariable,)30 b(and)f Fu(value)g Fw(its)h(new)g(asso)s(ciated)h(v)-5
b(alue.)-71 1873 y Fg(Pro)s(cess)37 b(handling)-71 2071
y Fu(type)94 b(process_status)44 b(=)25 2184 y(|)j(WEXITED)f(of)h(int)p
Black Black 384 2323 a Fw(The)30 b(pro)s(cess)f(terminated)h(normally)f
(b)m(y)h Fu(exit)p Fw(;)g(the)g(argumen)m(t)h(is)e(the)i(return)e(co)s
(de.)25 2487 y Fu(|)47 b(WSIGNALED)e(of)i(int)p Black
Black 384 2626 a Fw(The)30 b(pro)s(cess)f(w)m(as)i(killed)d(b)m(y)i(a)h
(signal;)f(the)g(argumen)m(t)h(is)e(the)i(signal)e(n)m(um)m(b)s(er.)25
2790 y Fu(|)47 b(WSTOPPED)f(of)h(int)p Black Black 384
2929 a Fw(The)30 b(pro)s(cess)f(w)m(as)i(stopp)s(ed)f(b)m(y)g(a)h
(signal;)e(the)i(argumen)m(t)f(is)g(the)g(signal)f(n)m(um)m(b)s(er.)p
Black Black 156 3093 a(The)h(termination)f(status)i(of)g(a)f(pro)s
(cess.)-71 3308 y Fu(type)94 b(wait_flag)46 b(=)25 3421
y(|)h(WNOHANG)p Black Black 384 3560 a Fw(do)30 b(not)h(blo)s(c)m(k)e
(if)h(no)g(c)m(hild)f(has)h(died)f(y)m(et,)j(but)d(immediately)g
(return)g(with)g(a)i(pid)e(equal)h(to)h(0.)25 3724 y
Fu(|)47 b(WUNTRACED)p Black Black 384 3863 a Fw(rep)s(ort)29
b(also)i(the)f(c)m(hildren)f(that)i(receiv)m(e)g(stop)f(signals.)p
Black Black 156 4027 a(Flags)h(for)f Fu(Unix.waitpid)p
Fw(.)-71 4242 y Fu(val)47 b(execv)f(:)i(string)e(->)h(string)f(array)h
(->)g(unit)p Black Black 156 4381 a(execv)g(prog)f(args)30
b Fw(execute)h(the)g(program)f(in)f(\014le)h Fu(prog)p
Fw(,)f(with)g(the)i(argumen)m(ts)f Fu(args)p Fw(,)g(and)g(the)156
4494 y(curren)m(t)h(pro)s(cess)e(en)m(vironmen)m(t.)-71
4708 y Fu(val)47 b(execve)f(:)i(string)e(->)h(string)f(array)g(->)h
(string)g(array)f(->)h(unit)p Black Black 156 4847 a
Fw(Same)31 b(as)f Fu(Unix.execv)p Fw(,)e(except)k(that)f(the)f(third)f
(argumen)m(t)i(pro)m(vides)e(the)h(en)m(vironmen)m(t)g(to)i(the)156
4960 y(program)f(executed.)-71 5175 y Fu(val)47 b(execvp)f(:)i(string)e
(->)h(string)f(array)g(->)h(unit)p Black Black 156 5314
a Fw(Same)31 b(as)f Fu(Unix.execv)e Fw(resp)s(ectiv)m(ely)-8
b(,)30 b(except)i(that)f(the)f(program)g(is)g(searc)m(hed)h(in)e(the)h
(path.)-71 5529 y Fu(val)47 b(execvpe)f(:)h(string)f(->)i(string)e
(array)g(->)h(string)f(array)h(->)g(unit)p Black Black
eop
%%Page: 122 122
122 121 bop Black -71 24 a Fw(122)2600 b Fs(ANNEXE)30
b(B.)62 b(INTERF)-10 b(A)m(CES)p Black Black Black 156
280 a Fw(Same)31 b(as)f Fu(Unix.execvp)e Fw(resp)s(ectiv)m(ely)-8
b(,)30 b(except)h(that)g(the)g(program)f(is)g(searc)m(hed)g(in)g(the)g
(path.)-71 484 y Fu(val)47 b(fork)g(:)g(unit)g(->)g(int)p
Black Black 156 619 a Fw(F)-8 b(ork)32 b(a)e(new)g(pro)s(cess.)40
b(The)30 b(returned)f(in)m(teger)i(is)f(0)g(for)h(the)f(c)m(hild)f(pro)
s(cess,)h(the)h(pid)d(of)j(the)f(c)m(hild)156 732 y(pro)s(cess)g(for)g
(the)h(paren)m(t)g(pro)s(cess.)-71 936 y Fu(val)47 b(wait)g(:)g(unit)g
(->)g(int)g(*)g(process_status)p Black Black 156 1071
a Fw(W)-8 b(ait)32 b(un)m(til)c(one)j(of)f(the)h(c)m(hildren)d(pro)s
(cesses)i(die,)g(and)g(return)f(its)h(pid)f(and)g(termination)h
(status.)-71 1275 y Fu(val)47 b(waitpid)f(:)h(wait_flag)f(list)g(->)h
(int)g(->)g(int)g(*)h(process_status)p Black Black 156
1410 a Fw(Same)31 b(as)f Fu(Unix.wait)p Fw(,)f(but)g(w)m(aits)i(for)f
(the)g(pro)s(cess)g(whose)g(pid)f(is)g(giv)m(en.)41 b(A)31
b(pid)d(of)j Fu(-1)e Fw(means)i(w)m(ait)156 1523 y(for)g(an)m(y)f(c)m
(hild.)39 b(A)31 b(pid)d(of)j Fu(0)f Fw(means)g(w)m(ait)h(for)f(an)m(y)
h(c)m(hild)d(in)h(the)i(same)g(pro)s(cess)f(group)f(as)i(the)g(curren)m
(t)156 1636 y(pro)s(cess.)41 b(Negativ)m(e)32 b(pid)d(argumen)m(ts)h
(represen)m(t)h(pro)s(cess)f(groups.)40 b(The)29 b(list)g(of)i(options)
f(indicates)156 1749 y(whether)g Fu(waitpid)f Fw(should)f(return)h
(immediately)g(without)g(w)m(aiting,)h(or)h(also)f(rep)s(ort)g(stopp)s
(ed)156 1862 y(c)m(hildren.)-71 2065 y Fu(val)47 b(system)f(:)i(string)
e(->)h(process_status)p Black Black 156 2201 a Fw(Execute)32
b(the)e(giv)m(en)h(command,)f(w)m(ait)g(un)m(til)f(it)h(terminates,)h
(and)e(return)h(its)f(termination)h(status.)156 2314
y(The)g(string)g(is)f(in)m(terpreted)h(b)m(y)g(the)h(shell)d
Fu(/bin/sh)g Fw(and)i(therefore)h(can)g(con)m(tain)f(redirections,)156
2427 y(quotes,)h(v)-5 b(ariables,)29 b(etc.)41 b(The)30
b(result)e Fu(WEXITED)46 b(127)29 b Fw(indicates)g(that)h(the)g(shell)e
(couldn't)h(b)s(e)g(executed.)-71 2630 y Fu(val)47 b(getpid)f(:)i(unit)
e(->)h(int)p Black Black 156 2766 a Fw(Return)30 b(the)h(pid)d(of)j
(the)f(pro)s(cess.)-71 2969 y Fu(val)47 b(getppid)f(:)h(unit)g(->)g
(int)p Black Black 156 3105 a Fw(Return)30 b(the)h(pid)d(of)j(the)f
(paren)m(t)h(pro)s(cess.)-71 3308 y Fu(val)47 b(nice)g(:)g(int)g(->)g
(int)p Black Black 156 3444 a Fw(Change)31 b(the)f(pro)s(cess)g
(priorit)m(y)-8 b(.)40 b(The)30 b(in)m(teger)g(argumen)m(t)h(is)f
(added)f(to)i(the)g(\\nice")g(v)-5 b(alue.)40 b(\(Higher)156
3557 y(v)-5 b(alues)30 b(of)h(the)f(\\nice")h(v)-5 b(alue)30
b(mean)g(lo)m(w)m(er)h(priorities.\))38 b(Return)30 b(the)h(new)e(nice)
h(v)-5 b(alue.)-71 3866 y Fg(Basic)37 b(\014le)g(input/output)-71
4060 y Fu(type)94 b(file_descr)p Black Black 156 4196
a Fw(The)30 b(abstract)i(t)m(yp)s(e)e(of)h(\014le)e(descriptors.)-71
4399 y Fu(val)47 b(stdin)f(:)i(file_descr)p Black Black
156 4535 a Fw(File)30 b(descriptor)f(for)h(standard)g(input.)-71
4738 y Fu(val)47 b(stdout)f(:)i(file_descr)p Black Black
156 4874 a Fw(File)30 b(descriptor)f(for)h(standard)g(output.)-71
5077 y Fu(val)47 b(stderr)f(:)i(file_descr)p Black Black
156 5213 a Fw(File)30 b(descriptor)f(for)h(standard)g(standard)f
(error.)-71 5416 y Fu(type)94 b(open_flag)46 b(=)25 5529
y(|)h(O_RDONLY)p Black Black eop
%%Page: 123 123
123 122 bop Black -71 24 a Fs(B.2.)72 b(MODULE)31 b Fu(UNIX)e
Fs(:)i(INTERF)-10 b(A)m(CE)30 b(TO)f(THE)h(UNIX)h(SYSTEM)1206
b Fw(123)p Black Black Black 384 280 a(Op)s(en)29 b(for)h(reading)25
444 y Fu(|)47 b(O_WRONLY)p Black Black 384 583 a Fw(Op)s(en)29
b(for)h(writing)25 747 y Fu(|)47 b(O_RDWR)p Black Black
384 886 a Fw(Op)s(en)29 b(for)h(reading)f(and)h(writing)25
1050 y Fu(|)47 b(O_NONBLOCK)p Black Black 384 1189 a
Fw(Op)s(en)29 b(in)g(non-blo)s(c)m(king)g(mo)s(de)25
1353 y Fu(|)47 b(O_APPEND)p Black Black 384 1491 a Fw(Op)s(en)29
b(for)h(app)s(end)25 1655 y Fu(|)47 b(O_CREAT)p Black
Black 384 1794 a Fw(Create)31 b(if)e(nonexisten)m(t)25
1958 y Fu(|)47 b(O_TRUNC)p Black Black 384 2097 a Fw(T)-8
b(runcate)30 b(to)h(0)g(length)f(if)f(existing)25 2261
y Fu(|)47 b(O_EXCL)p Black Black 384 2400 a Fw(F)-8 b(ail)30
b(if)f(existing)25 2564 y Fu(|)47 b(O_NOCTTY)p Black
Black 384 2703 a Fw(Don't)31 b(mak)m(e)g(this)f(dev)g(a)h(con)m
(trolling)e(tt)m(y)25 2866 y Fu(|)47 b(O_DSYNC)p Black
Black 384 3005 a Fw(W)-8 b(rites)30 b(complete)h(as)g(`Sync)m(hronised)
d(I/O)j(data)g(in)m(tegrit)m(y)f(completion')25 3169
y Fu(|)47 b(O_SYNC)p Black Black 384 3308 a Fw(W)-8 b(rites)30
b(complete)h(as)g(`Sync)m(hronised)d(I/O)j(\014le)e(in)m(tegrit)m(y)h
(completion')25 3472 y Fu(|)47 b(O_RSYNC)p Black Black
384 3611 a Fw(Reads)30 b(complete)h(as)g(writes)e(\(dep)s(ending)f(on)j
(O)p Fu(_)o Fw(SYNC/O)p Fu(_)o Fw(DSYNC\))p Black Black
156 3775 a(The)f(\015ags)h(to)g Fu(Unix.openfile)p Fw(.)-71
3990 y Fu(type)94 b(file_perm)46 b(=)h(int)p Black Black
156 4129 a Fw(The)30 b(t)m(yp)s(e)h(of)f(\014le)g(access)i(righ)m(ts.)
-71 4344 y Fu(val)47 b(openfile)f(:)25 4457 y(string)g(->)h(open_flag)e
(list)i(->)g(file_perm)e(->)i(file_descr)p Black Black
156 4596 a Fw(Op)s(en)29 b(the)i(named)f(\014le)f(with)g(the)i(giv)m
(en)f(\015ags.)41 b(Third)28 b(argumen)m(t)j(is)e(the)i(p)s(ermissions)
c(to)k(giv)m(e)g(to)g(the)156 4709 y(\014le)f(if)f(it)h(is)g(created.)
41 b(Return)30 b(a)h(\014le)e(descriptor)g(on)i(the)f(named)g(\014le.)
-71 4923 y Fu(val)47 b(close)f(:)i(file_descr)d(->)i(unit)p
Black Black 156 5062 a Fw(Close)30 b(a)h(\014le)f(descriptor.)-71
5277 y Fu(val)47 b(read)g(:)g(file_descr)e(->)i(string)f(->)i(int)e(->)
i(int)f(->)g(int)p Black Black 156 5416 a(read)g(fd)g(buff)g(ofs)g(len)
29 b Fw(reads)h Fu(len)g Fw(c)m(haracters)i(from)e(descriptor)f
Fu(fd)p Fw(,)h(storing)g(them)g(in)f(string)156 5529
y Fu(buff)p Fw(,)e(starting)g(at)h(p)s(osition)e Fu(ofs)g
Fw(in)g(string)g Fu(buff)p Fw(.)38 b(Return)27 b(the)g(n)m(um)m(b)s(er)
f(of)h(c)m(haracters)i(actually)e(read.)p Black Black
eop
%%Page: 124 124
124 123 bop Black -71 24 a Fw(124)2600 b Fs(ANNEXE)30
b(B.)62 b(INTERF)-10 b(A)m(CES)p Black -71 280 a Fu(val)47
b(write)f(:)i(file_descr)d(->)i(string)f(->)h(int)g(->)g(int)g(->)g
(int)p Black Black 156 425 a(write)g(fd)g(buff)g(ofs)f(len)30
b Fw(writes)f Fu(len)h Fw(c)m(haracters)i(to)f(descriptor)e
Fu(fd)p Fw(,)h(taking)g(them)h(from)f(string)156 538
y Fu(buff)p Fw(,)g(starting)g(at)h(p)s(osition)e Fu(ofs)g
Fw(in)g(string)g Fu(buff)p Fw(.)40 b(Return)30 b(the)g(n)m(um)m(b)s(er)
f(of)i(c)m(haracters)h(actually)156 651 y(written.)-71
1001 y Fg(In)m(terfacing)37 b(with)f(the)i(standard)g(input/output)f
(library)-71 1205 y Fu(val)47 b(in_channel_of_descr)c(:)k(file_descr)e
(->)i(Pervasives.in_channel)p Black Black 156 1350 a
Fw(Create)30 b(an)f(input)e(c)m(hannel)h(reading)g(from)h(the)g(giv)m
(en)g(descriptor.)39 b(The)28 b(c)m(hannel)h(is)f(initially)d(in)j
(binary)156 1463 y(mo)s(de;)j(use)f Fu(set_)o(binary_)n(mode_)n(in)47
b(ic)h(false)29 b Fw(if)g(text)i(mo)s(de)f(is)g(desired.)-71
1690 y Fu(val)47 b(out_channel_of_descr)42 b(:)48 b(file_descr)d(->)i
(Pervasives.out_channel)p Black Black 156 1835 a Fw(Create)32
b(an)e(output)g(c)m(hannel)g(writing)e(on)i(the)h(giv)m(en)f
(descriptor.)40 b(The)30 b(c)m(hannel)g(is)f(initially)e(in)i(binary)
156 1948 y(mo)s(de;)i(use)f Fu(set_)o(binary_)n(mode_)n(out)47
b(oc)g(false)29 b Fw(if)h(text)h(mo)s(de)f(is)f(desired.)-71
2175 y Fu(val)47 b(descr_of_in_channel)c(:)k(Pervasives.in_channel)42
b(->)47 b(file_descr)p Black Black 156 2321 a Fw(Return)30
b(the)h(descriptor)e(corresp)s(onding)f(to)j(an)g(input)d(c)m(hannel.)
-71 2548 y Fu(val)47 b(descr_of_out_channel)42 b(:)48
b(Pervasives.out_channel)41 b(->)48 b(file_descr)p Black
Black 156 2693 a Fw(Return)30 b(the)h(descriptor)e(corresp)s(onding)f
(to)j(an)g(output)f(c)m(hannel.)-71 3043 y Fg(Seeking)38
b(and)g(truncating)-71 3247 y Fu(type)94 b(seek_command)45
b(=)25 3359 y(|)i(SEEK_SET)p Black Black 384 3505 a Fw(indicates)29
b(p)s(ositions)f(relativ)m(e)j(to)g(the)f(b)s(eginning)e(of)j(the)f
(\014le)25 3675 y Fu(|)47 b(SEEK_CUR)p Black Black 384
3820 a Fw(indicates)29 b(p)s(ositions)f(relativ)m(e)j(to)g(the)f
(curren)m(t)h(p)s(osition)25 3990 y Fu(|)47 b(SEEK_END)p
Black Black 384 4135 a Fw(indicates)29 b(p)s(ositions)f(relativ)m(e)j
(to)g(the)f(end)g(of)h(the)f(\014le)p Black Black 156
4309 a(P)m(ositioning)f(mo)s(des)h(for)g Fu(Unix.lseek)p
Fw(.)-71 4536 y Fu(val)47 b(lseek)f(:)i(file_descr)d(->)i(int)g(->)g
(seek_command)e(->)i(int)p Black Black 156 4681 a Fw(Set)31
b(the)g(curren)m(t)f(p)s(osition)e(for)i(a)h(\014le)f(descriptor)-71
4908 y Fu(val)47 b(truncate)f(:)h(string)f(->)h(int)g(->)g(unit)p
Black Black 156 5053 a Fw(T)-8 b(runcates)31 b(the)f(named)g(\014le)g
(to)h(the)g(giv)m(en)f(size.)-71 5280 y Fu(val)47 b(ftruncate)e(:)j
(file_descr)d(->)i(int)g(->)g(unit)p Black Black 156
5426 a Fw(T)-8 b(runcates)31 b(the)f(\014le)g(corresp)s(onding)e(to)j
(the)g(giv)m(en)f(descriptor)g(to)h(the)f(giv)m(en)h(size.)p
Black Black eop
%%Page: 125 125
125 124 bop Black -71 24 a Fs(B.2.)72 b(MODULE)31 b Fu(UNIX)e
Fs(:)i(INTERF)-10 b(A)m(CE)30 b(TO)f(THE)h(UNIX)h(SYSTEM)1206
b Fw(125)p Black -71 280 a Fg(File)36 b(statistics)-71
477 y Fu(type)94 b(file_kind)46 b(=)25 590 y(|)h(S_REG)p
Black Black 384 729 a Fw(Regular)30 b(\014le)25 892 y
Fu(|)47 b(S_DIR)p Black Black 384 1030 a Fw(Directory)25
1193 y Fu(|)g(S_CHR)p Black Black 384 1332 a Fw(Character)30
b(device)25 1495 y Fu(|)47 b(S_BLK)p Black Black 384
1633 a Fw(Blo)s(c)m(k)30 b(device)25 1797 y Fu(|)47 b(S_LNK)p
Black Black 384 1935 a Fw(Sym)m(b)s(olic)28 b(link)25
2098 y Fu(|)47 b(S_FIFO)p Black Black 384 2237 a Fw(Named)30
b(pip)s(e)25 2400 y Fu(|)47 b(S_SOCK)p Black Black 384
2538 a Fw(So)s(c)m(k)m(et)-71 2702 y Fu(type)94 b(stats)47
b(=)g Fc(f)25 2814 y Fu(st_dev)f(:)h(int)g(;)p Black
Black 384 2953 a Fw(Device)31 b(n)m(um)m(b)s(er)25 3116
y Fu(st_ino)46 b(:)h(int)g(;)p Black Black 384 3254 a
Fw(Ino)s(de)29 b(n)m(um)m(b)s(er)25 3418 y Fu(st_kind)45
b(:)j(file_kind)d(;)p Black Black 384 3556 a Fw(Kind)28
b(of)i(the)h(\014le)25 3719 y Fu(st_perm)45 b(:)j(file_perm)d(;)p
Black Black 384 3858 a Fw(Access)31 b(righ)m(ts)25 4021
y Fu(st_nlink)45 b(:)j(int)e(;)p Black Black 384 4159
a Fw(Num)m(b)s(er)29 b(of)h(links)25 4323 y Fu(st_uid)46
b(:)h(int)g(;)p Black Black 384 4461 a Fw(User)30 b(id)f(of)i(the)f(o)m
(wner)25 4624 y Fu(st_gid)46 b(:)h(int)g(;)p Black Black
384 4762 a Fw(Group)29 b(ID)i(of)g(the)f(\014le's)g(group)25
4926 y Fu(st_rdev)45 b(:)j(int)f(;)p Black Black 384
5064 a Fw(Device)31 b(minor)e(n)m(um)m(b)s(er)25 5227
y Fu(st_size)45 b(:)j(int)f(;)p Black Black 384 5366
a Fw(Size)30 b(in)f(b)m(ytes)25 5529 y Fu(st_atime)45
b(:)j(float)e(;)p Black Black eop
%%Page: 126 126
126 125 bop Black -71 24 a Fw(126)2600 b Fs(ANNEXE)30
b(B.)62 b(INTERF)-10 b(A)m(CES)p Black Black Black 384
280 a Fw(Last)30 b(access)i(time)25 443 y Fu(st_mtime)45
b(:)j(float)e(;)p Black Black 384 581 a Fw(Last)30 b(mo)s(di\014cation)
f(time)25 744 y Fu(st_ctime)45 b(:)j(float)e(;)p Black
Black 384 881 a Fw(Last)30 b(status)h(c)m(hange)h(time)-71
1044 y Fc(g)p Black Black 156 1182 a Fw(The)e(informations)f(returned)g
(b)m(y)h(the)h Fu(Unix.stat)d Fw(calls.)-71 1394 y Fu(val)47
b(stat)g(:)g(string)f(->)h(stats)p Black Black 156 1532
a Fw(Return)30 b(the)h(informations)d(for)i(the)h(named)f(\014le.)-71
1745 y Fu(val)47 b(lstat)f(:)i(string)e(->)h(stats)p
Black Black 156 1883 a Fw(Same)31 b(as)f Fu(Unix.stat)p
Fw(,)f(but)g(in)g(case)j(the)e(\014le)g(is)f(a)i(sym)m(b)s(olic)e
(link,)f(return)h(the)i(informations)e(for)h(the)156
1996 y(link)f(itself.)-71 2208 y Fu(val)47 b(fstat)f(:)i(file_descr)d
(->)i(stats)p Black Black 156 2346 a Fw(Return)30 b(the)h(informations)
d(for)i(the)h(\014le)e(asso)s(ciated)i(with)e(the)i(giv)m(en)f
(descriptor.)-71 2664 y Fg(Op)s(erations)38 b(on)f(\014le)g(names)-71
2861 y Fu(val)47 b(unlink)f(:)i(string)e(->)h(unit)p
Black Black 156 2998 a Fw(Remo)m(v)m(es)32 b(the)f(named)f(\014le)-71
3211 y Fu(val)47 b(rename)f(:)i(string)e(->)h(string)f(->)h(unit)p
Black Black 156 3349 a(rename)f(old)h(new)30 b Fw(c)m(hanges)h(the)g
(name)f(of)h(a)g(\014le)e(from)h Fu(old)f Fw(to)i Fu(new)p
Fw(.)-71 3561 y Fu(val)47 b(link)g(:)g(string)f(->)h(string)f(->)i
(unit)p Black Black 156 3699 a(link)f(source)f(dest)29
b Fw(creates)j(a)f(hard)e(link)g(named)g Fu(dest)h Fw(to)h(the)f
(\014le)g(named)g Fu(source)p Fw(.)-71 4017 y Fg(File)36
b(p)s(ermissions)h(and)h(o)m(wnership)-71 4214 y Fu(type)94
b(access_permission)44 b(=)25 4327 y(|)j(R_OK)p Black
Black 384 4465 a Fw(Read)30 b(p)s(ermission)25 4627 y
Fu(|)47 b(W_OK)p Black Black 384 4765 a Fw(W)-8 b(rite)30
b(p)s(ermission)25 4928 y Fu(|)47 b(X_OK)p Black Black
384 5066 a Fw(Execution)30 b(p)s(ermission)25 5228 y
Fu(|)47 b(F_OK)p Black Black 384 5366 a Fw(File)29 b(exists)p
Black Black 156 5529 a(Flags)i(for)f(the)h Fu(Unix.access)c
Fw(call.)p Black Black eop
%%Page: 127 127
127 126 bop Black -71 24 a Fs(B.2.)72 b(MODULE)31 b Fu(UNIX)e
Fs(:)i(INTERF)-10 b(A)m(CE)30 b(TO)f(THE)h(UNIX)h(SYSTEM)1206
b Fw(127)p Black -71 280 a Fu(val)47 b(chmod)f(:)i(string)e(->)h
(file_perm)e(->)j(unit)p Black Black 156 423 a Fw(Change)31
b(the)f(p)s(ermissions)d(of)k(the)f(named)g(\014le.)-71
645 y Fu(val)47 b(fchmod)f(:)i(file_descr)d(->)i(file_perm)e(->)i(unit)
p Black Black 156 788 a Fw(Change)31 b(the)f(p)s(ermissions)d(of)k(an)f
(op)s(ened)g(\014le.)-71 1010 y Fu(val)47 b(chown)f(:)i(string)e(->)h
(int)g(->)g(int)g(->)g(unit)p Black Black 156 1152 a
Fw(Change)31 b(the)f(o)m(wner)h(uid)d(and)i(o)m(wner)g(gid)g(of)g(the)h
(named)f(\014le.)-71 1374 y Fu(val)47 b(fchown)f(:)i(file_descr)d(->)i
(int)g(->)g(int)g(->)g(unit)p Black Black 156 1517 a
Fw(Change)31 b(the)f(o)m(wner)h(uid)d(and)i(o)m(wner)g(gid)g(of)g(an)h
(op)s(ened)e(\014le.)-71 1739 y Fu(val)47 b(umask)f(:)i(int)f(->)g(int)
p Black Black 156 1881 a Fw(Set)31 b(the)g(pro)s(cess)e(creation)i
(mask,)g(and)f(return)f(the)h(previous)f(mask.)-71 2104
y Fu(val)47 b(access)f(:)i(string)e(->)h(access_permission)c(list)k(->)
g(unit)p Black Black 156 2246 a Fw(Chec)m(k)31 b(that)g(the)g(pro)s
(cess)f(has)g(the)g(giv)m(en)h(p)s(ermissions)c(o)m(v)m(er)k(the)g
(named)f(\014le.)40 b(Raise)30 b Fu(Unix_)o(error)156
2359 y Fw(otherwise.)-71 2698 y Fg(Op)s(erations)38 b(on)f(\014le)g
(descriptors)-71 2899 y Fu(val)47 b(dup)g(:)g(file_descr)e(->)j
(file_descr)p Black Black 156 3042 a Fw(Return)30 b(a)h(new)f(\014le)f
(descriptor)g(referencing)h(the)h(same)f(\014le)g(as)g(the)h(giv)m(en)f
(descriptor.)-71 3264 y Fu(val)47 b(dup2)g(:)g(file_descr)e(->)i
(file_descr)e(->)i(unit)p Black Black 156 3406 a(dup2)g(fd1)g(fd2)29
b Fw(duplicates)g Fu(fd1)h Fw(to)h Fu(fd2)p Fw(,)f(closing)f
Fu(fd2)h Fw(if)f(already)h(op)s(ened.)-71 3628 y Fu(val)47
b(set_nonblock)d(:)k(file_descr)d(->)i(unit)p Black Black
156 3771 a Fw(Set)31 b(the)g(\\non-blo)s(c)m(king")e(\015ag)i(on)f(the)
h(giv)m(en)f(descriptor.)40 b(When)30 b(the)h(non-blo)s(c)m(king)d
(\015ag)j(is)f(set,)156 3884 y(reading)g(on)g(a)h(descriptor)e(on)h
(whic)m(h)g(there)g(is)g(temp)s(orarily)e(no)i(data)h(a)m(v)-5
b(ailable)30 b(raises)g(the)g Fu(EAGAIN)f Fw(or)156 3997
y Fu(EWOULDBLOCK)f Fw(error)i(instead)f(of)i(blo)s(c)m(king;)e(writing)
g(on)h(a)h(descriptor)e(on)h(whic)m(h)f(there)i(is)156
4110 y(temp)s(orarily)e(no)h(ro)s(om)g(for)g(writing)f(also)h(raises)g
Fu(EAGAIN)e Fw(or)j Fu(EWOULDBLOCK)p Fw(.)-71 4332 y
Fu(val)47 b(clear_nonblock)d(:)j(file_descr)e(->)j(unit)p
Black Black 156 4474 a Fw(Clear)30 b(the)h(\\non-blo)s(c)m(king")e
(\015ag)i(on)f(the)h(giv)m(en)f(descriptor.)40 b(See)31
b Fu(Unix.set_)m(nonblock)p Fw(.)-71 4696 y Fu(val)47
b(set_close_on_exec)c(:)48 b(file_descr)d(->)i(unit)p
Black Black 156 4839 a Fw(Set)31 b(the)g(\\close-on-exec")i(\015ag)e
(on)f(the)g(giv)m(en)h(descriptor.)39 b(A)31 b(descriptor)e(with)g(the)
i(close-on-exec)h(\015ag)156 4952 y(is)e(automatically)g(closed)g(when)
g(the)g(curren)m(t)g(pro)s(cess)g(starts)h(another)g(program)f(with)f
(one)i(of)f(the)156 5065 y Fu(exec)g Fw(functions.)-71
5287 y Fu(val)47 b(clear_close_on_exec)c(:)k(file_descr)e(->)i(unit)p
Black Black 156 5429 a Fw(Clear)30 b(the)h(\\close-on-exec")i(\015ag)e
(on)f(the)h(giv)m(en)f(descriptor.)40 b(See)30 b Fu(Unix.set_)n(close_)
n(on_)o(exec)p Fw(.)p Black Black eop
%%Page: 128 128
128 127 bop Black -71 24 a Fw(128)2600 b Fs(ANNEXE)30
b(B.)62 b(INTERF)-10 b(A)m(CES)p Black -71 280 a Fg(Directories)-71
486 y Fu(val)47 b(mkdir)f(:)i(string)e(->)h(file_perm)e(->)j(unit)p
Black Black 156 634 a Fw(Create)32 b(a)e(directory)g(with)f(the)i(giv)m
(en)f(p)s(ermissions.)-71 866 y Fu(val)47 b(rmdir)f(:)i(string)e(->)h
(unit)p Black Black 156 1014 a Fw(Remo)m(v)m(e)33 b(an)d(empt)m(y)h
(directory)-8 b(.)-71 1246 y Fu(val)47 b(chdir)f(:)i(string)e(->)h
(unit)p Black Black 156 1394 a Fw(Change)31 b(the)f(pro)s(cess)g(w)m
(orking)g(directory)-8 b(.)-71 1626 y Fu(val)47 b(getcwd)f(:)i(unit)e
(->)h(string)p Black Black 156 1774 a Fw(Return)30 b(the)h(name)f(of)h
(the)f(curren)m(t)g(w)m(orking)g(directory)-8 b(.)-71
2006 y Fu(val)47 b(chroot)f(:)i(string)e(->)h(unit)p
Black Black 156 2154 a Fw(Change)31 b(the)f(pro)s(cess)g(ro)s(ot)h
(directory)-8 b(.)-71 2386 y Fu(type)94 b(dir_handle)p
Black Black 156 2534 a Fw(The)30 b(t)m(yp)s(e)h(of)f(descriptors)f(o)m
(v)m(er)j(op)s(ened)e(directories.)-71 2766 y Fu(val)47
b(opendir)f(:)h(string)f(->)i(dir_handle)p Black Black
156 2914 a Fw(Op)s(en)29 b(a)i(descriptor)e(on)i(a)f(directory)-71
3146 y Fu(val)47 b(readdir)f(:)h(dir_handle)e(->)i(string)p
Black Black 156 3294 a Fw(Return)30 b(the)h(next)f(en)m(try)h(in)e(a)i
(directory)-8 b(.)156 3454 y Fv(Raises)31 b Fu(End_)o(of_)o(file)f
Fw(when)f(the)i(end)e(of)i(the)f(directory)g(has)g(b)s(een)g(reac)m
(hed.)-71 3686 y Fu(val)47 b(rewinddir)e(:)j(dir_handle)d(->)i(unit)p
Black Black 156 3834 a Fw(Rep)s(osition)29 b(the)i(descriptor)e(to)i
(the)g(b)s(eginning)c(of)k(the)f(directory)-71 4066 y
Fu(val)47 b(closedir)f(:)h(dir_handle)e(->)i(unit)p Black
Black 156 4214 a Fw(Close)30 b(a)h(directory)f(descriptor.)-71
4575 y Fg(Pip)s(es)37 b(and)h(redirections)-71 4781 y
Fu(val)47 b(pipe)g(:)g(unit)g(->)g(file_descr)e(*)i(file_descr)p
Black Black 156 4929 a Fw(Create)31 b(a)g(pip)s(e.)39
b(The)29 b(\014rst)g(comp)s(onen)m(t)i(of)f(the)g(result)f(is)g(op)s
(ened)h(for)g(reading,)f(that's)i(the)f(exit)g(to)h(the)156
5042 y(pip)s(e.)39 b(The)30 b(second)h(comp)s(onen)m(t)f(is)g(op)s
(ened)f(for)h(writing,)f(that's)i(the)g(en)m(trance)g(to)g(the)g(pip)s
(e.)-71 5274 y Fu(val)47 b(mkfifo)f(:)i(string)e(->)h(file_perm)e(->)i
(unit)p Black Black 156 5422 a Fw(Create)32 b(a)e(named)g(pip)s(e)f
(with)g(the)h(giv)m(en)h(p)s(ermissions.)p Black Black
eop
%%Page: 129 129
129 128 bop Black -71 24 a Fs(B.2.)72 b(MODULE)31 b Fu(UNIX)e
Fs(:)i(INTERF)-10 b(A)m(CE)30 b(TO)f(THE)h(UNIX)h(SYSTEM)1206
b Fw(129)p Black -71 280 a Fg(High-lev)m(el)36 b(pro)s(cess)h(and)i
(redirection)c(managemen)m(t)-71 485 y Fu(val)47 b(create_process)d(:)
25 598 y(string)i(->)25 711 y(string)g(array)g(->)25
824 y(file_descr)f(->)i(file_descr)e(->)i(file_descr)e(->)i(int)p
Black Black 156 971 a(create_)n(process)f(prog)h(args)g(new_)n(stdin)g
(new_)o(stdout)f(new_)o(stderr)28 b Fw(forks)i(a)h(new)f(pro)s(cess)g
(that)156 1083 y(executes)i(the)f(program)f(in)f(\014le)g
Fu(prog)p Fw(,)h(with)f(argumen)m(ts)h Fu(args)p Fw(.)40
b(The)30 b(pid)e(of)j(the)g(new)e(pro)s(cess)h(is)156
1196 y(returned)g(immediately;)f(the)h(new)g(pro)s(cess)g(executes)i
(concurren)m(tly)d(with)g(the)i(curren)m(t)f(pro)s(cess.)40
b(The)156 1309 y(standard)30 b(input)e(and)i(outputs)g(of)h(the)f(new)g
(pro)s(cess)g(are)h(connected)g(to)g(the)g(descriptors)e
Fu(new_)o(stdin)p Fw(,)156 1422 y Fu(new_)o(stdout)g
Fw(and)h Fu(new_)o(stderr)p Fw(.)39 b(P)m(assing)30 b(e.g.)41
b Fu(stdout)29 b Fw(for)h Fu(new_)o(stdout)f Fw(prev)m(en)m(ts)i(the)f
(redirection)156 1535 y(and)g(causes)h(the)g(new)e(pro)s(cess)h(to)h
(ha)m(v)m(e)h(the)f(same)f(standard)g(output)g(as)h(the)f(curren)m(t)g
(pro)s(cess.)41 b(The)156 1648 y(executable)31 b(\014le)f
Fu(prog)f Fw(is)g(searc)m(hed)i(in)e(the)i(path.)40 b(The)30
b(new)g(pro)s(cess)g(has)g(the)h(same)g(en)m(vironmen)m(t)f(as)156
1761 y(the)h(curren)m(t)f(pro)s(cess.)-71 1991 y Fu(val)47
b(create_process_env)c(:)25 2104 y(string)j(->)25 2217
y(string)g(array)g(->)25 2330 y(string)g(array)g(->)25
2442 y(file_descr)f(->)i(file_descr)e(->)i(file_descr)e(->)i(int)p
Black Black 156 2589 a(create_)n(process_)n(env)g(prog)g(args)f(env)h
(new_)o(stdin)g(new_)o(stdout)f(new_)o(stderr)28 b Fw(w)m(orks)j(as)156
2702 y Fu(Unix.create_)m(process)p Fw(,)e(except)i(that)g(the)g(extra)g
(argumen)m(t)g Fu(env)e Fw(sp)s(eci\014es)g(the)i(en)m(vironmen)m(t)156
2815 y(passed)f(to)h(the)g(program.)-71 3045 y Fu(val)47
b(open_process_in)d(:)j(string)f(->)h(Pervasives.in_channel)p
Black Black 156 3191 a Fw(High-lev)m(el)30 b(pip)s(e)f(and)g(pro)s
(cess)h(managemen)m(t.)43 b(This)28 b(function)h(runs)g(the)i(giv)m(en)
f(command)g(in)f(parallel)156 3304 y(with)g(the)i(program.)41
b(The)29 b(standard)h(output)g(of)g(the)h(command)f(is)g(redirected)f
(to)i(a)g(pip)s(e,)e(whic)m(h)g(can)156 3417 y(b)s(e)h(read)g(via)g
(the)h(returned)e(input)g(c)m(hannel.)40 b(The)30 b(command)g(is)f(in)m
(terpreted)h(b)m(y)g(the)h(shell)d Fu(/bin/sh)156 3530
y Fw(\(cf.)42 b Fu(system)p Fw(\).)-71 3760 y Fu(val)47
b(open_process_out)c(:)48 b(string)e(->)h(Pervasives.out_channel)p
Black Black 156 3906 a Fw(Same)31 b(as)f Fu(Unix.open_)n(process_)n(in)
p Fw(,)g(but)f(redirect)h(the)h(standard)e(input)g(of)h(the)h(command)f
(to)h(a)156 4019 y(pip)s(e.)39 b(Data)32 b(written)e(to)h(the)f
(returned)g(output)g(c)m(hannel)f(is)h(sen)m(t)h(to)g(the)f(standard)g
(input)e(of)j(the)156 4132 y(command.)41 b(W)-8 b(arning:)40
b(writes)30 b(on)g(output)g(c)m(hannels)g(are)g(bu\013ered,)g(hence)g
(b)s(e)g(careful)g(to)h(call)156 4245 y Fu(Pervasives.flush)26
b Fw(at)31 b(the)g(righ)m(t)f(times)g(to)h(ensure)f(correct)h(sync)m
(hronization.)-71 4475 y Fu(val)47 b(open_process)d(:)k(string)e(->)h
(Pervasives.in_channel)42 b(*)48 b(Pervasives.out_channel)p
Black Black 156 4622 a Fw(Same)31 b(as)f Fu(Unix.open_)n(process_)n
(out)p Fw(,)f(but)h(redirects)g(b)s(oth)f(the)i(standard)e(input)g(and)
h(standard)156 4734 y(output)g(of)f(the)h(command)f(to)i(pip)s(es)c
(connected)k(to)f(the)g(t)m(w)m(o)h(returned)d(c)m(hannels.)40
b(The)29 b(input)f(c)m(hannel)156 4847 y(is)i(connected)h(to)g(the)g
(output)f(of)g(the)h(command,)f(and)g(the)h(output)f(c)m(hannel)f(to)i
(the)g(input)d(of)j(the)156 4960 y(command.)-71 5190
y Fu(val)47 b(open_process_full)c(:)25 5303 y(string)j(->)25
5416 y(string)g(array)g(->)25 5529 y(Pervasives.in_channel)c(*)47
b(Pervasives.out_channel)42 b(*)47 b(Pervasives.in_channel)p
Black Black eop
%%Page: 130 130
130 129 bop Black -71 24 a Fw(130)2600 b Fs(ANNEXE)30
b(B.)62 b(INTERF)-10 b(A)m(CES)p Black Black Black 156
280 a Fw(Similar)28 b(to)j Fu(Unix.open_)m(process)p
Fw(,)e(but)g(the)i(second)f(argumen)m(t)h(sp)s(eci\014es)e(the)i(en)m
(vironmen)m(t)f(passed)156 393 y(to)i(the)e(command.)41
b(The)29 b(result)h(is)f(a)i(triple)e(of)h(c)m(hannels)g(connected)h
(resp)s(ectiv)m(ely)f(to)h(the)f(standard)156 506 y(output,)h(standard)
e(input,)g(and)h(standard)f(error)h(of)h(the)f(command.)-71
714 y Fu(val)47 b(close_process_in)c(:)48 b(Pervasives.in_channel)42
b(->)47 b(process_status)p Black Black 156 850 a Fw(Close)30
b(c)m(hannels)g(op)s(ened)g(b)m(y)g Fu(Unix.open_)m(process_)n(in)p
Fw(,)g(w)m(ait)g(for)h(the)f(asso)s(ciated)h(command)f(to)156
963 y(terminate,)h(and)f(return)f(its)h(termination)f(status.)-71
1170 y Fu(val)47 b(close_process_out)c(:)48 b(Pervasives.out_channel)41
b(->)47 b(process_status)p Black Black 156 1307 a Fw(Close)30
b(c)m(hannels)g(op)s(ened)g(b)m(y)g Fu(Unix.open_)m(process_)n(out)p
Fw(,)g(w)m(ait)g(for)g(the)h(asso)s(ciated)g(command)f(to)156
1420 y(terminate,)h(and)f(return)f(its)h(termination)f(status.)-71
1627 y Fu(val)47 b(close_process)d(:)25 1740 y(Pervasives.in_channel)e
(*)47 b(Pervasives.out_channel)42 b(->)47 b(process_status)p
Black Black 156 1877 a Fw(Close)30 b(c)m(hannels)g(op)s(ened)g(b)m(y)g
Fu(Unix.open_)m(process)p Fw(,)f(w)m(ait)h(for)g(the)h(asso)s(ciated)g
(command)f(to)156 1990 y(terminate,)h(and)f(return)f(its)h(termination)
f(status.)-71 2197 y Fu(val)47 b(close_process_full)c(:)25
2310 y(Pervasives.in_channel)f(*)47 b(Pervasives.out_channel)42
b(*)47 b(Pervasives.in_channel)42 b(->)25 2423 y(process_status)p
Black Black 156 2559 a Fw(Close)30 b(c)m(hannels)g(op)s(ened)g(b)m(y)g
Fu(Unix.open_)m(process_)n(full)p Fw(,)f(w)m(ait)i(for)f(the)h(asso)s
(ciated)f(command)h(to)156 2672 y(terminate,)g(and)f(return)f(its)h
(termination)f(status.)-71 2986 y Fg(Sym)m(b)s(olic)36
b(links)-71 3181 y Fu(val)47 b(symlink)f(:)h(string)f(->)i(string)e(->)
h(unit)p Black Black 156 3317 a(symlink)f(source)g(dest)30
b Fw(creates)h(the)g(\014le)e Fu(dest)h Fw(as)g(a)h(sym)m(b)s(olic)e
(link)f(to)j(the)g(\014le)e Fu(source)p Fw(.)-71 3525
y Fu(val)47 b(readlink)f(:)h(string)f(->)h(string)p Black
Black 156 3661 a Fw(Read)31 b(the)g(con)m(ten)m(ts)h(of)e(a)h(link.)-71
3974 y Fg(P)m(olling)-71 4170 y Fu(val)47 b(select)f(:)25
4283 y(file_descr)f(list)h(->)25 4396 y(file_descr)f(list)h(->)25
4508 y(file_descr)f(list)h(->)25 4621 y(float)g(->)h(file_descr)e(list)
i(*)g(file_descr)e(list)i(*)g(file_descr)e(list)p Black
Black 156 4758 a Fw(W)-8 b(ait)32 b(un)m(til)c(some)j(input/output)e
(op)s(erations)g(b)s(ecome)i(p)s(ossible)d(on)i(some)h(c)m(hannels.)40
b(The)30 b(three)g(list)156 4871 y(argumen)m(ts)h(are,)g(resp)s(ectiv)m
(ely)-8 b(,)30 b(a)h(set)g(of)g(descriptors)e(to)i(c)m(hec)m(k)h(for)e
(reading)g(\(\014rst)f(argumen)m(t\),)j(for)156 4984
y(writing)d(\(second)i(argumen)m(t\),)g(or)f(for)h(exceptional)f
(conditions)f(\(third)g(argumen)m(t\).)41 b(The)30 b(fourth)156
5097 y(argumen)m(t)h(is)e(the)h(maximal)e(timeout,)i(in)f(seconds;)h(a)
g(negativ)m(e)h(fourth)e(argumen)m(t)i(means)e(no)h(timeout)156
5210 y(\(un)m(b)s(ounded)e(w)m(ait\).)42 b(The)30 b(result)f(is)g(comp)
s(osed)h(of)h(three)g(sets)f(of)h(descriptors:)39 b(those)31
b(ready)f(for)156 5322 y(reading)g(\(\014rst)g(comp)s(onen)m(t\),)h
(ready)f(for)h(writing)d(\(second)j(comp)s(onen)m(t\),)g(and)f(o)m(v)m
(er)h(whic)m(h)f(an)156 5435 y(exceptional)h(condition)e(is)g(p)s
(ending)f(\(third)h(comp)s(onen)m(t\).)p Black Black
eop
%%Page: 131 131
131 130 bop Black -71 24 a Fs(B.2.)72 b(MODULE)31 b Fu(UNIX)e
Fs(:)i(INTERF)-10 b(A)m(CE)30 b(TO)f(THE)h(UNIX)h(SYSTEM)1206
b Fw(131)p Black -71 280 a Fg(Lo)s(c)m(king)-71 476 y
Fu(type)94 b(lock_command)45 b(=)25 589 y(|)i(F_ULOCK)p
Black Black 384 726 a Fw(Unlo)s(c)m(k)30 b(a)h(region)25
887 y Fu(|)47 b(F_LOCK)p Black Black 384 1024 a Fw(Lo)s(c)m(k)31
b(a)f(region)g(for)h(writing,)d(and)i(blo)s(c)m(k)g(if)f(already)h(lo)s
(c)m(k)m(ed)25 1185 y Fu(|)47 b(F_TLOCK)p Black Black
384 1322 a Fw(Lo)s(c)m(k)31 b(a)f(region)g(for)h(writing,)d(or)j(fail)e
(if)g(already)h(lo)s(c)m(k)m(ed)25 1482 y Fu(|)47 b(F_TEST)p
Black Black 384 1619 a Fw(T)-8 b(est)31 b(a)f(region)g(for)h(other)f
(pro)s(cess)g(lo)s(c)m(ks)25 1780 y Fu(|)47 b(F_RLOCK)p
Black Black 384 1917 a Fw(Lo)s(c)m(k)31 b(a)f(region)g(for)h(reading,)e
(and)h(blo)s(c)m(k)g(if)f(already)h(lo)s(c)m(k)m(ed)25
2078 y Fu(|)47 b(F_TRLOCK)p Black Black 384 2215 a Fw(Lo)s(c)m(k)31
b(a)f(region)g(for)h(reading,)e(or)i(fail)e(if)g(already)h(lo)s(c)m(k)m
(ed)p Black Black 156 2376 a(Commands)g(for)g Fu(Unix.lockf)p
Fw(.)-71 2585 y Fu(val)47 b(lockf)f(:)i(file_descr)d(->)i(lock_command)
d(->)k(int)f(->)g(unit)p Black Black 156 2722 a(lockf)g(fd)g(cmd)g
(size)29 b Fw(puts)h(a)g(lo)s(c)m(k)h(on)f(a)h(region)f(of)g(the)h
(\014le)e(op)s(ened)h(as)h Fu(fd)p Fw(.)40 b(The)30 b(region)f(starts)i
(at)156 2835 y(the)g(curren)m(t)f(read/write)g(p)s(osition)f(for)h
Fu(fd)f Fw(\(as)i(set)g(b)m(y)g Fu(Unix.lseek)p Fw(\),)d(and)i(extends)
g Fu(size)f Fw(b)m(ytes)156 2948 y(forw)m(ard)g(if)e
Fu(size)h Fw(is)g(p)s(ositiv)m(e,)g Fu(size)g Fw(b)m(ytes)h(bac)m(kw)m
(ards)h(if)d Fu(size)h Fw(is)g(negativ)m(e,)i(or)f(to)h(the)f(end)f(of)
h(the)g(\014le)156 3061 y(if)h Fu(size)f Fw(is)g(zero.)42
b(A)30 b(write)g(lo)s(c)m(k)g(\(set)i(with)d Fu(F_)o(LOCK)g
Fw(or)i Fu(F_)o(TLOCK)p Fw(\))e(prev)m(en)m(ts)i(an)m(y)g(other)g(pro)s
(cess)f(from)156 3174 y(acquiring)f(a)i(read)f(or)h(write)e(lo)s(c)m(k)
h(on)h(the)f(region.)41 b(A)30 b(read)g(lo)s(c)m(k)h(\(set)g(with)e
Fu(F_RLOCK)g Fw(or)h Fu(F_)o(TRLOCK)p Fw(\))156 3287
y(prev)m(en)m(ts)h(an)m(y)g(other)g(pro)s(cess)f(from)f(acquiring)g(a)i
(write)e(lo)s(c)m(k)i(on)f(the)h(region,)f(but)g(lets)g(other)156
3400 y(pro)s(cesses)h(acquire)e(read)i(lo)s(c)m(ks)f(on)g(it.)-71
3714 y Fg(Signals)-71 3886 y Fw(Note:)37 b(installation)18
b(of)j(signal)e(handlers)f(is)h(p)s(erformed)g(via)h(the)g(functions)f
Fu(Sys.signal)f Fw(and)h Fu(Sys.set_)n(signal)p Fw(.)-71
4023 y Fu(val)47 b(kill)g(:)g(int)g(->)g(int)g(->)g(unit)p
Black Black 156 4160 a(kill)g(pid)g(sig)29 b Fw(sends)h(signal)f(n)m
(um)m(b)s(er)g Fu(sig)g Fw(to)j(the)e(pro)s(cess)g(with)f(id)g
Fu(pid)p Fw(.)-71 4369 y Fu(type)94 b(sigprocmask_command)43
b(=)25 4482 y(|)k(SIG_SETMASK)25 4594 y(|)g(SIG_BLOCK)25
4707 y(|)g(SIG_UNBLOCK)-71 4844 y(val)g(sigprocmask)e(:)i
(sigprocmask_command)c(->)k(int)g(list)f(->)i(int)f(list)p
Black Black 156 4981 a(sigprocmask)e(cmd)i(sigs)29 b
Fw(c)m(hanges)j(the)e(set)h(of)g(blo)s(c)m(k)m(ed)f(signals.)39
b(If)30 b Fu(cmd)g Fw(is)f Fu(SIG_)o(SETMASK)p Fw(,)g(blo)s(c)m(k)m(ed)
156 5094 y(signals)g(are)i(set)g(to)g(those)g(in)e(the)i(list)e
Fu(sigs)p Fw(.)39 b(If)30 b Fu(cmd)g Fw(is)f Fu(SIG_)o(BLOCK)p
Fw(,)g(the)i(signals)e(in)g Fu(sigs)g Fw(are)i(added)156
5207 y(to)h(the)e(set)h(of)g(blo)s(c)m(k)m(ed)f(signals.)39
b(If)30 b Fu(cmd)g Fw(is)f Fu(SIG_)o(UNBLOCK)p Fw(,)f(the)j(signals)e
(in)g Fu(sigs)g Fw(are)i(remo)m(v)m(ed)g(from)156 5320
y(the)g(set)g(of)f(blo)s(c)m(k)m(ed)h(signals.)39 b Fu(sigprocmask)27
b Fw(returns)i(the)i(set)g(of)f(previously)f(blo)s(c)m(k)m(ed)h
(signals.)-71 5529 y Fu(val)47 b(sigpending)e(:)i(unit)g(->)g(int)g
(list)p Black Black eop
%%Page: 132 132
132 131 bop Black -71 24 a Fw(132)2600 b Fs(ANNEXE)30
b(B.)62 b(INTERF)-10 b(A)m(CES)p Black Black Black 156
280 a Fw(Return)30 b(the)h(set)f(of)h(blo)s(c)m(k)m(ed)f(signals)f
(that)i(are)g(curren)m(tly)e(p)s(ending.)-71 487 y Fu(val)47
b(sigsuspend)e(:)i(int)g(list)g(->)g(unit)p Black Black
156 624 a(sigsuspend)e(sigs)30 b Fw(atomically)g(sets)g(the)h(blo)s(c)m
(k)m(ed)f(signals)f(to)i Fu(sig)f Fw(and)f(w)m(aits)i(for)f(a)h
(non-ignored,)156 737 y(non-blo)s(c)m(k)m(ed)f(signal)g(to)h(b)s(e)e
(deliv)m(ered.)40 b(On)29 b(return,)h(the)g(blo)s(c)m(k)m(ed)h(signals)
e(are)h(reset)h(to)g(their)f(initial)156 849 y(v)-5 b(alue.)-71
1056 y Fu(val)47 b(pause)f(:)i(unit)e(->)i(unit)p Black
Black 156 1193 a Fw(W)-8 b(ait)32 b(un)m(til)c(a)j(non-ignored,)f
(non-blo)s(c)m(k)m(ed)g(signal)f(is)g(deliv)m(ered.)-71
1505 y Fg(Time)36 b(functions)-71 1700 y Fu(type)94 b(process_times)45
b(=)i Fc(f)25 1813 y Fu(tms_utime)e(:)i(float)g(;)p Black
Black 384 1950 a Fw(User)30 b(time)g(for)g(the)h(pro)s(cess)25
2110 y Fu(tms_stime)45 b(:)i(float)g(;)p Black Black
384 2246 a Fw(System)30 b(time)g(for)g(the)h(pro)s(cess)25
2406 y Fu(tms_cutime)45 b(:)i(float)f(;)p Black Black
384 2542 a Fw(User)30 b(time)g(for)g(the)h(c)m(hildren)d(pro)s(cesses)
25 2702 y Fu(tms_cstime)45 b(:)i(float)f(;)p Black Black
384 2839 a Fw(System)30 b(time)g(for)g(the)h(c)m(hildren)d(pro)s
(cesses)-71 2999 y Fc(g)p Black Black 156 3135 a Fw(The)i(execution)h
(times)f(\(CPU)g(times\))g(of)h(a)g(pro)s(cess.)-71 3342
y Fu(type)94 b(tm)48 b(=)f Fc(f)25 3455 y Fu(tm_sec)f(:)h(int)g(;)p
Black Black 384 3591 a Fw(Seconds)30 b(0..59)25 3751
y Fu(tm_min)46 b(:)h(int)g(;)p Black Black 384 3888 a
Fw(Min)m(utes)30 b(0..59)25 4047 y Fu(tm_hour)45 b(:)j(int)f(;)p
Black Black 384 4184 a Fw(Hours)30 b(0..23)25 4344 y
Fu(tm_mday)45 b(:)j(int)f(;)p Black Black 384 4480 a
Fw(Da)m(y)31 b(of)g(mon)m(th)f(1..31)25 4640 y Fu(tm_mon)46
b(:)h(int)g(;)p Black Black 384 4776 a Fw(Mon)m(th)31
b(of)f(y)m(ear)h(0..11)25 4936 y Fu(tm_year)45 b(:)j(int)f(;)p
Black Black 384 5073 a Fw(Y)-8 b(ear)31 b(-)g(1900)25
5233 y Fu(tm_wday)45 b(:)j(int)f(;)p Black Black 384
5369 a Fw(Da)m(y)31 b(of)g(w)m(eek)g(\(Sunda)m(y)f(is)f(0\))25
5529 y Fu(tm_yday)45 b(:)j(int)f(;)p Black Black eop
%%Page: 133 133
133 132 bop Black -71 24 a Fs(B.2.)72 b(MODULE)31 b Fu(UNIX)e
Fs(:)i(INTERF)-10 b(A)m(CE)30 b(TO)f(THE)h(UNIX)h(SYSTEM)1206
b Fw(133)p Black Black Black 384 280 a(Da)m(y)31 b(of)g(y)m(ear)g
(0..365)25 445 y Fu(tm_isdst)45 b(:)j(bool)e(;)p Black
Black 384 584 a Fw(Da)m(yligh)m(t)31 b(time)f(sa)m(vings)g(in)f
(e\013ect)-71 748 y Fc(g)p Black Black 156 887 a Fw(The)h(t)m(yp)s(e)h
(represen)m(ting)e(w)m(allclo)s(c)m(k)h(time)g(and)g(calendar)g(date.)
-71 1103 y Fu(val)47 b(time)g(:)g(unit)g(->)g(float)p
Black Black 156 1242 a Fw(Return)30 b(the)h(curren)m(t)f(time)g(since)g
(00:00:00)j(GMT,)e(Jan.)40 b(1,)31 b(1970,)i(in)c(seconds.)-71
1458 y Fu(val)47 b(gettimeofday)d(:)k(unit)f(->)g(float)p
Black Black 156 1597 a Fw(Same)31 b(as)f Fu(Unix.time)p
Fw(,)f(but)g(with)g(resolution)g(b)s(etter)i(than)f(1)h(second.)-71
1812 y Fu(val)47 b(gmtime)f(:)i(float)e(->)h(tm)p Black
Black 156 1952 a Fw(Con)m(v)m(ert)32 b(a)e(time)g(in)g(seconds,)g(as)h
(returned)e(b)m(y)h Fu(Unix.time)p Fw(,)e(in)m(to)j(a)f(date)h(and)f(a)
h(time.)40 b(Assumes)156 2065 y(Green)m(wic)m(h)31 b(meridian)d(time)i
(zone,)h(also)f(kno)m(wn)g(as)h(UTC.)-71 2280 y Fu(val)47
b(localtime)e(:)j(float)e(->)h(tm)p Black Black 156 2419
a Fw(Con)m(v)m(ert)32 b(a)e(time)g(in)g(seconds,)g(as)h(returned)e(b)m
(y)h Fu(Unix.time)p Fw(,)e(in)m(to)j(a)f(date)h(and)f(a)h(time.)40
b(Assumes)30 b(the)156 2532 y(lo)s(cal)g(time)g(zone.)-71
2748 y Fu(val)47 b(mktime)f(:)i(tm)f(->)g(float)f(*)i(tm)p
Black Black 156 2887 a Fw(Con)m(v)m(ert)32 b(a)e(date)h(and)f(time,)g
(sp)s(eci\014ed)f(b)m(y)h(the)h Fu(tm)f Fw(argumen)m(t,)h(in)m(to)f(a)h
(time)f(in)f(seconds,)i(as)f(returned)156 3000 y(b)m(y)h
Fu(Unix.time)p Fw(.)38 b(Also)30 b(return)f(a)i(normalized)e(cop)m(y)i
(of)g(the)f(giv)m(en)g Fu(tm)g Fw(record,)h(with)e(the)h
Fu(tm_wday)p Fw(,)156 3113 y Fu(tm_yday)p Fw(,)f(and)h
Fu(tm_)o(isdst)f Fw(\014elds)g(recomputed)h(from)g(the)g(other)h
(\014elds.)39 b(The)30 b Fu(tm)g Fw(argumen)m(t)h(is)156
3226 y(in)m(terpreted)f(in)f(the)i(lo)s(cal)e(time)h(zone.)-71
3441 y Fu(val)47 b(alarm)f(:)i(int)f(->)g(int)p Black
Black 156 3581 a Fw(Sc)m(hedule)30 b(a)g Fu(SIGALRM)f
Fw(signal)g(after)i(the)f(giv)m(en)h(n)m(um)m(b)s(er)e(of)h(seconds.)
-71 3796 y Fu(val)47 b(sleep)f(:)i(int)f(->)g(unit)p
Black Black 156 3935 a Fw(Stop)31 b(execution)f(for)g(the)h(giv)m(en)f
(n)m(um)m(b)s(er)f(of)i(seconds.)-71 4151 y Fu(val)47
b(times)f(:)i(unit)e(->)i(process_times)p Black Black
156 4290 a Fw(Return)30 b(the)h(execution)f(times)g(of)h(the)f(pro)s
(cess.)-71 4506 y Fu(val)47 b(utimes)f(:)i(string)e(->)h(float)f(->)h
(float)g(->)g(unit)p Black Black 156 4645 a Fw(Set)31
b(the)g(last)f(access)h(time)g(\(second)f(arg\))h(and)f(last)g(mo)s
(di\014cation)f(time)h(\(third)f(arg\))i(for)f(a)h(\014le.)40
b(Times)156 4758 y(are)31 b(expressed)f(in)f(seconds)h(from)g(00:00:00)
k(GMT,)d(Jan.)40 b(1,)31 b(1970.)-71 4973 y Fu(type)94
b(interval_timer)44 b(=)25 5086 y(|)j(ITIMER_REAL)p Black
Black 384 5225 a Fw(decremen)m(ts)31 b(in)e(real)h(time,)g(and)g(sends)
f(the)i(signal)e Fu(SIGALRM)f Fw(when)i(expired.)25 5390
y Fu(|)47 b(ITIMER_VIRTUAL)p Black Black 384 5529 a Fw(decremen)m(ts)31
b(in)e(pro)s(cess)h(virtual)e(time,)j(and)e(sends)h Fu(SIGVTALRM)e
Fw(when)h(expired.)p Black Black eop
%%Page: 134 134
134 133 bop Black -71 24 a Fw(134)2600 b Fs(ANNEXE)30
b(B.)62 b(INTERF)-10 b(A)m(CES)p Black 25 280 a Fu(|)47
b(ITIMER_PROF)p Black Black 384 418 a Fw(\(for)30 b(pro\014ling\))e
(decremen)m(ts)j(b)s(oth)f(when)f(the)i(pro)s(cess)f(is)f(running)f
(and)i(when)f(the)i(system)f(is)384 531 y(running)d(on)k(b)s(ehalf)d
(of)j(the)f(pro)s(cess;)h(it)e(sends)h Fu(SIGPROF)e Fw(when)i(expired.)
p Black Black 156 693 a(The)g(three)h(kinds)d(of)j(in)m(terv)-5
b(al)29 b(timers.)-71 905 y Fu(type)94 b(interval_timer_status)42
b(=)48 b Fc(f)25 1018 y Fu(it_interval)c(:)k(float)e(;)p
Black Black 384 1155 a Fw(P)m(erio)s(d)25 1318 y Fu(it_value)f(:)j
(float)e(;)p Black Black 384 1455 a Fw(Curren)m(t)29
b(v)-5 b(alue)30 b(of)g(the)h(timer)-71 1618 y Fc(g)p
Black Black 156 1755 a Fw(The)f(t)m(yp)s(e)h(describing)d(the)i(status)
h(of)g(an)f(in)m(terv)-5 b(al)29 b(timer)-71 1967 y Fu(val)47
b(getitimer)e(:)j(interval_timer)c(->)j(interval_timer_status)p
Black Black 156 2104 a Fw(Return)30 b(the)h(curren)m(t)f(status)g(of)h
(the)g(giv)m(en)f(in)m(terv)-5 b(al)29 b(timer.)-71 2316
y Fu(val)47 b(setitimer)e(:)25 2429 y(interval_timer)e(->)25
2542 y(interval_timer_status)f(->)47 b(interval_timer_status)p
Black Black 156 2680 a(setitimer)f(t)h(s)30 b Fw(sets)h(the)g(in)m
(terv)-5 b(al)29 b(timer)h Fu(t)g Fw(and)g(returns)f(its)g(previous)g
(status.)41 b(The)30 b Fu(s)g Fw(argumen)m(t)h(is)156
2792 y(in)m(terpreted)f(as)h(follo)m(ws:)40 b Fu(s.it_)n(value)p
Fw(,)29 b(if)h(nonzero,)h(is)e(the)i(time)f(to)h(the)f(next)h(timer)f
(expiration;)156 2905 y Fu(s.it_)o(interval)p Fw(,)e(if)h(nonzero,)i
(sp)s(eci\014es)d(a)j(v)-5 b(alue)29 b(to)i(b)s(e)e(used)g(in)g
(reloading)g(it)p Fu(_)o Fw(v)-5 b(alue)30 b(when)f(the)h(timer)156
3018 y(expires.)40 b(Setting)30 b Fu(s.it_)o(value)f
Fw(to)i(zero)g(disable)e(the)h(timer.)40 b(Setting)30
b Fu(s.it_)o(interval)e Fw(to)j(zero)156 3131 y(causes)g(the)g(timer)e
(to)j(b)s(e)d(disabled)f(after)j(its)f(next)h(expiration.)-71
3449 y Fg(User)38 b(id,)f(group)g(id)-71 3645 y Fu(val)47
b(getuid)f(:)i(unit)e(->)h(int)p Black Black 156 3782
a Fw(Return)30 b(the)h(user)e(id)g(of)i(the)f(user)g(executing)h(the)f
(pro)s(cess.)-71 3994 y Fu(val)47 b(geteuid)f(:)h(unit)g(->)g(int)p
Black Black 156 4132 a Fw(Return)30 b(the)h(e\013ectiv)m(e)h(user)d(id)
g(under)g(whic)m(h)g(the)i(pro)s(cess)f(runs.)-71 4343
y Fu(val)47 b(setuid)f(:)i(int)e(->)i(unit)p Black Black
156 4481 a Fw(Set)31 b(the)g(real)f(user)f(id)g(and)h(e\013ectiv)m(e)i
(user)e(id)f(for)h(the)h(pro)s(cess.)-71 4693 y Fu(val)47
b(getgid)f(:)i(unit)e(->)h(int)p Black Black 156 4830
a Fw(Return)30 b(the)h(group)e(id)g(of)i(the)g(user)e(executing)i(the)f
(pro)s(cess.)-71 5042 y Fu(val)47 b(getegid)f(:)h(unit)g(->)g(int)p
Black Black 156 5180 a Fw(Return)30 b(the)h(e\013ectiv)m(e)h(group)d
(id)g(under)g(whic)m(h)g(the)i(pro)s(cess)f(runs.)-71
5391 y Fu(val)47 b(setgid)f(:)i(int)e(->)i(unit)p Black
Black 156 5529 a Fw(Set)31 b(the)g(real)f(group)f(id)g(and)h
(e\013ectiv)m(e)i(group)e(id)f(for)h(the)h(pro)s(cess.)p
Black Black eop
%%Page: 135 135
135 134 bop Black -71 24 a Fs(B.2.)72 b(MODULE)31 b Fu(UNIX)e
Fs(:)i(INTERF)-10 b(A)m(CE)30 b(TO)f(THE)h(UNIX)h(SYSTEM)1206
b Fw(135)p Black -71 280 a Fu(val)47 b(getgroups)e(:)j(unit)e(->)i(int)
e(array)p Black Black 156 421 a Fw(Return)30 b(the)h(list)e(of)h
(groups)g(to)h(whic)m(h)e(the)i(user)e(executing)i(the)f(pro)s(cess)g
(b)s(elongs.)-71 638 y Fu(type)94 b(passwd_entry)45 b(=)i
Fc(f)25 751 y Fu(pw_name)e(:)j(string)e(;)25 864 y(pw_passwd)f(:)i
(string)f(;)25 977 y(pw_uid)g(:)h(int)g(;)25 1089 y(pw_gid)f(:)h(int)g
(;)25 1202 y(pw_gecos)e(:)j(string)e(;)25 1315 y(pw_dir)g(:)h(string)f
(;)25 1428 y(pw_shell)f(:)j(string)e(;)-71 1541 y Fc(g)p
Black Black 156 1681 a Fw(Structure)30 b(of)g(en)m(tries)h(in)e(the)h
Fu(passwd)f Fw(database.)-71 1899 y Fu(type)94 b(group_entry)45
b(=)j Fc(f)25 2012 y Fu(gr_name)d(:)j(string)e(;)25 2124
y(gr_passwd)f(:)i(string)f(;)25 2237 y(gr_gid)g(:)h(int)g(;)25
2350 y(gr_mem)f(:)h(string)f(array)h(;)-71 2463 y Fc(g)p
Black Black 156 2603 a Fw(Structure)30 b(of)g(en)m(tries)h(in)e(the)h
Fu(groups)f Fw(database.)-71 2821 y Fu(val)47 b(getlogin)f(:)h(unit)g
(->)g(string)p Black Black 156 2961 a Fw(Return)30 b(the)h(login)e
(name)h(of)h(the)f(user)g(executing)h(the)f(pro)s(cess.)-71
3178 y Fu(val)47 b(getpwnam)f(:)h(string)f(->)h(passwd_entry)p
Black Black 156 3318 a Fw(Find)29 b(an)i(en)m(try)f(in)f
Fu(passwd)g Fw(with)g(the)i(giv)m(en)f(name,)h(or)f(raise)g
Fu(Not_)o(found)p Fw(.)-71 3536 y Fu(val)47 b(getgrnam)f(:)h(string)f
(->)h(group_entry)p Black Black 156 3676 a Fw(Find)29
b(an)i(en)m(try)f(in)f Fu(group)g Fw(with)g(the)i(giv)m(en)f(name,)h
(or)f(raise)g Fu(Not_)o(found)p Fw(.)-71 3893 y Fu(val)47
b(getpwuid)f(:)h(int)g(->)g(passwd_entry)p Black Black
156 4033 a Fw(Find)29 b(an)i(en)m(try)f(in)f Fu(passwd)g
Fw(with)g(the)i(giv)m(en)f(user)g(id,)f(or)h(raise)g
Fu(Not_)o(found)p Fw(.)-71 4251 y Fu(val)47 b(getgrgid)f(:)h(int)g(->)g
(group_entry)p Black Black 156 4391 a Fw(Find)29 b(an)i(en)m(try)f(in)f
Fu(group)g Fw(with)g(the)i(giv)m(en)f(group)g(id,)f(or)i(raise)f
Fu(Not_)o(found)p Fw(.)-71 4719 y Fg(In)m(ternet)37 b(addresses)-71
4918 y Fu(type)94 b(inet_addr)p Black Black 156 5059
a Fw(The)30 b(abstract)i(t)m(yp)s(e)e(of)h(In)m(ternet)f(addresses.)-71
5276 y Fu(val)47 b(inet_addr_of_string)c(:)k(string)f(->)h(inet_addr)p
Black Black 156 5416 a Fw(Con)m(v)m(ersions)30 b(b)s(et)m(w)m(een)h
(string)f(with)f(the)h(format)h Fu(XXX.YYY.ZZZ.TTT)26
b Fw(and)k(In)m(ternet)h(addresses.)156 5529 y Fu(inet_)o(addr_)o(of_)o
(string)e Fw(raises)g Fu(Failure)g Fw(when)g(giv)m(en)h(a)h(string)e
(that)i(do)s(es)g(not)f(matc)m(h)h(this)f(format.)p Black
Black eop
%%Page: 136 136
136 135 bop Black -71 24 a Fw(136)2600 b Fs(ANNEXE)30
b(B.)62 b(INTERF)-10 b(A)m(CES)p Black -71 280 a Fu(val)47
b(string_of_inet_addr)c(:)k(inet_addr)e(->)i(string)p
Black Black 156 418 a Fw(See)31 b Fu(Unix.inet_)m(addr_)o(of_)o(string)
p Fw(.)-71 629 y Fu(val)47 b(inet_addr_any)d(:)k(inet_addr)p
Black Black 156 767 a Fw(A)31 b(sp)s(ecial)e(In)m(ternet)i(address,)e
(for)h(use)h(only)e(with)g Fu(bind)p Fw(,)h(represen)m(ting)f(all)g
(the)i(In)m(ternet)g(addresses)156 880 y(that)g(the)g(host)f(mac)m
(hine)g(p)s(ossesses.)-71 1197 y Fg(So)s(c)m(k)m(ets)-71
1393 y Fu(type)94 b(socket_domain)45 b(=)25 1506 y(|)i(PF_UNIX)p
Black Black 384 1643 a Fw(Unix)29 b(domain)25 1806 y
Fu(|)47 b(PF_INET)p Black Black 384 1943 a Fw(In)m(ternet)30
b(domain)p Black Black 156 2105 a(The)g(t)m(yp)s(e)h(of)f(so)s(c)m(k)m
(et)j(domains.)-71 2317 y Fu(type)94 b(socket_type)45
b(=)25 2429 y(|)i(SOCK_STREAM)p Black Black 384 2567
a Fw(Stream)30 b(so)s(c)m(k)m(et)25 2729 y Fu(|)47 b(SOCK_DGRAM)p
Black Black 384 2867 a Fw(Datagram)32 b(so)s(c)m(k)m(et)25
3029 y Fu(|)47 b(SOCK_RAW)p Black Black 384 3166 a Fw(Ra)m(w)30
b(so)s(c)m(k)m(et)25 3329 y Fu(|)47 b(SOCK_SEQPACKET)p
Black Black 384 3466 a Fw(Sequenced)30 b(pac)m(k)m(ets)i(so)s(c)m(k)m
(et)p Black Black 156 3628 a(The)e(t)m(yp)s(e)h(of)f(so)s(c)m(k)m(et)j
(kinds,)28 b(sp)s(ecifying)g(the)j(seman)m(tics)g(of)f(comm)m
(unications.)-71 3840 y Fu(type)94 b(sockaddr)46 b(=)25
3952 y(|)h(ADDR_UNIX)e(of)i(string)25 4065 y(|)g(ADDR_INET)e(of)i
(inet_addr)f(*)h(int)p Black Black 384 4203 a Fw(The)30
b(t)m(yp)s(e)g(of)h(so)s(c)m(k)m(et)h(addresses.)40 b
Fu(ADDR_)o(UNIX)46 b(name)29 b Fw(is)h(a)h(so)s(c)m(k)m(et)h(address)d
(in)g(the)i(Unix)384 4316 y(domain;)e Fu(name)g Fw(is)h(a)h(\014le)e
(name)h(in)f(the)i(\014le)f(system.)40 b Fu(ADDR_)o(INET\(addr,port\))
26 b Fw(is)k(a)g(so)s(c)m(k)m(et)384 4429 y(address)f(in)g(the)i(In)m
(ternet)g(domain;)e Fu(addr)g Fw(is)h(the)g(In)m(ternet)h(address)e(of)
i(the)g(mac)m(hine,)f(and)g Fu(port)384 4542 y Fw(is)f(the)i(p)s(ort)e
(n)m(um)m(b)s(er.)-71 4704 y Fu(val)47 b(socket)f(:)i(socket_domain)c
(->)j(socket_type)e(->)i(int)g(->)g(file_descr)p Black
Black 156 4841 a Fw(Create)32 b(a)e(new)g(so)s(c)m(k)m(et)i(in)e(the)g
(giv)m(en)g(domain,)g(and)g(with)f(the)h(giv)m(en)h(kind.)39
b(The)29 b(third)g(argumen)m(t)i(is)156 4954 y(the)g(proto)s(col)f(t)m
(yp)s(e;)h(0)g(selects)g(the)f(default)g(proto)s(col)g(for)g(that)h
(kind)e(of)h(so)s(c)m(k)m(ets.)-71 5166 y Fu(val)47 b(socketpair)e(:)25
5279 y(socket_domain)f(->)25 5391 y(socket_type)g(->)j(int)g(->)h
(file_descr)d(*)i(file_descr)p Black Black 156 5529 a
Fw(Create)32 b(a)e(pair)f(of)i(unnamed)e(so)s(c)m(k)m(ets,)j(connected)
g(together.)p Black Black eop
%%Page: 137 137
137 136 bop Black -71 24 a Fs(B.2.)72 b(MODULE)31 b Fu(UNIX)e
Fs(:)i(INTERF)-10 b(A)m(CE)30 b(TO)f(THE)h(UNIX)h(SYSTEM)1206
b Fw(137)p Black -71 280 a Fu(val)47 b(accept)f(:)i(file_descr)d(->)i
(file_descr)e(*)i(sockaddr)p Black Black 156 425 a Fw(Accept)32
b(connections)e(on)h(the)f(giv)m(en)h(so)s(c)m(k)m(et.)42
b(The)30 b(returned)f(descriptor)g(is)h(a)h(so)s(c)m(k)m(et)h
(connected)f(to)156 538 y(the)g(clien)m(t;)f(the)h(returned)e(address)g
(is)h(the)g(address)g(of)g(the)h(connecting)g(clien)m(t.)-71
765 y Fu(val)47 b(bind)g(:)g(file_descr)e(->)i(sockaddr)f(->)h(unit)p
Black Black 156 909 a Fw(Bind)29 b(a)i(so)s(c)m(k)m(et)h(to)f(an)g
(address.)-71 1136 y Fu(val)47 b(connect)f(:)h(file_descr)e(->)i
(sockaddr)f(->)h(unit)p Black Black 156 1281 a Fw(Connect)31
b(a)g(so)s(c)m(k)m(et)h(to)f(an)f(address.)-71 1507 y
Fu(val)47 b(listen)f(:)i(file_descr)d(->)i(int)g(->)g(unit)p
Black Black 156 1652 a Fw(Set)31 b(up)e(a)i(so)s(c)m(k)m(et)h(for)e
(receiving)g(connection)h(requests.)40 b(The)30 b(in)m(teger)h(argumen)
m(t)g(is)e(the)i(maximal)156 1765 y(n)m(um)m(b)s(er)e(of)i(p)s(ending)d
(requests.)-71 1992 y Fu(type)94 b(shutdown_command)44
b(=)25 2104 y(|)j(SHUTDOWN_RECEIVE)p Black Black 384
2249 a Fw(Close)30 b(for)g(receiving)25 2419 y Fu(|)47
b(SHUTDOWN_SEND)p Black Black 384 2564 a Fw(Close)30
b(for)g(sending)25 2734 y Fu(|)47 b(SHUTDOWN_ALL)p Black
Black 384 2878 a Fw(Close)30 b(b)s(oth)p Black Black
156 3052 a(The)g(t)m(yp)s(e)h(of)f(commands)g(for)g Fu(shutdown)p
Fw(.)-71 3278 y Fu(val)47 b(shutdown)f(:)h(file_descr)e(->)i
(shutdown_command)d(->)j(unit)p Black Black 156 3423
a Fw(Sh)m(utdo)m(wn)30 b(a)g(so)s(c)m(k)m(et)j(connection.)41
b Fu(SHUTDOWN_)m(SEND)29 b Fw(as)i(second)f(argumen)m(t)h(causes)g
(reads)f(on)g(the)156 3536 y(other)h(end)f(of)g(the)h(connection)f(to)i
(return)d(an)h(end-of-\014le)g(condition.)39 b Fu(SHUTDOWN_)n(RECEIVE)
28 b Fw(causes)156 3649 y(writes)g(on)h(the)g(other)g(end)g(of)g(the)g
(connection)g(to)g(return)f(a)h(closed)g(pip)s(e)e(condition)h(\()p
Fu(SIGPIPE)f Fw(signal\).)-71 3875 y Fu(val)47 b(getsockname)e(:)i
(file_descr)e(->)i(sockaddr)p Black Black 156 4020 a
Fw(Return)30 b(the)h(address)e(of)i(the)f(giv)m(en)h(so)s(c)m(k)m(et.)
-71 4247 y Fu(val)47 b(getpeername)e(:)i(file_descr)e(->)i(sockaddr)p
Black Black 156 4391 a Fw(Return)30 b(the)h(address)e(of)i(the)f(host)h
(connected)g(to)g(the)g(giv)m(en)f(so)s(c)m(k)m(et.)-71
4618 y Fu(type)94 b(msg_flag)46 b(=)25 4731 y(|)h(MSG_OOB)25
4844 y(|)g(MSG_DONTROUTE)25 4957 y(|)g(MSG_PEEK)p Black
Black 384 5102 a Fw(The)30 b(\015ags)g(for)g Fu(Unix.recv)p
Fw(,)e Fu(Unix.recvfrom)p Fw(,)f Fu(Unix.send)h Fw(and)i
Fu(Unix.sendto)p Fw(.)-71 5271 y Fu(val)47 b(recv)g(:)25
5384 y(file_descr)e(->)i(string)f(->)h(int)g(->)g(int)g(->)g(msg_flag)f
(list)g(->)i(int)p Black Black 156 5529 a Fw(Receiv)m(e)32
b(data)f(from)f(a)h(connected)g(so)s(c)m(k)m(et.)p Black
Black eop
%%Page: 138 138
138 137 bop Black -71 24 a Fw(138)2600 b Fs(ANNEXE)30
b(B.)62 b(INTERF)-10 b(A)m(CES)p Black -71 280 a Fu(val)47
b(recvfrom)f(:)25 393 y(file_descr)f(->)25 506 y(string)h(->)h(int)g
(->)g(int)g(->)g(msg_flag)f(list)g(->)h(int)g(*)h(sockaddr)p
Black Black 156 643 a Fw(Receiv)m(e)32 b(data)f(from)f(an)g
(unconnected)g(so)s(c)m(k)m(et.)-71 850 y Fu(val)47 b(send)g(:)25
963 y(file_descr)e(->)i(string)f(->)h(int)g(->)g(int)g(->)g(msg_flag)f
(list)g(->)i(int)p Black Black 156 1099 a Fw(Send)30
b(data)h(o)m(v)m(er)g(a)g(connected)g(so)s(c)m(k)m(et.)-71
1307 y Fu(val)47 b(sendto)f(:)25 1419 y(file_descr)f(->)25
1532 y(string)h(->)h(int)g(->)g(int)g(->)g(msg_flag)f(list)g(->)h
(sockaddr)f(->)h(int)p Black Black 156 1669 a Fw(Send)30
b(data)h(o)m(v)m(er)g(an)g(unconnected)f(so)s(c)m(k)m(et.)-71
1982 y Fg(So)s(c)m(k)m(et)37 b(options)-71 2177 y Fu(type)94
b(socket_bool_option)43 b(=)25 2290 y(|)k(SO_DEBUG)p
Black Black 384 2427 a Fw(Record)30 b(debugging)g(information)25
2587 y Fu(|)47 b(SO_BROADCAST)p Black Black 384 2723
a Fw(P)m(ermit)30 b(sending)e(of)j(broadcast)g(messages)25
2883 y Fu(|)47 b(SO_REUSEADDR)p Black Black 384 3020
a Fw(Allo)m(w)29 b(reuse)h(of)h(lo)s(cal)f(addresses)f(for)h(bind)25
3180 y Fu(|)47 b(SO_KEEPALIVE)p Black Black 384 3316
a Fw(Keep)30 b(connection)h(activ)m(e)25 3476 y Fu(|)47
b(SO_DONTROUTE)p Black Black 384 3613 a Fw(Bypass)30
b(the)h(standard)e(routing)h(algorithms)25 3773 y Fu(|)47
b(SO_OOBINLINE)p Black Black 384 3909 a Fw(Lea)m(v)m(e)32
b(out-of-band)e(data)h(in)f(line)25 4070 y Fu(|)47 b(SO_ACCEPTCONN)p
Black Black 384 4206 a Fw(Rep)s(ort)30 b(whether)f(so)s(c)m(k)m(et)k
(listening)28 b(is)h(enabled)p Black Black 156 4366 a(The)h(so)s(c)m(k)
m(et)j(options)c(that)i(can)g(b)s(e)f(consulted)f(with)g
Fu(Unix.getsockopt)d Fw(and)k(mo)s(di\014ed)e(with)156
4479 y Fu(Unix.setsockopt)p Fw(.)37 b(These)30 b(options)g(ha)m(v)m(e)h
(a)g(b)s(o)s(olean)f(\()p Fu(true)p Fw(/)p Fu(false)p
Fw(\))f(v)-5 b(alue.)-71 4686 y Fu(type)94 b(socket_int_option)44
b(=)25 4799 y(|)j(SO_SNDBUF)p Black Black 384 4936 a
Fw(Size)30 b(of)g(send)g(bu\013er)25 5096 y Fu(|)47 b(SO_RCVBUF)p
Black Black 384 5232 a Fw(Size)30 b(of)g(receiv)m(ed)h(bu\013er)25
5392 y Fu(|)47 b(SO_ERROR)p Black Black 384 5529 a Fw(Rep)s(ort)30
b(the)g(error)g(status)h(and)f(clear)g(it)p Black Black
eop
%%Page: 139 139
139 138 bop Black -71 24 a Fs(B.2.)72 b(MODULE)31 b Fu(UNIX)e
Fs(:)i(INTERF)-10 b(A)m(CE)30 b(TO)f(THE)h(UNIX)h(SYSTEM)1206
b Fw(139)p Black 25 280 a Fu(|)47 b(SO_TYPE)p Black Black
384 417 a Fw(Rep)s(ort)30 b(the)g(so)s(c)m(k)m(et)j(t)m(yp)s(e)25
577 y Fu(|)47 b(SO_RCVLOWAT)p Black Black 384 713 a Fw(Minim)m(um)28
b(n)m(um)m(b)s(er)h(of)h(b)m(ytes)h(to)g(pro)s(cess)f(for)g(input)f(op)
s(erations)25 873 y Fu(|)47 b(SO_SNDLOWAT)p Black Black
384 1010 a Fw(Minim)m(um)28 b(n)m(um)m(b)s(er)h(of)h(b)m(ytes)h(to)g
(pro)s(cess)f(for)g(output)g(op)s(erations)p Black Black
156 1170 a(The)g(so)s(c)m(k)m(et)j(options)c(that)i(can)g(b)s(e)f
(consulted)f(with)g Fu(Unix.getsockopt_)l(int)g Fw(and)h(mo)s(di\014ed)
e(with)156 1283 y Fu(Unix.setsockopt_)l(int)p Fw(.)40
b(These)30 b(options)g(ha)m(v)m(e)h(an)g(in)m(teger)f(v)-5
b(alue.)-71 1490 y Fu(type)94 b(socket_optint_option)43
b(=)25 1603 y(|)k(SO_LINGER)p Black Black 384 1740 a
Fw(Whether)30 b(to)h(linger)e(on)h(closed)h(connections)f(that)h(ha)m
(v)m(e)h(data)f(presen)m(t,)f(and)g(for)g(ho)m(w)h(long)f(\(in)384
1852 y(seconds\))p Black Black 156 2012 a(The)f(so)s(c)m(k)m(et)j
(options)c(that)i(can)g(b)s(e)f(consulted)g(with)f Fu(Unix.getsockopt_)
-5 b(optint)28 b Fw(and)h(mo)s(di\014ed)e(with)156 2125
y Fu(Unix.setsockopt_)l(optint)p Fw(.)39 b(These)30 b(options)g(ha)m(v)
m(e)h(a)g(v)-5 b(alue)30 b(of)h(t)m(yp)s(e)f Fu(int)47
b(option)p Fw(,)29 b(with)g Fu(None)156 2238 y Fw(meaning)h
(\\disabled".)-71 2446 y Fu(type)94 b(socket_float_option)43
b(=)25 2558 y(|)k(SO_RCVTIMEO)p Black Black 384 2695
a Fw(Timeout)29 b(for)i(input)d(op)s(erations)25 2855
y Fu(|)47 b(SO_SNDTIMEO)p Black Black 384 2991 a Fw(Timeout)29
b(for)i(output)e(op)s(erations)p Black Black 156 3152
a(The)h(so)s(c)m(k)m(et)j(options)c(that)i(can)g(b)s(e)f(consulted)f
(with)g Fu(Unix.getsockopt_)l(float)g Fw(and)h(mo)s(di\014ed)e(with)156
3264 y Fu(Unix.setsockopt_)l(float)p Fw(.)39 b(These)30
b(options)g(ha)m(v)m(e)i(a)e(\015oating-p)s(oin)m(t)g(v)-5
b(alue)30 b(represen)m(ting)g(a)g(time)g(in)156 3377
y(seconds.)41 b(The)30 b(v)-5 b(alue)30 b(0)h(means)f(in\014nite)e
(timeout.)-71 3585 y Fu(val)47 b(getsockopt)e(:)i(file_descr)e(->)j
(socket_bool_option)42 b(->)48 b(bool)p Black Black 156
3721 a Fw(Return)30 b(the)h(curren)m(t)f(status)g(of)h(a)g(b)s(o)s
(olean-v)-5 b(alued)28 b(option)i(in)f(the)i(giv)m(en)f(so)s(c)m(k)m
(et.)-71 3928 y Fu(val)47 b(setsockopt)e(:)i(file_descr)e(->)j
(socket_bool_option)42 b(->)48 b(bool)e(->)h(unit)p Black
Black 156 4065 a Fw(Set)31 b(or)f(clear)h(a)g(b)s(o)s(olean-v)-5
b(alued)28 b(option)i(in)f(the)i(giv)m(en)f(so)s(c)m(k)m(et.)-71
4272 y Fu(val)47 b(getsockopt_int)d(:)j(file_descr)e(->)j
(socket_int_option)43 b(->)k(int)p Black Black 156 4409
a Fw(Same)31 b(as)f Fu(Unix.getsockopt)d Fw(for)j(an)g(in)m(teger-v)-5
b(alued)30 b(so)s(c)m(k)m(et)i(option.)-71 4616 y Fu(val)47
b(setsockopt_int)d(:)j(file_descr)e(->)j(socket_int_option)43
b(->)k(int)g(->)g(unit)p Black Black 156 4752 a Fw(Same)31
b(as)f Fu(Unix.setsockopt)d Fw(for)j(an)g(in)m(teger-v)-5
b(alued)30 b(so)s(c)m(k)m(et)i(option.)-71 4959 y Fu(val)47
b(getsockopt_optint)c(:)25 5072 y(file_descr)i(->)i
(socket_optint_option)42 b(->)47 b(int)g(option)p Black
Black 156 5209 a Fw(Same)31 b(as)f Fu(Unix.getsockopt)d
Fw(for)j(a)h(so)s(c)m(k)m(et)h(option)e(whose)g(v)-5
b(alue)30 b(is)f(an)h Fu(int)47 b(option)p Fw(.)-71 5416
y Fu(val)g(setsockopt_optint)c(:)25 5529 y(file_descr)i(->)i
(socket_optint_option)42 b(->)47 b(int)g(option)f(->)h(unit)p
Black Black eop
%%Page: 140 140
140 139 bop Black -71 24 a Fw(140)2600 b Fs(ANNEXE)30
b(B.)62 b(INTERF)-10 b(A)m(CES)p Black Black Black 156
280 a Fw(Same)31 b(as)f Fu(Unix.setsockopt)d Fw(for)j(a)h(so)s(c)m(k)m
(et)h(option)e(whose)g(v)-5 b(alue)30 b(is)f(an)h Fu(int)47
b(option)p Fw(.)-71 504 y Fu(val)g(getsockopt_float)c(:)48
b(file_descr)d(->)i(socket_float_option)c(->)k(float)p
Black Black 156 648 a Fw(Same)31 b(as)f Fu(Unix.getsockopt)d
Fw(for)j(a)h(so)s(c)m(k)m(et)h(option)e(whose)g(v)-5
b(alue)30 b(is)f(a)i(\015oating-p)s(oin)m(t)e(n)m(um)m(b)s(er.)-71
872 y Fu(val)47 b(setsockopt_float)c(:)25 985 y(file_descr)i(->)i
(socket_float_option)42 b(->)47 b(float)g(->)g(unit)p
Black Black 156 1129 a Fw(Same)31 b(as)f Fu(Unix.setsockopt)d
Fw(for)j(a)h(so)s(c)m(k)m(et)h(option)e(whose)g(v)-5
b(alue)30 b(is)f(a)i(\015oating-p)s(oin)m(t)e(n)m(um)m(b)s(er.)-71
1472 y Fg(High-lev)m(el)36 b(net)m(w)m(ork)h(connection)f(functions)-71
1674 y Fu(val)47 b(open_connection)d(:)25 1787 y(sockaddr)h(->)i
(Pervasives.in_channel)42 b(*)48 b(Pervasives.out_channel)p
Black Black 156 1930 a Fw(Connect)31 b(to)g(a)g(serv)m(er)f(at)i(the)e
(giv)m(en)h(address.)39 b(Return)30 b(a)h(pair)e(of)h(bu\013ered)g(c)m
(hannels)f(connected)j(to)156 2043 y(the)f(serv)m(er.)41
b(Remem)m(b)s(er)30 b(to)h(call)f Fu(Pervasives.flush)c
Fw(on)k(the)h(output)f(c)m(hannel)f(at)i(the)g(righ)m(t)f(times)156
2156 y(to)i(ensure)d(correct)j(sync)m(hronization.)-71
2380 y Fu(val)47 b(shutdown_connection)c(:)k(Pervasives.in_channel)42
b(->)47 b(unit)p Black Black 156 2524 a Fw(\\Sh)m(ut)31
b(do)m(wn")f(a)h(connection)f(established)f(with)g Fu(Unix.open_)m
(connection)p Fw(;)f(that)j(is,)f(transmit)f(an)156 2637
y(end-of-\014le)h(condition)f(to)i(the)g(serv)m(er)f(reading)g(on)g
(the)h(other)f(side)g(of)g(the)h(connection.)-71 2861
y Fu(val)47 b(establish_server)c(:)25 2974 y(\(Pervasives.in_channel)e
(->)47 b(Pervasives.out_channel)42 b(->)47 b(unit\))g(->)25
3087 y(sockaddr)e(->)i(unit)p Black Black 156 3230 a
Fw(Establish)29 b(a)h(serv)m(er)h(on)f(the)h(giv)m(en)f(address.)40
b(The)30 b(function)f(giv)m(en)h(as)h(\014rst)f(argumen)m(t)g(is)g
(called)f(for)156 3343 y(eac)m(h)j(connection)e(with)g(t)m(w)m(o)h
(bu\013ered)f(c)m(hannels)f(connected)i(to)h(the)e(clien)m(t.)40
b(A)31 b(new)f(pro)s(cess)g(is)156 3456 y(created)i(for)e(eac)m(h)i
(connection.)40 b(The)30 b(function)f Fu(Unix.establish_)l(server)g
Fw(nev)m(er)i(returns)e(normally)-8 b(.)-71 3799 y Fg(Host)37
b(and)h(proto)s(col)f(databases)-71 4002 y Fu(type)94
b(host_entry)45 b(=)j Fc(f)25 4114 y Fu(h_name)e(:)h(string)f(;)25
4227 y(h_aliases)f(:)i(string)f(array)h(;)25 4340 y(h_addrtype)e(:)i
(socket_domain)d(;)25 4453 y(h_addr_list)g(:)k(inet_addr)d(array)h(;)
-71 4566 y Fc(g)p Black Black 156 4710 a Fw(Structure)30
b(of)g(en)m(tries)h(in)e(the)h Fu(hosts)f Fw(database.)-71
4934 y Fu(type)94 b(protocol_entry)44 b(=)k Fc(f)25 5047
y Fu(p_name)e(:)h(string)f(;)25 5160 y(p_aliases)f(:)i(string)f(array)h
(;)25 5272 y(p_proto)e(:)j(int)f(;)-71 5385 y Fc(g)p
Black Black 156 5529 a Fw(Structure)30 b(of)g(en)m(tries)h(in)e(the)h
Fu(protocols)e Fw(database.)p Black Black eop
%%Page: 141 141
141 140 bop Black -71 24 a Fs(B.2.)72 b(MODULE)31 b Fu(UNIX)e
Fs(:)i(INTERF)-10 b(A)m(CE)30 b(TO)f(THE)h(UNIX)h(SYSTEM)1206
b Fw(141)p Black -71 280 a Fu(type)94 b(service_entry)45
b(=)i Fc(f)25 393 y Fu(s_name)f(:)h(string)f(;)25 506
y(s_aliases)f(:)i(string)f(array)h(;)25 619 y(s_port)f(:)h(int)g(;)25
732 y(s_proto)e(:)j(string)e(;)-71 845 y Fc(g)p Black
Black 156 981 a Fw(Structure)30 b(of)g(en)m(tries)h(in)e(the)h
Fu(services)e Fw(database.)-71 1188 y Fu(val)47 b(gethostname)e(:)i
(unit)g(->)g(string)p Black Black 156 1325 a Fw(Return)30
b(the)h(name)f(of)h(the)f(lo)s(cal)g(host.)-71 1531 y
Fu(val)47 b(gethostbyname)d(:)k(string)e(->)h(host_entry)p
Black Black 156 1668 a Fw(Find)29 b(an)i(en)m(try)f(in)f
Fu(hosts)g Fw(with)g(the)i(giv)m(en)f(name,)h(or)f(raise)g
Fu(Not_)o(found)p Fw(.)-71 1875 y Fu(val)47 b(gethostbyaddr)d(:)k
(inet_addr)d(->)i(host_entry)p Black Black 156 2011 a
Fw(Find)29 b(an)i(en)m(try)f(in)f Fu(hosts)g Fw(with)g(the)i(giv)m(en)f
(address,)g(or)g(raise)g Fu(Not_)o(found)p Fw(.)-71 2218
y Fu(val)47 b(getprotobyname)d(:)j(string)f(->)i(protocol_entry)p
Black Black 156 2354 a Fw(Find)29 b(an)i(en)m(try)f(in)f
Fu(protocols)f Fw(with)h(the)i(giv)m(en)f(name,)h(or)f(raise)g
Fu(Not_)o(found)p Fw(.)-71 2561 y Fu(val)47 b(getprotobynumber)c(:)48
b(int)f(->)g(protocol_entry)p Black Black 156 2698 a
Fw(Find)29 b(an)i(en)m(try)f(in)f Fu(protocols)f Fw(with)h(the)i(giv)m
(en)f(proto)s(col)g(n)m(um)m(b)s(er,)g(or)g(raise)g Fu(Not_)o(found)p
Fw(.)-71 2905 y Fu(val)47 b(getservbyname)d(:)k(string)e(->)h(string)f
(->)h(service_entry)p Black Black 156 3041 a Fw(Find)29
b(an)i(en)m(try)f(in)f Fu(services)f Fw(with)h(the)i(giv)m(en)f(name,)h
(or)f(raise)g Fu(Not_)o(found)p Fw(.)-71 3248 y Fu(val)47
b(getservbyport)d(:)k(int)f(->)g(string)f(->)h(service_entry)p
Black Black 156 3384 a Fw(Find)29 b(an)i(en)m(try)f(in)f
Fu(services)f Fw(with)h(the)i(giv)m(en)f(service)h(n)m(um)m(b)s(er,)e
(or)h(raise)g Fu(Not_)o(found)p Fw(.)-71 3697 y Fg(T)-9
b(erminal)35 b(in)m(terface)-71 3869 y Fw(The)e(follo)m(wing)f
(functions)g(implemen)m(t)f(the)j(POSIX)e(standard)h(terminal)e(in)m
(terface.)50 b(They)33 b(pro)m(vide)g(con)m(trol)-71
3982 y(o)m(v)m(er)28 b(async)m(hronous)f(comm)m(unication)g(p)s(orts)f
(and)g(pseudo-terminals.)38 b(Refer)27 b(to)h(the)f Fu(termios)e
Fw(man)i(page)g(for)-71 4094 y(a)k(complete)g(description.)-71
4231 y Fu(type)94 b(terminal_io)45 b(=)j Fc(f)25 4344
y Fu(mutable)d(c_ignbrk)h(:)h(bool)g(;)p Black Black
384 4480 a Fw(Ignore)30 b(the)h(break)f(condition.)25
4640 y Fu(mutable)45 b(c_brkint)h(:)h(bool)g(;)p Black
Black 384 4776 a Fw(Signal)28 b(in)m(terrupt)h(on)i(break)f(condition.)
25 4936 y Fu(mutable)45 b(c_ignpar)h(:)h(bool)g(;)p Black
Black 384 5073 a Fw(Ignore)30 b(c)m(haracters)i(with)d(parit)m(y)h
(errors.)25 5233 y Fu(mutable)45 b(c_parmrk)h(:)h(bool)g(;)p
Black Black 384 5369 a Fw(Mark)30 b(parit)m(y)g(errors.)25
5529 y Fu(mutable)45 b(c_inpck)h(:)i(bool)e(;)p Black
Black eop
%%Page: 142 142
142 141 bop Black -71 24 a Fw(142)2600 b Fs(ANNEXE)30
b(B.)62 b(INTERF)-10 b(A)m(CES)p Black Black Black 384
280 a Fw(Enable)29 b(parit)m(y)h(c)m(hec)m(k)i(on)e(input.)25
442 y Fu(mutable)45 b(c_istrip)h(:)h(bool)g(;)p Black
Black 384 580 a Fw(Strip)28 b(8th)j(bit)e(on)h(input)f(c)m(haracters.)
25 741 y Fu(mutable)45 b(c_inlcr)h(:)i(bool)e(;)p Black
Black 384 879 a Fw(Map)30 b(NL)h(to)g(CR)f(on)g(input.)25
1041 y Fu(mutable)45 b(c_igncr)h(:)i(bool)e(;)p Black
Black 384 1178 a Fw(Ignore)30 b(CR)g(on)g(input.)25 1340
y Fu(mutable)45 b(c_icrnl)h(:)i(bool)e(;)p Black Black
384 1477 a Fw(Map)30 b(CR)g(to)h(NL)g(on)f(input.)25
1639 y Fu(mutable)45 b(c_ixon)h(:)i(bool)f(;)p Black
Black 384 1776 a Fw(Recognize)31 b(X)m(ON/X)m(OFF)i(c)m(haracters)e(on)
g(input.)25 1938 y Fu(mutable)45 b(c_ixoff)h(:)i(bool)e(;)p
Black Black 384 2076 a Fw(Emit)29 b(X)m(ON/X)m(OFF)k(c)m(hars)d(to)h
(con)m(trol)g(input)e(\015o)m(w.)25 2237 y Fu(mutable)45
b(c_opost)h(:)i(bool)e(;)p Black Black 384 2375 a Fw(Enable)29
b(output)h(pro)s(cessing.)25 2537 y Fu(mutable)45 b(c_obaud)h(:)i(int)f
(;)p Black Black 384 2674 a Fw(Output)29 b(baud)g(rate)i(\(0)g(means)g
(close)f(connection\).)25 2836 y Fu(mutable)45 b(c_ibaud)h(:)i(int)f(;)
p Black Black 384 2973 a Fw(Input)29 b(baud)g(rate.)25
3135 y Fu(mutable)45 b(c_csize)h(:)i(int)f(;)p Black
Black 384 3273 a Fw(Num)m(b)s(er)29 b(of)h(bits)g(p)s(er)f(c)m
(haracter)j(\(5-8\).)25 3434 y Fu(mutable)45 b(c_cstopb)h(:)h(int)g(;)p
Black Black 384 3572 a Fw(Num)m(b)s(er)29 b(of)h(stop)h(bits)e
(\(1-2\).)25 3734 y Fu(mutable)45 b(c_cread)h(:)i(bool)e(;)p
Black Black 384 3871 a Fw(Reception)30 b(is)g(enabled.)25
4033 y Fu(mutable)45 b(c_parenb)h(:)h(bool)g(;)p Black
Black 384 4170 a Fw(Enable)29 b(parit)m(y)h(generation)h(and)e
(detection.)25 4332 y Fu(mutable)45 b(c_parodd)h(:)h(bool)g(;)p
Black Black 384 4469 a Fw(Sp)s(ecify)28 b(o)s(dd)i(parit)m(y)g(instead)
f(of)i(ev)m(en.)25 4631 y Fu(mutable)45 b(c_hupcl)h(:)i(bool)e(;)p
Black Black 384 4769 a Fw(Hang)31 b(up)e(on)h(last)g(close.)25
4931 y Fu(mutable)45 b(c_clocal)h(:)h(bool)g(;)p Black
Black 384 5068 a Fw(Ignore)30 b(mo)s(dem)g(status)h(lines.)25
5230 y Fu(mutable)45 b(c_isig)h(:)i(bool)f(;)p Black
Black 384 5367 a Fw(Generate)31 b(signal)f(on)g(INTR,)g(QUIT,)g(SUSP)-8
b(.)25 5529 y Fu(mutable)45 b(c_icanon)h(:)h(bool)g(;)p
Black Black eop
%%Page: 143 143
143 142 bop Black -71 24 a Fs(B.2.)72 b(MODULE)31 b Fu(UNIX)e
Fs(:)i(INTERF)-10 b(A)m(CE)30 b(TO)f(THE)h(UNIX)h(SYSTEM)1206
b Fw(143)p Black Black Black 384 280 a(Enable)29 b(canonical)h(pro)s
(cessing)f(\(line)g(bu\013ering)g(and)h(editing\))25
452 y Fu(mutable)45 b(c_noflsh)h(:)h(bool)g(;)p Black
Black 384 599 a Fw(Disable)29 b(\015ush)g(after)i(INTR,)f(QUIT,)g(SUSP)
-8 b(.)25 771 y Fu(mutable)45 b(c_echo)h(:)i(bool)f(;)p
Black Black 384 919 a Fw(Ec)m(ho)31 b(input)d(c)m(haracters.)25
1091 y Fu(mutable)45 b(c_echoe)h(:)i(bool)e(;)p Black
Black 384 1238 a Fw(Ec)m(ho)31 b(ERASE)e(\(to)j(erase)f(previous)e(c)m
(haracter\).)25 1410 y Fu(mutable)45 b(c_echok)h(:)i(bool)e(;)p
Black Black 384 1557 a Fw(Ec)m(ho)31 b(KILL)e(\(to)j(erase)f(the)f
(curren)m(t)g(line\).)25 1729 y Fu(mutable)45 b(c_echonl)h(:)h(bool)g
(;)p Black Black 384 1876 a Fw(Ec)m(ho)31 b(NL)f(ev)m(en)h(if)e(c)p
Fu(_)q Fw(ec)m(ho)i(is)e(not)i(set.)25 2048 y Fu(mutable)45
b(c_vintr)h(:)i(char)e(;)p Black Black 384 2195 a Fw(In)m(terrupt)29
b(c)m(haracter)j(\(usually)d(ctrl-C\).)25 2367 y Fu(mutable)45
b(c_vquit)h(:)i(char)e(;)p Black Black 384 2514 a Fw(Quit)29
b(c)m(haracter)j(\(usually)c(ctrl-)p Fc(n)p Fw(\).)25
2686 y Fu(mutable)45 b(c_verase)h(:)h(char)g(;)p Black
Black 384 2833 a Fw(Erase)30 b(c)m(haracter)i(\(usually)d(DEL)h(or)g
(ctrl-H\).)25 3005 y Fu(mutable)45 b(c_vkill)h(:)i(char)e(;)p
Black Black 384 3153 a Fw(Kill)27 b(line)i(c)m(haracter)j(\(usually)d
(ctrl-U\).)25 3325 y Fu(mutable)45 b(c_veof)h(:)i(char)f(;)p
Black Black 384 3472 a Fw(End-of-\014le)29 b(c)m(haracter)j(\(usually)c
(ctrl-D\).)25 3644 y Fu(mutable)45 b(c_veol)h(:)i(char)f(;)p
Black Black 384 3791 a Fw(Alternate)30 b(end-of-line)f(c)m(har.)42
b(\(usually)28 b(none\).)25 3963 y Fu(mutable)45 b(c_vmin)h(:)i(int)f
(;)p Black Black 384 4110 a Fw(Minim)m(um)28 b(n)m(um)m(b)s(er)h(of)h
(c)m(haracters)i(to)f(read)g(b)s(efore)f(the)g(read)g(request)h(is)e
(satis\014ed.)25 4282 y Fu(mutable)45 b(c_vtime)h(:)i(int)f(;)p
Black Black 384 4429 a Fw(Maxim)m(um)29 b(read)i(w)m(ait)f(\(in)g(0.1s)
h(units\).)25 4601 y Fu(mutable)45 b(c_vstart)h(:)h(char)g(;)p
Black Black 384 4748 a Fw(Start)30 b(c)m(haracter)i(\(usually)d
(ctrl-Q\).)25 4920 y Fu(mutable)45 b(c_vstop)h(:)i(char)e(;)p
Black Black 384 5067 a Fw(Stop)30 b(c)m(haracter)i(\(usually)c
(ctrl-S\).)-71 5239 y Fc(g)-71 5382 y Fu(val)47 b(tcgetattr)e(:)j
(file_descr)d(->)i(terminal_io)p Black Black 156 5529
a Fw(Return)30 b(the)h(status)f(of)h(the)f(terminal)f(referred)h(to)h
(b)m(y)f(the)h(giv)m(en)f(\014le)g(descriptor.)p Black
Black eop
%%Page: 144 144
144 143 bop Black -71 24 a Fw(144)2600 b Fs(ANNEXE)30
b(B.)62 b(INTERF)-10 b(A)m(CES)p Black -71 280 a Fu(type)94
b(setattr_when)45 b(=)25 393 y(|)i(TCSANOW)25 506 y(|)g(TCSADRAIN)25
619 y(|)g(TCSAFLUSH)-71 752 y(val)g(tcsetattr)e(:)25
865 y(file_descr)g(->)i(setattr_when)d(->)j(terminal_io)e(->)i(unit)p
Black Black 156 998 a Fw(Set)31 b(the)g(status)f(of)h(the)f(terminal)f
(referred)h(to)h(b)m(y)f(the)h(giv)m(en)f(\014le)g(descriptor.)39
b(The)30 b(second)h(argumen)m(t)156 1111 y(indicates)f(when)f(the)i
(status)f(c)m(hange)i(tak)m(es)g(place:)40 b(immediately)29
b(\()p Fu(TCSANOW)p Fw(\),)g(when)h(all)f(p)s(ending)156
1224 y(output)h(has)h(b)s(een)e(transmitted)h(\()p Fu(TCSADRAIN)p
Fw(\),)f(or)h(after)h(\015ushing)d(all)h(input)g(that)h(has)h(b)s(een)e
(receiv)m(ed)156 1337 y(but)h(not)h(read)f(\()p Fu(TCSAFLUSH)p
Fw(\).)f Fu(TCSADRAIN)f Fw(is)h(recommended)h(when)f(c)m(hanging)i(the)
f(output)156 1450 y(parameters;)h Fu(TCSAFLUSH)p Fw(,)d(when)i(c)m
(hanging)g(the)h(input)d(parameters.)-71 1643 y Fu(val)47
b(tcsendbreak)e(:)i(file_descr)e(->)i(int)g(->)g(unit)p
Black Black 156 1776 a Fw(Send)30 b(a)g(break)h(condition)e(on)h(the)g
(giv)m(en)h(\014le)e(descriptor.)40 b(The)30 b(second)g(argumen)m(t)h
(is)e(the)i(duration)e(of)156 1889 y(the)i(break,)f(in)g(0.1s)h(units;)
e(0)i(means)f(standard)f(duration)g(\(0.25s\).)-71 2082
y Fu(val)47 b(tcdrain)f(:)h(file_descr)e(->)i(unit)p
Black Black 156 2215 a Fw(W)-8 b(aits)31 b(un)m(til)e(all)g(output)h
(written)g(on)g(the)h(giv)m(en)f(\014le)f(descriptor)h(has)g(b)s(een)g
(transmitted.)-71 2408 y Fu(type)94 b(flush_queue)45
b(=)25 2521 y(|)i(TCIFLUSH)25 2634 y(|)g(TCOFLUSH)25
2747 y(|)g(TCIOFLUSH)-71 2880 y(val)g(tcflush)f(:)h(file_descr)e(->)i
(flush_queue)e(->)i(unit)p Black Black 156 3013 a Fw(Discard)30
b(data)h(written)f(on)g(the)h(giv)m(en)f(\014le)f(descriptor)h(but)f
(not)i(y)m(et)g(transmitted,)f(or)h(data)g(receiv)m(ed)156
3126 y(but)f(not)h(y)m(et)g(read,)g(dep)s(ending)d(on)i(the)g(second)h
(argumen)m(t:)41 b Fu(TCIFLUSH)28 b Fw(\015ushes)h(data)i(receiv)m(ed)g
(but)156 3239 y(not)g(read,)g Fu(TCOFLUSH)d Fw(\015ushes)h(data)i
(written)e(but)h(not)g(transmitted,)g(and)g Fu(TCIOFLUSH)e
Fw(\015ushes)h(b)s(oth.)-71 3432 y Fu(type)94 b(flow_action)45
b(=)25 3545 y(|)i(TCOOFF)25 3658 y(|)g(TCOON)25 3771
y(|)g(TCIOFF)25 3883 y(|)g(TCION)-71 4016 y(val)g(tcflow)f(:)i
(file_descr)d(->)i(flow_action)d(->)k(unit)p Black Black
156 4149 a Fw(Susp)s(end)28 b(or)i(restart)h(reception)g(or)f
(transmission)e(of)i(data)i(on)e(the)g(giv)m(en)h(\014le)e(descriptor,)
h(dep)s(ending)156 4262 y(on)h(the)f(second)h(argumen)m(t:)41
b Fu(TCOOFF)29 b Fw(susp)s(ends)e(output,)k Fu(TCOON)e
Fw(restarts)h(output,)h Fu(TCIOFF)d Fw(transmits)156
4375 y(a)j(STOP)e(c)m(haracter)j(to)f(susp)s(end)d(input,)h(and)h
Fu(TCION)f Fw(transmits)g(a)i(ST)-8 b(AR)g(T)30 b(c)m(haracter)i(to)f
(restart)156 4488 y(input.)-71 4681 y Fu(val)47 b(setsid)f(:)i(unit)e
(->)h(int)p Black Black 156 4814 a Fw(Put)30 b(the)h(calling)e(pro)s
(cess)h(in)f(a)i(new)e(session)h(and)g(detac)m(h)h(it)f(from)g(its)g
(con)m(trolling)f(terminal.)-71 5157 y Fq(B.3)135 b(Mo)t(dule)54
b Fp(Thread)e Fq(:)80 b(Ligh)l(t)l(w)l(eigh)l(t)57 b(threads)f(for)e(P)
l(osix)i Fp(1003.1c)51 b Fq(and)264 5306 y(Win32.)-71
5529 y Fu(type)94 b(t)p Black Black eop
%%Page: 145 145
145 144 bop Black -71 24 a Fs(B.3.)72 b(MODULE)31 b Fu(THREAD)e
Fs(:)h(LIGHTWEIGHT)h(THREADS)f(F)m(OR)g(POSIX)g Fu(1003.1C)e
Fs(AND)j(WIN32.)72 b Fw(145)p Black Black Black 156 280
a(The)30 b(t)m(yp)s(e)h(of)f(thread)g(handles.)-71 601
y Fg(Thread)38 b(creation)f(and)h(termination)-71 798
y Fu(val)47 b(create)f(:)i(\('a)e(->)i('b\))f(->)g('a)g(->)g(t)p
Black Black 156 937 a(Thread.create)e(funct)h(arg)29
b Fw(creates)j(a)f(new)f(thread)g(of)h(con)m(trol,)g(in)e(whic)m(h)g
(the)h(function)156 1050 y(application)f Fu(funct)46
b(arg)30 b Fw(is)f(executed)j(concurren)m(tly)d(with)g(the)i(other)g
(threads)f(of)g(the)h(program.)40 b(The)156 1163 y(application)29
b(of)i Fu(Thread.create)26 b Fw(returns)k(the)g(handle)f(of)i(the)f
(newly)f(created)j(thread.)40 b(The)30 b(new)156 1276
y(thread)h(terminates)f(when)f(the)i(application)d Fu(funct)47
b(arg)29 b Fw(returns,)h(either)f(normally)g(or)h(b)m(y)h(raising)d(an)
156 1389 y(uncaugh)m(t)j(exception.)41 b(In)29 b(the)i(latter)g(case,)g
(the)g(exception)g(is)e(prin)m(ted)g(on)h(standard)g(error,)g(but)g
(not)156 1501 y(propagated)h(bac)m(k)h(to)f(the)f(paren)m(t)h(thread.)
40 b(Similarly)-8 b(,)28 b(the)i(result)f(of)i(the)g(application)d
Fu(funct)47 b(arg)29 b Fw(is)156 1614 y(discarded)g(and)h(not)h
(directly)e(accessible)h(to)h(the)f(paren)m(t)h(thread.)-71
1828 y Fu(val)47 b(self)g(:)g(unit)g(->)g(t)p Black Black
156 1967 a Fw(Return)30 b(the)h(thread)f(curren)m(tly)f(executing.)-71
2180 y Fu(val)47 b(id)g(:)h(t)f(->)g(int)p Black Black
156 2319 a Fw(Return)30 b(the)h(iden)m(ti\014er)d(of)j(the)f(giv)m(en)h
(thread.)40 b(A)31 b(thread)f(iden)m(ti\014er)e(is)i(an)g(in)m(teger)h
(that)g(iden)m(ti\014es)156 2432 y(uniquely)d(the)j(thread.)40
b(It)31 b(can)f(b)s(e)g(used)g(to)h(build)c(data)k(structures)f
(indexed)f(b)m(y)h(threads.)-71 2646 y Fu(val)47 b(exit)g(:)g(unit)g
(->)g(unit)p Black Black 156 2784 a Fw(T)-8 b(erminate)31
b(prematurely)e(the)h(curren)m(tly)g(executing)g(thread.)-71
2998 y Fu(val)47 b(kill)g(:)g(t)h(->)f(unit)p Black Black
156 3136 a Fw(T)-8 b(erminate)31 b(prematurely)e(the)h(thread)g(whose)h
(handle)d(is)i(giv)m(en.)-71 3457 y Fg(Susp)s(ending)39
b(threads)-71 3655 y Fu(val)47 b(delay)f(:)i(float)e(->)h(unit)p
Black Black 156 3793 a(delay)g(d)30 b Fw(susp)s(ends)e(the)i(execution)
h(of)f(the)h(calling)e(thread)h(for)g Fu(d)g Fw(seconds.)41
b(The)30 b(other)g(program)156 3906 y(threads)g(con)m(tin)m(ue)h(to)g
(run)e(during)f(this)h(time.)-71 4120 y Fu(val)47 b(join)g(:)g(t)h(->)f
(unit)p Black Black 156 4258 a(join)g(th)30 b Fw(susp)s(ends)e(the)i
(execution)h(of)f(the)h(calling)e(thread)h(un)m(til)f(the)h(thread)g
Fu(th)g Fw(has)g(terminated.)-71 4472 y Fu(val)47 b(wait_read)e(:)j
(Unix.file_descr)43 b(->)48 b(unit)p Black Black 156
4611 a Fw(See)31 b Fu(Thread.wait_)m(write)p Fw(.)-71
4824 y Fu(val)47 b(wait_write)e(:)i(Unix.file_descr)d(->)j(unit)p
Black Black 156 4963 a Fw(This)29 b(function)g(do)s(es)h(nothing)f(in)g
(this)h(implemen)m(tation.)-71 5177 y Fu(val)47 b(wait_timed_read)d(:)j
(Unix.file_descr)d(->)j(float)f(->)h(bool)p Black Black
156 5315 a Fw(See)31 b Fu(Thread.wait_)m(timed_)n(read)p
Fw(.)-71 5529 y Fu(val)47 b(wait_timed_write)c(:)48 b(Unix.file_descr)
43 b(->)48 b(float)e(->)h(bool)p Black Black eop
%%Page: 146 146
146 145 bop Black -71 24 a Fw(146)2600 b Fs(ANNEXE)30
b(B.)62 b(INTERF)-10 b(A)m(CES)p Black Black Black 156
280 a Fw(Susp)s(end)28 b(the)j(execution)f(of)h(the)f(calling)f(thread)
h(un)m(til)f(at)i(least)g(one)f(c)m(haracter)i(is)e(a)m(v)-5
b(ailable)29 b(for)156 393 y(reading)h(\()p Fu(wait_)o(read)p
Fw(\))f(or)i(one)f(c)m(haracter)i(can)f(b)s(e)f(written)f(without)h
(blo)s(c)m(king)f(\()p Fu(wait_)o(write)p Fw(\))g(on)h(the)156
506 y(giv)m(en)h(Unix)e(\014le)g(descriptor.)40 b(W)-8
b(ait)31 b(for)f(at)i(most)e(the)h(amoun)m(t)g(of)f(time)g(giv)m(en)h
(as)f(second)h(argumen)m(t)156 619 y(\(in)f(seconds\).)41
b(Return)29 b Fu(true)h Fw(if)f(the)i(\014le)e(descriptor)g(is)h(ready)
g(for)g(input/output)f(and)g Fu(false)g Fw(if)h(the)156
732 y(timeout)h(expired.)156 883 y(These)g(functions)d(return)i
(immediately)e Fu(true)i Fw(in)f(the)h(Win32)h(implemen)m(tation.)-71
1098 y Fu(val)47 b(select)f(:)25 1211 y(Unix.file_descr)d(list)k(->)25
1324 y(Unix.file_descr)c(list)k(->)25 1437 y(Unix.file_descr)c(list)k
(->)25 1549 y(float)f(->)h(Unix.file_descr)d(list)i(*)i
(Unix.file_descr)43 b(list)k(*)h(Unix.file_descr)43 b(list)p
Black Black 156 1688 a Fw(Susp)s(end)27 b(the)i(execution)g(of)h(the)f
(calling)f(thead)h(un)m(til)e(input/output)h(b)s(ecomes)h(p)s(ossible)e
(on)i(the)g(giv)m(en)156 1801 y(Unix)h(\014le)f(descriptors.)40
b(The)29 b(argumen)m(ts)i(and)f(results)f(ha)m(v)m(e)j(the)e(same)h
(meaning)f(as)g(for)156 1914 y Fu(Unix.select)p Fw(.)38
b(This)29 b(function)g(is)g(not)i(implemen)m(ted)e(y)m(et)i(under)e
(Win32.)-71 2129 y Fu(val)47 b(wait_pid)f(:)h(int)g(->)g(int)g(*)g
(Unix.process_status)p Black Black 156 2268 a(wait_)o(pid)g(p)30
b Fw(susp)s(ends)e(the)i(execution)h(of)f(the)h(calling)e(thread)h(un)m
(til)f(the)h(pro)s(cess)g(sp)s(eci\014ed)f(b)m(y)h(the)156
2380 y(pro)s(cess)g(iden)m(ti\014er)f Fu(p)h Fw(terminates.)41
b(Returns)29 b(the)i(pid)d(of)j(the)f(c)m(hild)f(caugh)m(t)i(and)f(its)
g(termination)156 2493 y(status,)h(as)g(p)s(er)e Fu(Unix.wait)p
Fw(.)39 b(This)28 b(function)h(is)h(not)g(implemen)m(ted)f(under)g
(MacOS.)-71 2708 y Fu(val)47 b(wait_signal)e(:)i(int)g(list)g(->)g(int)
p Black Black 156 2847 a(wait_)o(signal)f(sigs)29 b Fw(susp)s(ends)f
(the)j(execution)f(of)h(the)f(calling)f(thread)h(un)m(til)f(the)i(pro)s
(cess)f(receiv)m(es)156 2960 y(one)h(of)g(the)f(signals)f(sp)s
(eci\014ed)g(in)g(the)h(list)f Fu(sigs)p Fw(.)40 b(It)30
b(then)h(returns)e(the)h(n)m(um)m(b)s(er)f(of)i(the)f(signal)156
3073 y(receiv)m(ed.)41 b(Signal)29 b(handlers)g(attac)m(hed)j(to)f(the)
g(signals)d(in)i Fu(sigs)f Fw(will)e(not)k(b)s(e)f(in)m(v)m(ok)m(ed.)41
b(Do)31 b(not)g(call)156 3186 y Fu(wait_)o(signal)e Fw(concurren)m(tly)
g(from)h(sev)m(eral)h(threads)f(on)g(the)h(same)g(signals.)-71
3400 y Fu(val)47 b(yield)f(:)i(unit)e(->)i(unit)p Black
Black 156 3539 a Fw(Re-sc)m(hedule)31 b(the)f(calling)f(thread)h
(without)g(susp)s(ending)d(it.)40 b(This)29 b(function)g(can)h(b)s(e)g
(used)g(to)h(giv)m(e)156 3652 y(sc)m(heduling)e(hin)m(ts,)g(telling)g
(the)i(sc)m(heduler)e(that)i(no)m(w)f(is)g(a)g(go)s(o)s(d)h(time)f(to)h
(switc)m(h)f(to)h(other)f(threads.)-71 4017 y Fq(B.4)135
b(Mo)t(dule)44 b Fp(Mutex)f Fq(:)60 b(Lo)t(c)l(ks)45
b(for)g(m)l(utual)g(exclusion.)-71 4221 y Fw(Mutexes)35
b(\(m)m(utual-exclusion)e(lo)s(c)m(ks\))h(are)g(used)g(to)g(implemen)m
(t)f(critical)g(sections)h(and)g(protect)h(shared)e(m)m(u-)-71
4334 y(table)f(data)i(structures)d(against)i(concurren)m(t)g(accesses.)
48 b(The)32 b(t)m(ypical)g(use)g(is)g(\(if)g Fu(m)g Fw(is)f(the)i(m)m
(utex)g(asso)s(ciated)-71 4447 y(with)c(the)i(data)g(structure)f
Fu(D)p Fw(\):)168 4698 y Fu(Mutex.lock)45 b(m;)168 4811
y(\(*)i(Critical)e(section)h(that)h(operates)e(over)i(D)h(*\);)168
4924 y(Mutex.unlock)c(m)-71 5176 y(type)94 b(t)p Black
Black 156 5314 a Fw(The)30 b(t)m(yp)s(e)h(of)f(m)m(utexes.)-71
5529 y Fu(val)47 b(create)f(:)i(unit)e(->)h(t)p Black
Black eop
%%Page: 147 147
147 146 bop Black -71 24 a Fs(B.5.)59 b(MODULE)20 b Fu(CONDITION)e
Fs(:)i(CONDITION)g(V)-10 b(ARIABLES)20 b(TO)f(SYNCHR)m(ONIZE)h(BETWEEN)
g(THREADS.)p Fw(147)p Black Black Black 156 280 a(Return)30
b(a)h(new)f(m)m(utex.)-71 462 y Fu(val)47 b(lock)g(:)g(t)h(->)f(unit)p
Black Black 156 593 a Fw(Lo)s(c)m(k)31 b(the)g(giv)m(en)f(m)m(utex.)41
b(Only)29 b(one)i(thread)f(can)h(ha)m(v)m(e)g(the)g(m)m(utex)g(lo)s(c)m
(k)m(ed)f(at)h(an)m(y)g(time.)41 b(A)30 b(thread)156
705 y(that)h(attempts)g(to)g(lo)s(c)m(k)e(a)i(m)m(utex)f(already)g(lo)s
(c)m(k)m(ed)g(b)m(y)g(another)g(thread)g(will)d(susp)s(end)g(un)m(til)i
(the)h(other)156 818 y(thread)h(unlo)s(c)m(ks)e(the)h(m)m(utex.)-71
1000 y Fu(val)47 b(try_lock)f(:)h(t)g(->)h(bool)p Black
Black 156 1131 a Fw(Same)31 b(as)f Fu(Mutex.lock)p Fw(,)e(but)i(do)s
(es)g(not)h(susp)s(end)d(the)i(calling)f(thread)h(if)f(the)i(m)m(utex)g
(is)e(already)156 1243 y(lo)s(c)m(k)m(ed:)42 b(just)29
b(return)h Fu(false)f Fw(immediately)f(in)h(that)i(case.)42
b(If)30 b(the)h(m)m(utex)f(is)g(unlo)s(c)m(k)m(ed,)g(lo)s(c)m(k)g(it)g
(and)156 1356 y(return)g Fu(true)p Fw(.)-71 1538 y Fu(val)47
b(unlock)f(:)i(t)f(->)g(unit)p Black Black 156 1669 a
Fw(Unlo)s(c)m(k)30 b(the)h(giv)m(en)f(m)m(utex.)42 b(Other)29
b(threads)h(susp)s(ended)e(trying)i(to)h(lo)s(c)m(k)f(the)h(m)m(utex)g
(will)c(restart.)-71 2000 y Fq(B.5)135 b(Mo)t(dule)59
b Fp(Condition)54 b Fq(:)89 b(Condition)60 b(v)-7 b(ariables)60
b(to)g(sync)l(hronize)e(b)t(e-)264 2149 y(t)l(w)l(een)46
b(threads.)-71 2352 y Fw(Condition)24 b(v)-5 b(ariables)24
b(are)i(used)f(when)f(one)i(thread)g(w)m(an)m(ts)g(to)h(w)m(ait)e(un)m
(til)f(another)i(thread)f(has)h(\014nished)d(doing)-71
2465 y(something:)57 b(the)38 b(former)g(thread)h(\\w)m(aits")g(on)g
(the)f(condition)f(v)-5 b(ariable,)40 b(the)f(latter)g(thread)f
(\\signals")g(the)-71 2578 y(condition)26 b(when)f(it)i(is)e(done.)40
b(Condition)24 b(v)-5 b(ariables)26 b(should)e(alw)m(a)m(ys)k(b)s(e)e
(protected)i(b)m(y)e(a)h(m)m(utex.)40 b(The)26 b(t)m(ypical)-71
2691 y(use)k(is)g(\(if)f Fu(D)h Fw(is)g(a)h(shared)e(data)i(structure,)
f Fu(m)g Fw(its)g(m)m(utex,)h(and)f Fu(c)g Fw(is)f(a)i(condition)e(v)-5
b(ariable\):)168 2934 y Fu(Mutex.lock)45 b(m;)168 3047
y(while)h(\(*)h(some)g(predicate)e(P)j(over)e(D)i(is)f(not)g(satisfied)
e(*\))i(do)263 3160 y(Condition.wait)d(c)k(m)168 3273
y(done;)168 3386 y(\(*)f(Modify)f(D)h(*\))168 3498 y(if)g(\(*)g(the)g
(predicate)e(P)j(over)e(D)i(is)f(now)g(satified)e(*\))j(then)e
(Condition.signal)e(c;)168 3611 y(Mutex.unlock)g(m)-71
3855 y(type)94 b(t)p Black Black 156 3985 a Fw(The)30
b(t)m(yp)s(e)h(of)f(condition)f(v)-5 b(ariables.)-71
4167 y Fu(val)47 b(create)f(:)i(unit)e(->)h(t)p Black
Black 156 4297 a Fw(Return)30 b(a)h(new)f(condition)f(v)-5
b(ariable.)-71 4479 y Fu(val)47 b(wait)g(:)g(t)h(->)f(Mutex.t)f(->)h
(unit)p Black Black 156 4609 a(wait)g(c)g(m)31 b Fw(atomically)e(unlo)s
(c)m(ks)h(the)g(m)m(utex)h Fu(m)f Fw(and)g(susp)s(ends)e(the)i(calling)
f(pro)s(cess)h(on)g(the)h(condition)156 4722 y(v)-5 b(ariable)30
b Fu(c)p Fw(.)40 b(The)30 b(pro)s(cess)g(will)d(restart)k(after)g(the)g
(condition)e(v)-5 b(ariable)29 b Fu(c)h Fw(has)g(b)s(een)g(signalled.)
38 b(The)156 4835 y(m)m(utex)31 b Fu(m)f Fw(is)g(lo)s(c)m(k)m(ed)g
(again)h(b)s(efore)f Fu(wait)f Fw(returns.)-71 5017 y
Fu(val)47 b(signal)f(:)i(t)f(->)g(unit)p Black Black
156 5147 a(signal)f(c)31 b Fw(restarts)f(one)h(of)g(the)f(pro)s(cesses)
g(w)m(aiting)g(on)g(the)h(condition)e(v)-5 b(ariable)29
b Fu(c)p Fw(.)-71 5329 y Fu(val)47 b(broadcast)e(:)j(t)f(->)g(unit)p
Black Black 156 5459 a(broadcast)f(c)30 b Fw(restarts)h(all)e(pro)s
(cesses)h(w)m(aiting)g(on)g(the)g(condition)f(v)-5 b(ariable)30
b Fu(c)p Fw(.)p Black Black eop
%%Page: 148 148
148 147 bop Black -71 24 a Fw(148)2600 b Fs(ANNEXE)30
b(B.)62 b(INTERF)-10 b(A)m(CES)p Black -71 280 a Fq(B.6)135
b(Mo)t(dule)44 b Fp(Event)f Fq(:)60 b(First-class)45
b(sync)l(hronous)g(comm)l(unication.)-71 484 y Fw(This)e(mo)s(dule)g
(implemen)m(ts)g(sync)m(hronous)g(in)m(ter-thread)h(comm)m(unications)g
(o)m(v)m(er)i(c)m(hannels.)82 b(As)45 b(in)e(John)-71
597 y(Repp)m(y's)28 b(Concurren)m(t)g(ML)g(system,)h(the)f(comm)m
(unication)g(ev)m(en)m(ts)i(are)e(\014rst-class)g(v)-5
b(alues:)39 b(they)28 b(can)h(b)s(e)e(built)-71 710 y(and)j(com)m
(bined)f(indep)s(enden)m(tly)f(b)s(efore)i(b)s(eing)f(o\013ered)h(for)h
(comm)m(unication.)-71 848 y Fu(type)47 b('a)g(channel)p
Black Black 156 987 a Fw(The)30 b(t)m(yp)s(e)h(of)f(comm)m(unication)g
(c)m(hannels)g(carrying)f(v)-5 b(alues)30 b(of)h(t)m(yp)s(e)f
Fu('a)p Fw(.)-71 1201 y Fu(val)47 b(new_channel)e(:)i(unit)g(->)g('a)g
(channel)p Black Black 156 1339 a Fw(Return)30 b(a)h(new)f(c)m(hannel.)
-71 1553 y Fu(type)47 b('a)g(event)p Black Black 156
1692 a Fw(The)30 b(t)m(yp)s(e)h(of)f(comm)m(unication)g(ev)m(en)m(ts)i
(returning)c(a)j(result)e(of)i(t)m(yp)s(e)g Fu('a)p Fw(.)-71
1906 y Fu(val)47 b(send)g(:)g('a)g(channel)f(->)h('a)g(->)h(unit)e
(event)p Black Black 156 2044 a(send)h(ch)g(v)30 b Fw(returns)f(the)i
(ev)m(en)m(t)h(consisting)d(in)g(sending)g(the)h(v)-5
b(alue)30 b Fu(v)g Fw(o)m(v)m(er)i(the)f(c)m(hannel)e
Fu(ch)p Fw(.)41 b(The)156 2157 y(result)30 b(v)-5 b(alue)30
b(of)g(this)f(ev)m(en)m(t)j(is)e Fu(\(\))p Fw(.)-71 2371
y Fu(val)47 b(receive)f(:)h('a)g(channel)f(->)h('a)h(event)p
Black Black 156 2510 a(receive)e(ch)30 b Fw(returns)f(the)i(ev)m(en)m
(t)h(consisting)d(in)g(receiving)g(a)i(v)-5 b(alue)30
b(from)g(the)g(c)m(hannel)g Fu(ch)p Fw(.)40 b(The)156
2623 y(result)30 b(v)-5 b(alue)30 b(of)g(this)f(ev)m(en)m(t)j(is)e(the)
g(v)-5 b(alue)30 b(receiv)m(ed.)-71 2837 y Fu(val)47
b(always)f(:)i('a)f(->)g('a)g(event)p Black Black 156
2975 a(always)f(v)30 b Fw(returns)f(an)i(ev)m(en)m(t)g(that)g(is)f(alw)
m(a)m(ys)g(ready)g(for)g(sync)m(hronization.)40 b(The)30
b(result)f(v)-5 b(alue)30 b(of)g(this)156 3088 y(ev)m(en)m(t)i(is)e
Fu(v)p Fw(.)-71 3302 y Fu(val)47 b(choose)f(:)i('a)f(event)f(list)h(->)
g('a)g(event)p Black Black 156 3441 a(choose)f(evl)30
b Fw(returns)f(the)i(ev)m(en)m(t)h(that)f(is)e(the)i(alternativ)m(e)f
(of)h(all)e(the)i(ev)m(en)m(ts)g(in)f(the)g(list)f Fu(evl)p
Fw(.)-71 3655 y Fu(val)47 b(wrap)g(:)g('a)g(event)g(->)g(\('a)g(->)g
('b\))g(->)g('b)g(event)p Black Black 156 3794 a(wrap)g(ev)g(fn)30
b Fw(returns)f(the)i(ev)m(en)m(t)h(that)f(p)s(erforms)d(the)j(same)g
(comm)m(unications)e(as)i Fu(ev)p Fw(,)f(then)g(applies)156
3907 y(the)h(p)s(ost-pro)s(cessing)e(function)g Fu(fn)h
Fw(on)g(the)h(return)e(v)-5 b(alue.)-71 4121 y Fu(val)47
b(wrap_abort)e(:)i('a)h(event)e(->)h(\(unit)g(->)g(unit\))f(->)h('a)g
(event)p Black Black 156 4259 a(wrap_)o(abort)f(ev)i(fn)29
b Fw(returns)g(the)i(ev)m(en)m(t)h(that)f(p)s(erforms)e(the)h(same)h
(comm)m(unications)f(as)g Fu(ev)p Fw(,)g(but)g(if)156
4372 y(it)g(is)g(not)g(selected)h(the)g(function)e Fu(fn)h
Fw(is)f(called)h(after)h(the)f(sync)m(hronization.)-71
4586 y Fu(val)47 b(guard)f(:)i(\(unit)e(->)h('a)h(event\))e(->)h('a)g
(event)p Black Black 156 4725 a(guard)g(fn)30 b Fw(returns)f(the)h(ev)m
(en)m(t)i(that,)f(when)f(sync)m(hronized,)f(computes)i
Fu(fn\(\))e Fw(and)h(b)s(eha)m(v)m(es)h(as)f(the)156
4838 y(resulting)f(ev)m(en)m(t.)42 b(This)29 b(allo)m(ws)g(to)j
(compute)e(ev)m(en)m(ts)i(with)d(side-e\013ects)i(at)g(the)g(time)f(of)
g(the)156 4951 y(sync)m(hronization)g(op)s(eration.)-71
5165 y Fu(val)47 b(sync)g(:)g('a)g(event)g(->)g('a)p
Black Black 156 5303 a Fw(\\Sync)m(hronize")30 b(on)f(an)g(ev)m(en)m
(t:)42 b(o\013er)30 b(all)e(the)i(comm)m(unication)f(p)s(ossibilities)c
(sp)s(eci\014ed)j(in)g(the)h(ev)m(en)m(t)i(to)156 5416
y(the)g(outside)f(w)m(orld,)f(and)h(blo)s(c)m(k)g(un)m(til)e(one)j(of)g
(the)f(comm)m(unications)g(succeed.)41 b(The)30 b(result)f(v)-5
b(alue)30 b(of)156 5529 y(that)h(comm)m(unication)f(is)g(returned.)p
Black Black eop
%%Page: 149 149
149 148 bop Black -71 24 a Fs(B.6.)72 b(MODULE)31 b Fu(EVENT)e
Fs(:)h(FIRST-CLASS)f(SYNCHR)m(ONOUS)h(COMMUNICA)-8 b(TION.)535
b Fw(149)p Black -71 280 a Fu(val)47 b(select)f(:)i('a)f(event)f(list)h
(->)g('a)p Black Black 156 418 a Fw(\\Sync)m(hronize")30
b(on)g(an)g(alternativ)m(e)h(of)f(ev)m(en)m(ts.)42 b
Fu(select)k(evl)29 b Fw(is)h(shorthand)e(for)i Fu(sync\(choose)45
b(evl\))p Fw(.)-71 631 y Fu(val)i(poll)g(:)g('a)g(event)g(->)g('a)g
(option)p Black Black 156 768 a Fw(Non-blo)s(c)m(king)30
b(v)m(ersion)g(of)g Fu(Event.sync)p Fw(:)38 b(o\013er)31
b(all)e(the)i(comm)m(unication)f(p)s(ossibilities)c(sp)s(eci\014ed)i
(in)156 881 y(the)j(ev)m(en)m(t)h(to)f(the)g(outside)e(w)m(orld,)h(and)
f(if)h(one)g(can)h(tak)m(e)h(place)e(immediately)-8 b(,)30
b(p)s(erform)f(it)h(and)f(return)156 994 y Fu(Some)47
b(r)30 b Fw(where)g Fu(r)g Fw(is)f(the)i(result)e(v)-5
b(alue)30 b(of)h(that)g(comm)m(unication.)40 b(Otherwise,)29
b(return)g Fu(None)h Fw(without)156 1107 y(blo)s(c)m(king.)p
Black Black eop
%%Page: 150 150
150 149 bop Black -71 24 a Fw(150)2600 b Fs(ANNEXE)30
b(B.)62 b(INTERF)-10 b(A)m(CES)p Black Black Black Black
Black eop
%%Page: 151 151
151 150 bop Black Black Black -71 724 a Fr(App)5 b(endix)65
b(C)-71 1139 y FB(Index)-71 1302 y Fw(Les)29 b(pages)h(en)f(italiques)e
(comme)j Fs(64)g Fw(ren)m(v)m(oien)m(t)g(\022)-45 b(a)29
b(des)g(explications)f(d)m(\023)-43 b(etaill)m(\023)g(ees,)31
b(les)d(autres,)i(comme)g(127)g(\022)-45 b(a)29 b(la)-71
1414 y(do)s(cumen)m(tation.)p Black -71 1937 a Fu(accept)p
Fw(,)g Fn(66)p Fw(,)j(137)-71 2051 y Fu(access)p Fw(,)d(127)-71
2165 y Fu(alarm)p Fw(,)g Fn(59)p Fw(,)j(133)-71 2279
y Fu(always)p Fw(,)d(148)-71 2393 y Fu(argv)p Fw(,)h
Fn(10)p Fw(,)h(113)-71 2506 y Fu(at_exit)p Fw(,)e Fn(10)-71
2717 y Fu(bind)p Fw(,)h Fn(66)p Fw(,)h(137)-71 2831 y
Fu(Break)p Fw(,)e(116)-71 2945 y Fu(broadcast)p Fw(,)f
Fn(91)p Fw(,)k(147)-71 3156 y Fu(catch_break)p Fw(,)c(116)-71
3270 y Fu(chdir)p Fw(,)h(113,)j(128)-71 3384 y Fu(chmod)p
Fw(,)d Fn(15)p Fw(,)j(127)-71 3497 y Fu(choose)p Fw(,)d
Fn(93)p Fw(,)j(148)-71 3611 y Fu(chown)p Fw(,)d(127)-71
3725 y Fu(chroot)p Fw(,)g(128)-71 3839 y Fu(clear_close_on_exec)p
Fw(,)c(127)-71 3953 y Fu(clear_nonblock)p Fw(,)i(127)-71
4066 y Fu(close)p Fw(,)i Fn(18)p Fw(,)j Fn(68)p Fw(,)f(123)-71
4180 y Fu(close_process)p Fw(,)c(130)-71 4294 y Fu(close_process_full)p
Fw(,)f(130)-71 4408 y Fu(close_process_in)p Fw(,)g(130)-71
4521 y Fu(close_process_out)p Fw(,)g(130)-71 4635 y Fu(closedir)p
Fw(,)j(128)-71 4749 y Fu(command)p Fw(,)g(113)-71 4863
y Fu(Condition)p Fw(,)f(147)-71 4977 y Fu(connect)p Fw(,)h
Fn(66)p Fw(,)i(137)-71 5090 y Fu(create)p Fw(,)e Fn(88)p
Fw(,)j Fn(91)p Fw(,)f(145{147)-71 5204 y Fu(create_process)p
Fw(,)c(129)-71 5318 y Fu(create_process_env)p Fw(,)f(129)-71
5529 y Fu(delay)p Fw(,)j Fn(88)p Fw(,)j(145)p Black Black
1921 1937 a Fu(descr_of_in_channel)p Fw(,)25 b(124)1921
2051 y Fu(descr_of_out_channel)p Fw(,)g(124)1921 2165
y Fu(dup)p Fw(,)k(127)1921 2279 y Fu(dup2)p Fw(,)g(127)1921
2490 y Fu(environment)p Fw(,)e Fn(10)p Fw(,)32 b(121)1921
2604 y Fu(error_message)p Fw(,)27 b(120)1921 2717 y Fu
(establish_server)p Fw(,)f Fn(73)p Fw(,)31 b(140)1921
2831 y Fu(Event)p Fw(,)e(148)1921 2945 y Fu(executable_name)p
Fw(,)d(113)1921 3059 y Fu(execv)p Fw(,)j Fn(40)p Fw(,)i(121)1921
3173 y Fu(execve)p Fw(,)e Fn(40)p Fw(,)i(121)1921 3286
y Fu(execvp)p Fw(,)e Fn(40)p Fw(,)i(121)1921 3400 y Fu(execvpe)p
Fw(,)d(121)1921 3514 y Fu(exit)p Fw(,)h Fn(10)p Fw(,)j
Fn(86)p Fw(,)f(145)1921 3725 y Fu(fchmod)p Fw(,)e(127)1921
3839 y Fu(fchown)p Fw(,)g(127)1921 3953 y Fu(file_exists)p
Fw(,)e(113)1921 4066 y Fu(fork)p Fw(,)i Fn(37)p Fw(,)j(122)1921
4180 y Fu(fstat)p Fw(,)d Fn(24)p Fw(,)i(126)1921 4294
y Fu(ftruncate)p Fw(,)d(124)1921 4505 y Fu(getcwd)p Fw(,)h(113,)i(128)
1921 4619 y Fu(getegid)p Fw(,)d(134)1921 4733 y Fu(getenv)p
Fw(,)h Fn(10)p Fw(,)i(113,)h(121)1921 4846 y Fu(geteuid)p
Fw(,)c(134)1921 4960 y Fu(getgid)p Fw(,)h(134)1921 5074
y Fu(getgrgid)p Fw(,)f(135)1921 5188 y Fu(getgrnam)p
Fw(,)g(135)1921 5301 y Fu(getgroups)p Fw(,)g(135)1921
5415 y Fu(gethostbyaddr)p Fw(,)f(141)1921 5529 y Fu(gethostbyname)p
Fw(,)g Fn(65)p Fw(,)k(141)p Black 1811 5757 a(151)p Black
eop
%%Page: 152 152
152 151 bop Black -71 24 a Fw(152)2790 b Fs(APPENDIX)31
b(C.)61 b(INDEX)p Black -71 280 a Fu(gethostname)p Fw(,)28
b(141)-71 394 y Fu(getitimer)p Fw(,)g(134)-71 508 y Fu(getlogin)p
Fw(,)h(135)-71 622 y Fu(getpeername)p Fw(,)f(137)-71
735 y Fu(getpid)p Fw(,)h Fn(37)p Fw(,)j(122)-71 849 y
Fu(getppid)p Fw(,)d(122)-71 963 y Fu(getprotobyname)p
Fw(,)e Fn(65)p Fw(,)k(141)-71 1077 y Fu(getprotobynumber)p
Fw(,)26 b(141)-71 1190 y Fu(getpwnam)p Fw(,)j(135)-71
1304 y Fu(getpwuid)p Fw(,)g(135)-71 1418 y Fu(getservbyname)p
Fw(,)e(141)-71 1532 y Fu(getservbyport)p Fw(,)g(141)-71
1646 y Fu(getsockname)p Fw(,)h(137)-71 1759 y Fu(getsockopt)p
Fw(,)g(139)-71 1873 y Fu(getsockopt_float)p Fw(,)e(140)-71
1987 y Fu(getsockopt_int)p Fw(,)h(139)-71 2101 y Fu(getsockopt_optint)p
Fw(,)f(139)-71 2214 y Fu(gettimeofday)p Fw(,)h(133)-71
2328 y Fu(getuid)p Fw(,)i(134)-71 2442 y Fu(gmtime)p
Fw(,)g(133)-71 2556 y Fu(guard)p Fw(,)g(148)-71 2767
y Fu(handle_unix_error)p Fw(,)d Fn(11)p Fw(,)32 b(120)-71
2978 y Fu(id)p Fw(,)e(145)-71 3092 y Fu(in_channel_of_descr)p
Fw(,)25 b(124)-71 3205 y Fu(inet_addr_any)p Fw(,)i(136)-71
3319 y Fu(inet_addr_of_string)p Fw(,)e(135)-71 3433 y
Fu(interactive)p Fw(,)j(114)-71 3644 y Fu(join)p Fw(,)i
Fn(86)p Fw(,)h(145)-71 3855 y Fu(kill)p Fw(,)f Fn(59)p
Fw(,)h(131,)h(145)-71 4066 y Fu(link)p Fw(,)e(126)-71
4180 y Fu(listen)p Fw(,)f Fn(66)p Fw(,)j(137)-71 4294
y Fu(localtime)p Fw(,)c(133)-71 4408 y Fu(lock)p Fw(,)i
Fn(89)p Fw(,)h(147)-71 4521 y Fu(lockf)p Fw(,)e(131)-71
4635 y Fu(lseek)p Fw(,)g Fn(23)p Fw(,)j(124)-71 4749
y Fu(lstat)p Fw(,)d Fn(24)p Fw(,)j(126)-71 4960 y Fu(max_array_length)p
Fw(,)26 b(114)-71 5074 y Fu(max_string_length)p Fw(,)g(114)-71
5188 y Fu(mkdir)p Fw(,)j Fn(26)p Fw(,)j(128)-71 5301
y Fu(mkfifo)p Fw(,)d(128)-71 5415 y Fu(mktime)p Fw(,)g(133)-71
5529 y Fu(Mutex)p Fw(,)g(146)p Black Black 1921 280 a
Fu(new_channel)p Fw(,)e Fn(93)p Fw(,)32 b(148)1921 394
y Fu(nice)p Fw(,)d(122)1921 600 y Fu(ocaml_version)p
Fw(,)e(116)1921 713 y Fu(open_connection)p Fw(,)f Fn(73)p
Fw(,)32 b(140)1921 827 y Fu(open_process)p Fw(,)27 b(129)1921
940 y Fu(open_process_full)p Fw(,)f(129)1921 1053 y Fu(open_process_in)
p Fw(,)g(129)1921 1167 y Fu(open_process_out)p Fw(,)g(129)1921
1280 y Fu(opendir)p Fw(,)i Fn(26)p Fw(,)k(128)1921 1394
y Fu(openfile)p Fw(,)c Fn(14)p Fw(,)j Fn(50)p Fw(,)h(123)1921
1507 y Fu(os_type)p Fw(,)c(114)1921 1621 y Fu(out_channel_of_descr)p
Fw(,)d(124)1921 1827 y Fu(pause)p Fw(,)k(132)1921 1940
y Fu(pipe)p Fw(,)g Fn(45)p Fw(,)j(128)1921 2054 y Fu(poll)p
Fw(,)d(149)1921 2167 y Fu(putenv)p Fw(,)g(121)1921 2373
y Fu(read)p Fw(,)g Fn(16)p Fw(,)j Fn(66)p Fw(,)f(123)1921
2486 y Fu(readdir)p Fw(,)d Fn(26)p Fw(,)k(128)1921 2600
y Fu(readlink)p Fw(,)c Fn(26)p Fw(,)j(130)1921 2713 y
Fu(really_read)p Fw(,)c Fn(18)1921 2827 y Fu(receive)p
Fw(,)h Fn(93)p Fw(,)k(148)1921 2940 y Fu(recv)p Fw(,)d(137)1921
3054 y Fu(recvfrom)p Fw(,)f(138)1921 3167 y Fu(remove)p
Fw(,)h(113)1921 3281 y Fu(rename)p Fw(,)g(113,)i(126)1921
3394 y Fu(rewinddir)p Fw(,)d(128)1921 3508 y Fu(rmdir)p
Fw(,)h(128)1921 3713 y Fu(select)p Fw(,)g Fn(56)p Fw(,)i
Fn(88)p Fw(,)h(130,)f(146,)h(149)1921 3827 y Fu(self)p
Fw(,)d(145)1921 3940 y Fu(send)p Fw(,)g Fn(93)p Fw(,)j(138,)g(148)1921
4054 y Fu(sendto)p Fw(,)d(138)1921 4167 y Fu(set_close_on_exec)p
Fw(,)d(127)1921 4281 y Fu(set_nonblock)p Fw(,)h(127)1921
4394 y Fu(set_signal)p Fw(,)g(114)1921 4508 y Fu(setgid)p
Fw(,)i(134)1921 4621 y Fu(setitimer)p Fw(,)f(134)1921
4735 y Fu(setsid)p Fw(,)h Fn(28)p Fw(,)i(144)1921 4848
y Fu(setsockopt)p Fw(,)c(139)1921 4962 y Fu(setsockopt_float)p
Fw(,)f(140)1921 5075 y Fu(setsockopt_int)p Fw(,)g(139)1921
5189 y Fu(setsockopt_optint)p Fw(,)g(139)1921 5302 y
Fu(setuid)p Fw(,)j(134)1921 5416 y Fu(shutdown)p Fw(,)f
Fn(69)p Fw(,)j(137)1921 5529 y Fu(shutdown_connection)p
Fw(,)25 b Fn(73)p Fw(,)31 b(140)p Black Black eop
%%Page: 153 153
153 152 bop Black 3693 24 a Fw(153)p Black -71 280 a
Fu(sigabrt)p Fw(,)29 b(115)-71 395 y Fu(sigalrm)p Fw(,)g(115)-71
509 y Fu(sigchld)p Fw(,)g(115)-71 623 y Fu(sigcont)p
Fw(,)g(115)-71 737 y Fu(sigfpe)p Fw(,)g(115)-71 852 y
Fu(sighup)p Fw(,)g(115)-71 966 y Fu(sigill)p Fw(,)g(115)-71
1080 y Fu(sigint)p Fw(,)g(115)-71 1195 y Fu(sigkill)p
Fw(,)g(115)-71 1309 y Fu(signal)p Fw(,)g Fn(59)p Fw(,)j
Fn(91)p Fw(,)f(114,)h(147)-71 1423 y Fu(sigpending)p
Fw(,)c(131)-71 1537 y Fu(sigpipe)p Fw(,)h(115)-71 1652
y Fu(sigprocmask)p Fw(,)f(131)-71 1766 y Fu(sigprof)p
Fw(,)h(116)-71 1880 y Fu(sigquit)p Fw(,)g(115)-71 1995
y Fu(sigsegv)p Fw(,)g(115)-71 2109 y Fu(sigstop)p Fw(,)g(116)-71
2223 y Fu(sigsuspend)p Fw(,)f(132)-71 2337 y Fu(sigterm)p
Fw(,)h(115)-71 2452 y Fu(sigtstp)p Fw(,)g(116)-71 2566
y Fu(sigttin)p Fw(,)g(116)-71 2680 y Fu(sigttou)p Fw(,)g(116)-71
2795 y Fu(sigusr1)p Fw(,)g(115)-71 2909 y Fu(sigusr2)p
Fw(,)g(115)-71 3023 y Fu(sigvtalrm)p Fw(,)f(116)-71 3137
y Fu(sleep)p Fw(,)h(133)-71 3252 y Fu(socket)p Fw(,)g
Fn(64)p Fw(,)j(136)-71 3366 y Fu(socketpair)p Fw(,)c(136)-71
3480 y Fu(stat)p Fw(,)i Fn(24)p Fw(,)h(126)-71 3595 y
Fu(stderr)p Fw(,)e Fn(14)p Fw(,)j(122)-71 3709 y Fu(stdin)p
Fw(,)d Fn(14)p Fw(,)j(122)-71 3823 y Fu(stdout)p Fw(,)d
Fn(14)p Fw(,)j(122)-71 3937 y Fu(string_of_inet_addr)p
Fw(,)25 b(136)-71 4052 y Fu(symlink)p Fw(,)k(130)-71
4166 y Fu(sync)p Fw(,)h Fn(93)p Fw(,)h(148)-71 4280 y
Fu(Sys)p Fw(,)f(113)-71 4395 y Fu(system)p Fw(,)f(122)-71
4615 y Fu(tcdrain)p Fw(,)g Fn(28)p Fw(,)i(144)-71 4729
y Fu(tcflow)p Fw(,)e Fn(28)p Fw(,)j(144)-71 4843 y Fu(tcflush)p
Fw(,)d Fn(28)p Fw(,)i(144)-71 4958 y Fu(tcgetattr)p Fw(,)d(143)-71
5072 y Fu(tcsendbreak)p Fw(,)g Fn(28)p Fw(,)j(144)-71
5186 y Fu(tcsetattr)p Fw(,)d Fn(27)p Fw(,)k(144)-71 5300
y Fu(Thread)p Fw(,)d(144)-71 5415 y Fu(time)p Fw(,)h(113,)i(133)-71
5529 y Fu(times)p Fw(,)d(133)p Black Black 1921 280 a
Fu(truncate)p Fw(,)f(124)1921 395 y Fu(try_lock)p Fw(,)g
Fn(89)p Fw(,)j(147)1921 509 y Fu(access_permission)p
Fw(,)26 b(126)1921 623 y Fu(channel)p Fw(,)i(148)1921
737 y Fu(dir_handle)p Fw(,)f(128)1921 852 y Fu(error)p
Fw(,)i(120)1921 966 y Fu(event)p Fw(,)g(148)1921 1080
y Fu(file_descr)p Fw(,)e(122)1921 1195 y Fu(file_kind)p
Fw(,)h(125)1921 1309 y Fu(file_perm)p Fw(,)g(123)1921
1423 y Fu(flow_action)p Fw(,)f(144)1921 1537 y Fu(flush_queue)p
Fw(,)g(144)1921 1652 y Fu(group_entry)p Fw(,)g(135)1921
1766 y Fu(host_entry)p Fw(,)g(140)1921 1880 y Fu(inet_addr)p
Fw(,)h(135)1921 1995 y Fu(interval_timer)p Fw(,)e(134)1921
2109 y Fu(interval_timer_status)p Fw(,)e(134)1921 2223
y Fu(lock_command)p Fw(,)j(131)1921 2337 y Fu(msg_flag)p
Fw(,)h(137)1921 2452 y Fu(open_flag)p Fw(,)g(123)1921
2566 y Fu(passwd_entry)p Fw(,)f(135)1921 2680 y Fu(process_status)p
Fw(,)f(121)1921 2795 y Fu(process_times)p Fw(,)h(132)1921
2909 y Fu(protocol_entry)p Fw(,)f(140)1921 3023 y Fu(seek_command)p
Fw(,)h(124)1921 3137 y Fu(service_entry)p Fw(,)g(141)1921
3252 y Fu(setattr_when)p Fw(,)g(144)1921 3366 y Fu(shutdown_command)p
Fw(,)f(137)1921 3480 y Fu(signal_behavior)p Fw(,)g(114)1921
3595 y Fu(sigprocmask_command)p Fw(,)f(131)1921 3709
y Fu(sockaddr)p Fw(,)j(136)1921 3823 y Fu(socket_bool_option)p
Fw(,)d(138)1921 3937 y Fu(socket_domain)p Fw(,)i(136)1921
4052 y Fu(socket_float_option)p Fw(,)e(139)1921 4166
y Fu(socket_int_option)p Fw(,)h(139)1921 4280 y Fu
(socket_optint_option)p Fw(,)f(139)1921 4395 y Fu(socket_type)p
Fw(,)i(136)1921 4509 y Fu(stats)p Fw(,)i(126)1921 4623
y Fu(t)p Fw(,)h(144,)i(146,)g(147)1921 4737 y Fu(terminal_io)p
Fw(,)27 b(143)1921 4852 y Fu(tm)p Fw(,)j(133)1921 4966
y Fu(wait_flag)p Fw(,)e(121)1921 5186 y Fu(umask)p Fw(,)h
Fn(15)p Fw(,)i(127)1921 5300 y Fu(Unix)p Fw(,)e(116)1921
5415 y Fu(Unix_error)p Fw(,)e(120)1921 5529 y Fu(unlink)p
Fw(,)i Fn(15)p Fw(,)i(126)p Black Black eop
%%Page: 154 154
154 153 bop Black -71 24 a Fw(154)2790 b Fs(APPENDIX)31
b(C.)61 b(INDEX)p Black -71 280 a Fu(unlock)p Fw(,)29
b Fn(89)p Fw(,)j(147)-71 393 y Fu(utimes)p Fw(,)d(133)-71
589 y Fu(wait)p Fw(,)h Fn(38)p Fw(,)h Fn(91)p Fw(,)h(122,)f(147)-71
702 y Fu(wait_pid)p Fw(,)e(146)-71 815 y Fu(wait_read)p
Fw(,)f(145)-71 928 y Fu(wait_signal)p Fw(,)g(146)-71
1041 y Fu(wait_timed_read)p Fw(,)f(145)-71 1154 y Fu(wait_timed_write)p
Fw(,)f(145)-71 1267 y Fu(wait_write)p Fw(,)i(145)-71
1380 y Fu(waitpid)p Fw(,)h(122)-71 1492 y Fu(word_size)p
Fw(,)f(114)-71 1605 y Fu(wrap)p Fw(,)i(148)-71 1718 y
Fu(wrap_abort)p Fw(,)e Fn(93)p Fw(,)j(148)-71 1831 y
Fu(write)p Fw(,)e Fn(16)p Fw(,)j Fn(66)p Fw(,)f(124)-71
2027 y Fu(yield)p Fw(,)e Fn(87)p Fw(,)j(146)p Black Black
Black Black eop
%%Trailer
end
userdict /end-hook known{end-hook}if
%%EOF
